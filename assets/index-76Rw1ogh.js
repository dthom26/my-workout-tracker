(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function zA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function BA(){if(L_)return $l;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:l}}return $l.Fragment=e,$l.jsx=t,$l.jsxs=t,$l}var U_;function qA(){return U_||(U_=1,Rm.exports=BA()),Rm.exports}var w=qA(),Im={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function FA(){if(j_)return Re;j_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,K={};function q(V,re,me){this.props=V,this.context=re,this.refs=K,this.updater=me||k}q.prototype.isReactComponent={},q.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=q.prototype;function W(V,re,me){this.props=V,this.context=re,this.refs=K,this.updater=me||k}var Q=W.prototype=new $;Q.constructor=W,F(Q,q.prototype),Q.isPureReactComponent=!0;var oe=Array.isArray,te={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function x(V,re,me,ce,he,Ie){return me=Ie.ref,{$$typeof:r,type:V,key:re,ref:me!==void 0?me:null,props:Ie}}function R(V,re){return x(V.type,re,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function C(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return re[me]})}var O=/\/+/g;function P(V,re){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):re.toString(36)}function D(){}function Ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ze(V,re,me,ce,he){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case r:case e:Ae=!0;break;case v:return Ae=V._init,ze(Ae(V._payload),re,me,ce,he)}}if(Ae)return he=he(V),Ae=ce===""?"."+P(V,0):ce,oe(he)?(me="",Ae!=null&&(me=Ae.replace(O,"$&/")+"/"),ze(he,re,me,"",function(lt){return lt})):he!=null&&(b(he)&&(he=R(he,me+(he.key==null||V&&V.key===he.key?"":(""+he.key).replace(O,"$&/")+"/")+Ae)),re.push(he)),1;Ae=0;var vt=ce===""?".":ce+":";if(oe(V))for(var Be=0;Be<V.length;Be++)ce=V[Be],Ie=vt+P(ce,Be),Ae+=ze(ce,re,me,Ie,he);else if(Be=I(V),typeof Be=="function")for(V=Be.call(V),Be=0;!(ce=V.next()).done;)ce=ce.value,Ie=vt+P(ce,Be++),Ae+=ze(ce,re,me,Ie,he);else if(Ie==="object"){if(typeof V.then=="function")return ze(Ve(V),re,me,ce,he);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function se(V,re,me){if(V==null)return V;var ce=[],he=0;return ze(V,ce,"","",function(Ie){return re.call(me,Ie,he++)}),ce}function ye(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ge(){}return Re.Children={map:se,forEach:function(V,re,me){se(V,function(){re.apply(this,arguments)},me)},count:function(V){var re=0;return se(V,function(){re++}),re},toArray:function(V){return se(V,function(re){return re})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cloneElement=function(V,re,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=F({},V.props),he=V.key,Ie=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(Ie=void 0),re.key!==void 0&&(he=""+re.key),re)!ie.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(ce[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)ce.children=me;else if(1<Ae){for(var vt=Array(Ae),Be=0;Be<Ae;Be++)vt[Be]=arguments[Be+2];ce.children=vt}return x(V.type,he,void 0,void 0,Ie,ce)},Re.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Re.createElement=function(V,re,me){var ce,he={},Ie=null;if(re!=null)for(ce in re.key!==void 0&&(Ie=""+re.key),re)ie.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=re[ce]);var Ae=arguments.length-2;if(Ae===1)he.children=me;else if(1<Ae){for(var vt=Array(Ae),Be=0;Be<Ae;Be++)vt[Be]=arguments[Be+2];he.children=vt}if(V&&V.defaultProps)for(ce in Ae=V.defaultProps,Ae)he[ce]===void 0&&(he[ce]=Ae[ce]);return x(V,Ie,void 0,void 0,null,he)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:d,render:V}},Re.isValidElement=b,Re.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ye}},Re.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Re.startTransition=function(V){var re=te.T,me={};te.T=me;try{var ce=V(),he=te.S;he!==null&&he(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ge,ve)}catch(Ie){ve(Ie)}finally{te.T=re}},Re.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Re.use=function(V){return te.H.use(V)},Re.useActionState=function(V,re,me){return te.H.useActionState(V,re,me)},Re.useCallback=function(V,re){return te.H.useCallback(V,re)},Re.useContext=function(V){return te.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,re){return te.H.useDeferredValue(V,re)},Re.useEffect=function(V,re){return te.H.useEffect(V,re)},Re.useId=function(){return te.H.useId()},Re.useImperativeHandle=function(V,re,me){return te.H.useImperativeHandle(V,re,me)},Re.useInsertionEffect=function(V,re){return te.H.useInsertionEffect(V,re)},Re.useLayoutEffect=function(V,re){return te.H.useLayoutEffect(V,re)},Re.useMemo=function(V,re){return te.H.useMemo(V,re)},Re.useOptimistic=function(V,re){return te.H.useOptimistic(V,re)},Re.useReducer=function(V,re,me){return te.H.useReducer(V,re,me)},Re.useRef=function(V){return te.H.useRef(V)},Re.useState=function(V){return te.H.useState(V)},Re.useSyncExternalStore=function(V,re,me){return te.H.useSyncExternalStore(V,re,me)},Re.useTransition=function(){return te.H.useTransition()},Re.version="19.0.0",Re}var z_;function Ip(){return z_||(z_=1,Im.exports=FA()),Im.exports}var U=Ip();const fa=zA(U);var Cm={exports:{}},Kl={},Nm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function HA(){return B_||(B_=1,function(r){function e(se,ye){var ve=se.length;se.push(ye);e:for(;0<ve;){var Ge=ve-1>>>1,V=se[Ge];if(0<o(V,ye))se[Ge]=ye,se[ve]=V,ve=Ge;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],ve=se.pop();if(ve!==ye){se[0]=ve;e:for(var Ge=0,V=se.length,re=V>>>1;Ge<re;){var me=2*(Ge+1)-1,ce=se[me],he=me+1,Ie=se[he];if(0>o(ce,ve))he<V&&0>o(Ie,ce)?(se[Ge]=Ie,se[he]=ve,Ge=he):(se[Ge]=ce,se[me]=ve,Ge=me);else if(he<V&&0>o(Ie,ve))se[Ge]=Ie,se[he]=ve,Ge=he;else break e}}return ye}function o(se,ye){var ve=se.sortIndex-ye.sortIndex;return ve!==0?ve:se.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,T=null,I=3,k=!1,F=!1,K=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function Q(se){for(var ye=t(g);ye!==null;){if(ye.callback===null)s(g);else if(ye.startTime<=se)s(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function oe(se){if(K=!1,Q(se),!F)if(t(p)!==null)F=!0,Ve();else{var ye=t(g);ye!==null&&ze(oe,ye.startTime-se)}}var te=!1,ie=-1,x=5,R=-1;function b(){return!(r.unstable_now()-R<x)}function C(){if(te){var se=r.unstable_now();R=se;var ye=!0;try{e:{F=!1,K&&(K=!1,$(ie),ie=-1),k=!0;var ve=I;try{t:{for(Q(se),T=t(p);T!==null&&!(T.expirationTime>se&&b());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,I=T.priorityLevel;var V=Ge(T.expirationTime<=se);if(se=r.unstable_now(),typeof V=="function"){T.callback=V,Q(se),ye=!0;break t}T===t(p)&&s(p),Q(se)}else s(p);T=t(p)}if(T!==null)ye=!0;else{var re=t(g);re!==null&&ze(oe,re.startTime-se),ye=!1}}break e}finally{T=null,I=ve,k=!1}ye=void 0}}finally{ye?O():te=!1}}}var O;if(typeof W=="function")O=function(){W(C)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=C,O=function(){D.postMessage(null)}}else O=function(){q(C,0)};function Ve(){te||(te=!0,O())}function ze(se,ye){ie=q(function(){se(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){F||k||(F=!0,Ve())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ve=I;I=ye;try{return se()}finally{I=ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ve=I;I=se;try{return ye()}finally{I=ve}},r.unstable_scheduleCallback=function(se,ye,ve){var Ge=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,se){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ve+V,se={id:v++,callback:ye,priorityLevel:se,startTime:ve,expirationTime:V,sortIndex:-1},ve>Ge?(se.sortIndex=ve,e(g,se),t(p)===null&&se===t(g)&&(K?($(ie),ie=-1):K=!0,ze(oe,ve-Ge))):(se.sortIndex=V,e(p,se),F||k||(F=!0,Ve())),se},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(se){var ye=I;return function(){var ve=I;I=ye;try{return se.apply(this,arguments)}finally{I=ve}}}}(Dm)),Dm}var q_;function GA(){return q_||(q_=1,Nm.exports=HA()),Nm.exports}var Om={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function $A(){if(F_)return Wt;F_=1;var r=Ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Wt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:I,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var H_;function KA(){if(H_)return Om.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Om.exports=$A(),Om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function QA(){if(G_)return Kl;G_=1;var r=GA(),e=Ip(),t=KA();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case K:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:R(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return R(n(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,O,P;function D(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",P=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+P}var Ve=!1;function ze(n,i){if(!n||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var H=Y}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Y){H=Y}n.call(ne.prototype)}}else{try{throw Error()}catch(Y){H=Y}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],S=m[1];if(E&&S){var N=E.split(`
`),L=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===L.length)for(u=N.length-1,f=L.length-1;1<=u&&0<=f&&N[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==L[f]){var X=`
`+N[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?D(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=ze(n.type,!1),n;case 11:return n=ze(n.type.render,!1),n;case 1:return n=ze(n.type,!0),n;default:return""}}function ye(n){try{var i="";do i+=se(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ge(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function V(n){if(ve(n)!==n)throw Error(s(188))}function re(n){var i=n.alternate;if(!i){if(i=ve(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===u)return V(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=m;break}if(S===u){E=!0,u=f,a=m;break}S=S.sibling}if(!E){for(S=m.child;S;){if(S===a){E=!0,a=m,u=f;break}if(S===u){E=!0,u=m,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var ce=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ae=[],vt=-1;function Be(n){return{current:n}}function lt(n){0>vt||(n.current=Ae[vt],Ae[vt]=null,vt--)}function Qe(n,i){vt++,Ae[vt]=n.current,n.current=i}var nn=Be(null),Pr=Be(null),Rn=Be(null),Ti=Be(null);function wi(n,i){switch(Qe(Rn,i),Qe(Pr,n),Qe(nn,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?f_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=f_(n),i=d_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(nn),Qe(nn,i)}function Vr(){lt(nn),lt(Pr),lt(Rn)}function Bo(n){n.memoizedState!==null&&Qe(Ti,n);var i=nn.current,a=d_(i,n.type);i!==a&&(Qe(Pr,n),Qe(nn,a))}function Ca(n){Pr.current===n&&(lt(nn),lt(Pr)),Ti.current===n&&(lt(Ti),Bl._currentValue=Ie)}var Na=Object.prototype.hasOwnProperty,Ds=r.unstable_scheduleCallback,Da=r.unstable_cancelCallback,Cf=r.unstable_shouldYield,qo=r.unstable_requestPaint,un=r.unstable_now,Lu=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Mr=r.unstable_NormalPriority,Uu=r.unstable_LowPriority,Fo=r.unstable_IdlePriority,Nf=r.log,Os=r.unstable_setDisableYieldValue,Si=null,Qt=null;function Ho(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Si,n,void 0,(n.current.flags&128)===128)}catch{}}function or(n){if(typeof Nf=="function"&&Os(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Si,n)}catch{}}var rn=Math.clz32?Math.clz32:zu,Go=Math.log,ju=Math.LN2;function zu(n){return n>>>=0,n===0?32:31-(Go(n)/ju|0)|0}var lr=128,bi=4194304;function Qn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~f,a!==0?u=Qn(a):(m&=S,m!==0?u=Qn(m):n||(E=S&~E,E!==0&&(u=Qn(E))))):(S=a&~f,S!==0?u=Qn(S):m!==0?u=Qn(m):n||(E=a&~E,E!==0&&(u=Qn(E)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,E=i&-i,f>=E||f===32&&(E&4194176)!==0)?i:u}function Ai(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Oa(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var n=lr;return lr<<=1,(lr&4194176)===0&&(lr=128),n}function Ri(){var n=bi;return bi<<=1,(bi&62914560)===0&&(bi=4194304),n}function xa(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bu(n,i,a,u,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,L=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-rn(a),ne=1<<X;S[X]=0,N[X]=-1;var H=L[X];if(H!==null)for(L[X]=null,X=0;X<H.length;X++){var Y=H[X];Y!==null&&(Y.lane&=-536870913)}a&=~ne}u!==0&&Ii(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function Ii(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-rn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ci(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-rn(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function qu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fu(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:O_(n.type))}function Ni(n,i){var a=he.p;try{return he.p=n,i()}finally{he.p=a}}var ur=Math.random().toString(36).slice(2),kt="__reactFiber$"+ur,Rt="__reactProps$"+ur,Lr="__reactContainer$"+ur,xs="__reactEvents$"+ur,ka="__reactListeners$"+ur,cr="__reactHandles$"+ur,Ko="__reactResources$"+ur,Di="__reactMarker$"+ur;function ks(n){delete n[kt],delete n[Rt],delete n[xs],delete n[ka],delete n[cr]}function Yn(n){var i=n[kt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Lr]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=g_(n);n!==null;){if(a=n[kt])return a;n=g_(n)}return i}n=a,a=n.parentNode}return null}function Ur(n){if(n=n[kt]||n[Lr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Oi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function xi(n){var i=n[Ko];return i||(i=n[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Di]=!0}var Qo=new Set,Pa={};function gn(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(Pa[n]=i,n=0;n<i.length;n++)Qo.add(i[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Df=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Wo={};function Hu(n){return Na.call(Wo,n)?!0:Na.call(Yo,n)?!1:Df.test(n)?Wo[n]=!0:(Yo[n]=!0,!1)}function ki(n,i,a){if(Hu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Pi(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Gu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Of(n){var i=Gu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ps(n){n._valueTracker||(n._valueTracker=Of(n))}function Xo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=Gu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function Va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jr=/[\n"\\]/g;function ut(n){return n.replace(jr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vi(n,i,a,u,f,m,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ma(n,E,sn(i)):a!=null?Ma(n,E,sn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+sn(S):n.removeAttribute("name")}function Vs(n,i,a,u,f,m,E,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ma(n,i,a){i==="number"&&Va(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qe(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ms(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function Mi(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Nn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var xf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||xf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function $u(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Zo(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Zo(n,m,i[m])}function Jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(n){return Pf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Dn=null;function La(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,Br=null;function qr(n){var i=Ur(n);if(i&&(n=i.stateNode)){var a=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Vi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(s(90));Vi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Xo(u)}break e;case"textarea":Ms(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qe(n,!!a.multiple,i,!1)}}}var el=!1;function Ku(n,i,a){if(el)return n(i,a);el=!0;try{var u=n(i);return u}finally{if(el=!1,(zr!==null||Br!==null)&&(Uc(),zr&&(i=zr,n=Br,Br=zr=null,qr(i),n)))for(i=0;i<n.length;i++)qr(n[i])}}function Ls(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Rt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(yn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){On=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{On=!1}var fr=null,Li=null,Fr=null;function tl(){if(Fr)return Fr;var n,i=Li,a=i.length,u,f="value"in fr?fr.value:fr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&i[a-u]===f[m-u];u++);return Fr=f.slice(n,1<u?1-u:void 0)}function dr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function mr(){return!0}function nl(){return!1}function Pt(n){function i(a,u,f,m,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mr:nl,this.isPropagationStopped=nl,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Pt($e),js=C({},$e,{view:0,detail:0}),Qu=Pt(js),ja,za,pr,zs=C({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pr&&(pr&&n.type==="mousemove"?(ja=n.screenX-pr.screenX,za=n.screenY-pr.screenY):za=ja=0,pr=n),ja)},movementY:function(n){return"movementY"in n?n.movementY:za}}),xn=Pt(zs),Yu=C({},zs,{dataTransfer:0}),Vf=Pt(Yu),Bs=C({},js,{relatedTarget:0}),Ba=Pt(Bs),rl=C({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Pt(rl),Wu=C({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fa=Pt(Wu),Mf=C({},$e,{data:0}),il=Pt(Mf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zu[n])?!!i[n]:!1}function Fs(){return sl}var Ju=C({},js,{key:function(n){if(n.key){var i=qs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=dr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(n){return n.type==="keypress"?dr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ha=Pt(Ju),ec=C({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Pt(ec),Hr=C({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),tc=Pt(Hr),nc=C({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),rc=Pt(nc),ic=C({},zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Pt(ic),an=C({},$e,{newState:0,oldState:0}),sc=Pt(an),ac=[9,13,27,32],gr=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,_=yn&&(!gr||c&&8<c&&11>=c),A=" ",z=!1;function G(n,i){switch(n){case"keyup":return ac.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function It(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return n=i.data,n===A&&z?null:n;default:return null}}function Le(n,i){if(Me)return n==="compositionend"||!gr&&G(n,i)?(n=tl(),Fr=Li=fr=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Gr(n,i,a,u){zr?Br?Br.push(u):Br=[u]:zr=u,i=Fc(i,"onChange"),0<i.length&&(a=new Ua("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var zt=null,yr=null;function ol(n){o_(n,0)}function oc(n){var i=Oi(n);if(Xo(i))return n}function Mg(n,i){if(n==="change")return i}var Lg=!1;if(yn){var Lf;if(yn){var Uf="oninput"in document;if(!Uf){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Uf=typeof Ug.oninput=="function"}Lf=Uf}else Lf=!1;Lg=Lf&&(!document.documentMode||9<document.documentMode)}function jg(){zt&&(zt.detachEvent("onpropertychange",zg),yr=zt=null)}function zg(n){if(n.propertyName==="value"&&oc(yr)){var i=[];Gr(i,yr,n,La(n)),Ku(ol,i)}}function gb(n,i,a){n==="focusin"?(jg(),zt=i,yr=a,zt.attachEvent("onpropertychange",zg)):n==="focusout"&&jg()}function yb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return oc(yr)}function vb(n,i){if(n==="click")return oc(i)}function _b(n,i){if(n==="input"||n==="change")return oc(i)}function Eb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:Eb;function ll(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Na.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Bg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qg(n,i){var a=Bg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bg(a)}}function Fg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Fg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Va(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Va(n.document)}return i}function jf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Tb(n,i){var a=Hg(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Fg(i.ownerDocument.documentElement,i)){if(u!==null&&jf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=qg(i,m);var E=qg(i,u);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wb=yn&&"documentMode"in document&&11>=document.documentMode,$a=null,zf=null,ul=null,Bf=!1;function Gg(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bf||$a==null||$a!==Va(u)||(u=$a,"selectionStart"in u&&jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ul&&ll(ul,u)||(ul=u,u=Fc(zf,"onSelect"),0<u.length&&(i=new Ua("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=$a)))}function Hs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ka={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},qf={},$g={};yn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Gs(n){if(qf[n])return qf[n];if(!Ka[n])return n;var i=Ka[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return qf[n]=i[a];return n}var Kg=Gs("animationend"),Qg=Gs("animationiteration"),Yg=Gs("animationstart"),Sb=Gs("transitionrun"),bb=Gs("transitionstart"),Ab=Gs("transitioncancel"),Wg=Gs("transitionend"),Xg=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(n,i){Xg.set(n,i),gn(i,[n])}var kn=[],Qa=0,Ff=0;function lc(){for(var n=Qa,i=Ff=Qa=0;i<n;){var a=kn[i];kn[i++]=null;var u=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&Jg(a,f,m)}}function uc(n,i,a,u){kn[Qa++]=n,kn[Qa++]=i,kn[Qa++]=a,kn[Qa++]=u,Ff|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hf(n,i,a,u){return uc(n,i,a,u),cc(n)}function Ui(n,i){return uc(n,null,null,i),cc(n)}function Jg(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-rn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function cc(n){if(50<Pl)throw Pl=0,Wd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ya={},ey=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var a=ey.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ye(i)},ey.set(n,i),i)}return{value:n,source:i,stack:ye(i)}}var Wa=[],Xa=0,hc=null,fc=0,Vn=[],Mn=0,$s=null,$r=1,Kr="";function Ks(n,i){Wa[Xa++]=fc,Wa[Xa++]=hc,hc=n,fc=i}function ty(n,i,a){Vn[Mn++]=$r,Vn[Mn++]=Kr,Vn[Mn++]=$s,$s=n;var u=$r;n=Kr;var f=32-rn(u)-1;u&=~(1<<f),a+=1;var m=32-rn(i)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,$r=1<<32-rn(i)+f|a<<f|u,Kr=m+n}else $r=1<<m|a<<f|u,Kr=n}function Gf(n){n.return!==null&&(Ks(n,1),ty(n,1,0))}function $f(n){for(;n===hc;)hc=Wa[--Xa],Wa[Xa]=null,fc=Wa[--Xa],Wa[Xa]=null;for(;n===$s;)$s=Vn[--Mn],Vn[Mn]=null,Kr=Vn[--Mn],Vn[Mn]=null,$r=Vn[--Mn],Vn[Mn]=null}var on=null,Bt=null,Fe=!1,Xn=null,vr=!1,Kf=Error(s(519));function Qs(n){var i=Error(s(418,""));throw fl(Pn(i,n)),Kf}function ny(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[kt]=n,i[Rt]=u,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Pe(Ml[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Vs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ps(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Mi(i,u.value,u.defaultValue,u.children),Ps(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||h_(i.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=Hc),i=!0):i=!1,i||Qs(n)}function ry(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:vr=!0;return;case 5:case 13:vr=!1;return;default:on=on.return}}function cl(n){if(n!==on)return!1;if(!Fe)return ry(n),Fe=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||dm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Qs(n),ry(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Bt=Jn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Bt=null}}else Bt=on?Jn(n.stateNode.nextSibling):null;return!0}function hl(){Bt=on=null,Fe=!1}function fl(n){Xn===null?Xn=[n]:Xn.push(n)}var dl=Error(s(460)),iy=Error(s(474)),Qf={then:function(){}};function sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function dc(){}function ay(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(dc,dc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===dl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(dc,dc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===dl?Error(s(483)):n}throw ml=i,dl}}var ml=null;function oy(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}var Za=null,pl=0;function mc(n){var i=pl;return pl+=1,Za===null&&(Za=[]),ay(Za,n,i)}function gl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function pc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ly(n){var i=n._init;return i(n._payload)}function uy(n){function i(j,M){if(n){var B=j.deletions;B===null?(j.deletions=[M],j.flags|=16):B.push(M)}}function a(j,M){if(!n)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function u(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function f(j,M){return j=Wi(j,M),j.index=0,j.sibling=null,j}function m(j,M,B){return j.index=B,n?(B=j.alternate,B!==null?(B=B.index,B<M?(j.flags|=33554434,M):B):(j.flags|=33554434,M)):(j.flags|=1048576,M)}function E(j){return n&&j.alternate===null&&(j.flags|=33554434),j}function S(j,M,B,J){return M===null||M.tag!==6?(M=qd(B,j.mode,J),M.return=j,M):(M=f(M,B),M.return=j,M)}function N(j,M,B,J){var fe=B.type;return fe===p?X(j,M,B.props.children,J,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===W&&ly(fe)===M.type)?(M=f(M,B.props),gl(M,B),M.return=j,M):(M=kc(B.type,B.key,B.props,null,j.mode,J),gl(M,B),M.return=j,M)}function L(j,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Fd(B,j.mode,J),M.return=j,M):(M=f(M,B.children||[]),M.return=j,M)}function X(j,M,B,J,fe){return M===null||M.tag!==7?(M=ia(B,j.mode,J,fe),M.return=j,M):(M=f(M,B),M.return=j,M)}function ne(j,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qd(""+M,j.mode,B),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return B=kc(M.type,M.key,M.props,null,j.mode,B),gl(B,M),B.return=j,B;case d:return M=Fd(M,j.mode,B),M.return=j,M;case W:var J=M._init;return M=J(M._payload),ne(j,M,B)}if(ce(M)||ie(M))return M=ia(M,j.mode,B,null),M.return=j,M;if(typeof M.then=="function")return ne(j,mc(M),B);if(M.$$typeof===k)return ne(j,Dc(j,M),B);pc(j,M)}return null}function H(j,M,B,J){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:S(j,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===fe?N(j,M,B,J):null;case d:return B.key===fe?L(j,M,B,J):null;case W:return fe=B._init,B=fe(B._payload),H(j,M,B,J)}if(ce(B)||ie(B))return fe!==null?null:X(j,M,B,J,null);if(typeof B.then=="function")return H(j,M,mc(B),J);if(B.$$typeof===k)return H(j,M,Dc(j,B),J);pc(j,B)}return null}function Y(j,M,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(B)||null,S(M,j,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return j=j.get(J.key===null?B:J.key)||null,N(M,j,J,fe);case d:return j=j.get(J.key===null?B:J.key)||null,L(M,j,J,fe);case W:var De=J._init;return J=De(J._payload),Y(j,M,B,J,fe)}if(ce(J)||ie(J))return j=j.get(B)||null,X(M,j,J,fe,null);if(typeof J.then=="function")return Y(j,M,B,mc(J),fe);if(J.$$typeof===k)return Y(j,M,B,Dc(M,J),fe);pc(M,J)}return null}function de(j,M,B,J){for(var fe=null,De=null,pe=M,_e=M=0,Ut=null;pe!==null&&_e<B.length;_e++){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var He=H(j,pe,B[_e],J);if(He===null){pe===null&&(pe=Ut);break}n&&pe&&He.alternate===null&&i(j,pe),M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He,pe=Ut}if(_e===B.length)return a(j,pe),Fe&&Ks(j,_e),fe;if(pe===null){for(;_e<B.length;_e++)pe=ne(j,B[_e],J),pe!==null&&(M=m(pe,M,_e),De===null?fe=pe:De.sibling=pe,De=pe);return Fe&&Ks(j,_e),fe}for(pe=u(pe);_e<B.length;_e++)Ut=Y(pe,j,_e,B[_e],J),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?_e:Ut.key),M=m(Ut,M,_e),De===null?fe=Ut:De.sibling=Ut,De=Ut);return n&&pe.forEach(function(rs){return i(j,rs)}),Fe&&Ks(j,_e),fe}function Se(j,M,B,J){if(B==null)throw Error(s(151));for(var fe=null,De=null,pe=M,_e=M=0,Ut=null,He=B.next();pe!==null&&!He.done;_e++,He=B.next()){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var rs=H(j,pe,He.value,J);if(rs===null){pe===null&&(pe=Ut);break}n&&pe&&rs.alternate===null&&i(j,pe),M=m(rs,M,_e),De===null?fe=rs:De.sibling=rs,De=rs,pe=Ut}if(He.done)return a(j,pe),Fe&&Ks(j,_e),fe;if(pe===null){for(;!He.done;_e++,He=B.next())He=ne(j,He.value,J),He!==null&&(M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He);return Fe&&Ks(j,_e),fe}for(pe=u(pe);!He.done;_e++,He=B.next())He=Y(pe,j,_e,He.value,J),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?_e:He.key),M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He);return n&&pe.forEach(function(jA){return i(j,jA)}),Fe&&Ks(j,_e),fe}function ft(j,M,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===p){if(M.tag===7){a(j,M.sibling),J=f(M,B.props.children),J.return=j,j=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===W&&ly(fe)===M.type){a(j,M.sibling),J=f(M,B.props),gl(J,B),J.return=j,j=J;break e}a(j,M);break}else i(j,M);M=M.sibling}B.type===p?(J=ia(B.props.children,j.mode,J,B.key),J.return=j,j=J):(J=kc(B.type,B.key,B.props,null,j.mode,J),gl(J,B),J.return=j,j=J)}return E(j);case d:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(j,M.sibling),J=f(M,B.children||[]),J.return=j,j=J;break e}else{a(j,M);break}else i(j,M);M=M.sibling}J=Fd(B,j.mode,J),J.return=j,j=J}return E(j);case W:return fe=B._init,B=fe(B._payload),ft(j,M,B,J)}if(ce(B))return de(j,M,B,J);if(ie(B)){if(fe=ie(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),Se(j,M,B,J)}if(typeof B.then=="function")return ft(j,M,mc(B),J);if(B.$$typeof===k)return ft(j,M,Dc(j,B),J);pc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(j,M.sibling),J=f(M,B),J.return=j,j=J):(a(j,M),J=qd(B,j.mode,J),J.return=j,j=J),E(j)):a(j,M)}return function(j,M,B,J){try{pl=0;var fe=ft(j,M,B,J);return Za=null,fe}catch(pe){if(pe===dl)throw pe;var De=zn(29,pe,null,j.mode);return De.lanes=J,De.return=j,De}finally{}}}var Ys=uy(!0),cy=uy(!1),Ja=Be(null),gc=Be(0);function hy(n,i){n=ii,Qe(gc,n),Qe(Ja,i),ii=n|i.baseLanes}function Yf(){Qe(gc,ii),Qe(Ja,Ja.current)}function Wf(){ii=gc.current,lt(Ja),lt(gc)}var Ln=Be(null),_r=null;function ji(n){var i=n.alternate;Qe(Nt,Nt.current&1),Qe(Ln,n),_r===null&&(i===null||Ja.current!==null||i.memoizedState!==null)&&(_r=n)}function fy(n){if(n.tag===22){if(Qe(Nt,Nt.current),Qe(Ln,n),_r===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(_r=n)}}else zi()}function zi(){Qe(Nt,Nt.current),Qe(Ln,Ln.current)}function Qr(n){lt(Ln),_r===n&&(_r=null),lt(Nt)}var Nt=Be(0);function yc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rb=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Ib=r.unstable_scheduleCallback,Cb=r.unstable_NormalPriority,Dt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new Rb,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&Ib(Cb,function(){n.controller.abort()})}var vl=null,Zf=0,eo=0,to=null;function Nb(n,i){if(vl===null){var a=vl=[];Zf=0,eo=im(),to={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Zf++,i.then(dy,dy),i}function dy(){if(--Zf===0&&vl!==null){to!==null&&(to.status="fulfilled");var n=vl;vl=null,eo=0,to=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Db(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var my=b.S;b.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Nb(n,i),my!==null&&my(n,i)};var Ws=Be(null);function Jf(){var n=Ws.current;return n!==null?n:Ze.pooledCache}function vc(n,i){i===null?Qe(Ws,Ws.current):Qe(Ws,i.pool)}function py(){var n=Jf();return n===null?null:{parent:Dt._currentValue,pool:n}}var Bi=0,Ce=null,Ye=null,_t=null,_c=!1,no=!1,Xs=!1,Ec=0,_l=0,ro=null,Ob=0;function pt(){throw Error(s(321))}function ed(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function td(n,i,a,u,f,m){return Bi=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=n===null||n.memoizedState===null?Zs:qi,Xs=!1,m=a(u,f),Xs=!1,no&&(m=yy(i,a,u,f)),gy(n),m}function gy(n){b.H=Er;var i=Ye!==null&&Ye.next!==null;if(Bi=0,_t=Ye=Ce=null,_c=!1,_l=0,ro=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Nc(n)&&(Mt=!0))}function yy(n,i,a,u){Ce=n;var f=0;do{if(no&&(ro=null),_l=0,no=!1,25<=f)throw Error(s(301));if(f+=1,_t=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=Js,m=i(a,u)}while(no);return m}function xb(){var n=b.H,i=n.useState()[0];return i=typeof i.then=="function"?El(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),i}function nd(){var n=Ec!==0;return Ec=0,n}function rd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function id(n){if(_c){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_c=!1}Bi=0,_t=Ye=Ce=null,no=!1,_l=Ec=0,ro=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=_t===null?Ce.memoizedState:_t.next;if(i!==null)_t=i,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}var Tc;Tc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function El(n){var i=_l;return _l+=1,ro===null&&(ro=[]),n=ay(ro,n,i),i=Ce,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Zs:qi),n}function wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return El(n);if(n.$$typeof===k)return Yt(n)}throw Error(s(438,String(n)))}function sd(n){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=oe;return i.index++,a}function Yr(n,i){return typeof i=="function"?i(n):i}function Sc(n){var i=Et();return ad(i,Ye,n)}function ad(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var S=E=null,N=null,L=i,X=!1;do{var ne=L.lane&-536870913;if(ne!==L.lane?(Ue&ne)===ne:(Bi&ne)===ne){var H=L.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ne===eo&&(X=!0);else if((Bi&H)===H){L=L.next,H===eo&&(X=!0);continue}else ne={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(S=N=ne,E=m):N=N.next=ne,Ce.lanes|=H,Xi|=H;ne=L.action,Xs&&a(m,ne),m=L.hasEagerState?L.eagerState:a(m,ne)}else H={lane:ne,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(S=N=H,E=m):N=N.next=H,Ce.lanes|=ne,Xi|=ne;L=L.next}while(L!==null&&L!==i);if(N===null?E=m:N.next=S,!vn(m,n.memoizedState)&&(Mt=!0,X&&(a=to,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function od(n){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);vn(m,i.memoizedState)||(Mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function vy(n,i,a){var u=Ce,f=Et(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!vn((Ye||f).memoizedState,a);if(E&&(f.memoizedState=a,Mt=!0),f=f.queue,cd(Ty.bind(null,u,f,n),[n]),f.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,io(9,Ey.bind(null,u,f,a,i),{destroy:void 0},null),Ze===null)throw Error(s(349));m||(Bi&60)!==0||_y(u,i,a)}return a}function _y(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Tc(),Ce.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Ey(n,i,a,u){i.value=a,i.getSnapshot=u,wy(i)&&Sy(n)}function Ty(n,i,a){return a(function(){wy(i)&&Sy(n)})}function wy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function Sy(n){var i=Ui(n,2);i!==null&&ln(i,n,2)}function ld(n){var i=hn();if(typeof n=="function"){var a=n;if(n=a(),Xs){or(!0);try{a()}finally{or(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:n},i}function by(n,i,a,u){return n.baseState=a,ad(n,Ye,typeof u=="function"?u:Yr)}function kb(n,i,a,u,f){if(Rc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};b.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,Ay(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Ay(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=b.T,E={};b.T=E;try{var S=a(f,u),N=b.S;N!==null&&N(E,S),Ry(n,i,S)}catch(L){ud(n,i,L)}finally{b.T=m}}else try{m=a(f,u),Ry(n,i,m)}catch(L){ud(n,i,L)}}function Ry(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Iy(n,i,u)},function(u){return ud(n,i,u)}):Iy(n,i,a)}function Iy(n,i,a){i.status="fulfilled",i.value=a,Cy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ay(n,a)))}function ud(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Cy(i),i=i.next;while(i!==u)}n.action=null}function Cy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ny(n,i){return i}function Dy(n,i){if(Fe){var a=Ze.formState;if(a!==null){e:{var u=Ce;if(Fe){if(Bt){t:{for(var f=Bt,m=vr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Bt=Jn(f.nextSibling),u=f.data==="F!";break e}}Qs(u)}u=!1}u&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:i},a.queue=u,a=Qy.bind(null,Ce,u),u.dispatch=a,u=ld(!1),m=pd.bind(null,Ce,!1,u.queue),u=hn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=kb.bind(null,Ce,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function Oy(n){var i=Et();return xy(i,Ye,n)}function xy(n,i,a){i=ad(n,i,Ny)[0],n=Sc(Yr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?El(i):i;var u=Et(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ce.flags|=2048,io(9,Pb.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function Pb(n,i){n.action=i}function ky(n){var i=Et(),a=Ye;if(a!==null)return xy(i,a,n);Et(),i=i.memoizedState,a=Et();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function io(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=Ce.updateQueue,i===null&&(i=Tc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Py(){return Et().memoizedState}function bc(n,i,a,u){var f=hn();Ce.flags|=n,f.memoizedState=io(1|i,a,{destroy:void 0},u===void 0?null:u)}function Ac(n,i,a,u){var f=Et();u=u===void 0?null:u;var m=f.memoizedState.inst;Ye!==null&&u!==null&&ed(u,Ye.memoizedState.deps)?f.memoizedState=io(i,a,m,u):(Ce.flags|=n,f.memoizedState=io(1|i,a,m,u))}function Vy(n,i){bc(8390656,8,n,i)}function cd(n,i){Ac(2048,8,n,i)}function My(n,i){return Ac(4,2,n,i)}function Ly(n,i){return Ac(4,4,n,i)}function Uy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function jy(n,i,a){a=a!=null?a.concat([n]):null,Ac(4,4,Uy.bind(null,i,n),a)}function hd(){}function zy(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&ed(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function By(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&ed(i,u[1]))return u[0];if(u=n(),Xs){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,i],u}function fd(n,i,a){return a===void 0||(Bi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Fv(),Ce.lanes|=n,Xi|=n,a)}function qy(n,i,a,u){return vn(a,i)?a:Ja.current!==null?(n=fd(n,a,u),vn(n,i)||(Mt=!0),n):(Bi&42)===0?(Mt=!0,n.memoizedState=a):(n=Fv(),Ce.lanes|=n,Xi|=n,i)}function Fy(n,i,a,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var E=b.T,S={};b.T=S,pd(n,!1,i,a);try{var N=f(),L=b.S;if(L!==null&&L(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=Db(N,u);Tl(n,i,X,wn(n))}else Tl(n,i,u,wn(n))}catch(ne){Tl(n,i,{then:function(){},status:"rejected",reason:ne},wn())}finally{he.p=m,b.T=E}}function Vb(){}function dd(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=Hy(n).queue;Fy(n,f,i,Ie,a===null?Vb:function(){return Gy(n),a(u)})}function Hy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Gy(n){var i=Hy(n).next.queue;Tl(n,i,{},wn())}function md(){return Yt(Bl)}function $y(){return Et().memoizedState}function Ky(){return Et().memoizedState}function Mb(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Gi(a);var u=$i(i,n,a);u!==null&&(ln(u,i,a),bl(u,i,a)),i={cache:Xf()},n.payload=i;return}i=i.return}}function Lb(n,i,a){var u=wn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(n)?Yy(i,a):(a=Hf(n,i,a,u),a!==null&&(ln(a,n,u),Wy(a,i,u)))}function Qy(n,i,a){var u=wn();Tl(n,i,a,u)}function Tl(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(n))Yy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,S=m(E,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,E))return uc(n,i,f,0),Ze===null&&lc(),!1}catch{}finally{}if(a=Hf(n,i,f,u),a!==null)return ln(a,n,u),Wy(a,i,u),!0}return!1}function pd(n,i,a,u){if(u={lane:2,revertLane:im(),action:u,hasEagerState:!1,eagerState:null,next:null},Rc(n)){if(i)throw Error(s(479))}else i=Hf(n,a,u,2),i!==null&&ln(i,n,2)}function Rc(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Yy(n,i){no=_c=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Wy(n,i,a){if((a&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ci(n,a)}}var Er={readContext:Yt,use:wc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Er.useCacheRefresh=pt,Er.useMemoCache=pt,Er.useHostTransitionStatus=pt,Er.useFormState=pt,Er.useActionState=pt,Er.useOptimistic=pt;var Zs={readContext:Yt,use:wc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:Vy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Uy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return bc(4194308,4,n,i)},useInsertionEffect:function(n,i){bc(4,2,n,i)},useMemo:function(n,i){var a=hn();i=i===void 0?null:i;var u=n();if(Xs){or(!0);try{n()}finally{or(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=hn();if(a!==void 0){var f=a(i);if(Xs){or(!0);try{a(i)}finally{or(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Lb.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=ld(n);var i=n.queue,a=Qy.bind(null,Ce,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(n,i){var a=hn();return fd(a,n,i)},useTransition:function(){var n=ld(!1);return n=Fy.bind(null,Ce,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ce,f=hn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Ue&60)!==0||_y(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Vy(Ty.bind(null,u,m,n),[n]),u.flags|=2048,io(9,Ey.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=hn(),i=Ze.identifierPrefix;if(Fe){var a=Kr,u=$r;a=(u&~(1<<32-rn(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Ob++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=Mb.bind(null,Ce)}};Zs.useMemoCache=sd,Zs.useHostTransitionStatus=md,Zs.useFormState=Dy,Zs.useActionState=Dy,Zs.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,Ce,!0,a),a.dispatch=i,[n,i]};var qi={readContext:Yt,use:wc,useCallback:zy,useContext:Yt,useEffect:cd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:By,useReducer:Sc,useRef:Py,useState:function(){return Sc(Yr)},useDebugValue:hd,useDeferredValue:function(n,i){var a=Et();return qy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=Sc(Yr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:vy,useId:$y};qi.useCacheRefresh=Ky,qi.useMemoCache=sd,qi.useHostTransitionStatus=md,qi.useFormState=Oy,qi.useActionState=Oy,qi.useOptimistic=function(n,i){var a=Et();return by(a,Ye,n,i)};var Js={readContext:Yt,use:wc,useCallback:zy,useContext:Yt,useEffect:cd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Ly,useMemo:By,useReducer:od,useRef:Py,useState:function(){return od(Yr)},useDebugValue:hd,useDeferredValue:function(n,i){var a=Et();return Ye===null?fd(a,n,i):qy(a,Ye.memoizedState,n,i)},useTransition:function(){var n=od(Yr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:El(n),i]},useSyncExternalStore:vy,useId:$y};Js.useCacheRefresh=Ky,Js.useMemoCache=sd,Js.useHostTransitionStatus=md,Js.useFormState=ky,Js.useActionState=ky,Js.useOptimistic=function(n,i){var a=Et();return Ye!==null?by(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])};function gd(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:C({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yd={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Gi(u);f.payload=i,a!=null&&(f.callback=a),i=$i(n,f,u),i!==null&&(ln(i,n,u),bl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Gi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=$i(n,f,u),i!==null&&(ln(i,n,u),bl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),u=Gi(a);u.tag=2,i!=null&&(u.callback=i),i=$i(n,u,a),i!==null&&(ln(i,n,a),bl(i,n,a))}};function Xy(n,i,a,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):i.prototype&&i.prototype.isPureReactComponent?!ll(a,u)||!ll(f,m):!0}function Zy(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&yd.enqueueReplaceState(i,i.state,null)}function ea(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=C({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Ic=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Jy(n){Ic(n)}function ev(n){console.error(n)}function tv(n){Ic(n)}function Cc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function nv(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vd(n,i,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(n,i)},a}function rv(n){return n=Gi(n),n.tag=3,n}function iv(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){nv(i,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){nv(i,a,u),typeof f!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Ub(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Sl(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return _r===null?Jd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Qf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),tm(n,u,f)),!1;case 22:return a.flags|=65536,u===Qf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),tm(n,u,f)),!1}throw Error(s(435,a.tag))}return tm(n,u,f),Jd(),!1}if(Fe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Kf&&(n=Error(s(422),{cause:u}),fl(Pn(n,a)))):(u!==Kf&&(i=Error(s(423),{cause:u}),fl(Pn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,a),f=vd(n.stateNode,u,f),kd(n,f),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:u});if(m=Pn(m,a),xl===null?xl=[m]:xl.push(m),ht!==4&&(ht=2),i===null)return!0;u=Pn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=vd(a.stateNode,u,n),kd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zi===null||!Zi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=rv(f),iv(f,n,a,u),kd(a,f),!1}a=a.return}while(a!==null);return!1}var sv=Error(s(461)),Mt=!1;function qt(n,i,a,u){i.child=n===null?cy(i,null,a,u):Ys(i,n.child,a,u)}function av(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return na(i),u=td(n,i,a,E,m,f),S=nd(),n!==null&&!Mt?(rd(n,i,f),Wr(n,i,f)):(Fe&&S&&Gf(i),i.flags|=1,qt(n,i,u,f),i.child)}function ov(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Bd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,lv(n,i,m,u,f)):(n=kc(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Id(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(E,u)&&n.ref===i.ref)return Wr(n,i,f)}return i.flags|=1,n=Wi(m,u),n.ref=i.ref,n.return=i,i.child=n}function lv(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(ll(m,u)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=u=m,Id(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Wr(n,i,f)}return _d(n,i,a,u,f)}function uv(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(wl(n,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=E!==null?E.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return cv(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(i,E!==null?E.cachePool:null),E!==null?hy(i,E):Yf(),fy(i);else return i.lanes=i.childLanes=536870912,cv(n,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(vc(i,E.cachePool),hy(i,E),zi(),i.memoizedState=null):(n!==null&&vc(i,null),Yf(),zi());return qt(n,i,f,a),i.child}function cv(n,i,a,u){var f=Jf();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&vc(i,null),Yf(),fy(i),n!==null&&Sl(n,i,u,!0),null}function wl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function _d(n,i,a,u,f){return na(i),a=td(n,i,a,u,void 0,f),u=nd(),n!==null&&!Mt?(rd(n,i,f),Wr(n,i,f)):(Fe&&u&&Gf(i),i.flags|=1,qt(n,i,a,f),i.child)}function hv(n,i,a,u,f,m){return na(i),i.updateQueue=null,a=yy(i,u,a,f),gy(n),u=nd(),n!==null&&!Mt?(rd(n,i,m),Wr(n,i,m)):(Fe&&u&&Gf(i),i.flags|=1,qt(n,i,a,m),i.child)}function fv(n,i,a,u,f){if(na(i),i.stateNode===null){var m=Ya,E=a.contextType;typeof E=="object"&&E!==null&&(m=Yt(E)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Od(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?Yt(E):Ya,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(i,a,E,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&yd.enqueueReplaceState(m,m.state,null),Rl(i,u,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var S=i.memoizedProps,N=ea(a,S);m.props=N;var L=m.context,X=a.contextType;E=Ya,typeof X=="object"&&X!==null&&(E=Yt(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||L!==E)&&Zy(i,m,u,E),Hi=!1;var H=i.memoizedState;m.state=H,Rl(i,u,m,f),Al(),L=i.memoizedState,S||H!==L||Hi?(typeof ne=="function"&&(gd(i,a,ne,u),L=i.memoizedState),(N=Hi||Xy(i,a,N,u,H,L,E))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=L),m.props=u,m.state=L,m.context=E,u=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,xd(n,i),E=i.memoizedProps,X=ea(a,E),m.props=X,ne=i.pendingProps,H=m.context,L=a.contextType,N=Ya,typeof L=="object"&&L!==null&&(N=Yt(L)),S=a.getDerivedStateFromProps,(L=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||H!==N)&&Zy(i,m,u,N),Hi=!1,H=i.memoizedState,m.state=H,Rl(i,u,m,f),Al();var Y=i.memoizedState;E!==ne||H!==Y||Hi||n!==null&&n.dependencies!==null&&Nc(n.dependencies)?(typeof S=="function"&&(gd(i,a,S,u),Y=i.memoizedState),(X=Hi||Xy(i,a,X,u,H,Y,N)||n!==null&&n.dependencies!==null&&Nc(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),m.props=u,m.state=Y,m.context=N,u=X):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,wl(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Ys(i,n.child,null,f),i.child=Ys(i,null,a,f)):qt(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Wr(n,i,f),n}function dv(n,i,a,u){return hl(),i.flags|=256,qt(n,i,a,u),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0};function Td(n){return{baseLanes:n,cachePool:py()}}function wd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bn),n}function mv(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?ji(i):zi(),Fe){var S=Bt,N;if(N=S){e:{for(N=S,S=vr;N.nodeType!==8;){if(!S){S=null;break e}if(N=Jn(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(i.memoizedState={dehydrated:S,treeContext:$s!==null?{id:$r,overflow:Kr}:null,retryLane:536870912},N=zn(18,null,null,0),N.stateNode=S,N.return=i,i.child=N,on=i,Bt=null,N=!0):N=!1}N||Qs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qr(i)}return S=u.children,u=u.fallback,f?(zi(),f=i.mode,S=bd({mode:"hidden",children:S},f),u=ia(u,f,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=Td(a),f.childLanes=wd(n,E,a),i.memoizedState=Ed,u):(ji(i),Sd(i,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)i.flags&256?(ji(i),i.flags&=-257,i=Ad(n,i,a)):i.memoizedState!==null?(zi(),i.child=n.child,i.flags|=128,i=null):(zi(),f=u.fallback,S=i.mode,u=bd({mode:"visible",children:u.children},S),f=ia(f,S,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Ys(i,n.child,null,a),u=i.child,u.memoizedState=Td(a),u.childLanes=wd(n,E,a),i.memoizedState=Ed,i=f);else if(ji(i),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var L=E.dgst;E=L,u=Error(s(419)),u.stack="",u.digest=E,fl({value:u,source:null,stack:null}),i=Ad(n,i,a)}else if(Mt||Sl(n,i,a,!1),E=(a&n.childLanes)!==0,Mt||E){if(E=Ze,E!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Ui(n,u),ln(E,n,u),sv}S.data==="$?"||Jd(),i=Ad(n,i,a)}else S.data==="$?"?(i.flags|=128,i.child=n.child,i=Jb.bind(null,n),S._reactRetry=i,i=null):(n=N.treeContext,Bt=Jn(S.nextSibling),on=i,Fe=!0,Xn=null,vr=!1,n!==null&&(Vn[Mn++]=$r,Vn[Mn++]=Kr,Vn[Mn++]=$s,$r=n.id,Kr=n.overflow,$s=i),i=Sd(i,u.children),i.flags|=4096);return i}return f?(zi(),f=u.fallback,S=i.mode,N=n.child,L=N.sibling,u=Wi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,L!==null?f=Wi(L,f):(f=ia(f,S,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=n.child.memoizedState,S===null?S=Td(a):(N=S.cachePool,N!==null?(L=Dt._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=py(),S={baseLanes:S.baseLanes|a,cachePool:N}),f.memoizedState=S,f.childLanes=wd(n,E,a),i.memoizedState=Ed,u):(ji(i),a=n.child,n=a.sibling,a=Wi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function Sd(n,i){return i=bd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function bd(n,i){return zv(n,i,0,null)}function Ad(n,i,a){return Ys(i,n.child,null,a),n=Sd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function pv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Nd(n.return,i,a)}function Rd(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function gv(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(qt(n,i,u.children,a),u=Nt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pv(n,a,i);else if(n.tag===19)pv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Qe(Nt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&yc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Rd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&yc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Rd(i,!0,a,null,m);break;case"together":Rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Sl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Wi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Wi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Id(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Nc(n)))}function jb(n,i,a){switch(i.tag){case 3:wi(i,i.stateNode.containerInfo),Fi(i,Dt,n.memoizedState.cache),hl();break;case 27:case 5:Bo(i);break;case 4:wi(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?mv(n,i,a):(ji(i),n=Wr(n,i,a),n!==null?n.sibling:null);ji(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Sl(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return gv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Nt,Nt.current),u)break;return null;case 22:case 23:return i.lanes=0,uv(n,i,a);case 24:Fi(i,Dt,n.memoizedState.cache)}return Wr(n,i,a)}function yv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Id(n,a)&&(i.flags&128)===0)return Mt=!1,jb(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&ty(i,fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Bd(u)?(n=ea(u,n),i.tag=1,i=fv(null,i,u,n,a)):(i.tag=0,i=_d(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===F){i.tag=11,i=av(null,i,u,n,a);break e}else if(f===$){i.tag=14,i=ov(null,i,u,n,a);break e}}throw i=R(u)||u,Error(s(306,i,""))}}return i;case 0:return _d(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=ea(u,i.pendingProps),fv(n,i,u,f,a);case 3:e:{if(wi(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,xd(n,i),Rl(i,m,null,a);var E=i.memoizedState;if(m=E.cache,Fi(i,Dt,m),m!==f.cache&&Dd(i,[Dt],a,!0),Al(),m=E.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=dv(n,i,m,a);break e}else if(m!==u){u=Pn(Error(s(424)),i),fl(u),i=dv(n,i,m,a);break e}else for(Bt=Jn(i.stateNode.containerInfo.firstChild),on=i,Fe=!0,Xn=null,vr=!0,a=cy(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hl(),m===u){i=Wr(n,i,a);break e}qt(n,i,m,a)}i=i.child}return i;case 26:return wl(n,i),n===null?(a=E_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,u=Gc(Rn.current).createElement(a),u[kt]=i,u[Rt]=n,Ft(u,a,n),nt(u),i.stateNode=u):i.memoizedState=E_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Bo(i),n===null&&Fe&&(u=i.stateNode=y_(i.type,i.pendingProps,Rn.current),on=i,vr=!0,Bt=Jn(u.firstChild)),u=i.pendingProps.children,n!==null||Fe?qt(n,i,u,a):i.child=Ys(i,null,u,a),wl(n,i),i.child;case 5:return n===null&&Fe&&((f=u=Bt)&&(u=pA(u,i.type,i.pendingProps,vr),u!==null?(i.stateNode=u,on=i,Bt=Jn(u.firstChild),vr=!1,f=!0):f=!1),f||Qs(i)),Bo(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,dm(f,m)?u=null:E!==null&&dm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=td(n,i,xb,null,null,a),Bl._currentValue=f),wl(n,i),qt(n,i,u,a),i.child;case 6:return n===null&&Fe&&((n=a=Bt)&&(a=gA(a,i.pendingProps,vr),a!==null?(i.stateNode=a,on=i,Bt=null,n=!0):n=!1),n||Qs(i)),null;case 13:return mv(n,i,a);case 4:return wi(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ys(i,null,u,a):qt(n,i,u,a),i.child;case 11:return av(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Fi(i,i.type,u.value),qt(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,na(i),f=Yt(f),u=u(f),i.flags|=1,qt(n,i,u,a),i.child;case 14:return ov(n,i,i.type,i.pendingProps,a);case 15:return lv(n,i,i.type,i.pendingProps,a);case 19:return gv(n,i,a);case 22:return uv(n,i,a);case 24:return na(i),u=Yt(Dt),n===null?(f=Jf(),f===null&&(f=Ze,m=Xf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},Od(i),Fi(i,Dt,f)):((n.lanes&a)!==0&&(xd(n,i),Rl(i,null,null,a),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Fi(i,Dt,u)):(u=m.cache,Fi(i,Dt,u),u!==f.cache&&Dd(i,[Dt],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Cd=Be(null),ta=null,Xr=null;function Fi(n,i,a){Qe(Cd,i._currentValue),i._currentValue=a}function Zr(n){n._currentValue=Cd.current,lt(Cd)}function Nd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Dd(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Nd(m.return,a,n),u||(E=null);break e}m=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Nd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Sl(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===Ti.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Bl):n=[Bl])}f=f.return}n!==null&&Dd(i,n,a,u),i.flags|=262144}function Nc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,Xr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return vv(ta,n)}function Dc(n,i){return ta===null&&na(n),vv(n,i)}function vv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xr===null){if(n===null)throw Error(s(308));Xr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Xr=Xr.next=i;return a}var Hi=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Gi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $i(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=cc(n),Jg(n,null,a),i}return uc(n,u,i,a),cc(n)}function bl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ci(n,a)}}function kd(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Pd=!1;function Al(){if(Pd){var n=to;if(n!==null)throw n}}function Rl(n,i,a,u){Pd=!1;var f=n.updateQueue;Hi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,L=N.next;N.next=null,E===null?m=L:E.next=L,E=N;var X=n.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==E&&(S===null?X.firstBaseUpdate=L:S.next=L,X.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;E=0,X=L=N=null,S=m;do{var H=S.lane&-536870913,Y=H!==S.lane;if(Y?(Ue&H)===H:(u&H)===H){H!==0&&H===eo&&(Pd=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=n,Se=S;H=i;var ft=a;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){ne=de.call(ft,ne,H);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,H=typeof de=="function"?de.call(ft,ne,H):de,H==null)break e;ne=C({},ne,H);break e;case 2:Hi=!0}}H=S.callback,H!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(L=X=Y,N=ne):X=X.next=Y,E|=H;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=L,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),Xi|=E,n.lanes=E,n.memoizedState=ne}}function _v(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ev(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)_v(a[n],i)}function Il(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,E=a.inst;u=m(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){Xe(i,i.return,S)}}function Ki(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var N=a;try{S()}catch(L){Xe(f,N,L)}}}u=u.next}while(u!==m)}}catch(L){Xe(i,i.return,L)}}function Tv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Ev(i,a)}catch(u){Xe(n,n.return,u)}}}function wv(n,i,a){a.props=ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,i,u)}}function ra(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Xe(n,i,m)}}function _n(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,i,f)}else a.current=null}function Sv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function bv(n,i,a){try{var u=n.stateNode;cA(u,n.type,a,i),u[Rt]=i}catch(f){Xe(n,n.return,f)}}function Av(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Vd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Av(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Md(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Md(n,i,a),n=n.sibling;n!==null;)Md(n,i,a),n=n.sibling}function Oc(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Oc(n,i,a),n=n.sibling;n!==null;)Oc(n,i,a),n=n.sibling}var Jr=!1,ct=!1,Ld=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,Lt=null,Iv=!1;function zb(n,i){if(n=n.containerInfo,hm=Xc,n=Hg(n),jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,S=-1,N=-1,L=0,X=0,ne=n,H=null;t:for(;;){for(var Y;ne!==a||f!==0&&ne.nodeType!==3||(S=E+f),ne!==m||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)H=ne,ne=Y;for(;;){if(ne===n)break t;if(H===a&&++L===f&&(S=E),H===m&&++X===u&&(N=E),(Y=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(fm={focusedElem:n,selectionRange:a},Xc=!1,Lt=i;Lt!==null;)if(i=Lt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Lt=n;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var de=ea(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(de,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Xe(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)gm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Lt=n;break}Lt=i.return}return de=Iv,Iv=!1,de}function Cv(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ti(n,a),u&4&&Il(5,a);break;case 1:if(ti(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(S){Xe(a,a.return,S)}else{var f=ea(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Xe(a,a.return,S)}}u&64&&Tv(a),u&512&&ra(a,a.return);break;case 3:if(ti(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ev(u,n)}catch(S){Xe(a,a.return,S)}}break;case 26:ti(n,a),u&512&&ra(a,a.return);break;case 27:case 5:ti(n,a),i===null&&u&4&&Sv(a),u&512&&ra(a,a.return);break;case 12:ti(n,a);break;case 13:ti(n,a),u&4&&Ov(n,a);break;case 22:if(f=a.memoizedState!==null||Jr,!f){i=i!==null&&i.memoizedState!==null||ct;var m=Jr,E=ct;Jr=f,(ct=i)&&!E?Qi(n,a,(a.subtreeFlags&8772)!==0):ti(n,a),Jr=m,ct=E}u&512&&(a.memoizedProps.mode==="manual"?ra(a,a.return):_n(a,a.return));break;default:ti(n,a)}}function Nv(n){var i=n.alternate;i!==null&&(n.alternate=null,Nv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ks(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,En=!1;function ei(n,i,a){for(a=a.child;a!==null;)Dv(n,i,a),a=a.sibling}function Dv(n,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Si,a)}catch{}switch(a.tag){case 26:ct||_n(a,i),ei(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||_n(a,i);var u=Tt,f=En;for(Tt=a.stateNode,ei(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ks(a),Tt=u,En=f;break;case 5:ct||_n(a,i);case 6:f=Tt;var m=En;if(Tt=null,ei(n,i,a),Tt=f,En=m,Tt!==null)if(En)try{n=Tt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(E){Xe(a,i,E)}else try{Tt.removeChild(a.stateNode)}catch(E){Xe(a,i,E)}break;case 18:Tt!==null&&(En?(i=Tt,a=a.stateNode,i.nodeType===8?pm(i.parentNode,a):i.nodeType===1&&pm(i,a),Gl(i)):pm(Tt,a.stateNode));break;case 4:u=Tt,f=En,Tt=a.stateNode.containerInfo,En=!0,ei(n,i,a),Tt=u,En=f;break;case 0:case 11:case 14:case 15:ct||Ki(2,a,i),ct||Ki(4,a,i),ei(n,i,a);break;case 1:ct||(_n(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&wv(a,i,u)),ei(n,i,a);break;case 21:ei(n,i,a);break;case 22:ct||_n(a,i),ct=(u=ct)||a.memoizedState!==null,ei(n,i,a),ct=u;break;default:ei(n,i,a)}}function Ov(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gl(n)}catch(a){Xe(i,i.return,a)}}function Bb(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Rv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Rv),i;default:throw Error(s(435,n.tag))}}function Ud(n,i){var a=Bb(n);i.forEach(function(u){var f=eA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Un(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:case 5:Tt=S.stateNode,En=!1;break e;case 3:Tt=S.stateNode.containerInfo,En=!0;break e;case 4:Tt=S.stateNode.containerInfo,En=!0;break e}S=S.return}if(Tt===null)throw Error(s(160));Dv(m,E,f),Tt=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)xv(i,n),i=i.sibling}var Zn=null;function xv(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(i,n),jn(n),u&4&&(Ki(3,n,n.return),Il(3,n),Ki(5,n,n.return));break;case 1:Un(i,n),jn(n),u&512&&(ct||a===null||_n(a,a.return)),u&64&&Jr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Zn;if(Un(i,n),jn(n),u&512&&(ct||a===null||_n(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Di]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,u,a),m[kt]=n,nt(m),u=m;break e;case"link":var E=S_("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(m=E[S],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;case"meta":if(E=S_("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(m=E[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[kt]=n,nt(m),u=m}n.stateNode=u}else b_(f,n.type,n.stateNode);else n.stateNode=w_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?b_(f,n.type,n.stateNode):w_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&bv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var N=f.firstChild;N;){var L=N.nextSibling,X=N.nodeName;N[Di]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=L}for(var ne=n.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ft(f,ne,m),f[kt]=n,f[Rt]=m}catch(de){Xe(n,n.return,de)}}case 5:if(Un(i,n),jn(n),u&512&&(ct||a===null||_n(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch(de){Xe(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,bv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Ld=!0);break;case 6:if(Un(i,n),jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(de){Xe(n,n.return,de)}}break;case 3:if(Qc=null,f=Zn,Zn=$c(i.containerInfo),Un(i,n),Zn=f,jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(de){Xe(n,n.return,de)}Ld&&(Ld=!1,kv(n));break;case 4:u=Zn,Zn=$c(n.stateNode.containerInfo),Un(i,n),jn(n),Zn=u;break;case 12:Un(i,n),jn(n);break;case 13:Un(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ud(n,u)));break;case 22:if(u&512&&(ct||a===null||_n(a,a.return)),N=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,X=Jr,ne=ct,Jr=X||N,ct=ne||L,Un(i,n),ct=ne,Jr=X,jn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=N?i._visibility&-2:i._visibility|1,N&&(i=Jr||ct,a===null||L||i||so(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(f=L.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=L.stateNode,S=L.memoizedProps.style;var Y=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(de){Xe(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=N?"":L.memoizedProps}catch(de){Xe(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Ud(n,a))));break;case 19:Un(i,n),jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ud(n,u)));break;case 21:break;default:Un(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Av(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Vd(n);Oc(n,m,f);break;case 5:var E=u.stateNode;u.flags&32&&(Nn(E,""),u.flags&=-33);var S=Vd(n);Oc(n,S,E);break;case 3:case 4:var N=u.stateNode.containerInfo,L=Vd(n);Md(n,L,N);break;default:throw Error(s(161))}}}catch(X){Xe(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ti(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cv(n,i.alternate,i),i=i.sibling}function so(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ki(4,i,i.return),so(i);break;case 1:_n(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&wv(i,i.return,a),so(i);break;case 26:case 27:case 5:_n(i,i.return),so(i);break;case 22:_n(i,i.return),i.memoizedState===null&&so(i);break;default:so(i)}n=n.sibling}}function Qi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:Qi(f,m,a),Il(4,m);break;case 1:if(Qi(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Xe(u,u.return,L)}if(u=m,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)_v(N[f],S)}catch(L){Xe(u,u.return,L)}}a&&E&64&&Tv(m),ra(m,m.return);break;case 26:case 27:case 5:Qi(f,m,a),a&&u===null&&E&4&&Sv(m),ra(m,m.return);break;case 12:Qi(f,m,a);break;case 13:Qi(f,m,a),a&&E&4&&Ov(f,m);break;case 22:m.memoizedState===null&&Qi(f,m,a),ra(m,m.return);break;default:Qi(f,m,a)}i=i.sibling}}function jd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function zd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&yl(n))}function Yi(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(n,i,a,u),i=i.sibling}function Pv(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Yi(n,i,a,u),f&2048&&Il(9,i);break;case 3:Yi(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&yl(n)));break;case 12:if(f&2048){Yi(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,S=m.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else Yi(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Yi(n,i,a,u):Cl(n,i):m._visibility&4?Yi(n,i,a,u):(m._visibility|=4,ao(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&jd(i.alternate,i);break;case 24:Yi(n,i,a,u),f&2048&&zd(i.alternate,i);break;default:Yi(n,i,a,u)}}function ao(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,S=a,N=u,L=E.flags;switch(E.tag){case 0:case 11:case 15:ao(m,E,S,N,f),Il(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&4?ao(m,E,S,N,f):Cl(m,E):(X._visibility|=4,ao(m,E,S,N,f)),f&&L&2048&&jd(E.alternate,E);break;case 24:ao(m,E,S,N,f),f&&L&2048&&zd(E.alternate,E);break;default:ao(m,E,S,N,f)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Cl(a,u),f&2048&&jd(u.alternate,u);break;case 24:Cl(a,u),f&2048&&zd(u.alternate,u);break;default:Cl(a,u)}i=i.sibling}}var Nl=8192;function oo(n){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)Vv(n),n=n.sibling}function Vv(n){switch(n.tag){case 26:oo(n),n.flags&Nl&&n.memoizedState!==null&&NA(Zn,n.memoizedState,n.memoizedProps);break;case 5:oo(n);break;case 3:case 4:var i=Zn;Zn=$c(n.stateNode.containerInfo),oo(n),Zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Nl,Nl=16777216,oo(n),Nl=i):oo(n));break;default:oo(n)}}function Mv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Dl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,Uv(u,n)}Mv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lv(n),n=n.sibling}function Lv(n){switch(n.tag){case 0:case 11:case 15:Dl(n),n.flags&2048&&Ki(9,n,n.return);break;case 3:Dl(n);break;case 12:Dl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,xc(n)):Dl(n);break;default:Dl(n)}}function xc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,Uv(u,n)}Mv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ki(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,xc(i));break;default:xc(i)}n=n.sibling}}function Uv(n,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ki(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=n;Lt!==null;){u=Lt;var f=u.sibling,m=u.return;if(Nv(u),u===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function qb(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,i,a,u){return new qb(n,i,a,u)}function Bd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,i){var a=n.alternate;return a===null?(a=zn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function jv(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function kc(n,i,a,u,f,m){var E=0;if(u=n,typeof n=="function")Bd(n)&&(E=1);else if(typeof n=="string")E=IA(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ia(a.children,f,m,i);case g:E=8,f|=24;break;case v:return n=zn(12,a,i,f|2),n.elementType=v,n.lanes=m,n;case K:return n=zn(13,a,i,f),n.elementType=K,n.lanes=m,n;case q:return n=zn(19,a,i,f),n.elementType=q,n.lanes=m,n;case Q:return zv(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:E=10;break e;case I:E=9;break e;case F:E=11;break e;case $:E=14;break e;case W:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=zn(E,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function ia(n,i,a,u){return n=zn(7,n,u,i),n.lanes=a,n}function zv(n,i,a,u){n=zn(22,n,u,i),n.elementType=Q,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=Ui(m,2);E!==null&&(f._pendingVisibility|=2,ln(E,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=Ui(m,2);E!==null&&(f._pendingVisibility&=-3,ln(E,m,2))}}};return n.stateNode=f,n}function qd(n,i,a){return n=zn(6,n,null,i),n.lanes=a,n}function Fd(n,i,a){return i=zn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ni(n){n.flags|=4}function Bv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!A_(i)){if(i=Ln.current,i!==null&&((Ue&4194176)===Ue?_r!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==_r))throw ml=Qf,iy;n.flags|=8192}}function Pc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ri():536870912,n.lanes|=i,uo|=i)}function Ol(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function Fb(n,i,a){var u=i.pendingProps;switch($f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Zr(Dt),Vr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(i)?ni(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xn!==null&&(Xd(Xn),Xn=null))),rt(i),null;case 26:return a=i.memoizedState,n===null?(ni(i),a!==null?(rt(i),Bv(i,a)):(rt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ni(i),rt(i),Bv(i,a)):(rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ni(i),rt(i),i.flags&=-16777217),null;case 27:Ca(i),a=Rn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}n=nn.current,cl(i)?ny(i):(n=y_(f,u,a),i.stateNode=n,ni(i))}return rt(i),null;case 5:if(Ca(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(n=nn.current,cl(i))ny(i);else{switch(f=Gc(Rn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[kt]=i,n[Rt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ni(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ni(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Rn.current,cl(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||h_(n.nodeValue,a)),n||Qs(i)}else n=Gc(n).createTextNode(u),n[kt]=i,i.stateNode=n}return rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=cl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=i}else hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Xn!==null&&(Xd(Xn),Xn=null),f=!0;if(!f)return i.flags&256?(Qr(i),i):(Qr(i),null)}if(Qr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Pc(i,i.updateQueue),rt(i),null;case 4:return Vr(),n===null&&lm(i.stateNode.containerInfo),rt(i),null;case 10:return Zr(i.type),rt(i),null;case 19:if(lt(Nt),f=i.memoizedState,f===null)return rt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Ol(f,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=yc(n),m!==null){for(i.flags|=128,Ol(f,!1),n=m.updateQueue,i.updateQueue=n,Pc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)jv(a,n),a=a.sibling;return Qe(Nt,Nt.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>Vc&&(i.flags|=128,u=!0,Ol(f,!1),i.lanes=4194304)}else{if(!u)if(n=yc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Pc(i,n),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return rt(i),null}else 2*un()-f.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,u=!0,Ol(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=Nt.current,Qe(Nt,u?n&1|2:n&1),i):(rt(i),null);case 22:case 23:return Qr(i),Wf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Pc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&lt(Ws),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zr(Dt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Hb(n,i){switch($f(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zr(Dt),Vr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ca(i),null;case 13:if(Qr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));hl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return lt(Nt),null;case 4:return Vr(),null;case 10:return Zr(i.type),null;case 22:case 23:return Qr(i),Wf(),n!==null&&lt(Ws),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Zr(Dt),null;case 25:return null;default:return null}}function qv(n,i){switch($f(i),i.tag){case 3:Zr(Dt),Vr();break;case 26:case 27:case 5:Ca(i);break;case 4:Vr();break;case 13:Qr(i);break;case 19:lt(Nt);break;case 10:Zr(i.type);break;case 22:case 23:Qr(i),Wf(),n!==null&&lt(Ws);break;case 24:Zr(Dt)}}var Gb={getCacheForType:function(n){var i=Yt(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},$b=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Oe=null,Ue=0,Je=0,Tn=null,ri=!1,lo=!1,Hd=!1,ii=0,ht=0,Xi=0,sa=0,Gd=0,Bn=0,uo=0,xl=null,Tr=null,$d=!1,Kd=0,Vc=1/0,Mc=null,Zi=null,Lc=!1,aa=null,kl=0,Qd=0,Yd=null,Pl=0,Wd=null;function wn(){if((it&2)!==0&&Ue!==0)return Ue&-Ue;if(b.T!==null){var n=eo;return n!==0?n:im()}return Fu()}function Fv(){Bn===0&&(Bn=(Ue&536870912)===0||Fe?$o():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Bn}function ln(n,i,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(co(n,0),si(n,Ue,Bn,!1)),mt(n,a),((it&2)===0||n!==Ze)&&(n===Ze&&((it&2)===0&&(sa|=a),ht===4&&si(n,Ue,Bn,!1)),wr(n))}function Hv(n,i,a){if((it&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||Ai(n,i),f=u?Yb(n,i):em(n,i,!0),m=u;do{if(f===0){lo&&!u&&si(n,i,0,!1);break}else if(f===6)si(n,i,0,!ri);else{if(a=n.current.alternate,m&&!Kb(a)){f=em(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=n;f=xl;var N=S.current.memoizedState.isDehydrated;if(N&&(co(S,E).flags|=256),E=em(S,E,!1),E!==2){if(Hd&&!N){S.errorRecoveryDisabledLanes|=m,sa|=m,f=4;break e}m=Tr,Tr=f,m!==null&&Xd(m)}f=E}if(m=!1,f!==2)continue}}if(f===1){co(n,0),si(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){si(u,i,Bn,!ri);break e}break;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=Kd+300-un(),10<m)){if(si(u,i,Bn,!ri),In(u,0)!==0)break e;u.timeoutHandle=m_(Gv.bind(null,u,a,Tr,Mc,$d,i,Bn,sa,uo,ri,2,-0,0),m);break e}Gv(u,a,Tr,Mc,$d,i,Bn,sa,uo,ri,0,-0,0)}}break}while(!0);wr(n)}function Xd(n){Tr===null?Tr=n:Tr.push.apply(Tr,n)}function Gv(n,i,a,u,f,m,E,S,N,L,X,ne,H){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:CA},Vv(i),i=DA(),i!==null)){n.cancelPendingCommit=i(Zv.bind(null,n,a,u,f,E,S,N,1,ne,H)),si(n,m,E,!L);return}Zv(n,a,u,f,E,S,N,X,ne,H)}function Kb(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(n,i,a,u){i&=~Gd,i&=~sa,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-rn(f),E=1<<m;u[m]=-1,f&=~E}a!==0&&Ii(n,a,i)}function Uc(){return(it&6)===0?(Vl(0),!1):!0}function Zd(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,Xr=ta=null,id(n),Za=null,pl=0,n=Oe;for(;n!==null;)qv(n.alternate,n),n=n.return;Oe=null}}function co(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,fA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Zd(),Ze=n,Oe=a=Wi(n.current,null),Ue=i,Je=0,Tn=null,ri=!1,lo=Ai(n,i),Hd=!1,uo=Bn=Gd=sa=Xi=ht=0,Tr=xl=null,$d=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-rn(u),m=1<<f;i|=n[f],u&=~m}return ii=i,lc(),a}function $v(n,i){Ce=null,b.H=Er,i===dl?(i=oy(),Je=3):i===iy?(i=oy(),Je=4):Je=i===sv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(ht=1,Cc(n,Pn(i,n.current)))}function Kv(){var n=b.H;return b.H=Er,n===null?Er:n}function Qv(){var n=b.A;return b.A=Gb,n}function Jd(){ht=4,ri||(Ue&4194176)!==Ue&&Ln.current!==null||(lo=!0),(Xi&134217727)===0&&(sa&134217727)===0||Ze===null||si(Ze,Ue,Bn,!1)}function em(n,i,a){var u=it;it|=2;var f=Kv(),m=Qv();(Ze!==n||Ue!==i)&&(Mc=null,co(n,i)),i=!1;var E=ht;e:do try{if(Je!==0&&Oe!==null){var S=Oe,N=Tn;switch(Je){case 8:Zd(),E=6;break e;case 3:case 2:case 6:Ln.current===null&&(i=!0);var L=Je;if(Je=0,Tn=null,ho(n,S,N,L),a&&lo){E=0;break e}break;default:L=Je,Je=0,Tn=null,ho(n,S,N,L)}}Qb(),E=ht;break}catch(X){$v(n,X)}while(!0);return i&&n.shellSuspendCounter++,Xr=ta=null,it=u,b.H=f,b.A=m,Oe===null&&(Ze=null,Ue=0,lc()),E}function Qb(){for(;Oe!==null;)Yv(Oe)}function Yb(n,i){var a=it;it|=2;var u=Kv(),f=Qv();Ze!==n||Ue!==i?(Mc=null,Vc=un()+500,co(n,i)):lo=Ai(n,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var m=Tn;t:switch(Je){case 1:Je=0,Tn=null,ho(n,i,m,1);break;case 2:if(sy(m)){Je=0,Tn=null,Wv(i);break}i=function(){Je===2&&Ze===n&&(Je=7),wr(n)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:sy(m)?(Je=0,Tn=null,Wv(i)):(Je=0,Tn=null,ho(n,i,m,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var S=Oe;if(!E||A_(E)){Je=0,Tn=null;var N=S.sibling;if(N!==null)Oe=N;else{var L=S.return;L!==null?(Oe=L,jc(L)):Oe=null}break t}}Je=0,Tn=null,ho(n,i,m,5);break;case 6:Je=0,Tn=null,ho(n,i,m,6);break;case 8:Zd(),ht=6;break e;default:throw Error(s(462))}}Wb();break}catch(X){$v(n,X)}while(!0);return Xr=ta=null,b.H=u,b.A=f,it=a,Oe!==null?0:(Ze=null,Ue=0,lc(),ht)}function Wb(){for(;Oe!==null&&!Cf();)Yv(Oe)}function Yv(n){var i=yv(n.alternate,n,ii);n.memoizedProps=n.pendingProps,i===null?jc(n):Oe=i}function Wv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=hv(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=hv(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:id(i);default:qv(a,i),i=Oe=jv(i,ii),i=yv(a,i,ii)}n.memoizedProps=n.pendingProps,i===null?jc(n):Oe=i}function ho(n,i,a,u){Xr=ta=null,id(i),Za=null,pl=0;var f=i.return;try{if(Ub(n,f,i,a,Ue)){ht=1,Cc(n,Pn(a,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ht=1,Cc(n,Pn(a,n.current)),Oe=null;return}i.flags&32768?(Fe||u===1?n=!0:lo||(Ue&536870912)!==0?n=!1:(ri=n=!0,(u===2||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xv(i,n)):jc(i)}function jc(n){var i=n;do{if((i.flags&32768)!==0){Xv(i,ri);return}n=i.return;var a=Fb(i.alternate,i,ii);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ht===0&&(ht=5)}function Xv(n,i){do{var a=Hb(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ht=6,Oe=null}function Zv(n,i,a,u,f,m,E,S,N,L){var X=b.T,ne=he.p;try{he.p=2,b.T=null,Xb(n,i,a,u,ne,f,m,E,S,N,L)}finally{b.T=X,he.p=ne}}function Xb(n,i,a,u,f,m,E,S){do fo();while(aa!==null);if((it&6)!==0)throw Error(s(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=N.lanes|N.childLanes;if(L|=Ff,Bu(n,u,L,m,E,S),n===Ze&&(Oe=Ze=null,Ue=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Lc||(Lc=!0,Qd=L,Yd=a,tA(Mr,function(){return fo(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,m=he.p,he.p=2,E=it,it|=4,zb(n,N),xv(N,n),Tb(fm,n.containerInfo),Xc=!!hm,fm=hm=null,n.current=N,Cv(n,N.alternate,N),qo(),it=E,he.p=m,b.T=a):n.current=N,Lc?(Lc=!1,aa=n,kl=u):Jv(n,L),L=n.pendingLanes,L===0&&(Zi=null),Ho(N.stateNode),wr(n),i!==null)for(f=n.onRecoverableError,N=0;N<i.length;N++)L=i[N],f(L.value,{componentStack:L.stack});return(kl&3)!==0&&fo(),L=n.pendingLanes,(u&4194218)!==0&&(L&42)!==0?n===Wd?Pl++:(Pl=0,Wd=n):Pl=0,Vl(0),null}function Jv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,yl(i)))}function fo(){if(aa!==null){var n=aa,i=Qd;Qd=0;var a=qu(kl),u=b.T,f=he.p;try{if(he.p=32>a?32:a,b.T=null,aa===null)var m=!1;else{a=Yd,Yd=null;var E=aa,S=kl;if(aa=null,kl=0,(it&6)!==0)throw Error(s(331));var N=it;if(it|=4,Lv(E.current),Pv(E,E.current,S,a),it=N,Vl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Si,E)}catch{}m=!0}return m}finally{he.p=f,b.T=u,Jv(n,i)}}return!1}function e_(n,i,a){i=Pn(a,i),i=vd(n.stateNode,i,2),n=$i(n,i,2),n!==null&&(mt(n,2),wr(n))}function Xe(n,i,a){if(n.tag===3)e_(n,n,a);else for(;i!==null;){if(i.tag===3){e_(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zi===null||!Zi.has(u))){n=Pn(a,n),a=rv(2),u=$i(i,a,2),u!==null&&(iv(a,u,i,n),mt(u,2),wr(u));break}}i=i.return}}function tm(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new $b;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(Hd=!0,f.add(a),n=Zb.bind(null,n,i,a),i.then(n,n))}function Zb(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>un()-Kd?(it&2)===0&&co(n,0):Gd|=a,uo===Ue&&(uo=0)),wr(n)}function t_(n,i){i===0&&(i=Ri()),n=Ui(n,i),n!==null&&(mt(n,i),wr(n))}function Jb(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),t_(n,a)}function eA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),t_(n,a)}function tA(n,i){return Ds(n,i)}var zc=null,mo=null,nm=!1,Bc=!1,rm=!1,oa=0;function wr(n){n!==mo&&n.next===null&&(mo===null?zc=mo=n:mo=mo.next=n),Bc=!0,nm||(nm=!0,rA(nA))}function Vl(n,i){if(!rm&&Bc){rm=!0;do for(var a=!1,u=zc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=f&~(E&~S),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,i_(u,m))}else m=Ue,m=In(u,u===Ze?m:0),(m&3)===0||Ai(u,m)||(a=!0,i_(u,m));u=u.next}while(a);rm=!1}}function nA(){Bc=nm=!1;var n=0;oa!==0&&(hA()&&(n=oa),oa=0);for(var i=un(),a=null,u=zc;u!==null;){var f=u.next,m=n_(u,i);m===0?(u.next=null,a===null?zc=f:a.next=f,f===null&&(mo=a)):(a=u,(n!==0||(m&3)!==0)&&(Bc=!0)),u=f}Vl(n)}function n_(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-rn(m),S=1<<E,N=f[E];N===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Oa(S,i)):N<=i&&(n.expiredLanes|=S),m&=~S}if(i=Ze,a=Ue,a=In(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Je===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Da(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ai(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Da(u),qu(a)){case 2:case 8:a=xt;break;case 32:a=Mr;break;case 268435456:a=Fo;break;default:a=Mr}return u=r_.bind(null,n),a=Ds(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Da(u),n.callbackPriority=2,n.callbackNode=null,2}function r_(n,i){var a=n.callbackNode;if(fo()&&n.callbackNode!==a)return null;var u=Ue;return u=In(n,n===Ze?u:0),u===0?null:(Hv(n,u,i),n_(n,un()),n.callbackNode!=null&&n.callbackNode===a?r_.bind(null,n):null)}function i_(n,i){if(fo())return null;Hv(n,i,!0)}function rA(n){dA(function(){(it&6)!==0?Ds(At,n):n()})}function im(){return oa===0&&(oa=$o()),oa}function s_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hr(""+n)}function a_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function iA(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=s_((f[Rt]||null).action),E=u.submitter;E&&(i=(i=E[Rt]||null)?s_(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var S=new Ua("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var N=E?a_(f,E):new FormData(f);dd(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=E?a_(f,E):new FormData(f),dd(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var sm=0;sm<Zg.length;sm++){var am=Zg[sm],sA=am.toLowerCase(),aA=am[0].toUpperCase()+am.slice(1);Wn(sA,"on"+aA)}Wn(Kg,"onAnimationEnd"),Wn(Qg,"onAnimationIteration"),Wn(Yg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Sb,"onTransitionRun"),Wn(bb,"onTransitionStart"),Wn(Ab,"onTransitionCancel"),Wn(Wg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function o_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],N=S.instance,L=S.currentTarget;if(S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=L;try{m(f)}catch(X){Ic(X)}f.currentTarget=null,m=N}else for(E=0;E<u.length;E++){if(S=u[E],N=S.instance,L=S.currentTarget,S=S.listener,N!==m&&f.isPropagationStopped())break e;m=S,f.currentTarget=L;try{m(f)}catch(X){Ic(X)}f.currentTarget=null,m=N}}}}function Pe(n,i){var a=i[xs];a===void 0&&(a=i[xs]=new Set);var u=n+"__bubble";a.has(u)||(l_(i,n,2,!1),a.add(u))}function om(n,i,a){var u=0;i&&(u|=4),l_(a,n,u,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function lm(n){if(!n[qc]){n[qc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||om(a,!1,n),om(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[qc]||(i[qc]=!0,om("selectionchange",!1,i))}}function l_(n,i,a,u){switch(O_(i)){case 2:var f=kA;break;case 8:f=PA;break;default:f=Tm}a=f.bind(null,i,a,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function um(n,i,a,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;S!==null;){if(E=Yn(S),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=m=E;continue e}S=S.parentNode}}u=u.return}Ku(function(){var L=m,X=La(a),ne=[];e:{var H=Xg.get(n);if(H!==void 0){var Y=Ua,de=n;switch(n){case"keypress":if(dr(a)===0)break e;case"keydown":case"keyup":Y=Ha;break;case"focusin":de="focus",Y=Ba;break;case"focusout":de="blur",Y=Ba;break;case"beforeblur":case"afterblur":Y=Ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=tc;break;case Kg:case Qg:case Yg:Y=qa;break;case Wg:Y=rc;break;case"scroll":case"scrollend":Y=Qu;break;case"wheel":Y=Ga;break;case"copy":case"cut":case"paste":Y=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=sc}var Se=(i&4)!==0,ft=!Se&&(n==="scroll"||n==="scrollend"),j=Se?H!==null?H+"Capture":null:H;Se=[];for(var M=L,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||j===null||(J=Ls(M,j),J!=null&&Se.push(Ll(M,J,B))),ft)break;M=M.return}0<Se.length&&(H=new Y(H,de,null,a,X),ne.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",H&&a!==Dn&&(de=a.relatedTarget||a.fromElement)&&(Yn(de)||de[Lr]))break e;if((Y||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=L,de=de?Yn(de):null,de!==null&&(ft=ve(de),Se=de.tag,de!==ft||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(Y=null,de=L),Y!==de)){if(Se=xn,J="onMouseLeave",j="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Se=al,J="onPointerLeave",j="onPointerEnter",M="pointer"),ft=Y==null?H:Oi(Y),B=de==null?H:Oi(de),H=new Se(J,M+"leave",Y,a,X),H.target=ft,H.relatedTarget=B,J=null,Yn(X)===L&&(Se=new Se(j,M+"enter",de,a,X),Se.target=B,Se.relatedTarget=ft,J=Se),ft=J,Y&&de)t:{for(Se=Y,j=de,M=0,B=Se;B;B=po(B))M++;for(B=0,J=j;J;J=po(J))B++;for(;0<M-B;)Se=po(Se),M--;for(;0<B-M;)j=po(j),B--;for(;M--;){if(Se===j||j!==null&&Se===j.alternate)break t;Se=po(Se),j=po(j)}Se=null}else Se=null;Y!==null&&u_(ne,H,Y,Se,!1),de!==null&&ft!==null&&u_(ne,ft,de,Se,!0)}}e:{if(H=L?Oi(L):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var fe=Mg;else if(Ct(H))if(Lg)fe=_b;else{fe=yb;var De=gb}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Jo(L.elementType)&&(fe=Mg):fe=vb;if(fe&&(fe=fe(n,L))){Gr(ne,fe,a,X);break e}De&&De(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ma(H,"number",H.value)}switch(De=L?Oi(L):window,n){case"focusin":(Ct(De)||De.contentEditable==="true")&&($a=De,zf=L,ul=null);break;case"focusout":ul=zf=$a=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,Gg(ne,a,X);break;case"selectionchange":if(wb)break;case"keydown":case"keyup":Gg(ne,a,X)}var pe;if(gr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?G(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(pe=tl()):(fr=X,Li="value"in fr?fr.value:fr.textContent,Me=!0)),De=Fc(L,_e),0<De.length&&(_e=new il(_e,n,null,a,X),ne.push({event:_e,listeners:De}),pe?_e.data=pe:(pe=ae(a),pe!==null&&(_e.data=pe)))),(pe=y?It(n,a):Le(n,a))&&(_e=Fc(L,"onBeforeInput"),0<_e.length&&(De=new il("onBeforeInput","beforeinput",null,a,X),ne.push({event:De,listeners:_e}),De.data=pe)),iA(ne,n,L,a,X)}o_(ne,i)})}function Ll(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Fc(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ls(n,a),f!=null&&u.unshift(Ll(n,f,m)),f=Ls(n,i),f!=null&&u.push(Ll(n,f,m))),n=n.return}return u}function po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function u_(n,i,a,u,f){for(var m=i._reactName,E=[];a!==null&&a!==u;){var S=a,N=S.alternate,L=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||L===null||(N=L,f?(L=Ls(a,m),L!=null&&E.unshift(Ll(a,L,N))):f||(L=Ls(a,m),L!=null&&E.push(Ll(a,L,N)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function c_(n){return(typeof n=="string"?n:""+n).replace(lA,`
`).replace(uA,"")}function h_(n,i){return i=c_(i),c_(n)===i}function Hc(){}function We(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Nn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Nn(n,""+u);break;case"className":Pi(n,"class",u);break;case"tabIndex":Pi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pi(n,a,u);break;case"style":$u(n,u,m);break;case"data":if(i!=="object"){Pi(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hr(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hr(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=hr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),ki(n,"popover",u);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ki(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=kf.get(a)||a,ki(n,a,u))}}function cm(n,i,a,u,f,m){switch(a){case"style":$u(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Nn(n,u):(typeof u=="number"||typeof u=="bigint")&&Nn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):ki(n,a,u)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,m,E,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),u&&We(n,i,"src",a.src,a,null);return;case"input":Pe("invalid",n);var S=m=E=f=null,N=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":f=X;break;case"type":E=X;break;case"checked":N=X;break;case"defaultChecked":L=X;break;case"value":m=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(n,i,u,X,a,null)}}Vs(n,m,S,N,L,E,f,!1),Ps(n);return;case"select":Pe("invalid",n),u=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:We(n,i,f,S,a,null)}i=m,a=E,n.multiple=!!u,i!=null?qe(n,!!u,i,!1):a!=null&&qe(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),m=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(n,i,E,S,a,null)}Mi(n,u,f,m),Ps(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,N,u,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Ml.length;u++)Pe(Ml[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,L,u,a,null)}return;default:if(Jo(i)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&cm(n,i,X,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&We(n,i,S,u,a,null))}function cA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,S=null,N=null,L=null,X=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(Y)||We(n,i,Y,null,u,ne)}}for(var H in u){var Y=u[H];if(ne=a[H],u.hasOwnProperty(H)&&(Y!=null||ne!=null))switch(H){case"type":m=Y;break;case"name":f=Y;break;case"checked":L=Y;break;case"defaultChecked":X=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ne&&We(n,i,H,Y,u,ne)}}Vi(n,E,S,N,L,X,m,f);return;case"select":Y=E=S=H=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:u.hasOwnProperty(m)||We(n,i,m,null,u,N)}for(f in u)if(m=u[f],N=a[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":H=m;break;case"defaultValue":S=m;break;case"multiple":E=m;default:m!==N&&We(n,i,f,m,u,N)}i=S,a=E,u=Y,H!=null?qe(n,!!a,H,!1):!!u!=!!a&&(i!=null?qe(n,!!a,i,!0):qe(n,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(n,i,S,null,u,f)}for(E in u)if(f=u[E],m=a[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":H=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,i,E,f,u,m)}Ms(n,H,Y);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:We(n,i,de,null,u,H)}for(N in u)if(H=u[N],Y=a[N],u.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(n,i,N,H,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!u.hasOwnProperty(Se)&&We(n,i,Se,null,u,H);for(L in u)if(H=u[L],Y=a[L],u.hasOwnProperty(L)&&H!==Y&&(H!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(n,i,L,H,u,Y)}return;default:if(Jo(i)){for(var ft in a)H=a[ft],a.hasOwnProperty(ft)&&H!==void 0&&!u.hasOwnProperty(ft)&&cm(n,i,ft,void 0,u,H);for(X in u)H=u[X],Y=a[X],!u.hasOwnProperty(X)||H===Y||H===void 0&&Y===void 0||cm(n,i,X,H,u,Y);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!u.hasOwnProperty(j)&&We(n,i,j,null,u,H);for(ne in u)H=u[ne],Y=a[ne],!u.hasOwnProperty(ne)||H===Y||H==null&&Y==null||We(n,i,ne,H,u,Y)}var hm=null,fm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function f_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function dm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var mm=null;function hA(){var n=window.event;return n&&n.type==="popstate"?n===mm?!1:(mm=n,!0):(mm=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(n){return p_.resolve(null).then(n).catch(mA)}:m_;function mA(n){setTimeout(function(){throw n})}function pm(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Gl(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Gl(i)}function gm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gm(a),ks(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function pA(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Di])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function gA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function Jn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function g_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function y_(n,i,a){switch(i=Gc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var qn=new Map,v_=new Set;function $c(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ai=he.d;he.d={f:yA,r:vA,D:_A,C:EA,L:TA,m:wA,X:bA,S:SA,M:AA};function yA(){var n=ai.f(),i=Uc();return n||i}function vA(n){var i=Ur(n);i!==null&&i.tag===5&&i.type==="form"?Gy(i):ai.r(n)}var go=typeof document>"u"?null:document;function __(n,i,a){var u=go;if(u&&typeof i=="string"&&i){var f=ut(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),v_.has(f)||(v_.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function _A(n){ai.D(n),__("dns-prefetch",n,null)}function EA(n,i){ai.C(n,i),__("preconnect",n,i)}function TA(n,i,a){ai.L(n,i,a);var u=go;if(u&&n&&i){var f='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ut(a.imageSizes)+'"]')):f+='[href="'+ut(n)+'"]';var m=f;switch(i){case"style":m=yo(n);break;case"script":m=vo(n)}qn.has(m)||(n=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),qn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ul(m))||i==="script"&&u.querySelector(jl(m))||(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function wA(n,i){ai.m(n,i);var a=go;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ut(u)+'"][href="'+ut(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vo(n)}if(!qn.has(m)&&(n=C({rel:"modulepreload",href:n},i),qn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(m)))return}u=a.createElement("link"),Ft(u,"link",n),nt(u),a.head.appendChild(u)}}}function SA(n,i,a){ai.S(n,i,a);var u=go;if(u&&n){var f=xi(u).hoistableStyles,m=yo(n);i=i||"default";var E=f.get(m);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Ul(m)))S.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":i},a),(a=qn.get(m))&&ym(n,a);var N=E=u.createElement("link");nt(N),Ft(N,"link",n),N._p=new Promise(function(L,X){N.onload=L,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Kc(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(m,E)}}}function bA(n,i){ai.X(n,i);var a=go;if(a&&n){var u=xi(a).hoistableScripts,f=vo(n),m=u.get(f);m||(m=a.querySelector(jl(f)),m||(n=C({src:n,async:!0},i),(i=qn.get(f))&&vm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function AA(n,i){ai.M(n,i);var a=go;if(a&&n){var u=xi(a).hoistableScripts,f=vo(n),m=u.get(f);m||(m=a.querySelector(jl(f)),m||(n=C({src:n,async:!0,type:"module"},i),(i=qn.get(f))&&vm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function E_(n,i,a,u){var f=(f=Rn.current)?$c(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yo(a.href),a=xi(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=yo(a.href);var m=xi(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Ul(n)))&&!m._p&&(E.instance=m,E.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),m||RA(f,n,a,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vo(a),a=xi(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function yo(n){return'href="'+ut(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function T_(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function RA(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ft(i,"link",a),nt(i),n.head.appendChild(i))}function vo(n){return'[src="'+ut(n)+'"]'}function jl(n){return"script[async]"+n}function w_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+ut(a.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),Ft(u,"style",f),Kc(u,a.precedence,n),i.instance=u;case"stylesheet":f=yo(a.href);var m=n.querySelector(Ul(f));if(m)return i.state.loading|=4,i.instance=m,nt(m),m;u=T_(a),(f=qn.get(f))&&ym(u,f),m=(n.ownerDocument||n).createElement("link"),nt(m);var E=m;return E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Ft(m,"link",u),i.state.loading|=4,Kc(m,a.precedence,n),i.instance=m;case"script":return m=vo(a.src),(f=n.querySelector(jl(m)))?(i.instance=f,nt(f),f):(u=a,(f=qn.get(m))&&(u=C({},a),vm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),Ft(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Kc(u,a.precedence,n));return i.instance}function Kc(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Qc=null;function S_(n,i,a){if(Qc===null){var u=new Map,f=Qc=new Map;f.set(a,u)}else f=Qc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Di]||m[kt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var S=u.get(E);S?S.push(m):u.set(E,[m])}}return u}function b_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function IA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function A_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function CA(){}function NA(n,i,a){if(zl===null)throw Error(s(475));var u=zl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=yo(a.href),m=n.querySelector(Ul(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Yc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,nt(m);return}m=n.ownerDocument||n,a=T_(a),(f=qn.get(f))&&ym(a,f),m=m.createElement("link"),nt(m);var E=m;E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Ft(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Yc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function DA(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wc=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wc=new Map,i.forEach(OA,n),Wc=null,Yc.call(n))}function OA(n,i){if(!(i.state.loading&4)){var a=Wc.get(n);if(a)var u=a.get(null);else{a=new Map,Wc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||u,m===u&&a.set(null,f),a.set(E,f),this.count++,u=Yc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Bl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function xA(n,i,a,u,f,m,E,S){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.hiddenUpdates=xa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function R_(n,i,a,u,f,m,E,S,N,L,X,ne){return n=new xA(n,i,a,E,S,N,L,ne),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),n.current=m,m.stateNode=n,i=Xf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},Od(m),n}function I_(n){return n?(n=Ya,n):Ya}function C_(n,i,a,u,f,m){f=I_(f),u.context===null?u.context=f:u.pendingContext=f,u=Gi(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=$i(n,u,i),a!==null&&(ln(a,n,i),bl(a,n,i))}function N_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Em(n,i){N_(n,i),(n=n.alternate)&&N_(n,i)}function D_(n){if(n.tag===13){var i=Ui(n,67108864);i!==null&&ln(i,n,67108864),Em(n,67108864)}}var Xc=!0;function kA(n,i,a,u){var f=b.T;b.T=null;var m=he.p;try{he.p=2,Tm(n,i,a,u)}finally{he.p=m,b.T=f}}function PA(n,i,a,u){var f=b.T;b.T=null;var m=he.p;try{he.p=8,Tm(n,i,a,u)}finally{he.p=m,b.T=f}}function Tm(n,i,a,u){if(Xc){var f=wm(u);if(f===null)um(n,i,u,Zc,a),x_(n,u);else if(MA(f,n,i,a,u))u.stopPropagation();else if(x_(n,u),i&4&&-1<VA.indexOf(n)){for(;f!==null;){var m=Ur(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Qn(m.pendingLanes);if(E!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var N=1<<31-rn(E);S.entanglements[1]|=N,E&=~N}wr(m),(it&6)===0&&(Vc=un()+500,Vl(0))}}break;case 13:S=Ui(m,2),S!==null&&ln(S,m,2),Uc(),Em(m,2)}if(m=wm(u),m===null&&um(n,i,u,Zc,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else um(n,i,u,null,a)}}function wm(n){return n=La(n),Sm(n)}var Zc=null;function Sm(n){if(Zc=null,n=Yn(n),n!==null){var i=ve(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ge(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Zc=n,null}function O_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lu()){case At:return 2;case xt:return 8;case Mr:case Uu:return 32;case Fo:return 268435456;default:return 32}default:return 32}}var bm=!1,Ji=null,es=null,ts=null,ql=new Map,Fl=new Map,ns=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(n,i){switch(n){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Hl(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ur(i),i!==null&&D_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function MA(n,i,a,u,f){switch(i){case"focusin":return Ji=Hl(Ji,n,i,a,u,f),!0;case"dragenter":return es=Hl(es,n,i,a,u,f),!0;case"mouseover":return ts=Hl(ts,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return ql.set(m,Hl(ql.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Fl.set(m,Hl(Fl.get(m)||null,n,i,a,u,f)),!0}return!1}function k_(n){var i=Yn(n.target);if(i!==null){var a=ve(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){n.blockedOn=i,Ni(n.priority,function(){if(a.tag===13){var u=wn(),f=Ui(a,u);f!==null&&ln(f,a,u),Em(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=wm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Dn=u,a.target.dispatchEvent(u),Dn=null}else return i=Ur(a),i!==null&&D_(i),n.blockedOn=a,!1;i.shift()}return!0}function P_(n,i,a){Jc(n)&&a.delete(i)}function LA(){bm=!1,Ji!==null&&Jc(Ji)&&(Ji=null),es!==null&&Jc(es)&&(es=null),ts!==null&&Jc(ts)&&(ts=null),ql.forEach(P_),Fl.forEach(P_)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LA)))}var th=null;function V_(n){th!==n&&(th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Sm(u||a)===null)continue;break}var m=Ur(a);m!==null&&(n.splice(i,3),i-=3,dd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Gl(n){function i(N){return eh(N,n)}Ji!==null&&eh(Ji,n),es!==null&&eh(es,n),ts!==null&&eh(ts,n),ql.forEach(i),Fl.forEach(i);for(var a=0;a<ns.length;a++){var u=ns[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&ns.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],E=f[Rt]||null;if(typeof m=="function")E||V_(a);else if(E){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Rt]||null)S=E.formAction;else if(Sm(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),V_(a)}}}function Am(n){this._internalRoot=n}nh.prototype.render=Am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=wn();C_(a,u,n,i,null,null)},nh.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&fo(),C_(n.current,2,null,n,null,null),Uc(),i[Lr]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,n),a===0&&k_(n)}};var M_=e.version;if(M_!=="19.0.0")throw Error(s(527,M_,"19.0.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=re(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var UA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Si=rh.inject(UA),Qt=rh}catch{}}return Kl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=Jy,m=ev,E=tv,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=R_(n,1,!1,null,null,a,u,f,m,E,S,null),n[Lr]=i.current,lm(n.nodeType===8?n.parentNode:n),new Am(i)},Kl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Jy,E=ev,S=tv,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=R_(n,1,!0,i,a??null,u,f,m,E,S,N,L),i.context=I_(null),a=i.current,u=wn(),f=Gi(u),f.callback=null,$i(a,f,u),i.current.lanes=u,mt(i,u),wr(i),n[Lr]=i.current,lm(n),new nh(i)},Kl.version="19.0.0",Kl}var $_;function YA(){if($_)return Cm.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=QA(),Cm.exports}var WA=YA();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function XA(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=wa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Ym("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:lu(l))}function s(o,l){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return JA(e,t,s,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function Q_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ym(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||s||ZA()}}function lu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function wa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JA(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){d="POP";let q=v(),$=q==null?null:q-g;g=q,p&&p({action:d,location:K.location,delta:$})}function I(q,$){d="PUSH";let W=Ym(K.location,q,$);t&&t(W,q),g=v()+1;let Q=Q_(W,g),oe=K.createHref(W);try{h.pushState(Q,"",oe)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(oe)}l&&p&&p({action:d,location:K.location,delta:1})}function k(q,$){d="REPLACE";let W=Ym(K.location,q,$);t&&t(W,q),g=v();let Q=Q_(W,g),oe=K.createHref(W);h.replaceState(Q,"",oe),l&&p&&p({action:d,location:K.location,delta:0})}function F(q){return e1(q)}let K={get action(){return d},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(K_,T),p=q,()=>{o.removeEventListener(K_,T),p=null}},createHref(q){return e(o,q)},createURL:F,encodeLocation(q){let $=F(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:I,replace:k,go(q){return h.go(q)}};return K}function e1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Q0(r,e,t="/"){return t1(r,e,t,!1)}function t1(r,e,t,s){let o=typeof e=="string"?wa(e):e,l=mi(o.pathname||"/",t);if(l==null)return null;let h=Y0(r);n1(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=d1(l);d=h1(h[p],g,s)}return d}function Y0(r,e=[],t=[],s="",o=!1){let l=(h,d,p=o,g)=>{let v={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;at(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let T=hi([s,v.relativePath]),I=t.concat(v);h.children&&h.children.length>0&&(at(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Y0(h.children,e,I,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:u1(T,h.index),routesMeta:I})};return r.forEach((h,d)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))l(h,d);else for(let g of W0(h.path))l(h,d,!0,g)}),e}function W0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=W0(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function n1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:c1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,i1=3,s1=2,a1=1,o1=10,l1=-2,Y_=r=>r==="*";function u1(r,e){let t=r.split("/"),s=t.length;return t.some(Y_)&&(s+=l1),e&&(s+=s1),t.filter(o=>!Y_(o)).reduce((o,l)=>o+(r1.test(l)?i1:l===""?a1:o1),s)}function c1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function h1(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),I=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:hi([l,T.pathname]),pathnameBase:y1(hi([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=hi([l,T.pathnameBase]))}return h}function bh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=f1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},I)=>{if(v==="*"){let F=d[I]||"";h=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const k=d[I];return T&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function f1(r,e=!1,t=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function d1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function m1(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?wa(r):r;return{pathname:t?t.startsWith("/")?t:p1(t,e):e,search:v1(s),hash:_1(o)}}function p1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g1(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function X0(r){let e=g1(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Z0(r,e,t,s=!1){let o;typeof r=="string"?o=wa(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let p=m1(o,d),g=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var hi=r=>r.join("/").replace(/\/\/+/g,"/"),y1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,_1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function E1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var J0=["POST","PUT","PATCH","DELETE"];new Set(J0);var T1=["GET",...J0];new Set(T1);var ko=U.createContext(null);ko.displayName="DataRouter";var Xh=U.createContext(null);Xh.displayName="DataRouterState";U.createContext(!1);var eT=U.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var w1=U.createContext(new Map);w1.displayName="Fetchers";var S1=U.createContext(null);S1.displayName="Await";var xr=U.createContext(null);xr.displayName="Navigation";var Eu=U.createContext(null);Eu.displayName="Location";var kr=U.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Cp=U.createContext(null);Cp.displayName="RouteError";function b1(r,{relative:e}={}){at(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(xr),{hash:o,pathname:l,search:h}=wu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:hi([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Tu(){return U.useContext(Eu)!=null}function bs(){return at(Tu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Eu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(r){U.useContext(xr).static||U.useLayoutEffect(r)}function sr(){let{isDataRoute:r}=U.useContext(kr);return r?L1():A1()}function A1(){at(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(ko),{basename:e,navigator:t}=U.useContext(xr),{matches:s}=U.useContext(kr),{pathname:o}=bs(),l=JSON.stringify(X0(s)),h=U.useRef(!1);return nT(()=>{h.current=!0}),U.useCallback((p,g={})=>{if($n(h.current,tT),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=Z0(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:hi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}U.createContext(null);function rT(){let{matches:r}=U.useContext(kr),e=r[r.length-1];return e?e.params:{}}function wu(r,{relative:e}={}){let{matches:t}=U.useContext(kr),{pathname:s}=bs(),o=JSON.stringify(X0(t));return U.useMemo(()=>Z0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function R1(r,e){return iT(r,e)}function iT(r,e,t,s,o){var W;at(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=U.useContext(xr),{matches:h}=U.useContext(kr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";sT(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let I=bs(),k;if(e){let Q=typeof e=="string"?wa(e):e;at(v==="/"||((W=Q.pathname)==null?void 0:W.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),k=Q}else k=I;let F=k.pathname||"/",K=F;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");K="/"+F.replace(/^\//,"").split("/").slice(Q.length).join("/")}let q=Q0(r,{pathname:K});$n(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),$n(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=O1(q&&q.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:hi([v,l.encodeLocation?l.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:hi([v,l.encodeLocation?l.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,t,s,o);return e&&$?U.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function I1(){let r=M1(),e=E1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var C1=U.createElement(I1,null),N1=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(kr.Provider,{value:this.props.routeContext},U.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D1({routeContext:r,match:e,children:t}){let s=U.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(kr.Provider,{value:r},t)}function O1(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let g=l.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:T,errors:I}=t,k=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!I||I[v.route.id]===void 0);if(v.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,v,T)=>{let I,k=!1,F=null,K=null;t&&(I=h&&v.route.id?h[v.route.id]:void 0,F=v.route.errorElement||C1,d&&(p<0&&T===0?(sT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,K=null):p===T&&(k=!0,K=v.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,T+1)),$=()=>{let W;return I?W=F:k?W=K:v.route.Component?W=U.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,U.createElement(D1,{match:v,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?U.createElement(N1,{location:t.location,revalidation:t.revalidation,component:F,error:I,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):$()},null)}function Np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x1(r){let e=U.useContext(ko);return at(e,Np(r)),e}function k1(r){let e=U.useContext(Xh);return at(e,Np(r)),e}function P1(r){let e=U.useContext(kr);return at(e,Np(r)),e}function Dp(r){let e=P1(r),t=e.matches[e.matches.length-1];return at(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function V1(){return Dp("useRouteId")}function M1(){var s;let r=U.useContext(Cp),e=k1("useRouteError"),t=Dp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function L1(){let{router:r}=x1("useNavigate"),e=Dp("useNavigate"),t=U.useRef(!1);return nT(()=>{t.current=!0}),U.useCallback(async(o,l={})=>{$n(t.current,tT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var W_={};function sT(r,e,t){!e&&!W_[r]&&(W_[r]=!0,$n(!1,t))}U.memo(U1);function U1({routes:r,future:e,state:t,unstable_onError:s}){return iT(r,void 0,t,s,e)}function ss(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j1({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){at(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=wa(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:I="default"}=t,k=U.useMemo(()=>{let F=mi(p,h);return F==null?null:{location:{pathname:F,search:g,hash:v,state:T,key:I},navigationType:s}},[h,p,g,v,T,I,s]);return $n(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:U.createElement(xr.Provider,{value:d},U.createElement(Eu.Provider,{children:e,value:k}))}function z1({children:r,location:e}){return R1(Wm(r),e)}function Wm(r,e=[]){let t=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let l=[...e,o];if(s.type===U.Fragment){t.push.apply(t,Wm(s.props.children,l));return}at(s.type===ss,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Wm(s.props.children,l)),t.push(h)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Zh(r){return r!=null&&typeof r.tagName=="string"}function B1(r){return Zh(r)&&r.tagName.toLowerCase()==="button"}function q1(r){return Zh(r)&&r.tagName.toLowerCase()==="form"}function F1(r){return Zh(r)&&r.tagName.toLowerCase()==="input"}function H1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function G1(r,e){return r.button===0&&(!e||e==="_self")&&!H1(r)}function Xm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function $1(r,e){let t=Xm(r);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}var ih=null;function K1(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var Q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(r){return r!=null&&!Q1.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function Y1(r,e){let t,s,o,l,h;if(q1(r)){let d=r.getAttribute("action");s=d?mi(d,e):null,t=r.getAttribute("method")||hh,o=km(r.getAttribute("enctype"))||fh,l=new FormData(r)}else if(B1(r)||F1(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?mi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||hh,o=km(r.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||fh,l=new FormData(d,r),!K1()){let{name:g,type:v,value:T}=r;if(v==="image"){let I=g?`${g}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else g&&l.append(g,T)}}else{if(Zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,o=fh,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function W1(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&mi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function X1(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function J1(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await X1(l,t);return h.links?h.links():[]}return[]}));return rR(s.flat(1).filter(Z1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function X_(r,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function eR(r,e,{includeHydrateFallback:t}={}){return tR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function tR(r){return[...new Set(r)]}function nR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function rR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(nR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function aT(){let r=U.useContext(ko);return Op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function iR(){let r=U.useContext(Xh);return Op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=U.createContext(void 0);xp.displayName="FrameworkContext";function oT(){let r=U.useContext(xp);return Op(r,"You must render this element inside a <HydratedRouter> element"),r}function sR(r,e){let t=U.useContext(xp),[s,o]=U.useState(!1),[l,h]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,I=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=$=>{$.forEach(W=>{h(W.isIntersecting)})},q=new IntersectionObserver(K,{threshold:.5});return I.current&&q.observe(I.current),()=>{q.disconnect()}}},[r]),U.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:Ql(d,k),onBlur:Ql(p,F),onMouseEnter:Ql(g,k),onMouseLeave:Ql(v,F),onTouchStart:Ql(T,k)}]:[!1,I,{}]}function Ql(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function aR({page:r,...e}){let{router:t}=aT(),s=U.useMemo(()=>Q0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?U.createElement(lR,{page:r,matches:s,...e}):null}function oR(r){let{manifest:e,routeModules:t}=oT(),[s,o]=U.useState([]);return U.useEffect(()=>{let l=!1;return J1(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function lR({page:r,matches:e,...t}){let s=bs(),{manifest:o,routeModules:l}=oT(),{basename:h}=aT(),{loaderData:d,matches:p}=iR(),g=U.useMemo(()=>X_(r,e,p,o,s,"data"),[r,e,p,o,s]),v=U.useMemo(()=>X_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,K=!1;if(e.forEach($=>{var Q;let W=o.routes[$.route.id];!W||!W.hasLoader||(!g.some(oe=>oe.route.id===$.route.id)&&$.route.id in d&&((Q=l[$.route.id])!=null&&Q.shouldRevalidate)||W.hasClientLoader?K=!0:F.add($.route.id))}),F.size===0)return[];let q=W1(r,h,"data");return K&&F.size>0&&q.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[h,d,s,o,g,e,r,l]),I=U.useMemo(()=>eR(v,o),[v,o]),k=oR(v);return U.createElement(U.Fragment,null,T.map(F=>U.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),I.map(F=>U.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),k.map(({key:F,link:K})=>U.createElement("link",{key:F,nonce:t.nonce,...K})))}function uR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lT&&(window.__reactRouterVersion="7.8.2")}catch{}function cR({basename:r,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=XA({window:t,v5Compat:!0}));let o=s.current,[l,h]=U.useState({action:o.action,location:o.location}),d=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(j1,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cT=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...I},k){let{basename:F}=U.useContext(xr),K=typeof g=="string"&&uT.test(g),q,$=!1;if(typeof g=="string"&&K&&(q=g,lT))try{let b=new URL(window.location.href),C=g.startsWith("//")?new URL(b.protocol+g):new URL(g),O=mi(C.pathname,F);C.origin===b.origin&&O!=null?g=O+C.search+C.hash:$=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=b1(g,{relative:o}),[Q,oe,te]=sR(s,I),ie=mR(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:T});function x(b){e&&e(b),b.defaultPrevented||ie(b)}let R=U.createElement("a",{...I,...te,href:q||W,onClick:$||l?e:x,ref:uR(k,oe),target:p,"data-discover":!K&&t==="render"?"true":void 0});return Q&&!K?U.createElement(U.Fragment,null,R,U.createElement(aR,{page:W})):R});cT.displayName="Link";var hR=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},v){let T=wu(h,{relative:g.relative}),I=bs(),k=U.useContext(Xh),{navigator:F,basename:K}=U.useContext(xr),q=k!=null&&ER(T)&&d===!0,$=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,W=I.pathname,Q=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(W=W.toLowerCase(),Q=Q?Q.toLowerCase():null,$=$.toLowerCase()),Q&&K&&(Q=mi(Q,K)||Q);const oe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let te=W===$||!o&&W.startsWith($)&&W.charAt(oe)==="/",ie=Q!=null&&(Q===$||!o&&Q.startsWith($)&&Q.charAt($.length)==="/"),x={isActive:te,isPending:ie,isTransitioning:q},R=te?e:void 0,b;typeof s=="function"?b=s(x):b=[s,te?"active":null,ie?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(x):l;return U.createElement(cT,{...g,"aria-current":R,className:b,ref:v,style:C,to:h,viewTransition:d},typeof p=="function"?p(x):p)});hR.displayName="NavLink";var fR=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=hh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...I},k)=>{let F=vR(),K=_R(d,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&uT.test(d),W=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let oe=Q.nativeEvent.submitter,te=(oe==null?void 0:oe.getAttribute("formmethod"))||h;F(oe||Q.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return U.createElement("form",{ref:k,method:q,action:K,onSubmit:s?p:W,...I,"data-discover":!$&&r==="render"?"true":void 0})});fR.displayName="Form";function dR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hT(r){let e=U.useContext(ko);return at(e,dR(r)),e}function mR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=sr(),p=bs(),g=wu(r,{relative:l});return U.useCallback(v=>{if(G1(v,e)){v.preventDefault();let T=t!==void 0?t:lu(p)===lu(g);d(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,r,o,l,h])}function pR(r){$n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(Xm(r)),t=U.useRef(!1),s=bs(),o=U.useMemo(()=>$1(s.search,t.current?null:e.current),[s.search]),l=sr(),h=U.useCallback((d,p)=>{const g=Xm(typeof d=="function"?d(new URLSearchParams(o)):d);t.current=!0,l("?"+g,p)},[l,o]);return[o,h]}var gR=0,yR=()=>`__${String(++gR)}__`;function vR(){let{router:r}=hT("useSubmit"),{basename:e}=U.useContext(xr),t=V1();return U.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=Y1(s,e);if(o.navigate===!1){let v=o.fetcherKey||yR();await r.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function _R(r,{relative:e}={}){let{basename:t}=U.useContext(xr),s=U.useContext(kr);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...wu(r||".",{relative:e})},h=bs();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:hi([t,l.pathname])),lu(l)}function ER(r,{relative:e}={}){let t=U.useContext(eT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hT("useViewTransitionState"),o=wu(r,{relative:e});if(!t.isTransitioning)return!1;let l=mi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=mi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return bh(o.pathname,h)!=null||bh(o.pathname,l)!=null}const TR=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let I=(d&15)<<2|g>>6,k=g&63;p||(k=64,h||(I=64)),s.push(t[v],t[T],t[I],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(fT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new SR;const I=l<<2|d>>4;if(s.push(I),g!==64){const k=d<<4&240|g>>2;if(s.push(k),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(r){const e=fT(r);return dT.encodeByteArray(e,!0)},Ah=function(r){return bR(r).replace(/\./g,"")},mT=function(r){try{return dT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>AR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof Z_>"u")return;const r=Z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&mT(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return TR()||RR()||IR()||CR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},pT=r=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},NR=r=>{const e=pT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},gT=()=>{var r;return(r=Jh())===null||r===void 0?void 0:r.config},yT=r=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}const tu={};function xR(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function kR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let J_=!1;function _T(r,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||tu[r]===e||tu[r]||J_)return;tu[r]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=xR().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{J_=!0,h()},I}function v(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=kR(s),k=t("text"),F=document.getElementById(k)||document.createElement("span"),K=t("learnmore"),q=document.getElementById(K)||document.createElement("a"),$=t("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Q=I.element;d(Q),v(q,K);const oe=g();p(W,$),Q.append(W,F,q,oe),document.body.appendChild(Q)}l?(F.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function VR(){var r;const e=(r=Jh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ET(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jR(){return!VR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function wT(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function zR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class ar extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=BR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?qR(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ar(o,d,s)}}function qR(r,e){return r.replace(FR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FR=/\{\$([^}]+)}/g;function HR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gs(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(eE(l)&&eE(h)){if(!gs(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function eE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Yl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Wl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function GR(r,e){const t=new $R(r,e);return t.subscribe.bind(t)}class $R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=2,WR=4*60*60*1e3,XR=.5;function tE(r,e=QR,t=YR){const s=e*Math.pow(t,r),o=Math.round(XR*s*(Math.random()-.5)*2);return Math.min(WR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r){return r&&r._delegate?r._delegate:r}class rr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new DR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eI(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(r){return r===la?void 0:r}function eI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const nI={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},rI=xe.INFO,iI={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},sI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=iI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ef{constructor(e){this.name=e,this._logLevel=rI,this._logHandler=sI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const aI=(r,e)=>e.some(t=>r instanceof t);let nE,rE;function oI(){return nE||(nE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lI(){return rE||(rE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,Zm=new WeakMap,bT=new WeakMap,Vm=new WeakMap,kp=new WeakMap;function uI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(cs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ST.set(t,r)}).catch(()=>{}),kp.set(e,r),e}function cI(r){if(Zm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Zm.set(r,e)}let Jm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hI(r){Jm=r(Jm)}function fI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Mm(this),e,...t);return bT.set(s,e.sort?e.sort():[e]),cs(s)}:lI().includes(r)?function(...e){return r.apply(Mm(this),e),cs(ST.get(this))}:function(...e){return cs(r.apply(Mm(this),e))}}function dI(r){return typeof r=="function"?fI(r):(r instanceof IDBTransaction&&cI(r),aI(r,oI())?new Proxy(r,Jm):r)}function cs(r){if(r instanceof IDBRequest)return uI(r);if(Vm.has(r))return Vm.get(r);const e=dI(r);return e!==r&&(Vm.set(r,e),kp.set(e,r)),e}const Mm=r=>kp.get(r);function AT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=cs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(cs(h.result),p.oldVersion,p.newVersion,cs(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const mI=["get","getKey","getAll","getAllKeys","count"],pI=["put","add","delete","clear"],Lm=new Map;function iE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=pI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mI.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Lm.set(e,l),l}hI(r=>({...r,get:(e,t,s)=>iE(e,t)||r.get(e,t,s),has:(e,t)=>!!iE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function yI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",sE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new ef("@firebase/app"),vI="@firebase/app-compat",_I="@firebase/analytics-compat",EI="@firebase/analytics",TI="@firebase/app-check-compat",wI="@firebase/app-check",SI="@firebase/auth",bI="@firebase/auth-compat",AI="@firebase/database",RI="@firebase/data-connect",II="@firebase/database-compat",CI="@firebase/functions",NI="@firebase/functions-compat",DI="@firebase/installations",OI="@firebase/installations-compat",xI="@firebase/messaging",kI="@firebase/messaging-compat",PI="@firebase/performance",VI="@firebase/performance-compat",MI="@firebase/remote-config",LI="@firebase/remote-config-compat",UI="@firebase/storage",jI="@firebase/storage-compat",zI="@firebase/firestore",BI="@firebase/ai",qI="@firebase/firestore-compat",FI="firebase",HI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",GI={[ep]:"fire-core",[vI]:"fire-core-compat",[EI]:"fire-analytics",[_I]:"fire-analytics-compat",[wI]:"fire-app-check",[TI]:"fire-app-check-compat",[SI]:"fire-auth",[bI]:"fire-auth-compat",[AI]:"fire-rtdb",[RI]:"fire-data-connect",[II]:"fire-rtdb-compat",[CI]:"fire-fn",[NI]:"fire-fn-compat",[DI]:"fire-iid",[OI]:"fire-iid-compat",[xI]:"fire-fcm",[kI]:"fire-fcm-compat",[PI]:"fire-perf",[VI]:"fire-perf-compat",[MI]:"fire-rc",[LI]:"fire-rc-compat",[UI]:"fire-gcs",[jI]:"fire-gcs-compat",[zI]:"fire-fst",[qI]:"fire-fst-compat",[BI]:"fire-vertex","fire-js":"fire-js",[FI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,$I=new Map,np=new Map;function aE(r,e){try{r.container.addComponent(e)}catch(t){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Nr(r){const e=r.name;if(np.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,r);for(const t of Rh.values())aE(t,r);for(const t of $I.values())aE(t,r);return!0}function ba(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Sa("app","Firebase",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=HI;function RT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:tp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(t||(t=gT()),!t)throw hs.create("no-options");const l=Rh.get(o);if(l){if(gs(t,l.options)&&gs(s,l.config))return l;throw hs.create("duplicate-app",{appName:o})}const h=new tI(o);for(const p of np.values())h.addComponent(p);const d=new QI(t,s,h);return Rh.set(o,d),d}function Pp(r=tp){const e=Rh.get(r);if(!e&&r===tp&&gT())return RT();if(!e)throw hs.create("no-app",{appName:r});return e}function Hn(r,e,t){var s;let o=(s=GI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(d.join(" "));return}Nr(new rr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebase-heartbeat-database",WI=1,uu="firebase-heartbeat-store";let Um=null;function IT(){return Um||(Um=AT(YI,WI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(t){console.warn(t)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),Um}async function XI(r){try{const t=(await IT()).transaction(uu),s=await t.objectStore(uu).get(CT(r));return await t.done,s}catch(e){if(e instanceof ar)pi.warn(e.message);else{const t=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(t.message)}}}async function oE(r,e){try{const s=(await IT()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,CT(r)),await s.done}catch(t){if(t instanceof ar)pi.warn(t.message);else{const s=hs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pi.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1024,JI=30;class eC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=lE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>JI){const h=rC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=lE(),{heartbeatsToSend:s,unsentEntries:o}=tC(this._heartbeatsCache.heartbeats),l=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return pi.warn(t),""}}}function lE(){return new Date().toISOString().substring(0,10)}function tC(r,e=ZI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),uE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),uE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class nC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?wT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return oE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function uE(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}function rC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){Nr(new rr("platform-logger",e=>new gI(e),"PRIVATE")),Nr(new rr("heartbeat",e=>new eC(e),"PRIVATE")),Hn(ep,sE,r),Hn(ep,sE,"esm2017"),Hn("fire-js","")}iC("");function Vp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=NT,DT=new Sa("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new ef("@firebase/auth");function aC(r,...e){Ih.logLevel<=xe.WARN&&Ih.warn(`Auth (${Vo}): ${r}`,...e)}function dh(r,...e){Ih.logLevel<=xe.ERROR&&Ih.error(`Auth (${Vo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw Lp(r,...e)}function nr(r,...e){return Lp(r,...e)}function Mp(r,e,t){const s=Object.assign(Object.assign({},sC()),{[e]:t});return new Sa("auth","Firebase",s).create(e,{appName:r.name})}function fi(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oC(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kn(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return DT.create(r,...e)}function Ee(r,e,...t){if(!r)throw Lp(e,...t)}function ui(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function gi(r,e){r||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function lC(){return cE()==="http:"||cE()==="https:"}function cE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||ET()||"connection"in navigator)?navigator.onLine:!0}function cC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=PR()||LR()}get(){return uC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,e){gi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dC=new bu(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Rs(r,e,t,s,o={}){return xT(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Su(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return MR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Po(r.emulatorConfig.host)&&(g.credentials="include"),OT.fetch()(await kT(r,r.config.apiHost,t,d),g)})}async function xT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},hC),e);try{const o=new pC(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(r,v,g);Kn(r,v)}}catch(o){if(o instanceof ar)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function Au(r,e,t,s,o={}){const l=await Rs(r,e,t,s,o);return"mfaPendingCredential"in l&&Kn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function kT(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?Up(r.config,o):`${r.config.apiScheme}://${o}`;return fC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function mC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(nr(this.auth,"network-request-failed")),dC.get())})}}function sh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=nr(r,e,s);return o.customData._tokenResponse=t,o}function hE(r){return r!==void 0&&r.enterprise!==void 0}class gC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(r,e){return Rs(r,"GET","/v2/recaptchaConfig",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _C(r,e=!1){const t=yt(r),s=await t.getIdToken(e),o=jp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:nu(jm(o.auth_time)),issuedAtTime:nu(jm(o.iat)),expirationTime:nu(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function jm(r){return Number(r)*1e3}function jp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=mT(t);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function fE(r){const e=jp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ar&&EC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function EC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await cu(r,Ch(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?PT(l.providerUserInfo):[],d=SC(r.providerData,h),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ip(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,T)}async function wC(r){const e=yt(r);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function PT(r){return r.map(e=>{var{providerId:t}=e,s=Vp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e){const t=await xT(r,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await kT(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Po(r.emulatorConfig.host)&&(p.credentials="include"),OT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=fE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await bC(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new bo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ip(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _C(this,e)}reload(){return wC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await cu(this,vC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(h=t.photoURL)!==null&&h!==void 0?h:void 0,K=(d=t.tenantId)!==null&&d!==void 0?d:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:Q,emailVerified:oe,isAnonymous:te,providerData:ie,stsTokenManager:x}=t;Ee(Q&&x,e,"internal-error");const R=bo.fromJSON(this.name,x);Ee(typeof Q=="string",e,"internal-error"),is(T,e.name),is(I,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof te=="boolean",e,"internal-error"),is(k,e.name),is(F,e.name),is(K,e.name),is(q,e.name),is($,e.name),is(W,e.name);const b=new tr({uid:Q,auth:e,email:I,emailVerified:oe,displayName:T,isAnonymous:te,photoURL:F,phoneNumber:k,tenantId:K,stsTokenManager:R,createdAt:$,lastLoginAt:W});return ie&&Array.isArray(ie)&&(b.providerData=ie.map(C=>Object.assign({},C))),q&&(b._redirectEventId=q),b}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new bo;d.updateFromIdToken(s);const p=new tr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function ci(r){gi(r instanceof Function,"Expected a class definition");let e=dE.get(r);return e?(gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,dE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VT.type="NONE";const mE=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,t){return`firebase:${r}:${e}:${t}`}class Ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,l),this.fullPersistenceKey=mh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ch(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ao(ci(mE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ci(mE);const h=mh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const I=await Ch(e,{idToken:v}).catch(()=>{});if(!I)break;T=await tr._fromGetAccountInfoResponse(e,I,v)}else T=tr._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ao(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Ao(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function MT(r=tn()){return/firefox\//i.test(r)}function LT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=tn()){return/crios\//i.test(r)}function jT(r=tn()){return/iemobile/i.test(r)}function zT(r=tn()){return/android/i.test(r)}function BT(r=tn()){return/blackberry/i.test(r)}function qT(r=tn()){return/webos/i.test(r)}function zp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RC(r=tn()){var e;return zp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IC(){return UR()&&document.documentMode===10}function FT(r=tn()){return zp(r)||zT(r)||qT(r)||BT(r)||/windows phone/i.test(r)||jT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e=[]){let t;switch(r){case"Browser":t=pE(tn());break;case"Worker":t=`${pE(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",As(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=6;class OC{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:DC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new CC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ch(this,{idToken:e}),s=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(fi(this));const t=e?yt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NC(this),t=new OC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await AC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ci(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&aC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Is(r){return yt(r)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=GR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kC(r){tf=r}function GT(r){return tf.loadJS(r)}function PC(){return tf.recaptchaEnterpriseScript}function VC(){return tf.gapiScript}function MC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LC{constructor(){this.enterprise=new UC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class UC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jC="recaptcha-enterprise",$T="NO_RECAPTCHA";class zC{constructor(e){this.type=jC,this.auth=Is(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{yC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new gC(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;hE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h($T)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LC().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&hE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=PC();p.length!==0&&(p+=d),GT(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function yE(r,e,t,s=!1,o=!1){const l=new zC(r);let h;if(o)h=$T;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function sp(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await yE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await yE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r,e){const t=ba(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(gs(l,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function qC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ci);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function FC(r,e,t){const s=Is(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=KT(e),{host:h,port:d}=HC(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},v=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(gs(g,s.config.emulator)&&gs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Po(h)?(vT(`${l}//${h}${p}`),_T("Auth",!0)):GC()}function KT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HC(r){const e=KT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:vE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:vE(h)}}}function vE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function $C(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(r,e){return Au(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function YC(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Bp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new hu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new hu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,t,"signInWithPassword",KC);case"emailLink":return QC(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sp(e,s,"signUpPassword",$C);case"emailLink":return YC(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r,e){return Au(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="http://localhost";class ga extends Bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Vp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ga(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ro(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:WC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZC(r){const e=Yl(Wl(r)).link,t=e?Yl(Wl(e)).deep_link_id:null,s=Yl(Wl(r)).deep_link_id;return(s?Yl(Wl(s)).link:null)||s||t||e||r}class qp{constructor(e){var t,s,o,l,h,d;const p=Yl(Wl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,T=XC((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ZC(e);try{return new qp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,t){return hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=qp.parseLink(t);return Ee(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ru{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ga._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return li.credential(t,s)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ru{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ru{constructor(){super("twitter.com")}static credential(e,t){return ga._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ls.credential(t,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r,e){return Au(r,"POST","/v1/accounts:signUp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await tr._fromIdTokenResponse(e,s,o),h=_E(s);return new ya({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=_E(s);return new ya({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function _E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends ar{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Dh(e,t,s,o)}}function QT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(r,l,e,s):l})}async function e2(r,e,t=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ya._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(fi(s));const o="reauthenticate";try{const l=await cu(r,QT(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=jp(l.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(r.uid===d,s,"user-mismatch"),ya._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(r,e,t=!1){if(Sn(r.app))return Promise.reject(fi(r));const s="signIn",o=await QT(r,s,e),l=await ya._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function n2(r,e){return YT(Is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r){const e=Is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r2(r,e,t){if(Sn(r.app))return Promise.reject(fi(r));const s=Is(r),h=await sp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&WT(r),p}),d=await ya._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function i2(r,e,t){return Sn(r.app)?Promise.reject(fi(r)):n2(yt(r),Mo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&WT(r),s})}function s2(r,e,t,s){return yt(r).onIdTokenChanged(e,t,s)}function a2(r,e,t){return yt(r).beforeAuthStateChanged(e,t)}function o2(r,e,t,s){return yt(r).onAuthStateChanged(e,t,s)}function l2(r){return yt(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1e3,c2=10;class ZT extends XT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);IC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,c2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const h2=ZT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends XT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JT.type="SESSION";const ew=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await f2(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Hp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function m2(r){br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function p2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function y2(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebaseLocalStorageDb",v2=1,xh="firebaseLocalStorage",rw="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rf(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function _2(){const r=indexedDB.deleteDatabase(nw);return new Iu(r).toPromise()}function ap(){const r=indexedDB.open(nw,v2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:rw})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await _2(),e(await ap()))})})}async function EE(r,e,t){const s=rf(r,!0).put({[rw]:e,value:t});return new Iu(s).toPromise()}async function E2(r,e){const t=rf(r,!1).get(e),s=await new Iu(t).toPromise();return s===void 0?null:s.value}function TE(r,e){const t=rf(r,!0).delete(e);return new Iu(t).toPromise()}const T2=800,w2=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(y2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await p2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await EE(e,Oh,"1"),await TE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>EE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>E2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>TE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=rf(o,!1).getAll();return new Iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const S2=iw;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r,e){return e?ci(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends Bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function b2(r){return YT(r.auth,new Gp(r),r.bypassAuthState)}function A2(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),t2(t,new Gp(r),r.bypassAuthState)}async function R2(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),e2(t,new Gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return R2;case"reauthViaPopup":case"reauthViaRedirect":return A2;default:Kn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new bu(2e3,1e4);async function C2(r,e,t){if(Sn(r.app))return Promise.reject(nr(r,"operation-not-supported-in-this-environment"));const s=Is(r);oC(r,e,Fp);const o=sw(s,t);return new ua(s,"signInViaPopup",e,o).executeNotNull()}class ua extends aw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I2.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="pendingRedirect",ph=new Map;class D2 extends aw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await O2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O2(r,e){const t=P2(e),s=k2(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function x2(r,e){ph.set(r._key(),e)}function k2(r){return ci(r._redirectPersistence)}function P2(r){return mh(N2,r.config.apiKey,r.name)}async function V2(r,e,t=!1){if(Sn(r.app))return Promise.reject(fi(r));const s=Is(r),o=sw(s,e),h=await new D2(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=10*60*1e3;class L2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!ow(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(e))}saveEventToCache(e){this.cachedEventUids.add(wE(e)),this.lastProcessedEventTime=Date.now()}}function wE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ow({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(r,e={}){return Rs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function q2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await j2(r);for(const t of e)try{if(F2(t))return}catch{}Kn(r,"unauthorized-domain")}function F2(r){const e=rp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!B2.test(t))return!1;if(z2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new bu(3e4,6e4);function SE(){const r=br().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function G2(r){return new Promise((e,t)=>{var s,o,l;function h(){SE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SE(),t(nr(r,"network-request-failed"))},timeout:H2.get()})}if(!((o=(s=br().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=br().gapi)===null||l===void 0)&&l.load)h();else{const d=MC("iframefcb");return br()[d]=()=>{gapi.load?h():t(nr(r,"network-request-failed"))},GT(`${VC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function $2(r){return gh=gh||G2(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new bu(5e3,15e3),Q2="__/auth/iframe",Y2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Up(e,Y2):`https://${r.config.authDomain}/${Q2}`,s={apiKey:e.apiKey,appName:r.name,v:Vo},o=X2.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Su(s).slice(1)}`}async function J2(r){const e=await $2(r),t=br().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:Z2(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=nr(r,"network-request-failed"),d=br().setTimeout(()=>{l(h)},K2.get());function p(){br().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,nN=600,rN="_blank",iN="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sN(r,e,t,s=tN,o=nN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},eN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=tn().toLowerCase();t&&(d=UT(g)?rN:t),MT(g)&&(e=e||iN,p.scrollbars="yes");const v=Object.entries(p).reduce((I,[k,F])=>`${I}${k}=${F},`,"");if(RC(g)&&d!=="_self")return aN(e||"",d),new bE(null);const T=window.open(e||"",d,v);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function aN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",lN="emulator/auth/handler",uN=encodeURIComponent("fac");async function AE(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Vo,eventId:o};if(e instanceof Fp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",HR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Ru){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await r._getAppCheckToken(),g=p?`#${uN}=${encodeURIComponent(p)}`:"";return`${cN(r)}?${Su(d).slice(1)}${g}`}function cN({config:r}){return r.emulator?Up(r,lN):`https://${r.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class hN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=V2,this._overrideRedirectResult=x2}async _openPopup(e,t,s,o){var l;gi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await AE(e,t,s,rp(),o);return sN(e,h,Hp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await AE(e,t,s,rp(),o);return m2(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(gi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await J2(e),s=new L2(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[zm];h!==void 0&&t(!!h),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=q2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FT()||LT()||zp()}}const fN=hN;var RE="@firebase/auth",IE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(r){Nr(new rr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},g=new xC(s,o,l,p);return qC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Nr(new rr("auth-internal",e=>{const t=Is(e.getProvider("auth").getImmediate());return(s=>new dN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(RE,IE,mN(r)),Hn(RE,IE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=5*60,yN=yT("authIdTokenMaxAge")||gN;let CE=null;const vN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>yN)return;const o=t==null?void 0:t.token;CE!==o&&(CE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _N(r=Pp()){const e=ba(r,"auth");if(e.isInitialized())return e.getImmediate();const t=BC(r,{popupRedirectResolver:fN,persistence:[S2,h2,ew]}),s=yT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=vN(l.toString());a2(t,h,()=>h(t.currentUser)),s2(t,d=>h(d))}}const o=pT("auth");return o&&FC(t,`http://${o}`),t}function EN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}kC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=nr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",EN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");var TN="firebase",wN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(TN,wN,"app");const lw="@firebase/installations",$p="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1e4,cw=`w:${$p}`,hw="FIS_v2",SN="https://firebaseinstallations.googleapis.com/v1",bN=60*60*1e3,AN="installations",RN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},va=new Sa(AN,RN,IN);function fw(r){return r instanceof ar&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw({projectId:r}){return`${SN}/projects/${r}/installations`}function mw(r){return{token:r.token,requestStatus:2,expiresIn:NN(r.expiresIn),creationTime:Date.now()}}async function pw(r,e){const s=(await e.json()).error;return va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function gw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function CN(r,{refreshToken:e}){const t=gw(r);return t.append("Authorization",DN(e)),t}async function yw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function NN(r){return Number(r.replace("s","000"))}function DN(r){return`${hw} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=dw(r),o=gw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:hw,appId:r.appId,sdkVersion:cw},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await yw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:mw(g.authToken)}}else throw await pw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^[cdef][\w-]{21}$/,op="";function PN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=VN(r);return kN.test(t)?t:op}catch{return op}}function VN(r){return xN(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;function Ew(r,e){const t=sf(r);Tw(t,e),MN(t,e)}function Tw(r,e){const t=_w.get(r);if(t)for(const s of t)s(e)}function MN(r,e){const t=LN();t&&t.postMessage({key:r,fid:e}),UN()}let ca=null;function LN(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=r=>{Tw(r.data.key,r.data.fid)}),ca}function UN(){_w.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="firebase-installations-database",zN=1,_a="firebase-installations-store";let Bm=null;function Kp(){return Bm||(Bm=AT(jN,zN,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(_a)}}})),Bm}async function kh(r,e){const t=sf(r),o=(await Kp()).transaction(_a,"readwrite"),l=o.objectStore(_a),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&Ew(r,e.fid),e}async function ww(r){const e=sf(r),s=(await Kp()).transaction(_a,"readwrite");await s.objectStore(_a).delete(e),await s.done}async function af(r,e){const t=sf(r),o=(await Kp()).transaction(_a,"readwrite"),l=o.objectStore(_a),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&Ew(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(r){let e;const t=await af(r.appConfig,s=>{const o=BN(s),l=qN(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===op?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function BN(r){const e=r||{fid:PN(),registrationStatus:0};return Sw(e)}function qN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(va.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=FN(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HN(r)}:{installationEntry:e}}async function FN(r,e){try{const t=await ON(r,e);return kh(r.appConfig,t)}catch(t){throw fw(t)&&t.customData.serverCode===409?await ww(r.appConfig):await kh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function HN(r){let e=await NE(r.appConfig);for(;e.registrationStatus===1;)await vw(100),e=await NE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Qp(r);return s||t}return e}function NE(r){return af(r,e=>{if(!e)throw va.create("installation-not-found");return Sw(e)})}function Sw(r){return GN(r)?{fid:r.fid,registrationStatus:0}:r}function GN(r){return r.registrationStatus===1&&r.registrationTime+uw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N({appConfig:r,heartbeatServiceProvider:e},t){const s=KN(r,t),o=CN(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:cw,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await yw(()=>fetch(s,d));if(p.ok){const g=await p.json();return mw(g)}else throw await pw("Generate Auth Token",p)}function KN(r,{fid:e}){return`${dw(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(r,e=!1){let t;const s=await af(r.appConfig,l=>{if(!bw(l))throw va.create("not-registered");const h=l.authToken;if(!e&&WN(h))return l;if(h.requestStatus===1)return t=QN(r,e),l;{if(!navigator.onLine)throw va.create("app-offline");const d=ZN(l);return t=YN(r,d),d}});return t?await t:s.authToken}async function QN(r,e){let t=await DE(r.appConfig);for(;t.authToken.requestStatus===1;)await vw(100),t=await DE(r.appConfig);const s=t.authToken;return s.requestStatus===0?Yp(r,e):s}function DE(r){return af(r,e=>{if(!bw(e))throw va.create("not-registered");const t=e.authToken;return JN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YN(r,e){try{const t=await $N(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await kh(r.appConfig,s),t}catch(t){if(fw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await ww(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kh(r.appConfig,s)}throw t}}function bw(r){return r!==void 0&&r.registrationStatus===2}function WN(r){return r.requestStatus===2&&!XN(r)}function XN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+bN}function ZN(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function JN(r){return r.requestStatus===1&&r.requestTime+uw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r){const e=r,{installationEntry:t,registrationPromise:s}=await Qp(e);return s?s.catch(console.error):Yp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(r,e=!1){const t=r;return await nD(t),(await Yp(t,e)).token}async function nD(r){const{registrationPromise:e}=await Qp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r){if(!r||!r.options)throw qm("App Configuration");if(!r.name)throw qm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw qm(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function qm(r){return va.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="installations",iD="installations-internal",sD=r=>{const e=r.getProvider("app").getImmediate(),t=rD(e),s=ba(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},aD=r=>{const e=r.getProvider("app").getImmediate(),t=ba(e,Aw).getImmediate();return{getId:()=>eD(t),getToken:o=>tD(t,o)}};function oD(){Nr(new rr(Aw,sD,"PUBLIC")),Nr(new rr(iD,aD,"PRIVATE"))}oD();Hn(lw,$p);Hn(lw,$p,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="analytics",lD="firebase_id",uD="origin",cD=60*1e3,hD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new ef("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new Sa("analytics","Analytics",fD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r){if(!r.startsWith(Wp)){const e=An.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function Rw(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function mD(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function pD(r,e){const t=mD("firebase-js-sdk-policy",{createScriptURL:dD}),s=document.createElement("script"),o=`${Wp}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function gD(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function yD(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await Rw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){mn.error(d)}r("config",o,l)}async function vD(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Rw(t);for(const p of h){const g=d.find(T=>T.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){mn.error(l)}}function _D(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await vD(r,e,t,d,p)}else if(l==="config"){const[d,p]=h;await yD(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;r("consent",d,p)}else if(l==="get"){const[d,p,g]=h;r("get",d,p,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){mn.error(d)}}return o}function ED(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=_D(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function TD(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Wp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=30,SD=1e3;class bD{constructor(e={},t=SD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Iw=new bD;function AD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function RD(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:AD(s)},l=hD.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function ID(r,e=Iw,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw An.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw An.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new DD;return setTimeout(async()=>{d.abort()},cD),Cw({appId:s,apiKey:o,measurementId:l},h,d,e)}async function Cw(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=Iw){var l;const{appId:h,measurementId:d}=r;try{await CD(s,e)}catch(p){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await RD(r);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!ND(g)){if(o.deleteThrottleMetadata(h),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const v=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?tE(t,o.intervalMillis,wD):tE(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(h,T),mn.debug(`Calling attemptFetch again in ${v} millis`),Cw(r,T,s,o)}}function CD(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ND(r){if(!(r instanceof ar)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class DD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function OD(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(){if(TT())try{await wT()}catch(r){return mn.warn(An.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kD(r,e,t,s,o,l,h){var d;const p=ID(r);p.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>mn.error(k)),e.push(p);const g=xD().then(k=>{if(k)return s.getId()}),[v,T]=await Promise.all([p,g]);TD(l)||pD(l,v.measurementId),o("js",new Date);const I=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return I[uD]="firebase",I.update=!0,T!=null&&(I[lD]=T),o("config",v.measurementId,I),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.app=e}_delete(){return delete ru[this.app.options.appId],Promise.resolve()}}let ru={},OE=[];const xE={};let Fm="dataLayer",VD="gtag",kE,Nw,PE=!1;function MD(){const r=[];if(ET()&&r.push("This is a browser extension environment."),zR()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=An.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function LD(r,e,t){MD();const s=r.options.appId;if(!s)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(ru[s]!=null)throw An.create("already-exists",{id:s});if(!PE){gD(Fm);const{wrappedGtag:l,gtagCore:h}=ED(ru,OE,xE,Fm,VD);Nw=l,kE=h,PE=!0}return ru[s]=kD(r,OE,xE,e,kE,Fm,t),new PD(r)}function UD(r=Pp()){r=yt(r);const e=ba(r,Ph);return e.isInitialized()?e.getImmediate():jD(r)}function jD(r,e={}){const t=ba(r,Ph);if(t.isInitialized()){const o=t.getImmediate();if(gs(e,t.getOptions()))return o;throw An.create("already-initialized")}return t.initialize({options:e})}function zD(r,e,t,s){r=yt(r),OD(Nw,ru[r.app.options.appId],e,t,s).catch(o=>mn.error(o))}const VE="@firebase/analytics",ME="0.10.17";function BD(){Nr(new rr(Ph,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return LD(s,o,t)},"PUBLIC")),Nr(new rr("analytics-internal",r,"PRIVATE")),Hn(VE,ME),Hn(VE,ME,"esm2017");function r(e){try{const t=e.getProvider(Ph).getImmediate();return{logEvent:(s,o,l)=>zD(t,s,o,l)}}catch(t){throw An.create("interop-component-reg-failed",{reason:t})}}}BD();var LE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,Dw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function b(){}b.prototype=R.prototype,x.D=R.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(C,O,P){for(var D=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)D[Ve-2]=arguments[Ve];return R.prototype[O].apply(C,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,b){b||(b=0);var C=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)C[O]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(O=0;16>O;++O)C[O]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=x.g[0],b=x.g[1],O=x.g[2];var P=x.g[3],D=R+(P^b&(O^P))+C[0]+3614090360&4294967295;R=b+(D<<7&4294967295|D>>>25),D=P+(O^R&(b^O))+C[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(b^P&(R^b))+C[2]+606105819&4294967295,O=P+(D<<17&4294967295|D>>>15),D=b+(R^O&(P^R))+C[3]+3250441966&4294967295,b=O+(D<<22&4294967295|D>>>10),D=R+(P^b&(O^P))+C[4]+4118548399&4294967295,R=b+(D<<7&4294967295|D>>>25),D=P+(O^R&(b^O))+C[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(b^P&(R^b))+C[6]+2821735955&4294967295,O=P+(D<<17&4294967295|D>>>15),D=b+(R^O&(P^R))+C[7]+4249261313&4294967295,b=O+(D<<22&4294967295|D>>>10),D=R+(P^b&(O^P))+C[8]+1770035416&4294967295,R=b+(D<<7&4294967295|D>>>25),D=P+(O^R&(b^O))+C[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(b^P&(R^b))+C[10]+4294925233&4294967295,O=P+(D<<17&4294967295|D>>>15),D=b+(R^O&(P^R))+C[11]+2304563134&4294967295,b=O+(D<<22&4294967295|D>>>10),D=R+(P^b&(O^P))+C[12]+1804603682&4294967295,R=b+(D<<7&4294967295|D>>>25),D=P+(O^R&(b^O))+C[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=O+(b^P&(R^b))+C[14]+2792965006&4294967295,O=P+(D<<17&4294967295|D>>>15),D=b+(R^O&(P^R))+C[15]+1236535329&4294967295,b=O+(D<<22&4294967295|D>>>10),D=R+(O^P&(b^O))+C[1]+4129170786&4294967295,R=b+(D<<5&4294967295|D>>>27),D=P+(b^O&(R^b))+C[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^b&(P^R))+C[11]+643717713&4294967295,O=P+(D<<14&4294967295|D>>>18),D=b+(P^R&(O^P))+C[0]+3921069994&4294967295,b=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(b^O))+C[5]+3593408605&4294967295,R=b+(D<<5&4294967295|D>>>27),D=P+(b^O&(R^b))+C[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^b&(P^R))+C[15]+3634488961&4294967295,O=P+(D<<14&4294967295|D>>>18),D=b+(P^R&(O^P))+C[4]+3889429448&4294967295,b=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(b^O))+C[9]+568446438&4294967295,R=b+(D<<5&4294967295|D>>>27),D=P+(b^O&(R^b))+C[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^b&(P^R))+C[3]+4107603335&4294967295,O=P+(D<<14&4294967295|D>>>18),D=b+(P^R&(O^P))+C[8]+1163531501&4294967295,b=O+(D<<20&4294967295|D>>>12),D=R+(O^P&(b^O))+C[13]+2850285829&4294967295,R=b+(D<<5&4294967295|D>>>27),D=P+(b^O&(R^b))+C[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=O+(R^b&(P^R))+C[7]+1735328473&4294967295,O=P+(D<<14&4294967295|D>>>18),D=b+(P^R&(O^P))+C[12]+2368359562&4294967295,b=O+(D<<20&4294967295|D>>>12),D=R+(b^O^P)+C[5]+4294588738&4294967295,R=b+(D<<4&4294967295|D>>>28),D=P+(R^b^O)+C[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^b)+C[11]+1839030562&4294967295,O=P+(D<<16&4294967295|D>>>16),D=b+(O^P^R)+C[14]+4259657740&4294967295,b=O+(D<<23&4294967295|D>>>9),D=R+(b^O^P)+C[1]+2763975236&4294967295,R=b+(D<<4&4294967295|D>>>28),D=P+(R^b^O)+C[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^b)+C[7]+4139469664&4294967295,O=P+(D<<16&4294967295|D>>>16),D=b+(O^P^R)+C[10]+3200236656&4294967295,b=O+(D<<23&4294967295|D>>>9),D=R+(b^O^P)+C[13]+681279174&4294967295,R=b+(D<<4&4294967295|D>>>28),D=P+(R^b^O)+C[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^b)+C[3]+3572445317&4294967295,O=P+(D<<16&4294967295|D>>>16),D=b+(O^P^R)+C[6]+76029189&4294967295,b=O+(D<<23&4294967295|D>>>9),D=R+(b^O^P)+C[9]+3654602809&4294967295,R=b+(D<<4&4294967295|D>>>28),D=P+(R^b^O)+C[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=O+(P^R^b)+C[15]+530742520&4294967295,O=P+(D<<16&4294967295|D>>>16),D=b+(O^P^R)+C[2]+3299628645&4294967295,b=O+(D<<23&4294967295|D>>>9),D=R+(O^(b|~P))+C[0]+4096336452&4294967295,R=b+(D<<6&4294967295|D>>>26),D=P+(b^(R|~O))+C[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~b))+C[14]+2878612391&4294967295,O=P+(D<<15&4294967295|D>>>17),D=b+(P^(O|~R))+C[5]+4237533241&4294967295,b=O+(D<<21&4294967295|D>>>11),D=R+(O^(b|~P))+C[12]+1700485571&4294967295,R=b+(D<<6&4294967295|D>>>26),D=P+(b^(R|~O))+C[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~b))+C[10]+4293915773&4294967295,O=P+(D<<15&4294967295|D>>>17),D=b+(P^(O|~R))+C[1]+2240044497&4294967295,b=O+(D<<21&4294967295|D>>>11),D=R+(O^(b|~P))+C[8]+1873313359&4294967295,R=b+(D<<6&4294967295|D>>>26),D=P+(b^(R|~O))+C[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~b))+C[6]+2734768916&4294967295,O=P+(D<<15&4294967295|D>>>17),D=b+(P^(O|~R))+C[13]+1309151649&4294967295,b=O+(D<<21&4294967295|D>>>11),D=R+(O^(b|~P))+C[4]+4149444226&4294967295,R=b+(D<<6&4294967295|D>>>26),D=P+(b^(R|~O))+C[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=O+(R^(P|~b))+C[2]+718787259&4294967295,O=P+(D<<15&4294967295|D>>>17),D=b+(P^(O|~R))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var b=R-this.blockSize,C=this.B,O=this.h,P=0;P<R;){if(O==0)for(;P<=b;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(C[O++]=x.charCodeAt(P++),O==this.blockSize){o(this,C),O=0;break}}else for(;P<R;)if(C[O++]=x[P++],O==this.blockSize){o(this,C),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var b=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=b&255,b/=256;for(this.u(x),x=Array(16),R=b=0;4>R;++R)for(var C=0;32>C;C+=8)x[b++]=this.g[R]>>>C&255;return x};function l(x,R){var b=d;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=R(x)}function h(x,R){this.h=R;for(var b=[],C=!0,O=x.length-1;0<=O;O--){var P=x[O]|0;C&&P==R||(b[O]=P,C=!1)}this.g=b}var d={};function p(x){return-128<=x&&128>x?l(x,function(R){return new h([R|0],0>R?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var R=[],b=1,C=0;x>=b;C++)R[C]=x/b|0,b*=4294967296;return new h(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return q(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(R,8)),C=T,O=0;O<x.length;O+=8){var P=Math.min(8,x.length-O),D=parseInt(x.substring(O,O+P),R);8>P?(P=g(Math.pow(R,P)),C=C.j(P).add(g(D))):(C=C.j(b),C=C.add(g(D)))}return C}var T=p(0),I=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(K(this))return-q(this).m();for(var x=0,R=1,b=0;b<this.g.length;b++){var C=this.i(b);x+=(0<=C?C:4294967296+C)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(K(this))return"-"+q(this).toString(x);for(var R=g(Math.pow(x,6)),b=this,C="";;){var O=oe(b,R).g;b=$(b,O.j(R));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=O,F(b))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function K(x){return x.h==-1}r.l=function(x){return x=$(this,x),K(x)?-1:F(x)?0:1};function q(x){for(var R=x.g.length,b=[],C=0;C<R;C++)b[C]=~x.g[C];return new h(b,~x.h).add(I)}r.abs=function(){return K(this)?q(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),b=[],C=0,O=0;O<=R;O++){var P=C+(this.i(O)&65535)+(x.i(O)&65535),D=(P>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);C=D>>>16,P&=65535,D&=65535,b[O]=D<<16|P}return new h(b,b[b.length-1]&-2147483648?-1:0)};function $(x,R){return x.add(q(R))}r.j=function(x){if(F(this)||F(x))return T;if(K(this))return K(x)?q(this).j(q(x)):q(q(this).j(x));if(K(x))return q(this.j(q(x)));if(0>this.l(k)&&0>x.l(k))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,b=[],C=0;C<2*R;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<x.g.length;O++){var P=this.i(C)>>>16,D=this.i(C)&65535,Ve=x.i(O)>>>16,ze=x.i(O)&65535;b[2*C+2*O]+=D*ze,W(b,2*C+2*O),b[2*C+2*O+1]+=P*ze,W(b,2*C+2*O+1),b[2*C+2*O+1]+=D*Ve,W(b,2*C+2*O+1),b[2*C+2*O+2]+=P*Ve,W(b,2*C+2*O+2)}for(C=0;C<R;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=R;C<2*R;C++)b[C]=0;return new h(b,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Q(x,R){this.g=x,this.h=R}function oe(x,R){if(F(R))throw Error("division by zero");if(F(x))return new Q(T,T);if(K(x))return R=oe(q(x),R),new Q(q(R.g),q(R.h));if(K(R))return R=oe(x,q(R)),new Q(q(R.g),R.h);if(30<x.g.length){if(K(x)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var b=I,C=R;0>=C.l(x);)b=te(b),C=te(C);var O=ie(b,1),P=ie(C,1);for(C=ie(C,2),b=ie(b,2);!F(C);){var D=P.add(C);0>=D.l(x)&&(O=O.add(b),P=D),C=ie(C,1),b=ie(b,1)}return R=$(x,O.j(R)),new Q(O,R)}for(O=T;0<=x.l(R);){for(b=Math.max(1,Math.floor(x.m()/R.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=g(b),D=P.j(R);K(D)||0<D.l(x);)b-=C,P=g(b),D=P.j(R);F(P)&&(P=I),O=O.add(P),x=$(x,D)}return new Q(O,x)}r.A=function(x){return oe(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),b=[],C=0;C<R;C++)b[C]=this.i(C)&x.i(C);return new h(b,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),b=[],C=0;C<R;C++)b[C]=this.i(C)|x.i(C);return new h(b,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),b=[],C=0;C<R;C++)b[C]=this.i(C)^x.i(C);return new h(b,this.h^x.h)};function te(x){for(var R=x.g.length+1,b=[],C=0;C<R;C++)b[C]=x.i(C)<<1|x.i(C-1)>>>31;return new h(b,x.h)}function ie(x,R){var b=R>>5;R%=32;for(var C=x.g.length-b,O=[],P=0;P<C;P++)O[P]=0<R?x.i(P+b)>>>R|x.i(P+b+1)<<32-R:x.i(P+b);return new h(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Dw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,fs=h}).apply(typeof LE<"u"?LE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ow,Xl,xw,yh,lp,kw,Pw,Vw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function I(c,y,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,I.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function F(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,G){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return y.prototype[z].apply(A,ae)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,G=A.length||0;c.length=z+G;for(let ae=0;ae<G;ae++)c[z+ae]=A[ae]}else c.push(A)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var te=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let G=0;G<b.length;G++)_=b[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,_){const A=ze.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new $(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,Ge=new Ve,V=()=>{const c=d.Promise.resolve(void 0);ye=()=>{c.then(re)}};var re=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}F(Ie,ce);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function lt(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,_,A,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=Rn(c,y,A,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new lt(y,this.src,G,!!A,z),y.fa=_,c.push(y)),y};function Pr(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(Qe(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rn(c,y,_,A){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return z}return-1}var Ti="closure_lm_"+(1e6*Math.random()|0),wi={};function Vr(c,y,_,A,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Vr(c,y[G],_,A,z);return null}return _=Lu(_),c&&c[vt]?c.K(y,_,g(A)?!!A.capture:!1,z):Bo(c,y,_,!1,A,z)}function Bo(c,y,_,A,z,G){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Me=qo(c);if(Me||(c[Ti]=Me=new nn(c)),_=Me.add(y,_,A,ae,G),_.proxy)return _;if(A=Ca(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)he||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Da(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ca(){function c(_){return y.call(c.src,c.listener,_)}const y=Cf;return c}function Na(c,y,_,A,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Na(c,y[G],_,A,z);else A=g(A)?!!A.capture:!!A,_=Lu(_),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Rn(G,_,A,z),-1<_&&(Qe(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=qo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,_,A,z)),(_=-1<c?y[c]:null)&&Ds(_))}function Ds(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])Pr(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Da(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=qo(y))?(Pr(_,c),_.h==0&&(_.src=null,y[Ti]=null)):Qe(c)}}}function Da(c){return c in wi?wi[c]:wi[c]="on"+c}function Cf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Ds(c),c=_.call(A,y)}return c}function qo(c){return c=c[Ti],c instanceof nn?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function At(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}F(At,me),At.prototype[vt]=!0,At.prototype.removeEventListener=function(c,y,_,A){Na(this,c,y,_,A)};function xt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var z=y;y=new ce(A,c),C(y,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var ae=y.g=_[G];z=Mr(ae,A,!0,y)&&z}if(ae=y.g=c,z=Mr(ae,A,!0,y)&&z,z=Mr(ae,A,!1,y)&&z,_)for(G=0;G<_.length;G++)ae=y.g=_[G],z=Mr(ae,A,!1,y)&&z}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Qe(_[A]);delete c.g[y],c.h--}}this.F=null},At.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},At.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Mr(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==_){var Me=ae.listener,It=ae.ha||ae.src;ae.fa&&Pr(c.i,ae),z=Me.call(It,A)!==!1&&z}}return z&&!A.defaultPrevented}function Uu(c,y,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Fo(c){c.g=Uu(()=>{c.g=null,c.i&&(c.i=!1,Fo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Nf extends me{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(c){me.call(this),this.h=c,this.g={}}F(Os,me);var Si=[];function Qt(c){ie(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ds(y)},c),c.g={}}Os.prototype.N=function(){Os.aa.N.call(this),Qt(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=d.JSON.stringify,or=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Go(){}Go.prototype.h=null;function ju(c){return c.h||(c.h=c.i())}function zu(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bi(){ce.call(this,"d")}F(bi,ce);function Qn(){ce.call(this,"c")}F(Qn,ce);var In={},Ai=null;function Oa(){return Ai=Ai||new At}In.La="serverreachability";function $o(c){ce.call(this,In.La,c)}F($o,ce);function Ri(c){const y=Oa();xt(y,new $o(y))}In.STAT_EVENT="statevent";function xa(c,y){ce.call(this,In.STAT_EVENT,c),this.stat=y}F(xa,ce);function mt(c){const y=Oa();xt(y,new xa(y,c))}In.Ma="timingevent";function Bu(c,y){ce.call(this,In.Ma,c),this.size=y}F(Bu,ce);function Ii(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function qu(c,y,_,A,z,G){c.info(function(){if(c.g)if(G)for(var ae="",Me=G.split("&"),It=0;It<Me.length;It++){var Le=Me[It].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(Vt+"="+Le+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function Fu(c,y,_,A,z,G,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+G+" "+ae})}function Ni(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(c,_)+(A?" "+A:"")})}function ur(c,y){c.info(function(){return"TIMEOUT: "+y})}Ci.prototype.info=function(){};function kt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Ho(_)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function ka(){}F(ka,Go),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},xs=new ka;function cr(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new Os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var Di={},ks={};function Yn(c,y,_){c.L=1,c.v=Ms(ut(y)),c.m=_,c.P=!0,Ur(c,null)}function Ur(c,y){c.F=Date.now(),nt(c),c.A=ut(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Br(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Ko,c.g=rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Nf(I(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Si[0]=z.toString()),z=Si);for(var G=0;G<z.length;G++){var ae=Vr(_,z[G],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ri(),qu(c.i,c.u,c.A,c.l,c.R,c.m)}cr.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},cr.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const Gr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Gr?Ri(3):Ri(2)),Pa(this);var _=this.g.Z();this.X=_;t:if(Oi(this)){var A=Yu(this.g);c="";var z=A.length,G=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),gn(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(G&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,Fu(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Me)){var Le=Me;break t}}Le=null}if(_=Le)Ni(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,_);else{this.o=!1,this.s=3,mt(12),cn(this),gn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=xi(this,ae),zt==ks){Ct==4&&(this.s=4,mt(14),_=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Di){this.s=4,mt(15),Ni(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Ni(this.i,this.l,zt,null),yn(this,zt);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),_=!1),this.o=this.o&&_,!_)Ni(this.i,this.l,ae,"[Invalid Chunked Response]"),cn(this),gn(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Fs(Vt),Vt.M=!0,mt(11))}}else Ni(this.i,this.l,ae,null),yn(this,ae);Ct==4&&cn(this),this.o&&!this.J&&(Ct==4?ec(this.j,this):(this.o=!1,nt(this)))}else Vf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),cn(this),gn(this)}}}catch{}finally{}};function Oi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xi(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ks:(_=Number(y.substring(_,A)),isNaN(_)?Di:(A+=1,A+_>y.length?ks:(y=y.slice(A,A+_),c.C=A+_,y)))}cr.prototype.cancel=function(){this.J=!0,cn(this)};function nt(c){c.S=Date.now()+c.I,Qo(c,c.I)}function Qo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ii(I(c.ba,c),y)}function Pa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}cr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ur(this.i,this.A),this.L!=2&&(Ri(),mt(17)),cn(this),this.s=2,gn(this)):Qo(this,this.S-c)};function gn(c){c.j.G==0||c.J||ec(c.j,c)}function cn(c){Pa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ki(_.h,c))){if(!c.K&&ki(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ha(_),qa(_);else break e;sl(_),mt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ii(I(_.Za,_),6e3));if(1>=Hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Hr(_,11)}else if((c.K||_.g==c)&&Ha(_),!W(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Vt=Le[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ct=Le[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Gr=Le[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(A=1.5*Gr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const yr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var G=A.h;G.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Pi(G,G.h),G.h=null))}if(A.D){const ol=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,qe(A.I,A.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),ae.K){Cn(A.h,ae);var Me=ae,It=A.L;It&&(Me.I=It),Me.B&&(Pa(Me),nt(Me)),A.g=ae}else Zu(A);0<_.i.length&&Fa(_)}else Le[0]!="stop"&&Le[0]!="close"||Hr(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Hr(_,7):rl(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}Ri(4)}catch{}}var Df=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function ki(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Pi(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Gu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Of(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Ps(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Of(c),A=Gu(c),z=A.length,G=0;G<z;G++)y.call(void 0,A[G],_&&_[G],c)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var G=c[_].substring(0,A);z=c[_].substring(A+1)}else G=c[_];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof jr){this.h=c.h,Vi(this,c.j),this.o=c.o,this.g=c.g,Vs(this,c.s),this.l=c.l;var y=c.i,_=new hr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ma(this,_),this.m=c.m}else c&&(y=String(c).match(Xo))?(this.h=!1,Vi(this,y[1]||"",!0),this.o=Mi(y[2]||""),this.g=Mi(y[3]||"",!0),Vs(this,y[4]),this.l=Mi(y[5]||"",!0),Ma(this,y[6]||"",!0),this.m=Mi(y[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}jr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Nn(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nn(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Nn(_,_.charAt(0)=="/"?Jo:$u,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Nn(_,Pf)),c.join("")};function ut(c){return new jr(c)}function Vi(c,y,_){c.j=_?Mi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Vs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ma(c,y,_){y instanceof hr?(c.i=y,el(c.i,c.h)):(_||(y=Nn(y,kf)),c.i=new hr(y,c.h))}function qe(c,y,_){c.i.set(y,_)}function Ms(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,$u=/[#\?:]/g,Jo=/[#\?]/g,kf=/[#\?@]/g,Pf=/#/g;function hr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Va(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=hr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=qr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function La(c,y){Dn(c),y=qr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function zr(c,y){return Dn(c),y=qr(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let G=0;G<z.length;G++)_.push(y[A])}return _},r.V=function(c){Dn(this);let y=[];if(typeof c=="string")zr(this,c)&&(y=y.concat(this.g.get(qr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Dn(this),this.i=null,c=qr(this,c),zr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Br(c,y,_){La(c,y),0<_.length&&(c.i=null,c.g.set(qr(c,y),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const G=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var z=G;ae[A]!==""&&(z+="="+encodeURIComponent(String(ae[A]))),c.push(z)}}return this.i=c.join("&")};function qr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function el(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(La(this,A),Br(this,z,_))},c)),c.j=y}function Ku(c,y){const _=new Ci;if(d.Image){const A=new Image;A.onload=k(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=k(On,_,"TestLoadImage: error",!1,y,A),A.onabort=k(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(On,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ls(c,y){const _=new Ci,A=new AbortController,z=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(_,"TestPingServer: error",!1,y)})}function On(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Us(){this.g=new rn}function fr(c,y,_){const A=_||"";try{Ps(c,function(z,G){let ae=z;g(z)&&(ae=Ho(z)),y.push(A+G+"="+encodeURIComponent(ae))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Li(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Li,Go),Li.prototype.g=function(){return new Fr(this.l,this.j)},Li.prototype.i=function(c){return function(){return c}}({});function Fr(c,y){At.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Fr,At),r=Fr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?dr(this):mr(this),this.readyState==3&&tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,dr(this))},r.Qa=function(c){this.g&&(this.response=c,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return ie(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):qe(c,y,_))}function $e(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F($e,At);var Ua=/^https?$/i,js=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?ju(this.o):ju(xs),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Qu(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of _)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Qu(this,G)}};function Qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ja(c),pr(c)}function ja(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),pr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},r.bb=function(){za(this)};function za(c){if(c.h&&typeof h<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Uu(c.Ea,0,c);else if(xt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ae===0){var z=String(c.D).match(Xo)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Ua.test(z?z.toLowerCase():"")}_=A}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var G=2<xn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ja(c)}}finally{pr(c)}}}}function pr(c,y){if(c.g){zs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{_.onreadystatechange=A}catch{}}}function zs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),or(y)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vf(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(W(c[A]))continue;var _=O(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[z]||[];y[z]=G,G.push(_)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ba(c){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ba.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){mt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),Fa(this)};function rl(c){if(Wu(c),c.G==3){var y=c.U++,_=ut(c.I);if(qe(_,"SID",c.K),qe(_,"RID",y),qe(_,"TYPE","terminate"),qs(c,_),y=new cr(c,c.j,y),y.L=2,y.v=Ms(ut(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}tc(c)}function qa(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function Wu(c){qa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Fa(c){if(!Wo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||V(),ve||(ye(),ve=!0),Ge.add(y,c),c.B=0}}function Mf(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ii(I(c.Ga,c,y),al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new cr(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),C(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Xu(this,z,y),_=ut(this.I),qe(_,"RID",c),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),qs(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(nl(G)))+"&"+y:this.m&&Pt(_,this.m,G)),Pi(this.h,z),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",y),qe(_,"SID","null"),z.T=!0,Yn(z,_,null)):Yn(z,_,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||Wo(this.h)||il(this))};function il(c,y){var _;y?_=y.l:_=c.U++;const A=ut(c.I);qe(A,"SID",c.K),qe(A,"RID",_),qe(A,"AID",c.T),qs(c,A),c.m&&c.o&&Pt(A,c.m,c.o),_=new cr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pi(c.h,_),Yn(_,A,y)}function qs(c,y){c.H&&ie(c.H,function(_,A){qe(y,A,_)}),c.l&&Ps({},function(_,A){qe(y,A,_)})}function Xu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ae=["count="+_];G==-1?0<_?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let Me=!0;for(let It=0;It<_;It++){let Le=z[It].g;const Vt=z[It].map;if(Le-=G,0>Le)G=Math.max(0,z[It].g-100),Me=!1;else try{fr(Vt,ae,"req"+Le+"_")}catch{A&&A(Vt)}}if(Me){A=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||V(),ve||(ye(),ve=!0),Ge.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ii(I(c.Fa,c),al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ii(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),qa(this),Ju(this))};function Fs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ju(c){c.g=new cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ut(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),qs(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ms(ut(y)),_.m=null,_.P=!0,Ur(_,c)}r.Za=function(){this.C!=null&&(this.C=null,qa(this),sl(this),mt(19))};function Ha(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ec(c,y){var _=null;if(c.g==y){Ha(c),Fs(c),c.g=null;var A=2}else if(ki(c.h,y))_=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=Oa(),xt(A,new Bu(A,_)),Fa(c)}else Zu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Mf(c,y)||A==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var _=I(c.fb,c),A=c.Xa;const z=!A;A=new jr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Vi(A,"https"),Ms(A),z?Ku(A.toString(),_):Ls(A.toString(),_)}else mt(2);c.G=0,c.l&&c.l.sa(y),tc(c),Wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function tc(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,_){var A=_ instanceof jr?ut(_):new jr(_);if(A.g!="")y&&(A.g=y+"."+A.g),Vs(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new jr(null);A&&Vi(G,A),y&&(G.g=y),z&&Vs(G,z),_&&(G.l=_),A=G}return _=c.D,y=c.ya,_&&y&&qe(A,_,y),qe(A,"VER",c.la),qs(c,A),A}function rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Li({eb:_})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}r=ic.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ga(){}Ga.prototype.g=function(c,y){return new an(c,y)};function an(c,y){At.call(this),this.g=new Ba(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}F(an,At),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){rl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ho(c),c=_);y.i.push(new Df(y.Ya++,c)),y.G==3&&Fa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,an.aa.N.call(this)};function sc(c){bi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}F(sc,bi);function ac(){Qn.call(this),this.status=1}F(ac,Qn);function gr(c){this.g=c}F(gr,ic),gr.prototype.ua=function(){xt(this.g,"a")},gr.prototype.ta=function(c){xt(this.g,new sc(c))},gr.prototype.sa=function(c){xt(this.g,new ac)},gr.prototype.ra=function(){xt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Vw=function(){return new Ga},Pw=function(){return Oa()},kw=In,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,yh=Rt,Lr.COMPLETE="complete",xw=Lr,zu.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",At.prototype.listen=At.prototype.K,Xl=zu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Ow=$e}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",jE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new ef("@firebase/firestore");function _o(){return Ea.logLevel}function ue(r,...e){if(Ea.logLevel<=xe.DEBUG){const t=e.map(Xp);Ea.debug(`Firestore (${Lo}): ${r}`,...t)}}function yi(r,...e){if(Ea.logLevel<=xe.ERROR){const t=e.map(Xp);Ea.error(`Firestore (${Lo}): ${r}`,...t)}}function ys(r,...e){if(Ea.logLevel<=xe.WARN){const t=e.map(Xp);Ea.warn(`Firestore (${Lo}): ${r}`,...t)}}function Xp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Mw(r,s,t)}function Mw(r,e,t){let s=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw yi(s),new Error(s)}function Ke(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Mw(e,o,s)}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class FD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new di,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new di)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new Lw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class GD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new GD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=QD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function up(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const l=Uw(),h=YD(l.encode(BE(r,t)),l.encode(BE(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(r.length,e.length)}function BE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function YD(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ne(r[t],e[t]);return Ne(r.length,e.length)}function Co(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class Sr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Sr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const s=Sr.isNumericId(e),o=Sr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Sr.extractNumericId(e).compare(Sr.extractNumericId(t)):up(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fs.fromString(e.substring(4,e.length-2))}}class et extends Sr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const WD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Sr{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return WD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new $t([qE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r,e,t){if(!t)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function XD(r,e,t,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function FE(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function HE(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function of(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=of(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Cu(r,e){if(!zw(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new le(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,$E=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*$E);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<GE)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$E}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:bt("string",tt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function ZD(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new vs(o,ge.empty(),e)}function JD(r){return new vs(r.readTime,r.key,fu)}class vs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new vs(we.min(),ge.empty(),fu)}static max(){return new vs(we.max(),ge.empty(),fu)}}function eO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==tO)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===l&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ee((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function rO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}lf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function uf(r){return r==null}function Vh(r){return r===0&&1/r==-1/0}function iO(r){return typeof r=="number"&&Number.isInteger(r)&&!Vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="";function sO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=KE(e)),e=aO(r.get(t),e);return KE(e)}function aO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Bw:t+="";break;default:t+=l}}return t}function KE(r){return r+Bw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Cs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Fw("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const oO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=oO.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Es(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="server_timestamp",Gw="__type__",$w="__previous_value__",Kw="__local_write_time__";function eg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gw])===null||t===void 0?void 0:t.stringValue)===Hw}function cf(r){const e=r.mapValue.fields[$w];return eg(e)?cf(e):e}function du(r){const e=_s(r.mapValue.fields[Kw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,s,o,l,h,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mh="(default)";class mu{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__type__",uO="__max__",lh={mapValue:{}},Yw="__vector__",Lh="value";function Ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:hO(r)?9007199254740991:cO(r)?10:11:Te(28295,{value:r})}function Dr(r,e){if(r===e)return!0;const t=Ts(r);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=_s(o.timestampValue),d=_s(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Es(o.bytesValue).isEqual(Es(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=gt(o.doubleValue),d=gt(l.doubleValue);return h===d?Vh(h)===Vh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(QE(h)!==QE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Dr(h[p],d[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function pu(r,e){return(r.values||[]).find(t=>Dr(t,e))!==void 0}function No(r,e){if(r===e)return 0;const t=Ts(r),s=Ts(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=gt(l.integerValue||l.doubleValue),p=gt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return WE(r.timestampValue,e.timestampValue);case 4:return WE(du(r),du(e));case 5:return up(r.stringValue,e.stringValue);case 6:return function(l,h){const d=Es(l),p=Es(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ne(d[g],p[g]);if(v!==0)return v}return Ne(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ne(gt(l.latitude),gt(h.latitude));return d!==0?d:Ne(gt(l.longitude),gt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return XE(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,v;const T=l.fields||{},I=h.fields||{},k=(d=T[Lh])===null||d===void 0?void 0:d.arrayValue,F=(p=I[Lh])===null||p===void 0?void 0:p.arrayValue,K=Ne(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0);return K!==0?K:XE(k,F)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===lh.mapValue&&h===lh.mapValue)return 0;if(l===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const I=up(p[T],v[T]);if(I!==0)return I;const k=No(d[p[T]],g[v[T]]);if(k!==0)return k}return Ne(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function WE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=_s(r),s=_s(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function XE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=No(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function Do(r){return cp(r)}function cp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=_s(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Es(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=cp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${cp(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function vh(r){switch(Ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return Es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+vh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Cs(s.fields,(l,h)=>{o+=l.length+vh(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function ZE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function hp(r){return!!r&&"integerValue"in r}function tg(r){return!!r&&"arrayValue"in r}function JE(r){return!!r&&"nullValue"in r}function e0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function cO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qw])===null||t===void 0?void 0:t.stringValue)===Yw}function iu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Cs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=iu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function hO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=iu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Cs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new dn(iu(this.value))}}function Ww(r){const e=[];return Cs(r.fields,(t,s)=>{const o=new $t([t]);if(_h(s)){const l=Ww(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function t0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=No(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function n0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Dr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class St extends Xw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new mO(e,t,s):t==="array-contains"?new yO(e,s):t==="in"?new vO(e,s):t==="not-in"?new _O(e,s):t==="array-contains-any"?new EO(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new pO(e,s):new gO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(No(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(No(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends Xw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return Zw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Zw(r){return r.op==="and"}function Jw(r){return dO(r)&&Zw(r)}function dO(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function fp(r){if(r instanceof St)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(Jw(r))return r.filters.map(e=>fp(e)).join(",");{const e=r.filters.map(t=>fp(t)).join(",");return`${r.op}(${e})`}}function eS(r,e){return r instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Dr(s.value,o.value)}(r,e):r instanceof ir?function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&eS(h,o.filters[d]),!0):!1}(r,e):void Te(19439)}function tS(r){return r instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(r):r instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"}(r):"Filter"}class mO extends St{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class pO extends St{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gO extends St{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class yO extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return tg(t)&&pu(t.arrayValue,this.value)}}class vO extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pu(this.value.arrayValue,t)}}class _O extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pu(this.value.arrayValue,t)}}class EO extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!tg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Pe=null}}function r0(r,e=null,t=[],s=[],o=null,l=null,h=null){return new TO(r,e,t,s,o,l,h)}function ng(r){const e=be(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>fp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Do(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Do(s)).join(",")),e.Pe=t}return e.Pe}function rg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!n0(r.startAt,e.startAt)&&n0(r.endAt,e.endAt)}function dp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function wO(r,e,t,s,o,l,h,d){return new Nu(r,e,t,s,o,l,h,d)}function hf(r){return new Nu(r)}function i0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rS(r){return r.collectionGroup!==null}function su(r){const e=be(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new jh(l,s))}),t.has($t.keyField().canonicalString())||e.Te.push(new jh($t.keyField(),s))}return e.Te}function Ar(r){const e=be(r);return e.Ie||(e.Ie=SO(e,su(r))),e.Ie}function SO(r,e){if(r.limitType==="F")return r0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new jh(o.field,l)});const t=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return r0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function mp(r,e){const t=r.filters.concat([e]);return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function pp(r,e,t){return new Nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ff(r,e){return rg(Ar(r),Ar(e))&&r.limitType===e.limitType}function iS(r){return`${ng(Ar(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>tS(o)).join(", ")}]`),uf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${s})`}(Ar(r))}; limitType=${r.limitType})`}function df(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of su(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=t0(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(h,d,p){const g=t0(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(r,e)}function bO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sS(r){return(e,t)=>{let s=!1;for(const o of su(r)){const l=AO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function AO(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?No(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new ot(ge.comparator);function vi(){return RO}const aS=new ot(ge.comparator);function Zl(...r){let e=aS;for(const t of r)e=e.insert(t.key,t);return e}function oS(r){let e=aS;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ha(){return au()}function lS(){return au()}function au(){return new Aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const IO=new ot(ge.comparator),CO=new Ot(ge.comparator);function ke(...r){let e=CO;for(const t of r)e=e.add(t);return e}const NO=new Ot(Ne);function DO(){return NO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function uS(r){return{integerValue:""+r}}function OO(r,e){return iO(e)?uS(e):ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this._=void 0}}function xO(r,e,t){return r instanceof zh?function(o,l){const h={fields:{[Gw]:{stringValue:Hw},[Kw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&eg(l)&&(l=cf(l)),l&&(h.fields[$w]=l),{mapValue:h}}(t,e):r instanceof gu?hS(r,e):r instanceof yu?fS(r,e):function(o,l){const h=cS(o,l),d=s0(h)+s0(o.Ee);return hp(h)&&hp(o.Ee)?uS(d):ig(o.serializer,d)}(r,e)}function kO(r,e,t){return r instanceof gu?hS(r,e):r instanceof yu?fS(r,e):t}function cS(r,e){return r instanceof Bh?function(s){return hp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class zh extends mf{}class gu extends mf{constructor(e){super(),this.elements=e}}function hS(r,e){const t=dS(e);for(const s of r.elements)t.some(o=>Dr(o,s))||t.push(s);return{arrayValue:{values:t}}}class yu extends mf{constructor(e){super(),this.elements=e}}function fS(r,e){let t=dS(e);for(const s of r.elements)t=t.filter(o=>!Dr(o,s));return{arrayValue:{values:t}}}class Bh extends mf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function s0(r){return gt(r.integerValue||r.doubleValue)}function dS(r){return tg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function PO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?Co(s.elements,o.elements,Dr):s instanceof Bh&&o instanceof Bh?Dr(s.Ee,o.Ee):s instanceof zh&&o instanceof zh}(r.transform,e.transform)}class VO{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pf{}function mS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sg(r.key,Gn.none()):new Du(r.key,r.data,Gn.none());{const t=r.data,s=dn.empty();let o=new Ot($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ns(r.key,s,new bn(o.toArray()),Gn.none())}}function MO(r,e,t){r instanceof Du?function(o,l,h){const d=o.value.clone(),p=o0(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ns?function(o,l,h){if(!Eh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=o0(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(pS(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ou(r,e,t,s){return r instanceof Du?function(l,h,d,p){if(!Eh(l.precondition,h))return d;const g=l.value.clone(),v=l0(l.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ns?function(l,h,d,p){if(!Eh(l.precondition,h))return d;const g=l0(l.fieldTransforms,p,h),v=h.data;return v.setAll(pS(l)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,d){return Eh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function LO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=cS(s.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function a0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Co(s,o,(l,h)=>PO(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Du extends pf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ns extends pf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function pS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function o0(r,e,t){const s=new Map;Ke(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,kO(h,d,t[o]))}return s}function l0(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,xO(l,h,e))}return s}class sg extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UO extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&MO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ou(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=lS();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=mS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,s)=>a0(t,s))&&Co(this.baseMutations,e.baseMutations,(t,s)=>a0(t,s))}}class ag{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return IO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new ag(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,je;function qO(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function gS(r){if(r===void 0)return yi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case wt.OK:return Z.OK;case wt.CANCELLED:return Z.CANCELLED;case wt.UNKNOWN:return Z.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Z.INTERNAL;case wt.UNAVAILABLE:return Z.UNAVAILABLE;case wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case wt.NOT_FOUND:return Z.NOT_FOUND;case wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case wt.ABORTED:return Z.ABORTED;case wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case wt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new fs([4294967295,4294967295],0);function u0(r){const e=Uw().encode(r),t=new Dw;return t.update(e),new Uint8Array(t.digest())}function c0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new fs([t,s],0),new fs([o,l],0)]}class og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fs.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(fs.fromNumber(s)));return o.compare(FO)===1&&(o=new fs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=u0(e),[s,o]=c0(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new og(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=u0(e),[s,o]=c0(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new gf(we.min(),o,new ot(Ne),vi(),ke())}}class Ou{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ou(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class yS{constructor(e,t){this.targetId=e,this.De=t}}class vS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class h0{constructor(){this.ve=0,this.Ce=f0(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new Ou(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=f0()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class HO{constructor(e){this.We=e,this.Ge=new Map,this.ze=vi(),this.je=uh(),this.Je=uh(),this.He=new ot(Ne)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(dp(l))if(s===0){const h=new ge(l.path);this.Xe(t,h,Jt.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=Es(s).toUint8Array()}catch(p){if(p instanceof Fw)return ys("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new og(h,o,l)}catch(p){return ys(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,h)=>{const d=this.st(h);if(d){if(l.current&&dp(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Jt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}});let s=ke();this.Je.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(e));const o=new gf(e,t,this.He,this.ze,s);return this.ze=vi(),this.je=uh(),this.Je=uh(),this.He=new ot(Ne),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new h0,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(Ne),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new h0),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ot(ge.comparator)}function f0(){return new ot(ge.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},$O={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KO={and:"AND",or:"OR"};class QO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gp(r,e){return r.useProto3Json||uf(e)?e:{value:e}}function qh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _S(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function YO(r,e){return qh(r,e.toTimestamp())}function Rr(r){return Ke(!!r,49232),we.fromTimestamp(function(t){const s=_s(t);return new tt(s.seconds,s.nanos)}(r))}function lg(r,e){return yp(r,e).canonicalString()}function yp(r,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function ES(r){const e=et.fromString(r);return Ke(AS(e),10190,{key:e.toString()}),e}function vp(r,e){return lg(r.databaseId,e.path)}function Hm(r,e){const t=ES(e);if(t.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(wS(t))}function TS(r,e){return lg(r.databaseId,e)}function WO(r){const e=ES(r);return e.length===4?et.emptyPath():wS(e)}function _p(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wS(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function d0(r,e,t){return{name:vp(r,e),fields:t.value.mapValue.fields}}function XO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Kt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Kt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?Z.UNKNOWN:gS(g.code);return new le(v,g.message||"")}(h);t=new vS(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),l=Rr(s.document.updateTime),h=s.document.createTime?Rr(s.document.createTime):we.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Th(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),l=s.readTime?Rr(s.readTime):we.min(),h=Jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Th([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),l=s.removedTargetIds||[];t=new Th([],l,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new BO(o,l),d=s.targetId;t=new yS(d,h)}}return t}function ZO(r,e){let t;if(e instanceof Du)t={update:d0(r,e.key,e.value)};else if(e instanceof sg)t={delete:vp(r,e.key)};else if(e instanceof Ns)t={update:d0(r,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof UO))return Te(16599,{Rt:e.type});t={verify:vp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof zh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:YO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(r,e.precondition)),t}function JO(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?Rr(o.updateTime):Rr(l);return h.isEqual(we.min())&&(h=Rr(l)),new VO(h,o.transformResults||[])}(t,e))):[]}function ex(r,e){return{documents:[TS(r,e.path)]}}function tx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=TS(r,o);const l=function(g){if(g.length!==0)return bS(ir.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(v=>function(I){return{field:To(I.field),direction:ix(I.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=gp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function nx(r){let e=WO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const I=SS(T);return I instanceof ir&&Jw(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(F){return new jh(wo(F.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,uf(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,k=T.values||[];return new Uh(k,I)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const I=!T.before,k=T.values||[];return new Uh(k,I)}(t.endAt)),wO(e,o,h,l,d,"F",p,g)}function rx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return St.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(s=>SS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function ix(r){return GO[r]}function sx(r){return $O[r]}function ax(r){return KO[r]}function To(r){return{fieldPath:r.canonicalString()}}function wo(r){return $t.fromServerFormat(r.fieldPath)}function bS(r){return r instanceof St?function(t){if(t.op==="=="){if(e0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(JE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e0(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(JE(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:sx(t.op),value:t.value}}}(r):r instanceof ir?function(t){const s=t.getFilters().map(o=>bS(o));return s.length===1?s[0]:{compositeFilter:{op:ax(t.op),filters:s}}}(r):Te(54877,{filter:r})}function ox(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,t,s,o,l=we.min(),h=we.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.gt=e}}function ux(r){const e=nx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.Dn=new hx}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(vs.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(RS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Oo(0)}static ur(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="LruGarbageCollector",fx=1048576;function g0([r,e],[t,s]){const o=Ne(r,t);return o===0?Ne(e,s):o}class dx{constructor(e){this.Tr=e,this.buffer=new Ot(g0),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();g0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(p0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?ue(p0,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Rr(3e5)})}}class px{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(lf.ue);const s=new dx(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(m0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m0):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),_o()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function gx(r,e){return new px(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ou(s.mutation,o,bn.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Zl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=vi();const h=au(),d=function(){return au()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ns)?l=l.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),ou(v.mutation,g,v.mutation.getFieldMask(),tt.now())):h.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new vx(v,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=au();let o=new ot((h,d)=>h-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||bn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=lS();v.forEach(I=>{if(!l.has(I)){const k=mS(t.get(I),s.get(I));k!==null&&T.set(I,k),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ee.resolve(ha());let d=fu,p=l;return h.next(g=>ee.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{p=p.insert(v,I)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ke())).next(v=>({batchId:d,changes:oS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Zl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const g=function(T,I){return new Nu(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Jt.newInvalidDocument(v)))});let d=Zl();return h.forEach((p,g)=>{const v=l.get(p);v!==void 0&&ou(v.mutation,g,bn.empty(),tt.now()),df(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:ux(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.overlays=new ot(ge.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ha();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.wt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=ha(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ot((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ha(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ha(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return ee.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new zO(t,s));let l=this.kr.get(t);l===void 0&&(l=ke(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.qr=new Ot(jt.Qr),this.$r=new Ot(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new jt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1);let l=ke();return this.$r.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(jt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jO(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Jp:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Ne);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],d=>{s=s.add(d.Hr)})}),ee.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new jt(new ge(l),0);let d=new Ot(Ne);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ee.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ee.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new jt(t,0),o=this.Yr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.ni=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=vi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=vi();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||eO(JD(v),s)<=0||(o.has(v.key)||df(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ax(this)}getSize(e){return ee.resolve(this.size)}}class Ax extends yx{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.persistence=e,this.ii=new Aa(t=>ng(t),rg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new ug,this.targetCount=0,this._i=Oo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Oo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t){this.ai={},this.overlays={},this.ui=new lf(0),this.ci=!1,this.ci=!0,this.li=new wx,this.referenceDelegate=e(this),this.hi=new Rx(this),this.indexManager=new cx,this.remoteDocumentCache=function(o){return new bx(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new lx(t),this.Ti=new Ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new Sx(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new Ix(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return ee.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class Ix extends nO{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ai=new ug,this.Ri=null}static Vi(e){return new cg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.gi=new Aa(s=>sO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gx(this,t)}static Vi(e,t){return new Fh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vh(e.data.value)),t}Sr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new hg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return jR()?8:rO(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new Cx;return this.ws(e,t,h).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>l.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(_o()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(_o()<=xe.DEBUG&&ue("QueryEngine","Query:",Eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(_o()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ee.resolve())}ps(e,t){if(i0(t))return ee.resolve(null);let s=Ar(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=pp(t,null,"F"),s=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,pp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return i0(t)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,s).next(l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?ee.resolve(null):(_o()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.vs(e,h,t,ZD(o,fu)).next(d=>d))})}bs(e,t){let s=new Ot(sS(e));return t.forEach((o,l)=>{df(e,l)&&(s=s.add(l))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return _o()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.gs.getDocumentsMatchingQuery(e,t,vs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",Dx=3e8;class Ox{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ot(Ne),this.Ms=new Aa(l=>ng(l),rg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _x(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function xx(r,e,t,s){return new Ox(r,e,t,s)}async function CS(r,e){const t=be(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function kx(r,e){const t=be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const T=g.batch,I=T.keys();let k=ee.resolve();return I.forEach(F=>{k=k.next(()=>v.getEntry(p,F)).next(K=>{const q=g.docVersions.get(F);Ke(q!==null,48541),K.version.compareTo(q)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function NS(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Px(r,e){const t=be(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((v,T)=>{const I=o.get(T);if(!I)return;d.push(t.hi.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,v.addedDocuments,T)));let k=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,s)),o=o.insert(T,k),function(K,q,$){return K.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=Dx?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(I,k,v)&&d.push(t.hi.updateTargetData(l,k))});let p=vi(),g=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(Vx(l,h,e.documentUpdates).next(v=>{p=v.Ls,g=v.ks})),!s.isEqual(we.min())){const v=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return ee.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=o,l))}function Vx(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=vi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue(fg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function Mx(r,e){const t=be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Lx(r,e){const t=be(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(l=>l?(o=l,ee.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new us(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Ep(r,e,t){const s=be(r),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!jo(h))throw h;ue(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function y0(r,e,t){const s=be(r);let o=we.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const T=be(p),I=T.Ms.get(v);return I!==void 0?ee.resolve(T.Fs.get(I)):T.hi.getTargetData(g,v)}(s,h,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:ke())).next(d=>(Ux(s,bO(e),d),{documents:d,qs:l})))}function Ux(r,e,t){let s=r.xs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.xs.set(e,s)}class v0{constructor(){this.activeTargetIds=DO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(){this.Fo=new v0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new v0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="ConnectivityMonitor";class E0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(_0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Tp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=Tp(),d=this.Go(e,t.toUriEncodedString());ue(Gm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:g}=new URL(d),v=Po(g);return this.jo(e,d,p,s,v).then(T=>(ue(Gm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw ys(Gm,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T})}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const s=Bx[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Hx extends qx{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=Tp();return new Promise((d,p)=>{const g=new Ow;g.setWithCredentials(!0),g.listenOnce(xw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const T=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case yh.TIMEOUT:ue(Xt,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const I=g.getStatus();if(ue(Xt,`RPC '${e}' ${h} failed with status:`,I,"response text:",g.getResponseText()),I>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const K=function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(F.status);p(new le(K,F.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ue(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)})}P_(e,t,s){const o=Tp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Vw(),d=Pw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.T_(T);let I=!1,k=!1;const F=new Fx({Ho:q=>{k?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(I||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),K=(q,$,W)=>{q.listen($,Q=>{try{W(Q)}catch(oe){setTimeout(()=>{throw oe},0)}})};return K(T,Xl.EventType.OPEN,()=>{k||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),F.s_())}),K(T,Xl.EventType.CLOSE,()=>{k||(k=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),F.__(),this.I_(T))}),K(T,Xl.EventType.ERROR,q=>{k||(k=!0,ys(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),F.__(new le(Z.UNAVAILABLE,"The operation could not be completed")))}),K(T,Xl.EventType.MESSAGE,q=>{var $;if(!k){const W=q.data[0];Ke(!!W,16349);const Q=W,oe=(Q==null?void 0:Q.error)||(($=Q[0])===null||$===void 0?void 0:$.error);if(oe){ue(Xt,`RPC '${e}' stream ${o} received error:`,oe);const te=oe.status;let ie=function(b){const C=wt[b];if(C!==void 0)return gS(C)}(te),x=oe.message;ie===void 0&&(ie=Z.INTERNAL,x="Unknown error status: "+te+" with message "+oe.message),k=!0,F.__(new le(ie,x)),T.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,W),F.a_(W)}}),K(d,kw.STAT_EVENT,q=>{q.stat===lp.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===lp.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.o_()},0),F}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r){return new QO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class OS{constructor(e,t,s,o,l,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new DS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gx extends OS{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=XO(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Rr(h.readTime):we.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=_p(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=dp(p)?{documents:ex(l,p)}:{query:tx(l,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=_S(l,h.resumeToken);const g=gp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=qh(l,h.snapshotVersion.toTimestamp());const g=gp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=rx(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=_p(this.serializer),t.removeTarget=e,this.k_(t)}}class $x extends OS{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=JO(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=_p(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ZO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{}class Qx extends Kx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,yp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Z.UNKNOWN,l.toString())})}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,yp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Yx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yi(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class Wx{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Ra(this)&&(ue(Ta,"Restarting streams for network reachability change."),await async function(p){const g=be(p);g.Ia.add(4),await xu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await vf(g)}(this))})}),this.Aa=new Yx(s,o)}}async function vf(r){if(Ra(r))for(const e of r.da)await e(!0)}async function xu(r){for(const e of r.da)await e(!1)}function xS(r,e){const t=be(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),gg(t)?pg(t):zo(t).x_()&&mg(t,e))}function dg(r,e){const t=be(r),s=zo(t);t.Ta.delete(e),s.x_()&&kS(t,e),t.Ta.size===0&&(s.x_()?s.B_():Ra(t)&&t.Aa.set("Unknown"))}function mg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(r).H_(e)}function kS(r,e){r.Ra.$e(e),zo(r).Y_(e)}function pg(r){r.Ra=new HO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),zo(r).start(),r.Aa.aa()}function gg(r){return Ra(r)&&!zo(r).M_()&&r.Ta.size>0}function Ra(r){return be(r).Ia.size===0}function PS(r){r.Ra=void 0}async function Xx(r){r.Aa.set("Online")}async function Zx(r){r.Ta.forEach((e,t)=>{mg(r,e)})}async function Jx(r,e){PS(r),gg(r)?(r.Aa.la(e),pg(r)):r.Aa.set("Unknown")}async function ek(r,e,t){if(r.Aa.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){ue(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof Th?r.Ra.Ye(e):e instanceof yS?r.Ra.it(e):r.Ra.et(e),!t.isEqual(we.min()))try{const s=await NS(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ta.get(g);v&&l.Ta.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=l.Ta.get(p);if(!v)return;l.Ta.set(p,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),kS(l,p);const T=new us(v.target,p,g,v.sequenceNumber);mg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue(Ta,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,t){if(!jo(e))throw e;r.Ia.add(1),await xu(r),r.Aa.set("Offline"),t||(t=()=>NS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Ta,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await vf(r)})}function VS(r,e){return e().catch(t=>Hh(r,t,e))}async function _f(r){const e=be(r),t=ws(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Jp;for(;tk(e);)try{const o=await Mx(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,nk(e,o)}catch(o){await Hh(e,o)}MS(e)&&LS(e)}function tk(r){return Ra(r)&&r.Pa.length<10}function nk(r,e){r.Pa.push(e);const t=ws(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function MS(r){return Ra(r)&&!ws(r).M_()&&r.Pa.length>0}function LS(r){ws(r).start()}async function rk(r){ws(r).na()}async function ik(r){const e=ws(r);for(const t of r.Pa)e.X_(t.mutations)}async function sk(r,e,t){const s=r.Pa.shift(),o=ag.from(s,e,t);await VS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _f(r)}async function ak(r,e){e&&ws(r).Z_&&await async function(s,o){if(function(h){return qO(h)&&h!==Z.ABORTED}(o.code)){const l=s.Pa.shift();ws(s).N_(),await VS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await _f(s)}}(r,e),MS(r)&&LS(r)}async function w0(r,e){const t=be(r);t.asyncQueue.verifyOperationInProgress(),ue(Ta,"RemoteStore received new credentials");const s=Ra(t);t.Ia.add(3),await xu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await vf(t)}async function ok(r,e){const t=be(r);e?(t.Ia.delete(2),await vf(t)):e||(t.Ia.add(2),await xu(t),t.Aa.set("Unknown"))}function zo(r){return r.Va||(r.Va=function(t,s,o){const l=be(t);return l.ia(),new Gx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:Xx.bind(null,r),e_:Zx.bind(null,r),n_:Jx.bind(null,r),J_:ek.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),gg(r)?pg(r):r.Aa.set("Unknown")):(await r.Va.stop(),PS(r))})),r.Va}function ws(r){return r.ma||(r.ma=function(t,s,o){const l=be(t);return l.ia(),new $x(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:rk.bind(null,r),n_:ak.bind(null,r),ea:ik.bind(null,r),ta:sk.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await _f(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(Ta,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new yg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(r,e){if(yi("AsyncQueue",`${e}: ${r}`),jo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Zl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.fa=new ot(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class xo{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new xo(e,t,Io.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class uk{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=be(t),l=o.queries;o.queries=b0(),l.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function b0(){return new Aa(r=>iS(r),ff)}async function _g(r,e){const t=be(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new lk,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=vg(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Tg(t)}async function Eg(r,e){const t=be(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ck(r,e){const t=be(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&Tg(t)}function hk(r,e,t){const s=be(r),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function Tg(r){r.Da.forEach(e=>{e.next()})}var wp,A0;(A0=wp||(wp={})).Fa="default",A0.Cache="cache";class wg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class fk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=sS(e),this.eu=new Io(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new S0,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const I=o.get(v),k=df(this.query,T)?T:null,F=!!I&&this.mutatedKeys.has(I.key),K=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;I&&k?I.data.isEqual(k.data)?F!==K&&(s.track({type:3,doc:k}),q=!0):this.iu(I,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(d=!0)):!I&&k?(s.track({type:0,doc:k}),q=!0):I&&!k&&(s.track({type:1,doc:I}),q=!0,(p||g)&&(d=!0)),q&&(k?(h=h.add(k),l=K?l.add(v):l.delete(v)):(h=h.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{eu:h,ru:s,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((v,T)=>function(k,F){const K=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:q})}};return K(k)-K(F)}(v.type,T.type)||this.Xa(v.doc,T.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new xo(this.query,e.eu,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new S0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new jS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new US(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return xo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Sg="SyncEngine";class dk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mk{constructor(e){this.key=e,this.lu=!1}}class pk{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Aa(d=>iS(d),ff),this.Tu=new Map,this.Iu=new Set,this.du=new ot(ge.comparator),this.Eu=new Map,this.Au=new ug,this.Ru={},this.Vu=new Map,this.mu=Oo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function gk(r,e,t=!0){const s=GS(r);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await zS(s,e,t,!0),o}async function yk(r,e){const t=GS(r);await zS(t,e,!0,!1)}async function zS(r,e,t,s){const o=await Lx(r.localStore,Ar(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await vk(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&xS(r.remoteStore,o),d}async function vk(r,e,t,s,o){r.gu=(T,I,k)=>async function(K,q,$,W){let Q=q.view.nu($);Q.Ds&&(Q=await y0(K.localStore,q.query,!1).then(({documents:x})=>q.view.nu(x,Q)));const oe=W&&W.targetChanges.get(q.targetId),te=W&&W.targetMismatches.get(q.targetId)!=null,ie=q.view.applyChanges(Q,K.isPrimaryClient,oe,te);return I0(K,q.targetId,ie._u),ie.snapshot}(r,T,I,k);const l=await y0(r.localStore,e,!0),h=new fk(e,l.qs),d=h.nu(l.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);I0(r,t,g._u);const v=new dk(e,t,h);return r.Pu.set(e,v),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function _k(r,e,t){const s=be(r),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter(h=>!ff(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&dg(s.remoteStore,o.targetId),Sp(s,o.targetId)}).catch(Uo)):(Sp(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function Ek(r,e){const t=be(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),dg(t.remoteStore,s.targetId))}async function Tk(r,e,t){const s=Ck(r);try{const o=await function(h,d){const p=be(h),g=tt.now(),v=d.reduce((k,F)=>k.add(F.key),ke());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=vi(),K=ke();return p.Os.getEntries(k,v).next(q=>{F=q,F.forEach(($,W)=>{W.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,F)).next(q=>{T=q;const $=[];for(const W of d){const Q=LO(W,T.get(W.key).overlayedDocument);Q!=null&&$.push(new Ns(W.key,Q,Ww(Q.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,d)}).next(q=>{I=q;const $=q.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(k,q.batchId,$)})}).then(()=>({batchId:I.batchId,changes:oS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ot(Ne)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await ku(s,o.changes),await _f(s.remoteStore)}catch(o){const l=vg(o,"Failed to persist write");t.reject(l)}}async function BS(r,e){const t=be(r);try{const s=await Px(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await ku(t,s,e)}catch(s){await Uo(s)}}function R0(r,e,t){const s=be(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((l,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=be(h);p.onlineState=d;let g=!1;p.queries.forEach((v,T)=>{for(const I of T.wa)I.va(d)&&(g=!0)}),g&&Tg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wk(r,e,t){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new ot(ge.comparator);h=h.insert(l,Jt.newNoDocument(l,we.min()));const d=ke().add(l),p=new gf(we.min(),new Map,new ot(Ne),h,d);await BS(s,p),s.du=s.du.remove(l),s.Eu.delete(e),bg(s)}else await Ep(s.localStore,e,!1).then(()=>Sp(s,e,t)).catch(Uo)}async function Sk(r,e){const t=be(r),s=e.batch.batchId;try{const o=await kx(t.localStore,e);FS(t,s,null),qS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ku(t,o)}catch(o){await Uo(o)}}async function bk(r,e,t){const s=be(r);try{const o=await function(h,d){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ke(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);FS(s,e,t),qS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ku(s,o)}catch(o){await Uo(o)}}function qS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function FS(r,e,t){const s=be(r);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Sp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||HS(r,s)})}function HS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(dg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),bg(r))}function I0(r,e,t){for(const s of t)s instanceof US?(r.Au.addReference(s.key,e),Ak(r,s)):s instanceof jS?(ue(Sg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||HS(r,s.key)):Te(19791,{yu:s})}function Ak(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ue(Sg,"New document in limbo: "+t),r.Iu.add(s),bg(r))}function bg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(et.fromString(e)),s=r.mu.next();r.Eu.set(s,new mk(t)),r.du=r.du.insert(t,s),xS(r.remoteStore,new us(Ar(hf(t.path)),s,"TargetPurposeLimboResolution",lf.ue))}}async function ku(r,e,t){const s=be(r),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=hg.Es(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const v=be(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,I=>ee.forEach(I.Is,k=>v.persistence.referenceDelegate.addReference(T,I.targetId,k)).next(()=>ee.forEach(I.ds,k=>v.persistence.referenceDelegate.removeReference(T,I.targetId,k)))))}catch(T){if(!jo(T))throw T;ue(fg,"Failed to update sequence numbers: "+T)}for(const T of g){const I=T.targetId;if(!T.fromCache){const k=v.Fs.get(I),F=k.snapshotVersion,K=k.withLastLimboFreeSnapshotVersion(F);v.Fs=v.Fs.insert(I,K)}}}(s.localStore,l))}async function Rk(r,e){const t=be(r);if(!t.currentUser.isEqual(e)){ue(Sg,"User change. New user:",e.toKey());const s=await CS(t.localStore,e);t.currentUser=e,function(l,h){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new le(Z.CANCELLED,h))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(t,s.Bs)}}function Ik(r,e){const t=be(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function GS(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=BS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wk.bind(null,e),e.hu.J_=ck.bind(null,e.eventManager),e.hu.pu=hk.bind(null,e.eventManager),e}function Ck(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return xx(this.persistence,new Nx,e.initialUser,this.serializer)}Du(e){return new IS(cg.Vi,this.serializer)}bu(e){return new jx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class Nk extends Gh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mx(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new IS(s=>Fh.Vi(s,t),this.serializer)}}class bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>R0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rk.bind(null,this.syncEngine),await ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uk}()}createDatastore(e){const t=yf(e.databaseInfo.databaseId),s=function(l){return new Hx(l)}(e.databaseInfo);return function(l,h,d,p){return new Qx(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new Wx(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>R0(this.syncEngine,t,0),function(){return E0.C()?new E0:new zx}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,v){const T=new pk(o,l,h,d,p,g);return v&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=be(o);ue(Ta,"RemoteStore shutting down."),l.Ia.add(5),await xu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class Dk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ue(Ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(Ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=vg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ss,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await CS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ys("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ys("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function C0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Ok(r);ue(Ss,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>w0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>w0(e.remoteStore,o)),r._onlineComponents=e}async function Ok(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ss,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ys("Error using user provided cache. Falling back to memory cache: "+t),await Km(r,new Gh)}}else ue(Ss,"Using default OfflineComponentProvider"),await Km(r,new Nk(void 0));return r._offlineComponents}async function $S(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ss,"Using user provided OnlineComponentProvider"),await C0(r,r._uninitializedComponentsProvider._online)):(ue(Ss,"Using default OnlineComponentProvider"),await C0(r,new bp))),r._onlineComponents}function xk(r){return $S(r).then(e=>e.syncEngine)}async function $h(r){const e=await $S(r),t=e.eventManager;return t.onListen=gk.bind(null,e.syncEngine),t.onUnlisten=_k.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ek.bind(null,e.syncEngine),t}function kk(r,e,t={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const v=new Ag({next:I=>{v.Ou(),h.enqueueAndForget(()=>Eg(l,T));const k=I.docs.has(d);!k&&I.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new wg(hf(d.path),v,{includeMetadataChanges:!0,ka:!0});return _g(l,T)}(await $h(r),r.asyncQueue,e,t,s)),s.promise}function Pk(r,e,t={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const v=new Ag({next:I=>{v.Ou(),h.enqueueAndForget(()=>Eg(l,T)),I.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new wg(d,v,{includeMetadataChanges:!0,ka:!0});return _g(l,T)}(await $h(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",D0=!0;class O0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=D0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fx)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qD;switch(s.type){case"firstParty":return new $D(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=N0.get(t);s&&(ue("ComponentProvider","Removing Datastore"),N0.delete(t),s.terminate())}(this),Promise.resolve()}}function Vk(r,e,t,s={}){var o;r=pn(r,Ef);const l=Po(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(vT(`https://${p}`),_T("Firestore",!0)),h.host!==QS&&h.host!==p&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!gs(g,d)&&(r._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=Zt.MOCK_USER;else{v=OR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(I)}r._authCredentials=new FD(new Lw(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Cu(t,dt._jsonSchema))return new dt(e,s||null,new ge(et.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:bt("string",dt._jsonSchemaVersion),referencePath:bt("string")};class ds extends Ia{constructor(e,t,s){super(e,t,hf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function ms(r,e,...t){if(r=yt(r),jw("collection","path",e),r instanceof Ef){const s=et.fromString(e,...t);return HE(s),new ds(r,null,s)}{if(!(r instanceof dt||r instanceof ds))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return HE(s),new ds(r.firestore,null,s)}}function en(r,e,...t){if(r=yt(r),arguments.length===1&&(e=Zp.newId()),jw("doc","path",e),r instanceof Ef){const s=et.fromString(e,...t);return FE(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof ds))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return FE(s),new dt(r.firestore,r instanceof ds?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new DS(this,"async_queue_retry"),this.oc=()=>{const s=$m();s&&ue(x0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=$m();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=$m();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new di;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jo(e))throw e;ue(x0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,yi("INTERNAL UNHANDLED ERROR: ",P0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,s,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:P0(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function P0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class _i extends Ef{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new k0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function Mk(r,e){const t=typeof r=="object"?r:Pp(),s=typeof r=="string"?r:Mh,o=ba(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=NR("firestore");l&&Vk(o,...l)}return o}function Tf(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Lk(r),r._firestoreClient}function Lk(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,v){return new lO(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,KS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Dk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Kt.fromBase64String(e))}catch(t){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:bt("string",Fn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:bt("string",Ir._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Cr(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:bt("string",Cr._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=/^__.*__$/;class jk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class YS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Ig{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Kh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(WS(this.Ec)&&Uk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class zk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||yf(e)}Dc(e,t,s,o=!1){return new Ig({Ec:e,methodName:t,bc:s,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(r){const e=r._freezeSettings(),t=yf(r._databaseId);return new zk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function XS(r,e,t,s,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);Cg("Data must be an object, but it was:",h,s);const d=ZS(s,h);let p,g;if(l.merge)p=new bn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const I=Ap(e,T,t);if(!h.contains(I))throw new le(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);eb(v,I)||v.push(I)}p=new bn(v),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new jk(new dn(d),p,g)}class bf extends Rg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function Bk(r,e,t,s){const o=r.Dc(1,e,t);Cg("Data must be an object, but it was:",o,s);const l=[],h=dn.empty();Cs(s,(p,g)=>{const v=Ng(e,p,t);g=yt(g);const T=o.gc(v);if(g instanceof bf)l.push(v);else{const I=Pu(g,T);I!=null&&(l.push(v),h.set(v,I))}});const d=new bn(l);return new YS(h,d,o.fieldTransforms)}function qk(r,e,t,s,o,l){const h=r.Dc(1,e,t),d=[Ap(e,s,t)],p=[o];if(l.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Ap(e,l[I])),p.push(l[I+1]);const g=[],v=dn.empty();for(let I=d.length-1;I>=0;--I)if(!eb(g,d[I])){const k=d[I];let F=p[I];F=yt(F);const K=h.gc(k);if(F instanceof bf)g.push(k);else{const q=Pu(F,K);q!=null&&(g.push(k),v.set(k,q))}}const T=new bn(g);return new YS(v,T,h.fieldTransforms)}function Fk(r,e,t,s=!1){return Pu(t,r.Dc(s?4:3,e))}function Pu(r,e){if(JS(r=yt(r)))return Cg("Unsupported field value:",e,r),ZS(r,e);if(r instanceof Rg)return function(s,o){if(!WS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Pu(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=tt.fromDate(s);return{timestampValue:qh(o.serializer,l)}}if(s instanceof tt){const l=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,l)}}if(s instanceof Ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof dt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Cr)return function(h,d){return{mapValue:{fields:{[Qw]:{stringValue:Yw},[Lh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return ig(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${of(s)}`)}(r,e)}function ZS(r,e){const t={};return qw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(r,(s,o)=>{const l=Pu(o,e.Vc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function JS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Ir||r instanceof Fn||r instanceof dt||r instanceof Rg||r instanceof Cr)}function Cg(r,e,t){if(!JS(t)||!zw(t)){const s=of(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ap(r,e,t){if((e=yt(e))instanceof wf)return e._internalPath;if(typeof e=="string")return Ng(r,e);throw Kh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Hk=new RegExp("[~\\*/\\[\\]]");function Ng(r,e,t){if(e.search(Hk)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new wf(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Kh(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,d+r+p)}function eb(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Gk extends tb{data(){return super.data()}}function Dg(r,e){return typeof e=="string"?Ng(r,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class $k extends Og{}function vu(r,e,...t){let s=[];e instanceof Og&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof xg).length,d=l.filter(p=>p instanceof Af).length;if(h>1||h>0&&d>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Af extends $k{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Af(e,t,s)}_apply(e){const t=this._parse(e);return rb(e._query,t),new Ia(e.firestore,e.converter,mp(e._query,t))}_parse(e){const t=Sf(e.firestore);return function(l,h,d,p,g,v,T){let I;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){L0(T,v);const F=[];for(const K of T)F.push(M0(p,l,K));I={arrayValue:{values:F}}}else I=M0(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||L0(T,v),I=Fk(d,h,T,v==="in"||v==="not-in");return St.create(g,v,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oi(r,e,t){const s=e,o=Dg("where",r);return Af._create(o,s,t)}class xg extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)rb(h,p),h=mp(h,p)}(e._query,t),new Ia(e.firestore,e.converter,mp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function M0(r,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rS(e)&&t.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ZE(r,new ge(s))}if(t instanceof dt)return ZE(r,t._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(t)}.`)}function L0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rb(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kk{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Cs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Lh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new Cr(l)}convertGeoPoint(e){return new Ir(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=cf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const t=_s(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(AS(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||yi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class eu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends tb{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Dg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:bt("string",da._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class wh extends da{data(e={}){return super.data(e)}}class ma{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new eu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new wh(this._firestore,this._userDataWriter,s.key,s,new eu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new eu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new eu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:Qk(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r){r=pn(r,dt);const e=pn(r.firestore,_i);return kk(Tf(e),r._key).then(t=>ab(e,r,t))}ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:bt("string",ma._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class kg extends Kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function _u(r){r=pn(r,Ia);const e=pn(r.firestore,_i),t=Tf(e),s=new kg(e);return nb(r._query),Pk(t,r._query).then(o=>new ma(e,s,r,o))}function Rf(r,e,t){r=pn(r,dt);const s=pn(r.firestore,_i),o=ib(r.converter,e,t);return If(s,[XS(Sf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Gn.none())])}function Sh(r,e,t,...s){r=pn(r,dt);const o=pn(r.firestore,_i),l=Sf(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof wf?qk(l,"updateDoc",r._key,e,t,s):Bk(l,"updateDoc",r._key,e),If(o,[h.toMutation(r._key,Gn.exists(!0))])}function Yk(r){return If(pn(r.firestore,_i),[new sg(r._key,Gn.none())])}function sb(r,e){const t=pn(r.firestore,_i),s=en(r),o=ib(r.converter,e);return If(t,[XS(Sf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Wk(r,...e){var t,s,o;r=yt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||V0(e[h])||(l=e[h++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(V0(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,v;if(r instanceof dt)g=pn(r.firestore,_i),v=hf(r._key.path),p={next:T=>{e[h]&&e[h](ab(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=pn(r,Ia);g=pn(T.firestore,_i),v=T._query;const I=new kg(g);p={next:k=>{e[h]&&e[h](new ma(g,I,T,k))},error:e[h+1],complete:e[h+2]},nb(r._query)}return function(I,k,F,K){const q=new Ag(K),$=new wg(k,q,F);return I.asyncQueue.enqueueAndForget(async()=>_g(await $h(I),$)),()=>{q.Ou(),I.asyncQueue.enqueueAndForget(async()=>Eg(await $h(I),$))}}(Tf(g),v,d,p)}function If(r,e){return function(s,o){const l=new di;return s.asyncQueue.enqueueAndForget(async()=>Tk(await xk(s),o,l)),l.promise}(Tf(r),e)}function ab(r,e,t){const s=t.docs.get(e._key),o=new kg(r);return new da(r,o,e._key,s,new eu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Lo=o})(Vo),Nr(new rr("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new _i(new HD(s.getProvider("auth-internal")),new KD(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,v)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Hn(UE,jE,e),Hn(UE,jE,"esm2017")})();const Xk={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},Pg=RT(Xk);UD(Pg);const Ei=_N(Pg),Zk=new li,st=Mk(Pg),Jk=async()=>{const r=await C2(Ei,Zk);eP(r);const e=en(st,"users",r.user.uid);return Rf(e,{name:r.user.displayName,email:r.user.email,uid:r.user.uid},{merge:!0}),r};function eP(r){const e={name:r.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function tP(){const r=sr();return{handleGoogleSignIn:async()=>{try{await Jk(),r("/dashboard")}catch(t){console.error("Sign in failed:",t)}}}}function nP(r,e){return i2(Ei,r,e)}const rP=({className:r})=>{const[e,t]=U.useState(""),[s,o]=U.useState(""),l=sr(),h=async d=>{d.preventDefault();try{await nP(e,s),l("/dashboard")}catch(p){alert("Login failed: "+p.message)}};return w.jsxs("form",{onSubmit:h,className:r,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email:"}),w.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password:"}),w.jsx("input",{className:"form-input",type:"password",id:"password",required:!0,value:s,onChange:d=>o(d.target.value)})]}),w.jsx("button",{type:"submit",children:"Login"})]})},iP=async(r,e)=>{const t=await r2(Ei,r,e),s=t.user,o=en(st,"users",s.uid);return await Rf(o,{name:s.displayName,email:s.email,uid:s.uid,createdAt:new Date().toISOString()},{merge:!0}),t},U0=r=>{const e=[];return r.length<8&&e.push("At least 8 characters"),/[A-Z]/.test(r)||e.push("At least one uppercase letter"),/[a-z]/.test(r)||e.push("At least one lowercase letter"),/[0-9]/.test(r)||e.push("At least one number"),/[^a-zA-Z0-9]/.test(r)||e.push("At least one special character"),{isValid:e.length===0,missingRequirements:e,message:e.length===0?"Password meets all requirements":"Password does not meet requirements",status:{containsLowercaseLetter:/[a-z]/.test(r),containsUppercaseLetter:/[A-Z]/.test(r),containsNumericCharacter:/[0-9]/.test(r),containsNonAlphanumericCharacter:/[^a-zA-Z0-9]/.test(r),meetsMinPasswordLength:r.length>=8}}},j0=r=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r);return{isValid:t,message:t?"Valid email":"Please enter a valid email address"}},sP=["tempmail.com","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org","fakeinbox.com","trashmail.com","yopmail.com"],z0=r=>{var t;const e=(t=r.split("@")[1])==null?void 0:t.toLowerCase();return sP.includes(e)},aP=({className:r})=>{const[e,t]=U.useState(""),[s,o]=U.useState(""),[l,h]=U.useState(""),[d,p]=U.useState(null),[g,v]=U.useState(!1),[T,I]=U.useState(!1),k=sr();U.useEffect(()=>{if(s){const $=U0(s);p($)}else p(null)},[s]);const F=()=>{if(e){const $=j0(e);$.isValid?z0(e)?h("Disposable email addresses are not allowed"):h(""):h($.message)}},K=async $=>{$.preventDefault(),I(!0);const W=j0(e);if(!W.isValid){h(W.message),I(!1);return}if(z0(e)){h("Disposable email addresses are not allowed"),I(!1);return}if(!U0(s).isValid){alert("Password does not meet requirements. Please check the requirements below."),I(!1);return}try{await iP(e,s),k("/dashboard")}catch(oe){let te="Sign up failed. Please try again.";switch(oe.code){case"auth/email-already-in-use":te="This email is already registered. Please login instead.",h(te);break;case"auth/invalid-email":te="Invalid email address.",h(te);break;case"auth/weak-password":te="Password is too weak. Please choose a stronger password.";break;case"auth/operation-not-allowed":te="Email/password accounts are not enabled. Please contact support.";break;case"auth/too-many-requests":te="Too many sign-up attempts. Please try again later.";break;default:te=oe.message||te}alert(te)}finally{I(!1)}},q=()=>e&&s&&!l&&(d==null?void 0:d.isValid);return w.jsxs("form",{className:r,onSubmit:K,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"email",children:"Email:"}),w.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:$=>{t($.target.value),h("")},onBlur:F,required:!0,style:{borderColor:l?"#f44336":void 0}}),l&&w.jsx("p",{style:er.errorText,children:l})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"password",children:"Password:"}),w.jsxs("div",{style:er.passwordContainer,children:[w.jsx("input",{className:"form-input",type:g?"text":"password",id:"password",value:s,onChange:$=>o($.target.value),required:!0,style:{width:"100%",paddingRight:"60px"}}),w.jsx("button",{type:"button",onClick:()=>v(!g),style:er.showButton,children:g?"Hide":"Show"})]}),s&&d&&w.jsxs("div",{style:er.requirementsBox,children:[w.jsx("p",{style:er.requirementsTitle,children:"Password Requirements:"}),w.jsxs("ul",{style:er.requirementsList,children:[w.jsxs("li",{style:{...er.requirement,color:d.status.meetsMinPasswordLength?"#4CAF50":"#666"},children:[d.status.meetsMinPasswordLength?"":""," ","At least 8 characters"]}),w.jsxs("li",{style:{...er.requirement,color:d.status.containsUppercaseLetter?"#4CAF50":"#666"},children:[d.status.containsUppercaseLetter?"":""," ","One uppercase letter (A-Z)"]}),w.jsxs("li",{style:{...er.requirement,color:d.status.containsLowercaseLetter?"#4CAF50":"#666"},children:[d.status.containsLowercaseLetter?"":""," ","One lowercase letter (a-z)"]}),w.jsxs("li",{style:{...er.requirement,color:d.status.containsNumericCharacter?"#4CAF50":"#666"},children:[d.status.containsNumericCharacter?"":""," ","One number (0-9)"]}),w.jsxs("li",{style:{...er.requirement,color:d.status.containsNonAlphanumericCharacter?"#4CAF50":"#666"},children:[d.status.containsNonAlphanumericCharacter?"":""," ","One special character"]})]})]})]}),w.jsx("button",{type:"submit",disabled:!q()||T,style:{opacity:q()&&!T?1:.5,cursor:q()&&!T?"pointer":"not-allowed"},children:T?"Signing up...":"Sign Up"})]})},er={errorText:{color:"#f44336",fontSize:"12px",marginTop:"5px",marginBottom:0},passwordContainer:{position:"relative",display:"flex",alignItems:"center"},showButton:{position:"absolute",right:"10px",background:"none",border:"none",color:"#3498db",cursor:"pointer",fontSize:"12px",padding:"5px 10px"},requirementsBox:{marginTop:"10px",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0"},requirementsTitle:{fontSize:"12px",fontWeight:"bold",marginBottom:"8px",marginTop:0,color:"#333"},requirementsList:{listStyle:"none",padding:0,margin:0},requirement:{fontSize:"12px",marginBottom:"4px",transition:"color 0.2s ease"}},oP=()=>{const{handleGoogleSignIn:r}=tP(),[e,t]=U.useState(!0);return w.jsx("div",{className:"auth-container",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),w.jsxs("div",{className:"auth-form-wrapper",children:[w.jsx(rP,{className:`auth-form${e?" active":""}`}),w.jsx(aP,{className:`auth-form${e?"":" active"}`})]}),w.jsx("button",{className:"auth-btn auth-btn-google",onClick:r,children:"Sign in with Google"}),w.jsx("div",{className:"auth-switch",children:e?w.jsxs(w.Fragment,{children:["Don't have an account?",w.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!1)},children:"Sign Up"})]}):w.jsxs(w.Fragment,{children:["Already have an account?",w.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!0)},children:"Login"})]})})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function lP(r,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(v){try{g(s.next(v))}catch(T){h(T)}}function p(v){try{g(s.throw(v))}catch(T){h(T)}}function g(v){v.done?l(v.value):o(v.value).then(d,p)}g((s=s.apply(r,[])).next())})}function uP(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(v){g=[6,v],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var So=function(){return So=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},So.apply(this,arguments)},ob=function(r){return{loading:r==null,value:r}},cP=function(){return function(r,e){switch(e.type){case"error":return So(So({},r),{error:e.error,loading:!1,value:void 0});case"reset":return ob(e.defaultValue);case"value":return So(So({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},hP=function(r){var e=r?r():void 0,t=U.useReducer(cP(),ob(e)),s=t[0],o=t[1],l=U.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=U.useCallback(function(p){o({type:"error",error:p})},[]),d=U.useCallback(function(p){o({type:"value",value:p})},[]);return U.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:d,value:s.value}},[s.error,s.loading,l,h,d,s.value])},fP=function(r,e){var t=hP(function(){return r.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return U.useEffect(function(){var p=o2(r,function(g){return lP(void 0,void 0,void 0,function(){var v;return uP(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return v=T.sent(),l(v),[3,4];case 4:return h(g),[2]}})})},l);return function(){p()}},[r]),[d,o,s]};const lb=U.createContext();function dP({children:r}){const[e,t,s]=fP(Ei),o=async()=>{try{await l2(Ei),console.log("User signed out successfully")}catch(l){throw console.error("Error signing out:",l),l}};return w.jsx(lb.Provider,{value:{user:e,loading:t,error:s,logout:o},children:r})}function Vu(){return U.useContext(lb)}const mP=()=>{const r=sr(),{user:e,logout:t}=Vu(),s=async()=>{try{await t(),r("/")}catch(o){console.error("Failed to sign out:",o),alert("Failed to sign out. Please try again.")}};return w.jsxs("div",{className:"dashboard-container",children:[w.jsx("div",{className:"dashboard-header",children:w.jsx("button",{className:"btn-sign-out",onClick:s,children:"Sign Out"})}),w.jsxs("div",{className:"nav-cards",children:[w.jsxs("div",{className:"nav-card create-program-card",onClick:()=>r("/CreateProgram"),children:[w.jsx("h3",{children:"Create New Program"}),w.jsx("p",{children:"Build a custom workout program tailored to your goals"}),w.jsx("div",{className:"card-action",children:"Get Started "})]}),w.jsxs("div",{className:"nav-card view-programs-card",onClick:()=>r("/ListOfUsersPrograms"),children:[w.jsx("h3",{children:"My Programs"}),w.jsx("p",{children:"View and manage your existing workout programs"}),w.jsx("div",{className:"card-action",children:"View Programs "})]})]}),w.jsxs("div",{className:"quick-stats",children:[w.jsx("h3",{children:"Quick Stats"}),w.jsxs("div",{className:"stats-grid",children:[w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label"}),w.jsx("span",{className:"stat-value",children:"-"})]}),w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label"}),w.jsx("span",{className:"stat-value",children:"-"})]}),w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label"}),w.jsx("span",{className:"stat-value",children:"-"})]})]}),w.jsx("p",{className:"stats-note",children:" Stats coming soon in future updates!"})]}),w.jsx("div",{className:"dashboard-footer",children:w.jsx("p",{children:"Thanks for testing my workout tracker! "})})]})};class Vg{watch(e,t,s){throw new Error("Not implemented")}}class pP extends Vg{watchUserPrograms(e,t,s){throw new Error("Not implemented")}getUserPrograms(e){throw new Error("Not implemented")}getProgram(e){throw new Error("Not implemented")}createProgram(e){throw new Error("Not implemented")}updateProgram(e,t){throw new Error("Not implemented")}deleteProgram(e){throw new Error("Not implemented")}}class gP extends pP{watchUserPrograms(e,t,s){const o=vu(ms(st,"programs"),oi("createdBy","==",e));return Wk(o,l=>{const h=[];l.forEach(d=>{h.push({id:d.id,...d.data()})}),t(h)},s)}async getUserPrograms(e){const t=vu(ms(st,"programs"),oi("createdBy","==",e)),s=await _u(t),o=[];return s.forEach(l=>{o.push({id:l.id,...l.data()})}),o}async getProgram(e){const t=en(st,"programs",e),s=await ps(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Program not found")}async createProgram(e){return(await sb(ms(st,"programs"),e)).id}async updateProgram(e,t){const s=en(st,"programs",e);return await Sh(s,t),!0}async deleteProgram(e){return await Yk(en(st,"programs",e)),!0}}class yP extends Vg{getWorkout(e){throw new Error("Not implemented")}saveWorkoutProgress(e,t){throw new Error("Not implemented")}addWorkout(e,t){throw new Error("Not implemented")}updateWorkoutName(e,t,s){throw new Error("Not implemented")}getPreviousWeekSession(e,t,s){throw new Error("Not implemented")}}class vP extends yP{async getWorkout(e){const t=en(st,"workouts",e),s=await ps(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Workout not found")}async saveWorkoutProgress(e,t){const s=en(st,"workouts",e);return await Sh(s,{progress:t}),!0}async addWorkoutToProgram(e,t){try{const s=en(st,"programs",e),o=await ps(s);if(!o.exists())throw new Error(`Program with ID ${e} not found`);const l=o.data(),h=l.workouts||[];console.log("Current Program Data:",l);const d=[...h,t];return await Sh(s,{workouts:d}),t.id}catch(s){throw console.error("Error adding workout to program:",s),s}}async updateWorkoutName(e,t,s){try{const o=en(st,"programs",e),l=await ps(o);if(!l.exists())throw new Error(`Program with ID ${e} not found`);const d=(l.data().workouts||[]).map(p=>p.id===t?{...p,name:s}:p);return await Sh(o,{workouts:d}),!0}catch(o){throw console.error("Error updating workout name:",o),o}}async getPreviousWeekSession(e,t,s){try{const o=s-1;if(o<1)return null;const l=ms(st,"sessions"),h=vu(l,oi("userId","==",e),oi("workoutTemplateId","==",t),oi("week","==",o)),d=await _u(h);return d.empty?null:d.docs.map(v=>({id:v.id,...v.data()})).sort((v,T)=>{const I=new Date(v.timestamp).getTime();return new Date(T.timestamp).getTime()-I})[0]}catch(o){return console.error("Error fetching previous week session:",o),null}}async getSessionByTemplateAndWeek(e,t,s){try{const o=ms(st,"sessions"),l=vu(o,oi("userId","==",e),oi("workoutTemplateId","==",t),oi("week","==",s)),h=await _u(l);return h.empty?null:h.docs.map(g=>({id:g.id,...g.data()})).sort((g,v)=>{const T=new Date(g.timestamp).getTime();return new Date(v.timestamp).getTime()-T})[0]}catch(o){return console.error("Error fetching session by template and week:",o),null}}}class _P extends Vg{getTemplate(e,t){throw new Error("Method not implemented")}createTemplate(e,t){throw new Error("Method not implemented")}getOrCreateTemplate(e,t){throw new Error("Method not implemented")}getExerciseTemplates(e){throw new Error("Method not implemented")}getTemplateById(e,t){throw new Error("Method not implemented")}updateTemplate(e,t,s){throw new Error("Method not implemented")}}function B0(r){let e=r.trim().toLowerCase();return e=e.replace(/[^\w\s]/gi,""),e=e.replace(/[-_]/g," "),e=e.replace(/\s+/g," "),console.log("Standardized input:",e),e}class EP extends _P{constructor(){super(),this.templateCache=new Map}async getTemplate(e,t){const s=B0(t.name),o=`${e}:${s}`;if(this.templateCache.has(o))return this.templateCache.get(o);if(t.templateId)try{const d=await this.getTemplateById(e,t.templateId);if(d)return this.templateCache.set(o,d),d}catch(d){console.error("Error fetching template:",d)}const l=ms(st,"users",e,"exerciseTemplates"),h=vu(l,oi("standardizedName","==",s));try{const d=await _u(h);if(!d.empty){const p=d.docs[0],g={id:p.id,...p.data()};return this.templateCache.set(o,g),g}return null}catch(d){throw console.error("Error in getTemplate:",d),d}}async createTemplate(e,t){const s=B0(t.name),o=await this.getTemplate(e,t);if(o)return o;const l={name:t.name,standardizedName:s,category:t.category||"Other",defaultSets:t.sets?t.sets.map(v=>({reps:v.reps||"",weight:v.weight||null,rir:v.rir||""})):[{reps:"",weight:null,rir:""}],createdAt:new Date,userId:e},h=ms(st,"users",e,"exerciseTemplates"),p={id:(await sb(h,l)).id,...l},g=`${e}:${s}`;return this.templateCache.set(g,p),p}async getOrCreateTemplate(e,t){const s=await this.getTemplate(e,t);return s||await this.createTemplate(e,t)}async getTemplateById(e,t){try{const s=en(st,"users",e,"exerciseTemplates",t),o=await ps(s);return o.exists()?{id:o.id,...o.data()}:null}catch(s){throw console.error("Error in getTemplateById:",s),s}}async getExerciseTemplates(e){try{const t=ms(st,"users",e,"exerciseTemplates");return(await _u(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error in getExerciseTemplates:",t),t}}async updateTemplate(e,t,s){try{const o=en(st,"users",e,"exerciseTemplates",t);return await Rf(o,s,{merge:!0}),{id:t,...s}}catch(o){throw console.error("Error in updateTemplate:",o),o}}}class TP{constructor(){this._programRepository=new gP,this._workoutRepository=new vP,this._exerciseTemplateRepository=new EP}get programRepository(){return this._programRepository}get workoutRepository(){return this._workoutRepository}get exerciseTemplateRepository(){return this._exerciseTemplateRepository}}const Or=new TP,ub=Object.freeze(Object.defineProperty({__proto__:null,repositoryFactory:Or},Symbol.toStringTag,{value:"Module"})),cb=Or.programRepository,wP=async r=>await cb.createProgram(r),SP=async r=>await cb.deleteProgram(r),bP=({program:r,setProgram:e})=>w.jsxs("div",{className:"step-content",children:[w.jsx("h2",{children:"Program Details"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Program Name"}),w.jsx("input",{type:"text",value:r.name,onChange:t=>e(s=>({...s,name:t.target.value})),placeholder:"Enter program name"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Description"}),w.jsx("textarea",{value:r.description,onChange:t=>e(s=>({...s,description:t.target.value})),placeholder:"Describe your program",rows:"3"})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Duration (weeks)"}),w.jsx("input",{type:"number",value:r.duration,onChange:t=>e(s=>({...s,duration:t.target.value})),placeholder:"e.g., 12"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Difficulty"}),w.jsxs("select",{value:r.difficulty,onChange:t=>e(s=>({...s,difficulty:t.target.value})),children:[w.jsx("option",{value:"beginner",children:"Beginner"}),w.jsx("option",{value:"intermediate",children:"Intermediate"}),w.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),AP=({exercise:r,setExercise:e,onAddExercise:t})=>{const[s,o]=U.useState([]);return U.useEffect(()=>{(async()=>{const h=Ei.currentUser;if(h)try{const d=await Or.exerciseTemplateRepository.getExerciseTemplates(h.uid);o(d||[])}catch(d){console.error("Error fetching templates:",d)}})()},[]),w.jsxs("div",{className:"exercise-section",children:[w.jsx("h3",{children:"Add Exercise"}),w.jsxs("div",{className:"form-row",children:[w.jsx("input",{type:"text",value:r.name,onChange:l=>e(h=>({...h,name:l.target.value})),placeholder:"Exercise name",list:"exercise-templates"}),w.jsx("datalist",{id:"exercise-templates",children:s.map(l=>w.jsx("option",{value:l.name},l.id))}),w.jsx("input",{type:"number",value:r.sets,onChange:l=>e(h=>({...h,sets:l.target.value})),placeholder:"Sets"}),w.jsx("input",{type:"text",value:r.reps,onChange:l=>e(h=>({...h,reps:l.target.value})),placeholder:"Reps"}),w.jsx("button",{type:"button",onClick:t,className:"btn-add",children:"Add"})]})]})},RP=({exercises:r,onRemoveExercise:e})=>r.length===0?null:w.jsxs("div",{className:"exercise-list",children:[w.jsx("h4",{children:"Exercises in this workout:"}),r.map(t=>w.jsxs("div",{className:"exercise-item",children:[w.jsxs("span",{children:[t.name," - ",t.sets.length," sets x"," ",t.sets[0].reps," reps"," "]}),w.jsx("button",{onClick:()=>e(t.id),className:"btn-remove","aria-label":`Remove ${t.name}`,title:`Remove ${t.name}`,children:"X"})]},t.id))]}),IP=({workout:r,onRemoveWorkout:e})=>w.jsxs("div",{className:"workout-preview",children:[w.jsxs("div",{className:"workout-header",children:[w.jsx("h5",{children:r.name}),w.jsx("button",{onClick:()=>e(r.id),className:"btn-remove",children:"x"})]}),w.jsx("div",{className:"exercises-preview",children:r.exercises.map(t=>w.jsxs("div",{className:"exercise-preview",children:[w.jsx("div",{className:"exercise-name",children:t.name}),w.jsxs("div",{className:"exercise-details",children:[t.sets.length," sets  ",t.sets[0].reps," reps"]})]},t.id))})]}),CP=({program:r,onRemoveWorkout:e})=>w.jsxs("div",{className:"step-content",children:[w.jsx("h2",{children:"Program Preview"}),w.jsxs("div",{className:"program-preview",children:[w.jsxs("div",{className:"preview-header",children:[w.jsx("h3",{children:r.name||"Untitled Program"}),w.jsxs("div",{className:"program-meta",children:[w.jsxs("span",{className:"duration",children:[r.duration," weeks"]}),w.jsx("span",{className:"difficulty",children:r.difficulty})]}),w.jsx("p",{className:"description",children:r.description})]}),w.jsxs("div",{className:"workouts-preview",children:[w.jsxs("h4",{children:["Workouts (",r.workouts.length,")"]}),r.workouts.map(t=>w.jsx(IP,{workout:t,onRemoveWorkout:e},t.id))]}),r.workouts.length===0&&w.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),NP=({currentWorkout:r,setCurrentWorkout:e,currentExercise:t,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:l,onAddWorkout:h,program:d})=>w.jsxs("div",{className:"step-content",children:[w.jsx("h2",{children:"Add Workouts"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Workout Name"}),w.jsx("input",{type:"text",value:r.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),w.jsx(AP,{exercise:t,setExercise:s,onAddExercise:o}),w.jsx(RP,{exercises:r.exercises,onRemoveExercise:l}),r.exercises.length>0&&w.jsx("div",{style:{marginTop:"1rem"},children:w.jsx("button",{onClick:h,className:"btn-primary",children:"Add Workout to Program"})}),w.jsxs("div",{className:"workout-preview",children:[w.jsx("h3",{children:"Workouts in Program"}),d.workouts.length>0?d.workouts.map(p=>w.jsxs("div",{className:"workout-card",children:[w.jsx("h4",{children:p.name}),w.jsx("ul",{children:p.exercises.map(g=>w.jsxs("li",{children:[w.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):w.jsx("p",{children:"No workouts added yet."})]})]}),DP=({currentStep:r,steps:e})=>w.jsx("div",{className:"step-indicator",children:e.map((t,s)=>w.jsx("div",{className:`step ${r>=s+1?"active":""}`,children:t},s))}),Ht=[];for(let r=0;r<256;++r)Ht.push((r+256).toString(16).slice(1));function OP(r,e=0){return(Ht[r[e+0]]+Ht[r[e+1]]+Ht[r[e+2]]+Ht[r[e+3]]+"-"+Ht[r[e+4]]+Ht[r[e+5]]+"-"+Ht[r[e+6]]+Ht[r[e+7]]+"-"+Ht[r[e+8]]+Ht[r[e+9]]+"-"+Ht[r[e+10]]+Ht[r[e+11]]+Ht[r[e+12]]+Ht[r[e+13]]+Ht[r[e+14]]+Ht[r[e+15]]).toLowerCase()}let Qm;const xP=new Uint8Array(16);function kP(){if(!Qm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qm=crypto.getRandomValues.bind(crypto)}return Qm(xP)}const PP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),q0={randomUUID:PP};function pa(r,e,t){var o;if(q0.randomUUID&&!r)return q0.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??kP();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,OP(s)}function VP(r,e){const t=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=t;o++)for(const l of r)s.push({...l,week:o,id:pa(),templateId:l.templateId});return s}const MP=()=>{const r=sr(),[e,t]=U.useState(1),[s,o]=U.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[l,h]=U.useState({name:"",exercises:[]}),[d,p]=U.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=async()=>{if(d.name&&d.sets&&d.reps){const $=parseInt(d.sets)||1,W=Array.from({length:$},()=>({reps:d.reps,weight:d.weight||null,complete:!1}));let Q={name:d.name,sets:W,id:pa()};const oe=Ei.currentUser;if(oe)try{const te=await Or.exerciseTemplateRepository.getOrCreateTemplate(oe.uid,Q);Q={...Q,templateId:te.id},console.log("Created exercise with template ID:",Q)}catch(te){console.error("Error creating exercise template:",te)}h(te=>({...te,exercises:[...te.exercises,Q]})),console.log(Q),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},v=()=>{l.name&&l.exercises.length>0&&(o($=>({...$,workouts:[...$.workouts,{...l,id:pa(),templateId:pa()}]})),h({name:"",exercises:[]}))},T=$=>{h(W=>({...W,exercises:W.exercises.filter(Q=>Q.id!==$)}))},I=$=>{o(W=>({...W,workouts:W.workouts.filter(Q=>Q.id!==$)}))},k=async($,W)=>{const Q=JSON.parse(JSON.stringify($));for(const oe of Q)if(oe.exercises&&oe.exercises.length>0)for(let te=0;te<oe.exercises.length;te++){const ie=oe.exercises[te];if(!ie.templateId)try{const x=await Or.exerciseTemplateRepository.getOrCreateTemplate(W,ie);oe.exercises[te]={...ie,templateId:x.id},console.log(`Added template ID ${x.id} to exercise ${ie.name}`)}catch(x){console.error(`Error creating template for ${ie.name}:`,x)}}return Q},F=async()=>{const $=Ei.currentUser;if(!$){alert("You must be logged in to save a program.");return}try{let W=[...s.workouts];W=await k(W,$.uid);const Q=VP(W,s.duration),oe={...s,workouts:Q,createdBy:$.uid,createdAt:new Date},te=await wP(oe);alert("Program saved successfully! ID: "+te),r(`/ExecuteProgram/${te}`)}catch(W){console.error("Error saving program:",W),alert("Failed to save program: "+W.message)}},K=()=>{switch(e){case 1:return w.jsx(bP,{program:s,setProgram:o});case 2:return w.jsx(NP,{currentWorkout:l,setCurrentWorkout:h,currentExercise:d,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:T,onAddWorkout:v,program:s});case 3:return w.jsx(CP,{program:s,onRemoveWorkout:I});default:return null}},q=["Details","Workouts","Preview"];return w.jsxs("div",{className:"create-program-container",children:[w.jsxs("div",{className:"create-program-header",children:[w.jsx("h1",{children:"Create New Program"}),w.jsx(DP,{currentStep:e,steps:q})]}),w.jsx("div",{className:"create-program-content",children:K()}),w.jsxs("div",{className:"create-program-actions",children:[e>1&&w.jsx("button",{onClick:()=>t(e-1),className:"btn-secondary",children:"Previous"}),e<3?w.jsx("button",{onClick:()=>t(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):w.jsx("button",{onClick:F,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),w.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-cancel",children:"Cancel"})]})]})};function Qh({actions:r,trigger:e}){const[t,s]=U.useState(!1),o=U.useRef();return U.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),w.jsxs("div",{className:"dropdown",ref:o,children:[w.jsx("button",{className:"dropdown-trigger",onClick:l=>{l.stopPropagation(),s(h=>!h)},children:e||""}),t&&w.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>w.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const LP=()=>{const r=sr(),{programId:e}=rT(),{logout:t}=Vu(),[s,o]=U.useState(null),[l,h]=U.useState(1),[d,p]=U.useState(!0),[g,v]=U.useState(""),[T,I]=U.useState(!1),[k,F]=U.useState(null),K=async()=>{try{await t(),r("/")}catch(ie){console.error("Failed to sign out:",ie),alert("Failed to sign out. Please try again.")}},q=async(ie,x)=>{try{await Or.workoutRepository.updateWorkoutName(e,ie,x),o(R=>({...R,workouts:R.workouts.map(b=>b.id===ie?{...b,name:x}:b)}))}catch(R){console.error(" Test failed:",R),alert(` Test failed: ${R.message}`)}console.log(s)},$=ie=>{F(ie),I(!0)},W=async()=>{k&&g.trim()&&await q(k,g.trim()),I(!1),F(null),v("")},Q=async()=>{const ie={id:pa(),templateId:pa(),name:"New Workout - double click to edit name",week:l,exercises:[],createdAt:new Date};try{await Or.workoutRepository.addWorkoutToProgram(e,ie),o(x=>({...x,workouts:[...x.workouts,ie]})),console.log("Updated userProgram state:",{...s,workouts:[...s.workouts,ie]}),alert(" Successful! Added workout")}catch(x){console.error(" Test failed:",x),alert(` Test failed: ${x.message}`)}};U.useEffect(()=>{(async()=>{try{const x=en(st,"programs",e),R=await ps(x);if(console.log(R),R.exists()){const b=R.data();console.log(b.workouts),o(b),h(1)}else o(null);p(!1)}catch(x){console.error("Failed to fetch program:",x),p(!1)}})()},[e]);const oe=s?s.workouts.filter(ie=>ie.week===l):[],te=ie=>{h(ie)};return d?w.jsx("div",{className:"execute-program-container",children:w.jsx("div",{className:"loading",children:"Loading your program..."})}):s?w.jsxs("div",{className:"execute-program-container",children:[w.jsxs("div",{className:"execute-program-header",children:[w.jsx("nav",{className:"breadcrumb",children:w.jsx(Qh,{actions:[{label:"Home",onClick:ie=>{ie.stopPropagation(),r("/dashboard")}},{label:"Create Program",onClick:ie=>{ie.stopPropagation(),r("/CreateProgram")}},{label:"Sign Out",onClick:ie=>{ie.stopPropagation(),K()}}],trigger:w.jsx("span",{children:""})})}),w.jsx("h1",{children:s.name}),w.jsxs("div",{className:"program-info",children:[w.jsxs("span",{children:["Week ",l," of ",s.duration]}),w.jsx("span",{children:s.difficulty})]})]}),w.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(s.duration,10)},(ie,x)=>x+1).map(ie=>w.jsxs("button",{className:`week-btn ${l===ie?"active":""}`,onClick:()=>te(ie),children:["Week ",ie]},ie))}),w.jsxs("div",{className:"week-content",children:[w.jsxs("h2",{children:["Week ",l," Workouts"]}),w.jsx("nav",{className:"add-workout-menu",children:w.jsx(Qh,{actions:[{label:"Add Workout",onClick:ie=>{ie.stopPropagation(),Q()}}],trigger:w.jsx("span",{children:"+"})})}),oe.length===0?w.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):w.jsx("div",{className:"workouts-grid",children:oe.map(ie=>w.jsxs("div",{className:"workout-card",children:[w.jsx("div",{className:"workout-card-header",children:T&&k===ie.id?w.jsx("input",{type:"text",value:g,onChange:x=>v(x.target.value),onBlur:W,onKeyDown:x=>{x.key==="Enter"&&W(),x.key==="Escape"&&(I(!1),F(null),v(""))},autoFocus:!0}):w.jsx("h3",{onDoubleClick:()=>$(ie.id,ie.name),children:ie.name})}),w.jsx("div",{className:"workout-exercises",children:ie.exercises.map(x=>w.jsx("div",{className:"exercise-summary",children:w.jsx("span",{className:"exercise-name",children:x.name})},x.id))}),w.jsx("div",{className:"workout-actions",children:w.jsx("button",{onClick:()=>r(`/CurrentSession/${e}/${ie.id}`),className:"btn-primary",children:"Start Workout"})})]},ie.id))})]})]}):w.jsx("div",{className:"execute-program-container",children:w.jsx("div",{className:"error",children:"Failed to load program"})})};var hb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F0=fa.createContext&&fa.createContext(hb),UP=["attr","size","title"];function jP(r,e){if(r==null)return{};var t=zP(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function zP(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Yh(){return Yh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Yh.apply(this,arguments)}function H0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Wh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(t),!0).forEach(function(s){BP(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):H0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function BP(r,e,t){return e=qP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function qP(r){var e=FP(r,"string");return typeof e=="symbol"?e:e+""}function FP(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function fb(r){return r&&r.map((e,t)=>fa.createElement(e.tag,Wh({key:t},e.attr),fb(e.child)))}function Mu(r){return e=>fa.createElement(HP,Yh({attr:Wh({},r.attr)},e),fb(r.child))}function HP(r){var e=t=>{var{attr:s,size:o,title:l}=r,h=jP(r,UP),d=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),fa.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Wh(Wh({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&fa.createElement("title",null,l),r.children)};return F0!==void 0?fa.createElement(F0.Consumer,null,t=>e(t)):e(hb)}function GP(r){return Mu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"},child:[]}]})(r)}function $P(r){return Mu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(r)}function G0(r){return Mu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l224 0 0-112c0-26.5 21.5-48 48-48l112 0 0-224c0-35.3-28.7-64-64-64L64 32zM448 352l-45.3 0L336 352c-8.8 0-16 7.2-16 16l0 66.7 0 45.3 32-32 64-64 32-32z"},child:[]}]})(r)}function KP(r){return Mu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(r)}function QP(r){return Mu({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}const YP=({notes:r,onSave:e})=>{const[t,s]=U.useState(!1),[o,l]=U.useState(r||""),[h,d]=U.useState(!1),p=1e3,g=o.length,v=g>p*.8,T=g>p,I=()=>{s(!0),d(!1),l(r||"")},k=()=>{s(!1),d(!1)},F=()=>d(!0),K=()=>{g<=p&&(e(o.trim()),d(!1),s(!1))},q=()=>{l(r||""),d(!1)},$=r&&r.trim().length>0;return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:I,className:`notes-icon-btn ${$?"has-notes":""}`,"aria-label":"View session notes",title:$?"View notes":"Add notes",children:w.jsx(G0,{})}),t&&w.jsx("div",{className:"modal-backdrop",onClick:k,children:w.jsxs("div",{className:"modal-content",onClick:W=>W.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[w.jsxs("div",{className:"modal-header",children:[w.jsxs("h2",{id:"modal-title",children:[w.jsx(G0,{}),"Session Notes"]}),w.jsx("button",{onClick:k,className:"close-btn","aria-label":"Close modal",children:w.jsx(QP,{})})]}),w.jsx("div",{className:"modal-body",children:h?w.jsxs(w.Fragment,{children:[w.jsx("textarea",{className:"notes-textarea",value:o,onChange:W=>l(W.target.value),placeholder:"Add your session notes here...",maxLength:p,autoFocus:!0}),w.jsxs("div",{className:`character-counter ${v?"warning":""} ${T?"error":""}`,children:[g," / ",p," characters"]})]}):w.jsx("div",{className:`notes-content ${o?"":"empty"}`,children:o||w.jsxs(w.Fragment,{children:[w.jsx(GP,{}),w.jsx("span",{children:"No notes available."})]})})}),w.jsx("div",{className:`modal-footer ${h?"":"space-between"}`,children:h?w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"notes-modal-btn btn-cancel",onClick:q,children:"Cancel"}),w.jsxs("button",{className:"notes-modal-btn btn-save",onClick:K,disabled:T,children:[w.jsx($P,{}),"Save Notes"]})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"notes-modal-btn btn-cancel",onClick:k,children:"Close"}),w.jsxs("button",{className:"notes-modal-btn btn-edit",onClick:F,"aria-label":"Edit notes",children:[w.jsx(KP,{}),o?"Edit":"Add Notes"]})]})})]})})]})},WP=({workout:r,setWorkout:e,handleSaveSession:t})=>{const s=o=>{e(l=>({...l,notes:o}))};return w.jsxs("div",{className:"session-actions",children:[w.jsx(YP,{notes:r.notes,onSave:s}),w.jsx("div",{className:"session-action-buttons",children:w.jsx("button",{className:"btn-save",onClick:t,children:"Save Session"})})]})},XP=({workout:r})=>w.jsxs("div",{className:"session-header",children:[w.jsxs("h1",{className:"session-title",children:[r.name," "]}),w.jsx("div",{className:"session-meta",children:w.jsxs("span",{children:["Week ",r.week," "]})})]});function db({actions:r,trigger:e}){const[t,s]=U.useState(!1),o=U.useRef();return U.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),w.jsxs("div",{className:"dropdown",ref:o,children:[w.jsx("button",{className:"dropdown-trigger",onClick:()=>s(l=>!l),children:e||""}),t&&w.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>w.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const ZP=({exercise:r,onExpand:e,dragHandleProps:t})=>w.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:w.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[w.jsx("div",{className:"drag-handle",...t,children:""}),w.jsx("h2",{className:"exercise-name",children:r.name})]})}),JP=({exercises:r,setWorkout:e,handleDeleteExercise:t})=>{const[s,o]=U.useState(null),[l,h]=U.useState(null),[d,p]=U.useState(null),[g,v]=U.useState(null),T=R=>{h(b=>b===R?null:R)},I=(R,b)=>{e(C=>({...C,exercises:C.exercises.map((O,P)=>P===R?{...O,name:b}:O)}))},k=(R,b)=>{e(C=>{const O=C.exercises.map((P,D)=>{if(D!==R)return P;const Ve=P.sets.filter((ze,se)=>se!==b);return{...P,sets:Ve}});return{...C,exercises:O}})},F=(R,b,C)=>{e(O=>{const P=O.exercises.map((D,Ve)=>{if(Ve!==R)return D;const ze=D.sets.map((se,ye)=>ye!==b?se:{...se,reps:C});return{...D,sets:ze}});return{...O,exercises:P}})},K=(R,b,C)=>{e(O=>{const P=O.exercises.map((D,Ve)=>{if(Ve!==R)return D;const ze=D.sets.map((se,ye)=>ye!==b?se:{...se,weight:C});return{...D,sets:ze}});return{...O,exercises:P}})},q=(R,b,C)=>{e(O=>{const P=O.exercises.map((D,Ve)=>{if(Ve!==R)return D;const ze=D.sets.map((se,ye)=>ye!==b?se:{...se,rir:C});return{...D,sets:ze}});return{...O,exercises:P}})},$=(R,b)=>{e(C=>{const O=C.exercises.map((P,D)=>D!==R?P:{...P,sets:P.sets.map((Ve,ze)=>ze!==b?Ve:{...Ve,complete:!Ve.complete})});return{...C,exercises:O}})},W=R=>{e(b=>{const C=b.exercises.map((O,P)=>P!==R?O:{...O,sets:[...O.sets,{reps:"",weight:"",complete:!1}]});return{...b,exercises:C}})},Q=U.useRef(0),oe=U.useRef(0),te=()=>{if(!(Q.current===null||oe.current===null)){if(Q.current!==oe.current){const R=[...r],b=R[Q.current];R[Q.current]=R[oe.current],R[oe.current]=b,e(C=>({...C,exercises:R}))}Q.current=null,oe.current=null}},[ie,x]=U.useState([]);return U.useEffect(()=>{(async()=>{const b=Ei.currentUser;if(b)try{const C=await Or.exerciseTemplateRepository.getExerciseTemplates(b.uid);x(C||[])}catch(C){console.error("Error fetching templates:",C)}})()},[]),w.jsx("div",{className:"exercise-list-session",children:r.map((R,b)=>w.jsx("div",{className:`exercise-card 
            ${l===R.id?"expanded":"collapsed"} 
            ${d===R.id?"dragging":""} 
            ${g===R.id?"drag-over":""}
          `,onDragOver:C=>C.preventDefault(),onDragEnter:()=>{oe.current=b,v(R.id)},onDragLeave:()=>{g===R.id&&v(null)},"data-id":R.id,children:l===R.id?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"exercise-header",children:s===R.id?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"name-container edit-mode",children:[w.jsx("input",{type:"text",value:R.name,onChange:C=>I(b,C.target.value),className:"edit-exercise-name",list:"exercise-templates"}),w.jsx("datalist",{id:"exercise-templates",children:ie.map(C=>w.jsx("option",{value:C.name},C.id))})]}),w.jsxs("div",{className:"edit-actions",children:[w.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),w.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"X"})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"drag-handle",draggable:!0,onDragStart:C=>{Q.current=b,p(R.id);const O=C.target.closest(".exercise-card");if(O){const P=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-P.left,C.clientY-P.top)}},onDragEnd:()=>{te(),p(null),v(null);const C=document.querySelector(`.exercise-card[data-id="${R.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))},children:""}),w.jsx("div",{className:"name-container",children:w.jsx("h2",{className:"exercise-name",children:R.name})}),w.jsx(db,{actions:[{label:"Edit",onClick:C=>{C.stopPropagation(),o(R.id)}},{label:"Delete",onClick:C=>{C.stopPropagation(),t(R.id)}}],trigger:w.jsx("span",{children:""})})]})}),w.jsx("div",{className:"sets-list",children:Array.from({length:Number(R.sets.length)}).map((C,O)=>{var P,D,Ve,ze;return w.jsxs("div",{className:"set-row",children:[w.jsx("input",{type:"number",className:"input-weight",placeholder:"Weight",value:((P=R.sets[O])==null?void 0:P.weight)||"",onChange:se=>K(b,O,se.target.value)}),w.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((D=R.sets[O])==null?void 0:D.reps)||"",onChange:se=>F(b,O,se.target.value)}),w.jsx("input",{type:"number",className:"input-rir",placeholder:"RIR",value:((Ve=R.sets[O])==null?void 0:Ve.rir)||"",onChange:se=>q(b,O,se.target.value)}),s===R.id?w.jsx("button",{className:"btn-delete-set",onClick:()=>k(b,O),children:"X"}):w.jsx("div",{className:"set-complete-checkbox",children:w.jsx("input",{type:"checkbox",checked:((ze=R.sets[O])==null?void 0:ze.complete)||!1,onChange:()=>$(b,O)})})]},O)})}),w.jsx("button",{className:"btn-add-set",onClick:()=>W(b),children:"Add Set"})]}):w.jsx(ZP,{exercise:R,onExpand:()=>T(R.id),dragHandleProps:{draggable:!0,onDragStart:C=>{Q.current=b,p(R.id);const O=C.target.closest(".exercise-card");if(O){const P=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-P.left,C.clientY-P.top)}},onDragEnd:()=>{te(),p(null),v(null);const C=document.querySelector(`.exercise-card[data-id="${R.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))}}})},R.id))})},e4=({previousSession:r,isLoading:e,programId:t,workoutId:s})=>{const[o,l]=U.useState(!1),h=sr(),d=v=>{v.stopPropagation(),h(`/CurrentSession/${t}/${s}?week=${r.week}`)};if(e)return w.jsx("div",{className:"previous-week-summary loading",children:w.jsx("div",{className:"summary-header",children:w.jsx("span",{children:"Loading previous week data..."})})});if(!r)return w.jsx("div",{className:"previous-week-summary no-data",children:w.jsx("div",{className:"summary-header",children:w.jsx("span",{children:"No previous week data available"})})});const p=()=>{l(!o)},g=v=>{const T=v.weight?`${v.weight}lbs`:"BW",I=v.reps||"0";return`${T}  ${I}`};return w.jsxs("div",{className:"previous-week-summary",children:[w.jsxs("div",{className:"summary-header",onClick:p,children:[w.jsxs("div",{className:"header-content",children:[w.jsx("h3",{children:"Last Week's Performance"}),w.jsxs("span",{onClick:d,style:{cursor:"pointer"},className:"week-info",children:["Week ",r.week]})]}),w.jsx("button",{className:"toggle-btn",children:o?"":""})]}),o&&w.jsxs("div",{className:"summary-content",children:[w.jsx("div",{className:"session-date",children:new Date(r.timestamp).toLocaleDateString()}),w.jsx("div",{className:"exercises-list",children:r.exercises.map((v,T)=>w.jsxs("div",{className:"exercise-item",children:[w.jsx("div",{className:"exercise-name-previous-week",children:v.name}),w.jsx("div",{className:"sets-display",children:v.sets&&v.sets.map((I,k)=>w.jsx("span",{className:"set-item",children:g(I)},k))})]},v.id||T))})]})]})},t4="modulepreload",n4=function(r){return"/my-workout-tracker/"+r},$0={},mb=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=n4(p),p in $0)return;$0[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":t4,g||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),g)return new Promise((I,k)=>{T.addEventListener("load",I),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};class r4{constructor(){this.templateRepository=Or.exerciseTemplateRepository}async processExercisesForSession(e,t,s=!0){return!t||!t.length?[]:await Promise.all(t.map(async o=>{if(o.templateId)try{if(await this.templateRepository.getTemplateById(e,o.templateId))return{...o}}catch(l){console.error("Error verifying template:",l)}try{const l=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);return l?{...o,templateId:l.id}:o}catch(l){return console.error("Error processing exercise template:",l),o}}))}async copyExercisesWithTemplates(e,t,s=!1){return!t||!t.length?[]:await Promise.all(t.map(async o=>{let l=o.templateId;if(!l)try{const h=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);h&&(l=h.id)}catch(h){console.error("Error getting template for copy:",h)}return{id:Date.now()+Math.random().toString(36).substr(2,9),name:o.name,templateId:l,sets:o.sets?[...o.sets]:[],notes:o.notes||"",category:o.category||"Other"}}))}async getTemplatesByCategory(e){try{return(await this.templateRepository.getExerciseTemplates(e)).reduce((s,o)=>{const l=o.category||"Other";return s[l]||(s[l]=[]),s[l].push(o),s},{})}catch(t){return console.error("Error getting templates by category:",t),{}}}async updateTemplateData(e,t,s){try{return await this.templateRepository.updateTemplate(e,t,s)}catch(o){throw console.error("Error updating template:",o),o}}}const Rp=new r4;async function i4(r){const{userId:e,programId:t,workoutId:s,week:o}=r,l=pb(e,t,s,o);try{return r.exercises&&r.exercises.length>0&&(r.exercises=await Rp.processExercisesForSession(e,r.exercises,!0)),await Rf(en(st,"sessions",l),r,{merge:!0}),console.log("Session saved:",r,"Document ID:",l),l}catch(h){throw console.error("Error saving session:",h,"Session data:",r),h}}async function s4(r,e,t,s,o){const l=pb(r,e,t,s);try{const h=en(st,"sessions",l),d=await ps(h);if(d.exists()){console.log(" Found existing session data:",d.data());const p=d.data();return p.exercises&&p.exercises.length>0&&(p.exercises=await Rp.processExercisesForSession(r,p.exercises,!1)),p}else{if(console.log(" No session found with exact workoutId, searching by templateId..."),o!=null&&o.templateId)try{const{repositoryFactory:p}=await mb(async()=>{const{repositoryFactory:v}=await Promise.resolve().then(()=>ub);return{repositoryFactory:v}},[]),g=await p.workoutRepository.getSessionByTemplateAndWeek(r,o.templateId,s);if(g)return console.log(" Found session by templateId:",g),g}catch(p){console.log("Fallback search failed:",p)}return console.log(" No session found, will use program data"),o&&o.exercises&&o.exercises.length>0&&(o.exercises=await Rp.processExercisesForSession(r,o.exercises,!1)),o}}catch(h){return console.error("Error fetching session data:",h),o}}function pb(r,e,t,s){return`${r}_${e}_${t}_${s}`}async function a4(r,e,t){try{const{repositoryFactory:s}=await mb(async()=>{const{repositoryFactory:l}=await Promise.resolve().then(()=>ub);return{repositoryFactory:l}},void 0),o=await s.workoutRepository.getPreviousWeekSession(r,e,t);return o?{week:o.week,name:o.name,exercises:o.exercises||[],timestamp:o.timestamp}:null}catch(s){return console.error("Error fetching previous session data:",s),null}}const K0=()=>{const{workoutId:r,programId:e}=rT(),[t]=pR(),s=t.get("week"),o=s?parseInt(s,10):null,[l,h]=U.useState(null),[d,p]=U.useState(!0),[g,v]=U.useState(null),[T,I]=U.useState(!0),k=sr(),{user:F,logout:K}=Vu(),q=async()=>{try{await K(),k("/")}catch(te){console.error("Failed to sign out:",te),alert("Failed to sign out. Please try again.")}},$=()=>{k(`/ExecuteProgram/${e}`)},W=()=>{h(te=>({...te,exercises:[...te.exercises,{id:pa(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},Q=te=>{console.log("delete"),h(ie=>({...ie,exercises:ie.exercises.filter(x=>x.id!==te)}))},oe=()=>{console.log("Save session clicked"),console.log("Current workout state:",l);const te={userId:F.uid,programId:e,workoutId:r,workoutTemplateId:l.templateId,name:l.name,week:o||l.week,exercises:l.exercises,notes:l.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",te),i4(te)};return U.useEffect(()=>{if(!F)return;(async()=>{try{const ie=en(st,"programs",e),b=(await ps(ie)).data().workouts.find(P=>P.id===r);console.log("Found workout from Firestore:",b);const C=await s4(F.uid,e,r,o||b.week,b);console.log("Session data returned:",C),console.log("Does sessionData have templateId?",C.templateId);const O={...C,templateId:b.templateId,week:o||b.week};if(console.log("Final workout data being set:",O),console.log("Does final data have templateId?",O.templateId),h(O),p(!1),b.templateId)try{const P=parseInt(o)||b.week,D=await a4(F.uid,b.templateId,P);v(D)}catch(P){console.error("Error fetching previous session:",P)}I(!1)}catch(ie){console.error("Error fetching workout:",ie),p(!1),I(!1)}})()},[r,e,o,F]),d?w.jsx("div",{className:"current-session-container",children:w.jsx("div",{className:"loading",children:"Loading workout..."})}):l?(console.log("Loaded workout:",l),w.jsxs("div",{className:"current-session-container",children:[w.jsx("nav",{className:"breadcrumb",children:w.jsx(db,{actions:[{label:"Home",onClick:te=>{te.stopPropagation(),k("/dashboard")}},{label:"Program Overview",onClick:te=>{te.stopPropagation(),k(`/ExecuteProgram/${e}`)}},{label:"All Programs",onClick:te=>{te.stopPropagation(),k("/ListOfUsersPrograms")}},{label:"Sign Out",onClick:te=>{te.stopPropagation(),q()}}],trigger:w.jsx("span",{children:""})})}),w.jsx(XP,{workout:l,onBack:$}),w.jsx(e4,{previousSession:g,isLoading:T,programId:e,workoutId:r}),w.jsxs("div",{className:"current-session-content",children:[w.jsx(JP,{exercises:l.exercises,setWorkout:h,handleDeleteExercise:Q}),w.jsx("button",{className:"btn-add-exercise",onClick:W,children:"Add Exercise"}),w.jsx(WP,{handleSaveSession:oe,setWorkout:h,workout:l})]})]})):w.jsx("div",{className:"current-session-container",children:w.jsx("div",{className:"error",children:"Workout not found"})})};function o4(){const[r,e]=U.useState([]),[t,s]=U.useState(!0),[o,l]=U.useState(null),{user:h,loading:d}=Vu(),p=Or.programRepository,g=U.useCallback(async()=>{if(h){s(!0);try{const v=await p.getUserPrograms(h.uid);e(v)}catch(v){l(v.message||String(v))}finally{s(!1)}}},[h,p]);return U.useEffect(()=>{if(d)return;if(!h){l("Not logged in"),s(!1);return}const v=p.watchUserPrograms(h.uid,T=>{e(T),s(!1)},T=>{l(T.message),s(!1)});return g(),()=>v()},[g,d,h,p]),{userPrograms:r,loading:t||d,error:o,refetchPrograms:g}}const l4=()=>{const{userPrograms:r,loading:e,error:t,refetchPrograms:s}=o4(),o=sr(),{logout:l}=Vu(),h=async()=>{try{await l(),o("/")}catch(d){console.error("Failed to sign out:",d),alert("Failed to sign out. Please try again.")}};return U.useEffect(()=>{!e&&r.length===0&&o("/CreateProgram")},[e,r,o]),e?w.jsx("div",{children:"Loading..."}):t?w.jsxs("div",{children:["Error: ",t]}):w.jsxs("div",{className:"user-programs-container",children:[w.jsx("nav",{className:"breadcrumb",children:w.jsx(Qh,{actions:[{label:"Home",onClick:d=>{d.stopPropagation(),o("/dashboard")}},{label:"Create Program",onClick:d=>{d.stopPropagation(),o("/CreateProgram")}},{label:"Sign Out",onClick:d=>{d.stopPropagation(),h()}}],trigger:w.jsx("span",{children:""})})}),w.jsx("h1",{children:"Your Programs"}),w.jsx("section",{className:"user-programs-list",children:r.map(d=>w.jsxs("div",{className:"user-program-card",onClick:()=>o(`/ExecuteProgram/${d.id}`),children:[w.jsx(Qh,{actions:[{label:"Delete Program",onClick:async p=>{p.stopPropagation();try{await SP(d.id),s&&await s()}catch(g){console.error("Failed to delete program:",g)}}}],trigger:w.jsx("span",{children:""})}),w.jsx("h2",{children:d.name}),w.jsx("p",{children:d.description}),w.jsxs("span",{children:[d.duration," weeks"]})]},d.id))})]})};function u4(){return w.jsx(dP,{children:w.jsxs(z1,{children:[w.jsx(ss,{path:"/",element:w.jsx(oP,{})}),w.jsx(ss,{path:"/Dashboard",element:w.jsx(mP,{})}),w.jsx(ss,{path:"/CreateProgram",element:w.jsx(MP,{})}),w.jsx(ss,{path:"/ExecuteProgram/:programId",element:w.jsx(LP,{})}),w.jsx(ss,{path:"/CurrentSession/:programId/:workoutId",element:w.jsx(K0,{})}),w.jsx(ss,{path:"/CurrentSession/:programId/:workoutId/:week",element:w.jsx(K0,{})}),w.jsx(ss,{path:"/ListOfUsersPrograms",element:w.jsx(l4,{})})]})})}WA.createRoot(document.getElementById("root")).render(w.jsx(U.StrictMode,{children:w.jsx(cR,{children:w.jsx(u4,{})})}));
