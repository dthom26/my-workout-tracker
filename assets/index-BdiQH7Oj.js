(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var tm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function JS(){if(sv)return Pl;sv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=t,Pl.jsxs=t,Pl}var av;function eb(){return av||(av=1,tm.exports=JS()),tm.exports}var N=eb(),nm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function tb(){if(ov)return Re;ov=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function L(x,ne,de){this.props=x,this.context=ne,this.refs=$,this.updater=de||O}L.prototype.isReactComponent={},L.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},L.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function K(){}K.prototype=L.prototype;function X(x,ne,de){this.props=x,this.context=ne,this.refs=$,this.updater=de||O}var W=X.prototype=new K;W.constructor=X,j(W,L.prototype),W.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function V(x,ne,de,oe,le,Ie){return de=Ie.ref,{$$typeof:i,type:x,key:ne,ref:de!==void 0?de:null,props:Ie}}function I(x,ne){return V(x.type,ne,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function D(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(de){return ne[de]})}var M=/\/+/g;function B(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):ne.toString(36)}function C(){}function wt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function dt(x,ne,de,oe,le){var Ie=typeof x;(Ie==="undefined"||Ie==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case i:case e:be=!0;break;case E:return be=x._init,dt(be(x._payload),ne,de,oe,le)}}if(be)return le=le(x),be=oe===""?"."+B(x,0):oe,he(le)?(de="",be!=null&&(de=be.replace(M,"$&/")+"/"),dt(le,ne,de,"",function(st){return st})):le!=null&&(b(le)&&(le=I(le,de+(le.key==null||x&&x.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+be)),ne.push(le)),1;be=0;var mt=oe===""?".":oe+":";if(he(x))for(var je=0;je<x.length;je++)oe=x[je],Ie=mt+B(oe,je),be+=dt(oe,ne,de,Ie,le);else if(je=S(x),typeof je=="function")for(x=je.call(x),je=0;!(oe=x.next()).done;)oe=oe.value,Ie=mt+B(oe,je++),be+=dt(oe,ne,de,Ie,le);else if(Ie==="object"){if(typeof x.then=="function")return dt(wt(x),ne,de,oe,le);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(x,ne,de){if(x==null)return x;var oe=[],le=0;return dt(x,oe,"","",function(Ie){return ne.call(de,Ie,le++)}),oe}function Te(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(de){(x._status===0||x._status===-1)&&(x._status=1,x._result=de)},function(de){(x._status===0||x._status===-1)&&(x._status=2,x._result=de)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Fe(){}return Re.Children={map:re,forEach:function(x,ne,de){re(x,function(){ne.apply(this,arguments)},de)},count:function(x){var ne=0;return re(x,function(){ne++}),ne},toArray:function(x){return re(x,function(ne){return ne})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=L,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,ne,de){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var oe=j({},x.props),le=x.key,Ie=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!_e.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(oe[be]=ne[be]);var be=arguments.length-2;if(be===1)oe.children=de;else if(1<be){for(var mt=Array(be),je=0;je<be;je++)mt[je]=arguments[je+2];oe.children=mt}return V(x.type,le,void 0,void 0,Ie,oe)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,ne,de){var oe,le={},Ie=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ie=""+ne.key),ne)_e.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var be=arguments.length-2;if(be===1)le.children=de;else if(1<be){for(var mt=Array(be),je=0;je<be;je++)mt[je]=arguments[je+2];le.children=mt}if(x&&x.defaultProps)for(oe in be=x.defaultProps,be)le[oe]===void 0&&(le[oe]=be[oe]);return V(x,Ie,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=b,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:Te}},Re.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Re.startTransition=function(x){var ne=ue.T,de={};ue.T=de;try{var oe=x(),le=ue.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Fe,ge)}catch(Ie){ge(Ie)}finally{ue.T=ne}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(x){return ue.H.use(x)},Re.useActionState=function(x,ne,de){return ue.H.useActionState(x,ne,de)},Re.useCallback=function(x,ne){return ue.H.useCallback(x,ne)},Re.useContext=function(x){return ue.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,ne){return ue.H.useDeferredValue(x,ne)},Re.useEffect=function(x,ne){return ue.H.useEffect(x,ne)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(x,ne,de){return ue.H.useImperativeHandle(x,ne,de)},Re.useInsertionEffect=function(x,ne){return ue.H.useInsertionEffect(x,ne)},Re.useLayoutEffect=function(x,ne){return ue.H.useLayoutEffect(x,ne)},Re.useMemo=function(x,ne){return ue.H.useMemo(x,ne)},Re.useOptimistic=function(x,ne){return ue.H.useOptimistic(x,ne)},Re.useReducer=function(x,ne,de){return ue.H.useReducer(x,ne,de)},Re.useRef=function(x){return ue.H.useRef(x)},Re.useState=function(x){return ue.H.useState(x)},Re.useSyncExternalStore=function(x,ne,de){return ue.H.useSyncExternalStore(x,ne,de)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.0.0",Re}var lv;function Zm(){return lv||(lv=1,nm.exports=tb()),nm.exports}var H=Zm(),im={exports:{}},Ll={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function nb(){return uv||(uv=1,function(i){function e(re,Te){var ge=re.length;re.push(Te);e:for(;0<ge;){var Fe=ge-1>>>1,x=re[Fe];if(0<o(x,Te))re[Fe]=Te,re[ge]=x,ge=Fe;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Te=re[0],ge=re.pop();if(ge!==Te){re[0]=ge;e:for(var Fe=0,x=re.length,ne=x>>>1;Fe<ne;){var de=2*(Fe+1)-1,oe=re[de],le=de+1,Ie=re[le];if(0>o(oe,ge))le<x&&0>o(Ie,oe)?(re[Fe]=Ie,re[le]=ge,Fe=le):(re[Fe]=oe,re[de]=ge,Fe=de);else if(le<x&&0>o(Ie,ge))re[Fe]=Ie,re[le]=ge,Fe=le;else break e}}return Te}function o(re,Te){var ge=re.sortIndex-Te.sortIndex;return ge!==0?ge:re.id-Te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,S=3,O=!1,j=!1,$=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var Te=t(g);Te!==null;){if(Te.callback===null)s(g);else if(Te.startTime<=re)s(g),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(g)}}function he(re){if($=!1,W(re),!j)if(t(p)!==null)j=!0,wt();else{var Te=t(g);Te!==null&&dt(he,Te.startTime-re)}}var ue=!1,_e=-1,V=5,I=-1;function b(){return!(i.unstable_now()-I<V)}function D(){if(ue){var re=i.unstable_now();I=re;var Te=!0;try{e:{j=!1,$&&($=!1,K(_e),_e=-1),O=!0;var ge=S;try{t:{for(W(re),A=t(p);A!==null&&!(A.expirationTime>re&&b());){var Fe=A.callback;if(typeof Fe=="function"){A.callback=null,S=A.priorityLevel;var x=Fe(A.expirationTime<=re);if(re=i.unstable_now(),typeof x=="function"){A.callback=x,W(re),Te=!0;break t}A===t(p)&&s(p),W(re)}else s(p);A=t(p)}if(A!==null)Te=!0;else{var ne=t(g);ne!==null&&dt(he,ne.startTime-re),Te=!1}}break e}finally{A=null,S=ge,O=!1}Te=void 0}}finally{Te?M():ue=!1}}}var M;if(typeof X=="function")M=function(){X(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,C=B.port2;B.port1.onmessage=D,M=function(){C.postMessage(null)}}else M=function(){L(D,0)};function wt(){ue||(ue=!0,M())}function dt(re,Te){_e=L(function(){re(i.unstable_now())},Te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){j||O||(j=!0,wt())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(re){switch(S){case 1:case 2:case 3:var Te=3;break;default:Te=S}var ge=S;S=Te;try{return re()}finally{S=ge}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,Te){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=S;S=re;try{return Te()}finally{S=ge}},i.unstable_scheduleCallback=function(re,Te,ge){var Fe=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,re){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,re={id:E++,callback:Te,priorityLevel:re,startTime:ge,expirationTime:x,sortIndex:-1},ge>Fe?(re.sortIndex=ge,e(g,re),t(p)===null&&re===t(g)&&($?(K(_e),_e=-1):$=!0,dt(he,ge-Fe))):(re.sortIndex=x,e(p,re),j||O||(j=!0,wt())),re},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(re){var Te=S;return function(){var ge=S;S=Te;try{return re.apply(this,arguments)}finally{S=ge}}}}(sm)),sm}var cv;function ib(){return cv||(cv=1,rm.exports=nb()),rm.exports}var am={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function rb(){if(hv)return Kt;hv=1;var i=Zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Kt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var fv;function sb(){if(fv)return am.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=rb(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function ab(){if(dv)return Ll;dv=1;var i=ib(),e=Zm(),t=sb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),he=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case L:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case S:return(n._context.displayName||"Context")+".Consumer";case j:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case X:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,B;function C(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+B}var wt=!1;function dt(n,r){if(!n||wt)return"";wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var F=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){F=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){F=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var Q=`
`+R[l].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=l&&0<=h);break}}}finally{wt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?C(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return n=dt(n.type,!1),n;case 11:return n=dt(n.type.render,!1),n;case 1:return n=dt(n.type,!0),n;default:return""}}function Te(n){try{var r="";do r+=re(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Fe(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function x(n){if(ge(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=ge(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return x(h),n;if(d===l)return x(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function de(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=de(n),r!==null)return r;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},be=[],mt=-1;function je(n){return{current:n}}function st(n){0>mt||(n.current=be[mt],be[mt]=null,mt--)}function $e(n,r){mt++,be[mt]=n.current,n.current=r}var Jt=je(null),Ii=je(null),En=je(null),hr=je(null);function fr(n,r){switch($e(En,r),$e(Ii,n),$e(Jt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?k_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=k_(n),r=M_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}st(Jt),$e(Jt,r)}function Ci(){st(Jt),st(Ii),st(En)}function Oo(n){n.memoizedState!==null&&$e(hr,n);var r=Jt.current,a=M_(r,n.type);r!==a&&($e(Ii,n),$e(Jt,a))}function ma(n){Ii.current===n&&(st(Jt),st(Ii)),hr.current===n&&(st(hr),Ol._currentValue=Ie)}var pa=Object.prototype.hasOwnProperty,ys=i.unstable_scheduleCallback,ga=i.unstable_cancelCallback,nf=i.unstable_shouldYield,xo=i.unstable_requestPaint,an=i.unstable_now,Su=i.unstable_getCurrentPriorityLevel,At=i.unstable_ImmediatePriority,Nt=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,bu=i.unstable_LowPriority,Vo=i.unstable_IdlePriority,rf=i.log,_s=i.unstable_setDisableYieldValue,dr=null,Gt=null;function ko(n){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(dr,n,void 0,(n.current.flags&128)===128)}catch{}}function Jn(n){if(typeof rf=="function"&&_s(n),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(dr,n)}catch{}}var en=Math.clz32?Math.clz32:Iu,Mo=Math.log,Ru=Math.LN2;function Iu(n){return n>>>=0,n===0?32:31-(Mo(n)/Ru|0)|0}var ei=128,mr=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Tn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,d=n.pingedLanes,v=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Bn(a):(d&=T,d!==0?l=Bn(d):n||(v=T&~v,v!==0&&(l=Bn(v))))):(T=a&~h,T!==0?l=Bn(T):d!==0?l=Bn(d):n||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function pr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ya(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var n=ei;return ei<<=1,(ei&4194176)===0&&(ei=128),n}function gr(){var n=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),n}function _a(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ct(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Cu(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,P=n.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-en(a),te=1<<Q;T[Q]=0,R[Q]=-1;var F=P[Q];if(F!==null)for(P[Q]=null,Q=0;Q<F.length;Q++){var Y=F[Q];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&yr(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function yr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function _r(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Du(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Nu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:J_(n.type))}function vr(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var ti=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ti,St="__reactProps$"+ti,Ni="__reactContainer$"+ti,vs="__reactEvents$"+ti,va="__reactListeners$"+ti,ni="__reactHandles$"+ti,Lo="__reactResources$"+ti,Er="__reactMarker$"+ti;function Es(n){delete n[Ot],delete n[St],delete n[vs],delete n[va],delete n[ni]}function qn(n){var r=n[Ot];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ni]||a[Ot]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=U_(n);n!==null;){if(a=n[Ot])return a;n=U_(n)}return r}n=a,a=n.parentNode}return null}function Oi(n){if(n=n[Ot]||n[Ni]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Tr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function wr(n){var r=n[Lo];return r||(r=n[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(n){n[Er]=!0}var Uo=new Set,Ea={};function hn(n,r){on(n,r),on(n+"Capture",r)}function on(n,r){for(Ea[n]=r,n=0;n<r.length;n++)Uo.add(r[n])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function Ou(n){return pa.call(zo,n)?!0:pa.call(jo,n)?!1:sf.test(n)?zo[n]=!0:(jo[n]=!0,!1)}function Ar(n,r,a){if(Ou(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Sr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function wn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function af(n){var r=xu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ts(n){n._valueTracker||(n._valueTracker=af(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=xu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Ta(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xi=/[\n"\\]/g;function at(n){return n.replace(xi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function br(n,r,a,l,h,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?wa(n,v,tn(r)):a!=null?wa(n,v,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function ws(n,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function wa(n,r,a){r==="number"&&Ta(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ze(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function As(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function Rr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function An(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var of=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||of.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Vu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&qo(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&qo(n,d,r[d])}function Fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(n){return uf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sn=null;function Aa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vi=null,ki=null;function Mi(n){var r=Oi(n);if(r&&(n=r.stateNode)){var a=n[St]||null;e:switch(n=r.stateNode,r.type){case"input":if(br(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+at(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[St]||null;if(!h)throw Error(s(90));br(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":As(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&ze(n,!!a.multiple,r,!1)}}}var Ho=!1;function ku(n,r,a){if(Ho)return n(r,a);Ho=!0;try{var l=n(r);return l}finally{if(Ho=!1,(Vi!==null||ki!==null)&&(bc(),Vi&&(r=Vi,n=ki,ki=Vi=null,Mi(r),n)))for(r=0;r<n.length;r++)Mi(n[r])}}function Ss(n,r){var a=n.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var bn=!1;if(fn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){bn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{bn=!1}var ri=null,Ir=null,Pi=null;function Go(){if(Pi)return Pi;var n,r=Ir,a=r.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Pi=h.slice(n,1<l?1-l:void 0)}function si(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ai(){return!0}function $o(){return!1}function xt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:$o,this.isPropagationStopped=$o,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=xt(He),Rs=D({},He,{view:0,detail:0}),Mu=xt(Rs),ba,Ra,oi,Is=D({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oi&&(oi&&n.type==="mousemove"?(ba=n.screenX-oi.screenX,Ra=n.screenY-oi.screenY):Ra=ba=0,oi=n),ba)},movementY:function(n){return"movementY"in n?n.movementY:Ra}}),Rn=xt(Is),Pu=D({},Is,{dataTransfer:0}),cf=xt(Pu),Cs=D({},Rs,{relatedTarget:0}),Ia=xt(Cs),Ko=D({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=xt(Ko),Lu=D({},He,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Da=xt(Lu),hf=D({},He,{data:0}),Yo=xt(hf),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=ju[n])?!!r[n]:!1}function Ns(){return Qo}var zu=D({},Rs,{key:function(n){if(n.key){var r=Ds[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=si(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(n){return n.type==="keypress"?si(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?si(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Na=xt(zu),Bu=D({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=xt(Bu),Li=D({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),qu=xt(Li),Fu=D({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=xt(Fu),Gu=D({},Is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=xt(Gu),nn=D({},He,{newState:0,oldState:0}),$u=xt(nn),Ku=[9,13,27,32],li=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var y=fn&&"TextEvent"in window&&!c,_=fn&&(!li||c&&8<c&&11>=c),w=" ",z=!1;function G(n,r){switch(n){case"keyup":return Ku.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function bt(n,r){switch(n){case"compositionend":return ie(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return n=r.data,n===w&&z?null:n;default:return null}}function Pe(n,r){if(Me)return n==="compositionend"||!li&&G(n,r)?(n=Go(),Pi=Ir=ri=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vt[n.type]:r==="textarea"}function Ui(n,r,a,l){Vi?ki?ki.push(l):ki=[l]:Vi=l,r=Nc(r,"onChange"),0<r.length&&(a=new Sa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Ut=null,ui=null;function Wo(n){D_(n,0)}function Yu(n){var r=Tr(n);if(Bo(r))return n}function rg(n,r){if(n==="change")return r}var sg=!1;if(fn){var ff;if(fn){var df="oninput"in document;if(!df){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),df=typeof ag.oninput=="function"}ff=df}else ff=!1;sg=ff&&(!document.documentMode||9<document.documentMode)}function og(){Ut&&(Ut.detachEvent("onpropertychange",lg),ui=Ut=null)}function lg(n){if(n.propertyName==="value"&&Yu(ui)){var r=[];Ui(r,ui,n,Aa(n)),ku(Wo,r)}}function DA(n,r,a){n==="focusin"?(og(),Ut=r,ui=a,Ut.attachEvent("onpropertychange",lg)):n==="focusout"&&og()}function NA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yu(ui)}function OA(n,r){if(n==="click")return Yu(r)}function xA(n,r){if(n==="input"||n==="change")return Yu(r)}function VA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var dn=typeof Object.is=="function"?Object.is:VA;function Zo(n,r){if(dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pa.call(r,h)||!dn(n[h],r[h]))return!1}return!0}function ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cg(n,r){var a=ug(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ug(a)}}function hg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?hg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function fg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ta(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Ta(n.document)}return r}function mf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function kA(n,r){var a=fg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&hg(r.ownerDocument.documentElement,r)){if(l!==null&&mf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=cg(r,d);var v=cg(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(n),a.extend(v.node,v.offset)):(n.setEnd(v.node,v.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var MA=fn&&"documentMode"in document&&11>=document.documentMode,xa=null,pf=null,Jo=null,gf=!1;function dg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||xa==null||xa!==Ta(l)||(l=xa,"selectionStart"in l&&mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Nc(pf,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=xa)))}function Os(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Va={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},yf={},mg={};fn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function xs(n){if(yf[n])return yf[n];if(!Va[n])return n;var r=Va[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in mg)return yf[n]=r[a];return n}var pg=xs("animationend"),gg=xs("animationiteration"),yg=xs("animationstart"),PA=xs("transitionrun"),LA=xs("transitionstart"),UA=xs("transitioncancel"),_g=xs("transitionend"),vg=new Map,Eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(n,r){vg.set(n,r),hn(r,[n])}var In=[],ka=0,_f=0;function Qu(){for(var n=ka,r=_f=ka=0;r<n;){var a=In[r];In[r++]=null;var l=In[r];In[r++]=null;var h=In[r];In[r++]=null;var d=In[r];if(In[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function Xu(n,r,a,l){In[ka++]=n,In[ka++]=r,In[ka++]=a,In[ka++]=l,_f|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function vf(n,r,a,l){return Xu(n,r,a,l),Wu(n)}function Cr(n,r){return Xu(n,null,null,r),Wu(n)}function Tg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;h&&r!==null&&n.tag===3&&(d=n.stateNode,h=31-en(a),d=d.hiddenUpdates,n=d[h],n===null?d[h]=[r]:n.push(r),r.lane=a|536870912)}function Wu(n){if(50<Sl)throw Sl=0,bd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ma={},wg=new WeakMap;function Cn(n,r){if(typeof n=="object"&&n!==null){var a=wg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Te(r)},wg.set(n,r),r)}return{value:n,source:r,stack:Te(r)}}var Pa=[],La=0,Zu=null,Ju=0,Dn=[],Nn=0,Vs=null,ji=1,zi="";function ks(n,r){Pa[La++]=Ju,Pa[La++]=Zu,Zu=n,Ju=r}function Ag(n,r,a){Dn[Nn++]=ji,Dn[Nn++]=zi,Dn[Nn++]=Vs,Vs=n;var l=ji;n=zi;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ji=1<<32-en(r)+h|a<<h|l,zi=d+n}else ji=1<<d|a<<h|l,zi=n}function Ef(n){n.return!==null&&(ks(n,1),Ag(n,1,0))}function Tf(n){for(;n===Zu;)Zu=Pa[--La],Pa[La]=null,Ju=Pa[--La],Pa[La]=null;for(;n===Vs;)Vs=Dn[--Nn],Dn[Nn]=null,zi=Dn[--Nn],Dn[Nn]=null,ji=Dn[--Nn],Dn[Nn]=null}var rn=null,jt=null,Be=!1,Hn=null,ci=!1,wf=Error(s(519));function Ms(n){var r=Error(s(418,""));throw nl(Cn(r,n)),wf}function Sg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ot]=n,r[St]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)ke(Rl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),ws(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ts(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Rr(r,l.value,l.defaultValue,l.children),Ts(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||V_(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Oc),r=!0):r=!1,r||Ms(n)}function bg(n){for(rn=n.return;rn;)switch(rn.tag){case 3:case 27:ci=!0;return;case 5:case 13:ci=!1;return;default:rn=rn.return}}function el(n){if(n!==rn)return!1;if(!Be)return bg(n),Be=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||qd(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&jt&&Ms(n),bg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){jt=$n(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}jt=null}}else jt=rn?$n(n.stateNode.nextSibling):null;return!0}function tl(){jt=rn=null,Be=!1}function nl(n){Hn===null?Hn=[n]:Hn.push(n)}var il=Error(s(460)),Rg=Error(s(474)),Af={then:function(){}};function Ig(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ec(){}function Cg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ec,ec),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===il?Error(s(483)):n;default:if(typeof r.status=="string")r.then(ec,ec);else{if(n=Xe,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===il?Error(s(483)):n}throw rl=r,il}}var rl=null;function Dg(){if(rl===null)throw Error(s(459));var n=rl;return rl=null,n}var Ua=null,sl=0;function tc(n){var r=sl;return sl+=1,Ua===null&&(Ua=[]),Cg(Ua,n,r)}function al(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function nc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ng(n){var r=n._init;return r(n._payload)}function Og(n){function r(U,k){if(n){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!n)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=zr(U,k),U.index=0,U.sibling=null,U}function d(U,k,q){return U.index=q,n?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=33554434,k):q):(U.flags|=33554434,k)):(U.flags|=1048576,k)}function v(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function T(U,k,q,J){return k===null||k.tag!==6?(k=yd(q,U.mode,J),k.return=U,k):(k=h(k,q),k.return=U,k)}function R(U,k,q,J){var ce=q.type;return ce===p?Q(U,k,q.props.children,J,q.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&Ng(ce)===k.type)?(k=h(k,q.props),al(k,q),k.return=U,k):(k=Ec(q.type,q.key,q.props,null,U.mode,J),al(k,q),k.return=U,k)}function P(U,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=_d(q,U.mode,J),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function Q(U,k,q,J,ce){return k===null||k.tag!==7?(k=Gs(q,U.mode,J,ce),k.return=U,k):(k=h(k,q),k.return=U,k)}function te(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=yd(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return q=Ec(k.type,k.key,k.props,null,U.mode,q),al(q,k),q.return=U,q;case m:return k=_d(k,U.mode,q),k.return=U,k;case X:var J=k._init;return k=J(k._payload),te(U,k,q)}if(oe(k)||_e(k))return k=Gs(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return te(U,tc(k),q);if(k.$$typeof===O)return te(U,yc(U,k),q);nc(U,k)}return null}function F(U,k,q,J){var ce=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:T(U,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ce?R(U,k,q,J):null;case m:return q.key===ce?P(U,k,q,J):null;case X:return ce=q._init,q=ce(q._payload),F(U,k,q,J)}if(oe(q)||_e(q))return ce!==null?null:Q(U,k,q,J,null);if(typeof q.then=="function")return F(U,k,tc(q),J);if(q.$$typeof===O)return F(U,k,yc(U,q),J);nc(U,q)}return null}function Y(U,k,q,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(q)||null,T(k,U,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return U=U.get(J.key===null?q:J.key)||null,R(k,U,J,ce);case m:return U=U.get(J.key===null?q:J.key)||null,P(k,U,J,ce);case X:var Ne=J._init;return J=Ne(J._payload),Y(U,k,q,J,ce)}if(oe(J)||_e(J))return U=U.get(q)||null,Q(k,U,J,ce,null);if(typeof J.then=="function")return Y(U,k,q,tc(J),ce);if(J.$$typeof===O)return Y(U,k,q,yc(k,J),ce);nc(k,J)}return null}function fe(U,k,q,J){for(var ce=null,Ne=null,me=k,ye=k=0,Pt=null;me!==null&&ye<q.length;ye++){me.index>ye?(Pt=me,me=null):Pt=me.sibling;var qe=F(U,me,q[ye],J);if(qe===null){me===null&&(me=Pt);break}n&&me&&qe.alternate===null&&r(U,me),k=d(qe,k,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe,me=Pt}if(ye===q.length)return a(U,me),Be&&ks(U,ye),ce;if(me===null){for(;ye<q.length;ye++)me=te(U,q[ye],J),me!==null&&(k=d(me,k,ye),Ne===null?ce=me:Ne.sibling=me,Ne=me);return Be&&ks(U,ye),ce}for(me=l(me);ye<q.length;ye++)Pt=Y(me,U,ye,q[ye],J),Pt!==null&&(n&&Pt.alternate!==null&&me.delete(Pt.key===null?ye:Pt.key),k=d(Pt,k,ye),Ne===null?ce=Pt:Ne.sibling=Pt,Ne=Pt);return n&&me.forEach(function(Kr){return r(U,Kr)}),Be&&ks(U,ye),ce}function Ae(U,k,q,J){if(q==null)throw Error(s(151));for(var ce=null,Ne=null,me=k,ye=k=0,Pt=null,qe=q.next();me!==null&&!qe.done;ye++,qe=q.next()){me.index>ye?(Pt=me,me=null):Pt=me.sibling;var Kr=F(U,me,qe.value,J);if(Kr===null){me===null&&(me=Pt);break}n&&me&&Kr.alternate===null&&r(U,me),k=d(Kr,k,ye),Ne===null?ce=Kr:Ne.sibling=Kr,Ne=Kr,me=Pt}if(qe.done)return a(U,me),Be&&ks(U,ye),ce;if(me===null){for(;!qe.done;ye++,qe=q.next())qe=te(U,qe.value,J),qe!==null&&(k=d(qe,k,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return Be&&ks(U,ye),ce}for(me=l(me);!qe.done;ye++,qe=q.next())qe=Y(me,U,ye,qe.value,J),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?ye:qe.key),k=d(qe,k,ye),Ne===null?ce=qe:Ne.sibling=qe,Ne=qe);return n&&me.forEach(function(ZS){return r(U,ZS)}),Be&&ks(U,ye),ce}function ut(U,k,q,J){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var ce=q.key;k!==null;){if(k.key===ce){if(ce=q.type,ce===p){if(k.tag===7){a(U,k.sibling),J=h(k,q.props.children),J.return=U,U=J;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===X&&Ng(ce)===k.type){a(U,k.sibling),J=h(k,q.props),al(J,q),J.return=U,U=J;break e}a(U,k);break}else r(U,k);k=k.sibling}q.type===p?(J=Gs(q.props.children,U.mode,J,q.key),J.return=U,U=J):(J=Ec(q.type,q.key,q.props,null,U.mode,J),al(J,q),J.return=U,U=J)}return v(U);case m:e:{for(ce=q.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),J=h(k,q.children||[]),J.return=U,U=J;break e}else{a(U,k);break}else r(U,k);k=k.sibling}J=_d(q,U.mode,J),J.return=U,U=J}return v(U);case X:return ce=q._init,q=ce(q._payload),ut(U,k,q,J)}if(oe(q))return fe(U,k,q,J);if(_e(q)){if(ce=_e(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),Ae(U,k,q,J)}if(typeof q.then=="function")return ut(U,k,tc(q),J);if(q.$$typeof===O)return ut(U,k,yc(U,q),J);nc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),J=h(k,q),J.return=U,U=J):(a(U,k),J=yd(q,U.mode,J),J.return=U,U=J),v(U)):a(U,k)}return function(U,k,q,J){try{sl=0;var ce=ut(U,k,q,J);return Ua=null,ce}catch(me){if(me===il)throw me;var Ne=kn(29,me,null,U.mode);return Ne.lanes=J,Ne.return=U,Ne}finally{}}}var Ps=Og(!0),xg=Og(!1),ja=je(null),ic=je(0);function Vg(n,r){n=Wi,$e(ic,n),$e(ja,r),Wi=n|r.baseLanes}function Sf(){$e(ic,Wi),$e(ja,ja.current)}function bf(){Wi=ic.current,st(ja),st(ic)}var On=je(null),hi=null;function Dr(n){var r=n.alternate;$e(It,It.current&1),$e(On,n),hi===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(hi=n)}function kg(n){if(n.tag===22){if($e(It,It.current),$e(On,n),hi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(hi=n)}}else Nr()}function Nr(){$e(It,It.current),$e(On,On.current)}function Bi(n){st(On),hi===n&&(hi=null),st(It)}var It=je(0);function rc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var jA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},zA=i.unstable_scheduleCallback,BA=i.unstable_NormalPriority,Ct={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new jA,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&zA(BA,function(){n.controller.abort()})}var ll=null,If=0,za=0,Ba=null;function qA(n,r){if(ll===null){var a=ll=[];If=0,za=Vd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,r.then(Mg,Mg),r}function Mg(){if(--If===0&&ll!==null){Ba!==null&&(Ba.status="fulfilled");var n=ll;ll=null,za=0,Ba=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function FA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Pg=b.S;b.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&qA(n,r),Pg!==null&&Pg(n,r)};var Ls=je(null);function Cf(){var n=Ls.current;return n!==null?n:Xe.pooledCache}function sc(n,r){r===null?$e(Ls,Ls.current):$e(Ls,r.pool)}function Lg(){var n=Cf();return n===null?null:{parent:Ct._currentValue,pool:n}}var Or=0,Ce=null,Ke=null,pt=null,ac=!1,qa=!1,Us=!1,oc=0,ul=0,Fa=null,HA=0;function ht(){throw Error(s(321))}function Df(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!dn(n[a],r[a]))return!1;return!0}function Nf(n,r,a,l,h,d){return Or=d,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=n===null||n.memoizedState===null?js:xr,Us=!1,d=a(l,h),Us=!1,qa&&(d=jg(r,a,l,h)),Ug(n),d}function Ug(n){b.H=fi;var r=Ke!==null&&Ke.next!==null;if(Or=0,pt=Ke=Ce=null,ac=!1,ul=0,Fa=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&gc(n)&&(kt=!0))}function jg(n,r,a,l){Ce=n;var h=0;do{if(qa&&(Fa=null),ul=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,pt=Ke=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=zs,d=r(a,l)}while(qa);return d}function GA(){var n=b.H,r=n.useState()[0];return r=typeof r.then=="function"?cl(r):r,n=n.useState()[0],(Ke!==null?Ke.memoizedState:null)!==n&&(Ce.flags|=1024),r}function Of(){var n=oc!==0;return oc=0,n}function xf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Vf(n){if(ac){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ac=!1}Or=0,pt=Ke=Ce=null,qa=!1,ul=oc=0,Fa=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ce.memoizedState=pt=n:pt=pt.next=n,pt}function gt(){if(Ke===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ke.next;var r=pt===null?Ce.memoizedState:pt.next;if(r!==null)pt=r,Ke=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ke=n,n={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},pt===null?Ce.memoizedState=pt=n:pt=pt.next=n}return pt}var lc;lc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(n){var r=ul;return ul+=1,Fa===null&&(Fa=[]),n=Cg(Fa,n,r),r=Ce,(pt===null?r.memoizedState:pt.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?js:xr),n}function uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cl(n);if(n.$$typeof===O)return $t(n)}throw Error(s(438,String(n)))}function kf(n){var r=null,a=Ce.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=lc(),Ce.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=he;return r.index++,a}function qi(n,r){return typeof r=="function"?r(n):r}function cc(n){var r=gt();return Mf(r,Ke,n)}function Mf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var T=v=null,R=null,P=r,Q=!1;do{var te=P.lane&-536870913;if(te!==P.lane?(Le&te)===te:(Or&te)===te){var F=P.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),te===za&&(Q=!0);else if((Or&F)===F){P=P.next,F===za&&(Q=!0);continue}else te={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=te,v=d):R=R.next=te,Ce.lanes|=F,Br|=F;te=P.action,Us&&a(d,te),d=P.hasEagerState?P.eagerState:a(d,te)}else F={lane:te,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=F,v=d):R=R.next=F,Ce.lanes|=te,Br|=te;P=P.next}while(P!==null&&P!==r);if(R===null?v=d:R.next=T,!dn(d,n.memoizedState)&&(kt=!0,Q&&(a=Ba,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pf(n){var r=gt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);dn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function zg(n,r,a){var l=Ce,h=gt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!dn((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,kt=!0),h=h.queue,jf(Fg.bind(null,l,h,n),[n]),h.getSnapshot!==r||v||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,qg.bind(null,l,h,a,r),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Or&60)!==0||Bg(l,r,a)}return a}function Bg(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ce.updateQueue,r===null?(r=lc(),Ce.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function qg(n,r,a,l){r.value=a,r.getSnapshot=l,Hg(r)&&Gg(n)}function Fg(n,r,a){return a(function(){Hg(r)&&Gg(n)})}function Hg(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!dn(n,a)}catch{return!0}}function Gg(n){var r=Cr(n,2);r!==null&&sn(r,n,2)}function Lf(n){var r=ln();if(typeof n=="function"){var a=n;if(n=a(),Us){Jn(!0);try{a()}finally{Jn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},r}function $g(n,r,a,l){return n.baseState=a,Mf(n,Ke,typeof l=="function"?l:qi)}function $A(n,r,a,l,h){if(dc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Kg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Kg(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=b.T,v={};b.T=v;try{var T=a(h,l),R=b.S;R!==null&&R(v,T),Yg(n,r,T)}catch(P){Uf(n,r,P)}finally{b.T=d}}else try{d=a(h,l),Yg(n,r,d)}catch(P){Uf(n,r,P)}}function Yg(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(n,r,l)},function(l){return Uf(n,r,l)}):Qg(n,r,a)}function Qg(n,r,a){r.status="fulfilled",r.value=a,Xg(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Kg(n,a)))}function Uf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Xg(r),r=r.next;while(r!==l)}n.action=null}function Xg(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Wg(n,r){return r}function Zg(n,r){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ce;if(Be){if(jt){t:{for(var h=jt,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){jt=$n(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:r},a.queue=l,a=gy.bind(null,Ce,l),l.dispatch=a,l=Lf(!1),d=Hf.bind(null,Ce,!1,l.queue),l=ln(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=$A.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function Jg(n){var r=gt();return ey(r,Ke,n)}function ey(n,r,a){r=Mf(n,r,Wg)[0],n=cc(qi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?cl(r):r;var l=gt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Ha(9,KA.bind(null,h,a),{destroy:void 0},null)),[r,d,n]}function KA(n,r){n.action=r}function ty(n){var r=gt(),a=Ke;if(a!==null)return ey(r,a,n);gt(),r=r.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ha(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=Ce.updateQueue,r===null&&(r=lc(),Ce.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function ny(){return gt().memoizedState}function hc(n,r,a,l){var h=ln();Ce.flags|=n,h.memoizedState=Ha(1|r,a,{destroy:void 0},l===void 0?null:l)}function fc(n,r,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&Df(l,Ke.memoizedState.deps)?h.memoizedState=Ha(r,a,d,l):(Ce.flags|=n,h.memoizedState=Ha(1|r,a,d,l))}function iy(n,r){hc(8390656,8,n,r)}function jf(n,r){fc(2048,8,n,r)}function ry(n,r){return fc(4,2,n,r)}function sy(n,r){return fc(4,4,n,r)}function ay(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function oy(n,r,a){a=a!=null?a.concat([n]):null,fc(4,4,ay.bind(null,r,n),a)}function zf(){}function ly(n,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Df(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function uy(n,r){var a=gt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Df(r,l[1]))return l[0];if(l=n(),Us){Jn(!0);try{n()}finally{Jn(!1)}}return a.memoizedState=[l,r],l}function Bf(n,r,a){return a===void 0||(Or&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=h_(),Ce.lanes|=n,Br|=n,a)}function cy(n,r,a,l){return dn(a,r)?a:ja.current!==null?(n=Bf(n,a,l),dn(n,r)||(kt=!0),n):(Or&42)===0?(kt=!0,n.memoizedState=a):(n=h_(),Ce.lanes|=n,Br|=n,r)}function hy(n,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,Hf(n,!1,r,a);try{var R=h(),P=b.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=FA(R,l);hl(n,r,Q,yn(n))}else hl(n,r,l,yn(n))}catch(te){hl(n,r,{then:function(){},status:"rejected",reason:te},yn())}finally{le.p=d,b.T=v}}function YA(){}function qf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=fy(n).queue;hy(n,h,r,Ie,a===null?YA:function(){return dy(n),a(l)})}function fy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Ie},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function dy(n){var r=fy(n).next.queue;hl(n,r,{},yn())}function Ff(){return $t(Ol)}function my(){return gt().memoizedState}function py(){return gt().memoizedState}function QA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();n=Mr(a);var l=Pr(r,n,a);l!==null&&(sn(l,r,a),ml(l,r,a)),r={cache:Rf()},n.payload=r;return}r=r.return}}function XA(n,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(n)?yy(r,a):(a=vf(n,r,a,l),a!==null&&(sn(a,n,l),_y(a,r,l)))}function gy(n,r,a){var l=yn();hl(n,r,a,l)}function hl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(n))yy(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return Xu(n,r,h,0),Xe===null&&Qu(),!1}catch{}finally{}if(a=vf(n,r,h,l),a!==null)return sn(a,n,l),_y(a,r,l),!0}return!1}function Hf(n,r,a,l){if(l={lane:2,revertLane:Vd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(n)){if(r)throw Error(s(479))}else r=vf(n,a,l,2),r!==null&&sn(r,n,2)}function dc(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function yy(n,r){qa=ac=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function _y(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_r(n,a)}}var fi={readContext:$t,use:uc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};fi.useCacheRefresh=ht,fi.useMemoCache=ht,fi.useHostTransitionStatus=ht,fi.useFormState=ht,fi.useActionState=ht,fi.useOptimistic=ht;var js={readContext:$t,use:uc,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:$t,useEffect:iy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,hc(4194308,4,ay.bind(null,r,n),a)},useLayoutEffect:function(n,r){return hc(4194308,4,n,r)},useInsertionEffect:function(n,r){hc(4,2,n,r)},useMemo:function(n,r){var a=ln();r=r===void 0?null:r;var l=n();if(Us){Jn(!0);try{n()}finally{Jn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=ln();if(a!==void 0){var h=a(r);if(Us){Jn(!0);try{a(r)}finally{Jn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=XA.bind(null,Ce,n),[l.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=Lf(n);var r=n.queue,a=gy.bind(null,Ce,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(n,r){var a=ln();return Bf(a,n,r)},useTransition:function(){var n=Lf(!1);return n=hy.bind(null,Ce,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ce,h=ln();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Xe===null)throw Error(s(349));(Le&60)!==0||Bg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,iy(Fg.bind(null,l,d,n),[n]),l.flags|=2048,Ha(9,qg.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var n=ln(),r=Xe.identifierPrefix;if(Be){var a=zi,l=ji;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=oc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=HA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return ln().memoizedState=QA.bind(null,Ce)}};js.useMemoCache=kf,js.useHostTransitionStatus=Ff,js.useFormState=Zg,js.useActionState=Zg,js.useOptimistic=function(n){var r=ln();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Hf.bind(null,Ce,!0,a),a.dispatch=r,[n,r]};var xr={readContext:$t,use:uc,useCallback:ly,useContext:$t,useEffect:jf,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:uy,useReducer:cc,useRef:ny,useState:function(){return cc(qi)},useDebugValue:zf,useDeferredValue:function(n,r){var a=gt();return cy(a,Ke.memoizedState,n,r)},useTransition:function(){var n=cc(qi)[0],r=gt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:zg,useId:my};xr.useCacheRefresh=py,xr.useMemoCache=kf,xr.useHostTransitionStatus=Ff,xr.useFormState=Jg,xr.useActionState=Jg,xr.useOptimistic=function(n,r){var a=gt();return $g(a,Ke,n,r)};var zs={readContext:$t,use:uc,useCallback:ly,useContext:$t,useEffect:jf,useImperativeHandle:oy,useInsertionEffect:ry,useLayoutEffect:sy,useMemo:uy,useReducer:Pf,useRef:ny,useState:function(){return Pf(qi)},useDebugValue:zf,useDeferredValue:function(n,r){var a=gt();return Ke===null?Bf(a,n,r):cy(a,Ke.memoizedState,n,r)},useTransition:function(){var n=Pf(qi)[0],r=gt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:zg,useId:my};zs.useCacheRefresh=py,zs.useMemoCache=kf,zs.useHostTransitionStatus=Ff,zs.useFormState=ty,zs.useActionState=ty,zs.useOptimistic=function(n,r){var a=gt();return Ke!==null?$g(a,Ke,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Gf(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var $f={isMounted:function(n){return(n=n._reactInternals)?ge(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=yn(),h=Mr(l);h.payload=r,a!=null&&(h.callback=a),r=Pr(n,h,l),r!==null&&(sn(r,n,l),ml(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=yn(),h=Mr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Pr(n,h,l),r!==null&&(sn(r,n,l),ml(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=yn(),l=Mr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(n,l,a),r!==null&&(sn(r,n,a),ml(r,n,a))}};function vy(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Ey(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&$f.enqueueReplaceState(r,r.state,null)}function Bs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ty(n){mc(n)}function wy(n){console.error(n)}function Ay(n){mc(n)}function pc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Sy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kf(n,r,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(n,r)},a}function by(n){return n=Mr(n),n.tag=3,n}function Ry(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){Sy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Sy(r,a,l),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function WA(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return hi===null?Cd():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Af?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Nd(n,l,h)),!1;case 22:return a.flags|=65536,l===Af?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Nd(n,l,h)),!1}throw Error(s(435,a.tag))}return Nd(n,l,h),Cd(),!1}if(Be)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==wf&&(n=Error(s(422),{cause:l}),nl(Cn(n,a)))):(l!==wf&&(r=Error(s(423),{cause:l}),nl(Cn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Cn(l,a),h=Kf(n.stateNode,l,h),ld(n,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),wl===null?wl=[d]:wl.push(d),lt!==4&&(lt=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=Kf(a.stateNode,l,n),ld(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=by(h),Ry(h,n,a,l),ld(a,h),!1}a=a.return}while(a!==null);return!1}var Iy=Error(s(461)),kt=!1;function zt(n,r,a,l){r.child=n===null?xg(r,null,a,l):Ps(r,n.child,a,l)}function Cy(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Fs(r),l=Nf(n,r,a,v,d,h),T=Of(),n!==null&&!kt?(xf(n,r,h),Fi(n,r,h)):(Be&&T&&Ef(r),r.flags|=1,zt(n,r,l,h),r.child)}function Dy(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!gd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Ny(n,r,d,l,h)):(n=Ec(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!nd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&n.ref===r.ref)return Fi(n,r,h)}return r.flags|=1,n=zr(d,l),n.ref=r.ref,n.return=r,r.child=n}function Ny(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(Zo(d,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=d,nd(n,h))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Fi(n,r,h)}return Yf(n,r,a,l,h)}function Oy(n,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=n!==null?n.memoizedState:null;if(fl(n,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return xy(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&sc(r,v!==null?v.cachePool:null),v!==null?Vg(r,v):Sf(),kg(r);else return r.lanes=r.childLanes=536870912,xy(n,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(sc(r,v.cachePool),Vg(r,v),Nr(),r.memoizedState=null):(n!==null&&sc(r,null),Sf(),Nr());return zt(n,r,h,a),r.child}function xy(n,r,a,l){var h=Cf();return h=h===null?null:{parent:Ct._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&sc(r,null),Sf(),kg(r),n!==null&&dl(n,r,l,!0),null}function fl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Yf(n,r,a,l,h){return Fs(r),a=Nf(n,r,a,l,void 0,h),l=Of(),n!==null&&!kt?(xf(n,r,h),Fi(n,r,h)):(Be&&l&&Ef(r),r.flags|=1,zt(n,r,a,h),r.child)}function Vy(n,r,a,l,h,d){return Fs(r),r.updateQueue=null,a=jg(r,l,a,h),Ug(n),l=Of(),n!==null&&!kt?(xf(n,r,d),Fi(n,r,d)):(Be&&l&&Ef(r),r.flags|=1,zt(n,r,a,d),r.child)}function ky(n,r,a,l,h){if(Fs(r),r.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=$t(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ad(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?$t(v):Ma,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Gf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&$f.enqueueReplaceState(d,d.state,null),gl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,R=Bs(a,T);d.props=R;var P=d.context,Q=a.contextType;v=Ma,typeof Q=="object"&&Q!==null&&(v=$t(Q));var te=a.getDerivedStateFromProps;Q=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&Ey(r,d,l,v),kr=!1;var F=r.memoizedState;d.state=F,gl(r,l,d,h),pl(),P=r.memoizedState,T||F!==P||kr?(typeof te=="function"&&(Gf(r,a,te,l),P=r.memoizedState),(R=kr||vy(r,a,R,l,F,P,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),d.props=l,d.state=P,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,od(n,r),v=r.memoizedProps,Q=Bs(a,v),d.props=Q,te=r.pendingProps,F=d.context,P=a.contextType,R=Ma,typeof P=="object"&&P!==null&&(R=$t(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||F!==R)&&Ey(r,d,l,R),kr=!1,F=r.memoizedState,d.state=F,gl(r,l,d,h),pl();var Y=r.memoizedState;v!==te||F!==Y||kr||n!==null&&n.dependencies!==null&&gc(n.dependencies)?(typeof T=="function"&&(Gf(r,a,T,l),Y=r.memoizedState),(Q=kr||vy(r,a,Q,l,F,Y,R)||n!==null&&n.dependencies!==null&&gc(n.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,R)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,fl(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ps(r,n.child,null,h),r.child=Ps(r,null,a,h)):zt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=Fi(n,r,h),n}function My(n,r,a,l){return tl(),r.flags|=256,zt(n,r,a,l),r.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Xf(n){return{baseLanes:n,cachePool:Lg()}}function Wf(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Mn),n}function Py(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(h?Dr(r):Nr(),Be){var T=jt,R;if(R=T){e:{for(R=T,T=ci;R.nodeType!==8;){if(!T){T=null;break e}if(R=$n(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(r.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:ji,overflow:zi}:null,retryLane:536870912},R=kn(18,null,null,0),R.stateNode=T,R.return=r,r.child=R,rn=r,jt=null,R=!0):R=!1}R||Ms(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,h?(Nr(),h=r.mode,T=Jf({mode:"hidden",children:T},h),l=Gs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Xf(a),h.childLanes=Wf(n,v,a),r.memoizedState=Qf,l):(Dr(r),Zf(r,T))}if(R=n.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)r.flags&256?(Dr(r),r.flags&=-257,r=ed(n,r,a)):r.memoizedState!==null?(Nr(),r.child=n.child,r.flags|=128,r=null):(Nr(),h=l.fallback,T=r.mode,l=Jf({mode:"visible",children:l.children},T),h=Gs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ps(r,n.child,null,a),l=r.child,l.memoizedState=Xf(a),l.childLanes=Wf(n,v,a),r.memoizedState=Qf,r=h);else if(Dr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=ed(n,r,a)}else if(kt||dl(n,r,a,!1),v=(a&n.childLanes)!==0,kt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,Cr(n,l),sn(v,n,l),Iy}T.data==="$?"||Cd(),r=ed(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=fS.bind(null,n),T._reactRetry=r,r=null):(n=R.treeContext,jt=$n(T.nextSibling),rn=r,Be=!0,Hn=null,ci=!1,n!==null&&(Dn[Nn++]=ji,Dn[Nn++]=zi,Dn[Nn++]=Vs,ji=n.id,zi=n.overflow,Vs=r),r=Zf(r,l.children),r.flags|=4096);return r}return h?(Nr(),h=l.fallback,T=r.mode,R=n.child,P=R.sibling,l=zr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=zr(P,h):(h=Gs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=n.child.memoizedState,T===null?T=Xf(a):(R=T.cachePool,R!==null?(P=Ct._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Lg(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=Wf(n,v,a),r.memoizedState=Qf,l):(Dr(r),a=n.child,n=a.sibling,a=zr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Zf(n,r){return r=Jf({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Jf(n,r){return l_(n,r,0,null)}function ed(n,r,a){return Ps(r,n.child,null,a),n=Zf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ly(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),rd(n.return,r,a)}function td(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Uy(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(zt(n,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ly(n,a,r);else if(n.tag===19)Ly(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch($e(It,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&rc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),td(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&rc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}td(r,!0,a,null,d);break;case"together":td(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=zr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=zr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function nd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&gc(n)))}function ZA(n,r,a){switch(r.tag){case 3:fr(r,r.stateNode.containerInfo),Vr(r,Ct,n.memoizedState.cache),tl();break;case 27:case 5:Oo(r);break;case 4:fr(r,r.stateNode.containerInfo);break;case 10:Vr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Py(n,r,a):(Dr(r),n=Fi(n,r,a),n!==null?n.sibling:null);Dr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Uy(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,Oy(n,r,a);case 24:Vr(r,Ct,n.memoizedState.cache)}return Fi(n,r,a)}function jy(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!nd(n,a)&&(r.flags&128)===0)return kt=!1,ZA(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Be&&(r.flags&1048576)!==0&&Ag(r,Ju,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")gd(l)?(n=Bs(l,n),r.tag=1,r=ky(null,r,l,n,a)):(r.tag=0,r=Yf(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===j){r.tag=11,r=Cy(null,r,l,n,a);break e}else if(h===K){r.tag=14,r=Dy(null,r,l,n,a);break e}}throw r=I(l)||l,Error(s(306,r,""))}}return r;case 0:return Yf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bs(l,r.pendingProps),ky(n,r,l,h,a);case 3:e:{if(fr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,od(n,r),gl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,Vr(r,Ct,d),d!==h.cache&&sd(r,[Ct],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=My(n,r,d,a);break e}else if(d!==l){l=Cn(Error(s(424)),r),nl(l),r=My(n,r,d,a);break e}else for(jt=$n(r.stateNode.containerInfo.firstChild),rn=r,Be=!0,Hn=null,ci=!0,a=xg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){r=Fi(n,r,a);break e}zt(n,r,d,a)}r=r.child}return r;case 26:return fl(n,r),n===null?(a=q_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,n=r.pendingProps,l=xc(En.current).createElement(a),l[Ot]=r,l[St]=n,Bt(l,a,n),et(l),r.stateNode=l):r.memoizedState=q_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Oo(r),n===null&&Be&&(l=r.stateNode=j_(r.type,r.pendingProps,En.current),rn=r,ci=!0,jt=$n(l.firstChild)),l=r.pendingProps.children,n!==null||Be?zt(n,r,l,a):r.child=Ps(r,null,l,a),fl(n,r),r.child;case 5:return n===null&&Be&&((h=l=jt)&&(l=CS(l,r.type,r.pendingProps,ci),l!==null?(r.stateNode=l,rn=r,jt=$n(l.firstChild),ci=!1,h=!0):h=!1),h||Ms(r)),Oo(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,qd(h,d)?l=null:v!==null&&qd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Nf(n,r,GA,null,null,a),Ol._currentValue=h),fl(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&Be&&((n=a=jt)&&(a=DS(a,r.pendingProps,ci),a!==null?(r.stateNode=a,rn=r,jt=null,n=!0):n=!1),n||Ms(r)),null;case 13:return Py(n,r,a);case 4:return fr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ps(r,null,l,a):zt(n,r,l,a),r.child;case 11:return Cy(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Vr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Fs(r),h=$t(h),l=l(h),r.flags|=1,zt(n,r,l,a),r.child;case 14:return Dy(n,r,r.type,r.pendingProps,a);case 15:return Ny(n,r,r.type,r.pendingProps,a);case 19:return Uy(n,r,a);case 22:return Oy(n,r,a);case 24:return Fs(r),l=$t(Ct),n===null?(h=Cf(),h===null&&(h=Xe,d=Rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},ad(r),Vr(r,Ct,h)):((n.lanes&a)!==0&&(od(n,r),gl(r,null,null,a),pl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Vr(r,Ct,l)):(l=d.cache,Vr(r,Ct,l),l!==h.cache&&sd(r,[Ct],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var id=je(null),qs=null,Hi=null;function Vr(n,r,a){$e(id,r._currentValue),r._currentValue=a}function Gi(n){n._currentValue=id.current,st(id)}function rd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function sd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<r.length;R++)if(T.context===r[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),rd(d.return,a,n),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),rd(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(h===hr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ol):n=[Ol])}h=h.return}n!==null&&sd(r,n,a,l),r.flags|=262144}function gc(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fs(n){qs=n,Hi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return zy(qs,n)}function yc(n,r){return qs===null&&Fs(n),zy(n,r)}function zy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(n===null)throw Error(s(308));Hi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Hi=Hi.next=r;return a}var kr=!1;function ad(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function od(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Wu(n),Tg(n,null,a),r}return Xu(n,l,r,a),Wu(n)}function ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,_r(n,a)}}function ld(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var ud=!1;function pl(){if(ud){var n=Ba;if(n!==null)throw n}}function gl(n,r,a,l){ud=!1;var h=n.updateQueue;kr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,v===null?d=P:v.next=P,v=R;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=P:T.next=P,Q.lastBaseUpdate=R))}if(d!==null){var te=h.baseState;v=0,Q=P=R=null,T=d;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(Le&F)===F:(l&F)===F){F!==0&&F===za&&(ud=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=n,Ae=T;F=r;var ut=a;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){te=fe.call(ut,te,F);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,F=typeof fe=="function"?fe.call(ut,te,F):fe,F==null)break e;te=D({},te,F);break e;case 2:kr=!0}}F=T.callback,F!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(P=Q=Y,R=te):Q=Q.next=Y,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Q===null&&(R=te),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Br|=v,n.lanes=v,n.memoizedState=te}}function By(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function qy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)By(a[n],r)}function yl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Qe(r,r.return,T)}}function Lr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var R=a;try{T()}catch(P){Qe(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){Qe(r,r.return,P)}}function Fy(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{qy(r,a)}catch(l){Qe(n,n.return,l)}}}function Hy(n,r,a){a.props=Bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(n,r,l)}}function Hs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(d){Qe(n,r,d)}}function mn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Qe(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qe(n,r,h)}else a.current=null}function Gy(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Qe(n,n.return,h)}}function $y(n,r,a){try{var l=n.stateNode;AS(l,n.type,a,r),l[St]=r}catch(h){Qe(n,n.return,h)}}function Ky(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ky(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function hd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Oc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(hd(n,r,a),n=n.sibling;n!==null;)hd(n,r,a),n=n.sibling}function _c(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(_c(n,r,a),n=n.sibling;n!==null;)_c(n,r,a),n=n.sibling}var $i=!1,ot=!1,fd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Mt=null,Qy=!1;function JA(n,r){if(n=n.containerInfo,zd=Uc,n=fg(n),mf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,R=-1,P=0,Q=0,te=n,F=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(T=v+h),te!==d||l!==0&&te.nodeType!==3||(R=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Y=te.firstChild)!==null;)F=te,te=Y;for(;;){if(te===n)break t;if(F===a&&++P===h&&(T=v),F===d&&++Q===l&&(R=v),(Y=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Y}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:n,selectionRange:a},Uc=!1,Mt=r;Mt!==null;)if(r=Mt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Mt=n;else for(;Mt!==null;){switch(r=Mt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Bs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Qe(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Gd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Mt=n;break}Mt=r.return}return fe=Qy,Qy=!1,fe}function Xy(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(n,a),l&4&&yl(5,a);break;case 1:if(Yi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Qe(a,a.return,T)}else{var h=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Qe(a,a.return,T)}}l&64&&Fy(a),l&512&&Hs(a,a.return);break;case 3:if(Yi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qy(l,n)}catch(T){Qe(a,a.return,T)}}break;case 26:Yi(n,a),l&512&&Hs(a,a.return);break;case 27:case 5:Yi(n,a),r===null&&l&4&&Gy(a),l&512&&Hs(a,a.return);break;case 12:Yi(n,a);break;case 13:Yi(n,a),l&4&&Jy(n,a);break;case 22:if(h=a.memoizedState!==null||$i,!h){r=r!==null&&r.memoizedState!==null||ot;var d=$i,v=ot;$i=h,(ot=r)&&!v?Ur(n,a,(a.subtreeFlags&8772)!==0):Yi(n,a),$i=d,ot=v}l&512&&(a.memoizedProps.mode==="manual"?Hs(a,a.return):mn(a,a.return));break;default:Yi(n,a)}}function Wy(n){var r=n.alternate;r!==null&&(n.alternate=null,Wy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Es(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,pn=!1;function Ki(n,r,a){for(a=a.child;a!==null;)Zy(n,r,a),a=a.sibling}function Zy(n,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:ot||mn(a,r),Ki(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||mn(a,r);var l=yt,h=pn;for(yt=a.stateNode,Ki(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Es(a),yt=l,pn=h;break;case 5:ot||mn(a,r);case 6:h=yt;var d=pn;if(yt=null,Ki(n,r,a),yt=h,pn=d,yt!==null)if(pn)try{n=yt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(v){Qe(a,r,v)}else try{yt.removeChild(a.stateNode)}catch(v){Qe(a,r,v)}break;case 18:yt!==null&&(pn?(r=yt,a=a.stateNode,r.nodeType===8?Hd(r.parentNode,a):r.nodeType===1&&Hd(r,a),Ml(r)):Hd(yt,a.stateNode));break;case 4:l=yt,h=pn,yt=a.stateNode.containerInfo,pn=!0,Ki(n,r,a),yt=l,pn=h;break;case 0:case 11:case 14:case 15:ot||Lr(2,a,r),ot||Lr(4,a,r),Ki(n,r,a);break;case 1:ot||(mn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,r,l)),Ki(n,r,a);break;case 21:Ki(n,r,a);break;case 22:ot||mn(a,r),ot=(l=ot)||a.memoizedState!==null,Ki(n,r,a),ot=l;break;default:Ki(n,r,a)}}function Jy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ml(n)}catch(a){Qe(r,r.return,a)}}function eS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Yy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Yy),r;default:throw Error(s(435,n.tag))}}function dd(n,r){var a=eS(n);r.forEach(function(l){var h=dS.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:yt=T.stateNode,pn=!1;break e;case 3:yt=T.stateNode.containerInfo,pn=!0;break e;case 4:yt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(yt===null)throw Error(s(160));Zy(d,v,h),yt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)e_(r,n),r=r.sibling}var Gn=null;function e_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(r,n),Vn(n),l&4&&(Lr(3,n,n.return),yl(3,n),Lr(5,n,n.return));break;case 1:xn(r,n),Vn(n),l&512&&(ot||a===null||mn(a,a.return)),l&64&&$i&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(xn(r,n),Vn(n),l&512&&(ot||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Er]||d[Ot]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[Ot]=n,et(d),l=d;break e;case"link":var v=G_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=G_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ot]=n,et(d),l=d}n.stateNode=l}else $_(h,n.type,n.stateNode);else n.stateNode=H_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,n.type,n.stateNode):H_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&$y(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,d=n.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,Q=R.nodeName;R[Er]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var te=n.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Bt(h,te,d),h[Ot]=n,h[St]=d}catch(fe){Qe(n,n.return,fe)}}case 5:if(xn(r,n),Vn(n),l&512&&(ot||a===null||mn(a,a.return)),n.flags&32){h=n.stateNode;try{An(h,"")}catch(fe){Qe(n,n.return,fe)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,$y(n,h,a!==null?a.memoizedProps:h)),l&1024&&(fd=!0);break;case 6:if(xn(r,n),Vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(fe){Qe(n,n.return,fe)}}break;case 3:if(Mc=null,h=Gn,Gn=Vc(r.containerInfo),xn(r,n),Gn=h,Vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(fe){Qe(n,n.return,fe)}fd&&(fd=!1,t_(n));break;case 4:l=Gn,Gn=Vc(n.stateNode.containerInfo),xn(r,n),Vn(n),Gn=l;break;case 12:xn(r,n),Vn(n);break;case 13:xn(r,n),Vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wd=an()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,dd(n,l)));break;case 22:if(l&512&&(ot||a===null||mn(a,a.return)),R=n.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Q=$i,te=ot,$i=Q||R,ot=te||P,xn(r,n),ot=te,$i=Q,Vn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=R?r._visibility&-2:r._visibility|1,R&&(r=$i||ot,a===null||P||r||Ga(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){P=a=r;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Qe(P,P.return,fe)}}}else if(r.tag===6){if(a===null){P=r;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(fe){Qe(P,P.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dd(n,a))));break;case 19:xn(r,n),Vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,dd(n,l)));break;case 21:break;default:xn(r,n),Vn(n)}}function Vn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Ky(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=cd(n);_c(n,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(An(v,""),l.flags&=-33);var T=cd(n);_c(n,T,v);break;case 3:case 4:var R=l.stateNode.containerInfo,P=cd(n);hd(n,P,R);break;default:throw Error(s(161))}}}catch(Q){Qe(n,n.return,Q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function t_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Yi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xy(n,r.alternate,r),r=r.sibling}function Ga(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Ga(r);break;case 1:mn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hy(r,r.return,a),Ga(r);break;case 26:case 27:case 5:mn(r,r.return),Ga(r);break;case 22:mn(r,r.return),r.memoizedState===null&&Ga(r);break;default:Ga(r)}n=n.sibling}}function Ur(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(h,d,a),yl(4,d);break;case 1:if(Ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Qe(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)By(R[h],T)}catch(P){Qe(l,l.return,P)}}a&&v&64&&Fy(d),Hs(d,d.return);break;case 26:case 27:case 5:Ur(h,d,a),a&&l===null&&v&4&&Gy(d),Hs(d,d.return);break;case 12:Ur(h,d,a);break;case 13:Ur(h,d,a),a&&v&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Ur(h,d,a),Hs(d,d.return);break;default:Ur(h,d,a)}r=r.sibling}}function md(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function pd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function jr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(n,r,a,l),r=r.sibling}function n_(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:jr(n,r,a,l),h&2048&&yl(9,r);break;case 3:jr(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(h&2048){jr(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Qe(r,r.return,R)}}else jr(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?jr(n,r,a,l):_l(n,r):d._visibility&4?jr(n,r,a,l):(d._visibility|=4,$a(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&md(r.alternate,r);break;case 24:jr(n,r,a,l),h&2048&&pd(r.alternate,r);break;default:jr(n,r,a,l)}}function $a(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:$a(d,v,T,R,h),yl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?$a(d,v,T,R,h):_l(d,v):(Q._visibility|=4,$a(d,v,T,R,h)),h&&P&2048&&md(v.alternate,v);break;case 24:$a(d,v,T,R,h),h&&P&2048&&pd(v.alternate,v);break;default:$a(d,v,T,R,h)}r=r.sibling}}function _l(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&md(l.alternate,l);break;case 24:_l(a,l),h&2048&&pd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function Ka(n){if(n.subtreeFlags&vl)for(n=n.child;n!==null;)i_(n),n=n.sibling}function i_(n){switch(n.tag){case 26:Ka(n),n.flags&vl&&n.memoizedState!==null&&qS(Gn,n.memoizedState,n.memoizedProps);break;case 5:Ka(n);break;case 3:case 4:var r=Gn;Gn=Vc(n.stateNode.containerInfo),Ka(n),Gn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,Ka(n),vl=r):Ka(n));break;default:Ka(n)}}function r_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function El(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,a_(l,n)}r_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 0:case 11:case 15:El(n),n.flags&2048&&Lr(9,n,n.return);break;case 3:El(n);break;case 12:El(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,vc(n)):El(n);break;default:El(n)}}function vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Mt=l,a_(l,n)}r_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,vc(r));break;default:vc(r)}n=n.sibling}}function a_(n,r){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=n;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Wy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function tS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(n,r,a,l){return new tS(n,r,a,l)}function gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zr(n,r){var a=n.alternate;return a===null?(a=kn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function o_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ec(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")gd(n)&&(v=1);else if(typeof n=="string")v=zS(n,a,Jt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Gs(a.children,h,d,r);case g:v=8,h|=24;break;case E:return n=kn(12,a,r,h|2),n.elementType=E,n.lanes=d,n;case $:return n=kn(13,a,r,h),n.elementType=$,n.lanes=d,n;case L:return n=kn(19,a,r,h),n.elementType=L,n.lanes=d,n;case W:return l_(a,h,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case O:v=10;break e;case S:v=9;break e;case j:v=11;break e;case K:v=14;break e;case X:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=kn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function Gs(n,r,a,l){return n=kn(7,n,l,r),n.lanes=a,n}function l_(n,r,a,l){n=kn(22,n,l,r),n.elementType=W,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Cr(d,2);v!==null&&(h._pendingVisibility|=2,sn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Cr(d,2);v!==null&&(h._pendingVisibility&=-3,sn(v,d,2))}}};return n.stateNode=h,n}function yd(n,r,a){return n=kn(6,n,null,r),n.lanes=a,n}function _d(n,r,a){return r=kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Qi(n){n.flags|=4}function u_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!K_(r)){if(r=On.current,r!==null&&((Le&4194176)===Le?hi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==hi))throw rl=Af,Rg;n.flags|=8192}}function Tc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?gr():536870912,n.lanes|=r,Qa|=r)}function Tl(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function nS(n,r,a){var l=r.pendingProps;switch(Tf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Gi(Ct),Ci(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(el(r)?Qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hn!==null&&(Rd(Hn),Hn=null))),tt(r),null;case 26:return a=r.memoizedState,n===null?(Qi(r),a!==null?(tt(r),u_(r,a)):(tt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Qi(r),tt(r),u_(r,a)):(tt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Qi(r),tt(r),r.flags&=-16777217),null;case 27:ma(r),a=En.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}n=Jt.current,el(r)?Sg(r):(n=j_(h,l,a),r.stateNode=n,Qi(r))}return tt(r),null;case 5:if(ma(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(n=Jt.current,el(r))Sg(r);else{switch(h=xc(En.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Ot]=r,n[St]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Bt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qi(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=En.current,el(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Ot]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||V_(n.nodeValue,a)),n||Ms(r)}else n=xc(n).createTextNode(l),n[Ot]=r,r.stateNode=n}return tt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ot]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),h=!1}else Hn!==null&&(Rd(Hn),Hn=null),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Tc(r,r.updateQueue),tt(r),null;case 4:return Ci(),n===null&&Ld(r.stateNode.containerInfo),tt(r),null;case 10:return Gi(r.type),tt(r),null;case 19:if(st(It),h=r.memoizedState,h===null)return tt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(lt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=rc(n),d!==null){for(r.flags|=128,Tl(h,!1),n=d.updateQueue,r.updateQueue=n,Tc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)o_(a,n),a=a.sibling;return $e(It,It.current&1|2),r.child}n=n.sibling}h.tail!==null&&an()>wc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(n=rc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Tc(r,n),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return tt(r),null}else 2*an()-h.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,n=It.current,$e(It,l?n&1|2:n&1),r):(tt(r),null);case 22:case 23:return Bi(r),bf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Tc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&st(Ls),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Gi(Ct),tt(r),null;case 25:return null}throw Error(s(156,r.tag))}function iS(n,r){switch(Tf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Gi(Ct),Ci(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ma(r),null;case 13:if(Bi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return st(It),null;case 4:return Ci(),null;case 10:return Gi(r.type),null;case 22:case 23:return Bi(r),bf(),n!==null&&st(Ls),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Gi(Ct),null;case 25:return null;default:return null}}function c_(n,r){switch(Tf(r),r.tag){case 3:Gi(Ct),Ci();break;case 26:case 27:case 5:ma(r);break;case 4:Ci();break;case 13:Bi(r);break;case 19:st(It);break;case 10:Gi(r.type);break;case 22:case 23:Bi(r),bf(),n!==null&&st(Ls);break;case 24:Gi(Ct)}}var rS={getCacheForType:function(n){var r=$t(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},sS=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Oe=null,Le=0,We=0,gn=null,Xi=!1,Ya=!1,vd=!1,Wi=0,lt=0,Br=0,$s=0,Ed=0,Mn=0,Qa=0,wl=null,di=null,Td=!1,wd=0,wc=1/0,Ac=null,qr=null,Sc=!1,Ks=null,Al=0,Ad=0,Sd=null,Sl=0,bd=null;function yn(){if((nt&2)!==0&&Le!==0)return Le&-Le;if(b.T!==null){var n=za;return n!==0?n:Vd()}return Nu()}function h_(){Mn===0&&(Mn=(Le&536870912)===0||Be?Po():536870912);var n=On.current;return n!==null&&(n.flags|=32),Mn}function sn(n,r,a){(n===Xe&&We===2||n.cancelPendingCommit!==null)&&(Xa(n,0),Zi(n,Le,Mn,!1)),ct(n,a),((nt&2)===0||n!==Xe)&&(n===Xe&&((nt&2)===0&&($s|=a),lt===4&&Zi(n,Le,Mn,!1)),mi(n))}function f_(n,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||pr(n,r),h=l?lS(n,r):Dd(n,r,!0),d=l;do{if(h===0){Ya&&!l&&Zi(n,r,0,!1);break}else if(h===6)Zi(n,r,0,!Xi);else{if(a=n.current.alternate,d&&!aS(a)){h=Dd(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;h=wl;var R=T.current.memoizedState.isDehydrated;if(R&&(Xa(T,v).flags|=256),v=Dd(T,v,!1),v!==2){if(vd&&!R){T.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=di,di=h,d!==null&&Rd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Xa(n,0),Zi(n,r,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Zi(l,r,Mn,!Xi);break e}break;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=wd+300-an(),10<d)){if(Zi(l,r,Mn,!Xi),Tn(l,0)!==0)break e;l.timeoutHandle=P_(d_.bind(null,l,a,di,Ac,Td,r,Mn,$s,Qa,Xi,2,-0,0),d);break e}d_(l,a,di,Ac,Td,r,Mn,$s,Qa,Xi,0,-0,0)}}break}while(!0);mi(n)}function Rd(n){di===null?di=n:di.push.apply(di,n)}function d_(n,r,a,l,h,d,v,T,R,P,Q,te,F){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:BS},i_(r),r=FS(),r!==null)){n.cancelPendingCommit=r(E_.bind(null,n,a,l,h,v,T,R,1,te,F)),Zi(n,d,v,!P);return}E_(n,a,l,h,v,T,R,Q,te,F)}function aS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zi(n,r,a,l){r&=~Ed,r&=~$s,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yr(n,a,r)}function bc(){return(nt&6)===0?(bl(0),!1):!0}function Id(){if(Oe!==null){if(We===0)var n=Oe.return;else n=Oe,Hi=qs=null,Vf(n),Ua=null,sl=0,n=Oe;for(;n!==null;)c_(n.alternate,n),n=n.return;Oe=null}}function Xa(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,bS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Id(),Xe=n,Oe=a=zr(n.current,null),Le=r,We=0,gn=null,Xi=!1,Ya=pr(n,r),vd=!1,Qa=Mn=Ed=$s=Br=lt=0,di=wl=null,Td=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return Wi=r,Qu(),a}function m_(n,r){Ce=null,b.H=fi,r===il?(r=Dg(),We=3):r===Rg?(r=Dg(),We=4):We=r===Iy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,Oe===null&&(lt=1,pc(n,Cn(r,n.current)))}function p_(){var n=b.H;return b.H=fi,n===null?fi:n}function g_(){var n=b.A;return b.A=rS,n}function Cd(){lt=4,Xi||(Le&4194176)!==Le&&On.current!==null||(Ya=!0),(Br&134217727)===0&&($s&134217727)===0||Xe===null||Zi(Xe,Le,Mn,!1)}function Dd(n,r,a){var l=nt;nt|=2;var h=p_(),d=g_();(Xe!==n||Le!==r)&&(Ac=null,Xa(n,r)),r=!1;var v=lt;e:do try{if(We!==0&&Oe!==null){var T=Oe,R=gn;switch(We){case 8:Id(),v=6;break e;case 3:case 2:case 6:On.current===null&&(r=!0);var P=We;if(We=0,gn=null,Wa(n,T,R,P),a&&Ya){v=0;break e}break;default:P=We,We=0,gn=null,Wa(n,T,R,P)}}oS(),v=lt;break}catch(Q){m_(n,Q)}while(!0);return r&&n.shellSuspendCounter++,Hi=qs=null,nt=l,b.H=h,b.A=d,Oe===null&&(Xe=null,Le=0,Qu()),v}function oS(){for(;Oe!==null;)y_(Oe)}function lS(n,r){var a=nt;nt|=2;var l=p_(),h=g_();Xe!==n||Le!==r?(Ac=null,wc=an()+500,Xa(n,r)):Ya=pr(n,r);e:do try{if(We!==0&&Oe!==null){r=Oe;var d=gn;t:switch(We){case 1:We=0,gn=null,Wa(n,r,d,1);break;case 2:if(Ig(d)){We=0,gn=null,__(r);break}r=function(){We===2&&Xe===n&&(We=7),mi(n)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ig(d)?(We=0,gn=null,__(r)):(We=0,gn=null,Wa(n,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||K_(v)){We=0,gn=null;var R=T.sibling;if(R!==null)Oe=R;else{var P=T.return;P!==null?(Oe=P,Rc(P)):Oe=null}break t}}We=0,gn=null,Wa(n,r,d,5);break;case 6:We=0,gn=null,Wa(n,r,d,6);break;case 8:Id(),lt=6;break e;default:throw Error(s(462))}}uS();break}catch(Q){m_(n,Q)}while(!0);return Hi=qs=null,b.H=l,b.A=h,nt=a,Oe!==null?0:(Xe=null,Le=0,Qu(),lt)}function uS(){for(;Oe!==null&&!nf();)y_(Oe)}function y_(n){var r=jy(n.alternate,n,Wi);n.memoizedProps=n.pendingProps,r===null?Rc(n):Oe=r}function __(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Vy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Vy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Vf(r);default:c_(a,r),r=Oe=o_(r,Wi),r=jy(a,r,Wi)}n.memoizedProps=n.pendingProps,r===null?Rc(n):Oe=r}function Wa(n,r,a,l){Hi=qs=null,Vf(r),Ua=null,sl=0;var h=r.return;try{if(WA(n,h,r,a,Le)){lt=1,pc(n,Cn(a,n.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,pc(n,Cn(a,n.current)),Oe=null;return}r.flags&32768?(Be||l===1?n=!0:Ya||(Le&536870912)!==0?n=!1:(Xi=n=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(r,n)):Rc(r)}function Rc(n){var r=n;do{if((r.flags&32768)!==0){v_(r,Xi);return}n=r.return;var a=nS(r.alternate,r,Wi);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);lt===0&&(lt=5)}function v_(n,r){do{var a=iS(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);lt=6,Oe=null}function E_(n,r,a,l,h,d,v,T,R,P){var Q=b.T,te=le.p;try{le.p=2,b.T=null,cS(n,r,a,l,te,h,d,v,T,R,P)}finally{b.T=Q,le.p=te}}function cS(n,r,a,l,h,d,v,T){do Za();while(Ks!==null);if((nt&6)!==0)throw Error(s(327));var R=n.finishedWork;if(l=n.finishedLanes,R===null)return null;if(n.finishedWork=null,n.finishedLanes=0,R===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=_f,Cu(n,l,P,d,v,T),n===Xe&&(Oe=Xe=null,Le=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||Sc||(Sc=!0,Ad=P,Sd=a,mS(Di,function(){return Za(),null})),a=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=le.p,le.p=2,v=nt,nt|=4,JA(n,R),e_(R,n),kA(Bd,n.containerInfo),Uc=!!zd,Bd=zd=null,n.current=R,Xy(n,R.alternate,R),xo(),nt=v,le.p=d,b.T=a):n.current=R,Sc?(Sc=!1,Ks=n,Al=l):T_(n,P),P=n.pendingLanes,P===0&&(qr=null),ko(R.stateNode),mi(n),r!==null)for(h=n.onRecoverableError,R=0;R<r.length;R++)P=r[R],h(P.value,{componentStack:P.stack});return(Al&3)!==0&&Za(),P=n.pendingLanes,(l&4194218)!==0&&(P&42)!==0?n===bd?Sl++:(Sl=0,bd=n):Sl=0,bl(0),null}function T_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function Za(){if(Ks!==null){var n=Ks,r=Ad;Ad=0;var a=Du(Al),l=b.T,h=le.p;try{if(le.p=32>a?32:a,b.T=null,Ks===null)var d=!1;else{a=Sd,Sd=null;var v=Ks,T=Al;if(Ks=null,Al=0,(nt&6)!==0)throw Error(s(331));var R=nt;if(nt|=4,s_(v.current),n_(v,v.current,T,a),nt=R,bl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(dr,v)}catch{}d=!0}return d}finally{le.p=h,b.T=l,T_(n,r)}}return!1}function w_(n,r,a){r=Cn(a,r),r=Kf(n.stateNode,r,2),n=Pr(n,r,2),n!==null&&(ct(n,2),mi(n))}function Qe(n,r,a){if(n.tag===3)w_(n,n,a);else for(;r!==null;){if(r.tag===3){w_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){n=Cn(a,n),a=by(2),l=Pr(r,a,2),l!==null&&(Ry(a,l,r,n),ct(l,2),mi(l));break}}r=r.return}}function Nd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new sS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(vd=!0,h.add(a),n=hS.bind(null,n,r,a),r.then(n,n))}function hS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Xe===n&&(Le&a)===a&&(lt===4||lt===3&&(Le&62914560)===Le&&300>an()-wd?(nt&2)===0&&Xa(n,0):Ed|=a,Qa===Le&&(Qa=0)),mi(n)}function A_(n,r){r===0&&(r=gr()),n=Cr(n,r),n!==null&&(ct(n,r),mi(n))}function fS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),A_(n,a)}function dS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),A_(n,a)}function mS(n,r){return ys(n,r)}var Ic=null,Ja=null,Od=!1,Cc=!1,xd=!1,Ys=0;function mi(n){n!==Ja&&n.next===null&&(Ja===null?Ic=Ja=n:Ja=Ja.next=n),Cc=!0,Od||(Od=!0,gS(pS))}function bl(n,r){if(!xd&&Cc){xd=!0;do for(var a=!1,l=Ic;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,R_(l,d))}else d=Le,d=Tn(l,l===Xe?d:0),(d&3)===0||pr(l,d)||(a=!0,R_(l,d));l=l.next}while(a);xd=!1}}function pS(){Cc=Od=!1;var n=0;Ys!==0&&(SS()&&(n=Ys),Ys=0);for(var r=an(),a=null,l=Ic;l!==null;){var h=l.next,d=S_(l,r);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Ja=a)):(a=l,(n!==0||(d&3)!==0)&&(Cc=!0)),l=h}bl(n)}function S_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-en(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ya(T,r)):R<=r&&(n.expiredLanes|=T),d&=~T}if(r=Xe,a=Le,a=Tn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&We===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ga(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||pr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ga(l),Du(a)){case 2:case 8:a=Nt;break;case 32:a=Di;break;case 268435456:a=Vo;break;default:a=Di}return l=b_.bind(null,n),a=ys(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ga(l),n.callbackPriority=2,n.callbackNode=null,2}function b_(n,r){var a=n.callbackNode;if(Za()&&n.callbackNode!==a)return null;var l=Le;return l=Tn(n,n===Xe?l:0),l===0?null:(f_(n,l,r),S_(n,an()),n.callbackNode!=null&&n.callbackNode===a?b_.bind(null,n):null)}function R_(n,r){if(Za())return null;f_(n,r,!0)}function gS(n){RS(function(){(nt&6)!==0?ys(At,n):n()})}function Vd(){return Ys===0&&(Ys=Po()),Ys}function I_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ii(""+n)}function C_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function yS(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=I_((h[St]||null).action),v=l.submitter;v&&(r=(r=v[St]||null)?I_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Sa("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var R=v?C_(h,v):new FormData(h);qf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?C_(h,v):new FormData(h),qf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var kd=0;kd<Eg.length;kd++){var Md=Eg[kd],_S=Md.toLowerCase(),vS=Md[0].toUpperCase()+Md.slice(1);Fn(_S,"on"+vS)}Fn(pg,"onAnimationEnd"),Fn(gg,"onAnimationIteration"),Fn(yg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(PA,"onTransitionRun"),Fn(LA,"onTransitionStart"),Fn(UA,"onTransitionCancel"),Fn(_g,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function D_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Q){mc(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch(Q){mc(Q)}h.currentTarget=null,d=R}}}}function ke(n,r){var a=r[vs];a===void 0&&(a=r[vs]=new Set);var l=n+"__bubble";a.has(l)||(N_(r,n,2,!1),a.add(l))}function Pd(n,r,a){var l=0;r&&(l|=4),N_(a,n,l,r)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Ld(n){if(!n[Dc]){n[Dc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(ES.has(a)||Pd(a,!1,n),Pd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Dc]||(r[Dc]=!0,Pd("selectionchange",!1,r))}}function N_(n,r,a,l){switch(J_(r)){case 2:var h=$S;break;case 8:h=KS;break;default:h=Xd}a=h.bind(null,r,a,n),h=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Ud(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=qn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ku(function(){var P=d,Q=Aa(a),te=[];e:{var F=vg.get(n);if(F!==void 0){var Y=Sa,fe=n;switch(n){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":Y=Na;break;case"focusin":fe="focus",Y=Ia;break;case"focusout":fe="blur",Y=Ia;break;case"beforeblur":case"afterblur":Y=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=qu;break;case pg:case gg:case yg:Y=Ca;break;case _g:Y=Hu;break;case"scroll":case"scrollend":Y=Mu;break;case"wheel":Y=Oa;break;case"copy":case"cut":case"paste":Y=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xo;break;case"toggle":case"beforetoggle":Y=$u}var Ae=(r&4)!==0,ut=!Ae&&(n==="scroll"||n==="scrollend"),U=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var k=P,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||U===null||(J=Ss(k,U),J!=null&&Ae.push(Il(k,J,q))),ut)break;k=k.return}0<Ae.length&&(F=new Y(F,fe,null,a,Q),te.push({event:F,listeners:Ae}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",F&&a!==Sn&&(fe=a.relatedTarget||a.fromElement)&&(qn(fe)||fe[Ni]))break e;if((Y||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=P,fe=fe?qn(fe):null,fe!==null&&(ut=ge(fe),Ae=fe.tag,fe!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(Y=null,fe=P),Y!==fe)){if(Ae=Rn,J="onMouseLeave",U="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=Xo,J="onPointerLeave",U="onPointerEnter",k="pointer"),ut=Y==null?F:Tr(Y),q=fe==null?F:Tr(fe),F=new Ae(J,k+"leave",Y,a,Q),F.target=ut,F.relatedTarget=q,J=null,qn(Q)===P&&(Ae=new Ae(U,k+"enter",fe,a,Q),Ae.target=q,Ae.relatedTarget=ut,J=Ae),ut=J,Y&&fe)t:{for(Ae=Y,U=fe,k=0,q=Ae;q;q=eo(q))k++;for(q=0,J=U;J;J=eo(J))q++;for(;0<k-q;)Ae=eo(Ae),k--;for(;0<q-k;)U=eo(U),q--;for(;k--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=eo(Ae),U=eo(U)}Ae=null}else Ae=null;Y!==null&&O_(te,F,Y,Ae,!1),fe!==null&&ut!==null&&O_(te,ut,fe,Ae,!0)}}e:{if(F=P?Tr(P):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ce=rg;else if(Rt(F))if(sg)ce=xA;else{ce=NA;var Ne=DA}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Fo(P.elementType)&&(ce=rg):ce=OA;if(ce&&(ce=ce(n,P))){Ui(te,ce,a,Q);break e}Ne&&Ne(n,F,P),n==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&wa(F,"number",F.value)}switch(Ne=P?Tr(P):window,n){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(xa=Ne,pf=P,Jo=null);break;case"focusout":Jo=pf=xa=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,dg(te,a,Q);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":dg(te,a,Q)}var me;if(li)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Me?G(n,a)&&(ye="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Me||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Me&&(me=Go()):(ri=Q,Ir="value"in ri?ri.value:ri.textContent,Me=!0)),Ne=Nc(P,ye),0<Ne.length&&(ye=new Yo(ye,n,null,a,Q),te.push({event:ye,listeners:Ne}),me?ye.data=me:(me=ie(a),me!==null&&(ye.data=me)))),(me=y?bt(n,a):Pe(n,a))&&(ye=Nc(P,"onBeforeInput"),0<ye.length&&(Ne=new Yo("onBeforeInput","beforeinput",null,a,Q),te.push({event:Ne,listeners:ye}),Ne.data=me)),yS(te,n,P,a,Q)}D_(te,r)})}function Il(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Nc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(n,a),h!=null&&l.unshift(Il(n,h,d)),h=Ss(n,r),h!=null&&l.push(Il(n,h,d))),n=n.return}return l}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function O_(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=Ss(a,d),P!=null&&v.unshift(Il(a,P,R))):h||(P=Ss(a,d),P!=null&&v.push(Il(a,P,R)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var TS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function x_(n){return(typeof n=="string"?n:""+n).replace(TS,`
`).replace(wS,"")}function V_(n,r){return r=x_(r),x_(n)===r}function Oc(){}function Ye(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(n,""+l);break;case"className":Sr(n,"class",l);break;case"tabIndex":Sr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(n,a,l);break;case"style":Vu(n,l,d);break;case"data":if(r!=="object"){Sr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ii(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",h.name,h,null),Ye(n,r,"formEncType",h.formEncType,h,null),Ye(n,r,"formMethod",h.formMethod,h,null),Ye(n,r,"formTarget",h.formTarget,h,null)):(Ye(n,r,"encType",h.encType,h,null),Ye(n,r,"method",h.method,h,null),Ye(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ii(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Oc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ii(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Ar(n,"popover",l);break;case"xlinkActuate":wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lf.get(a)||a,Ar(n,a,l))}}function jd(n,r,a,l,h,d){switch(a){case"style":Vu(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?An(n,l):(typeof l=="number"||typeof l=="bigint")&&An(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[St]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ar(n,a,l)}}}function Bt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,d,v,a,null)}}h&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var T=d=v=h=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":P=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Ye(n,r,l,Q,a,null)}}ws(n,d,T,R,P,v,h,!1),Ts(n);return;case"select":ke("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(n,r,h,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?ze(n,!!l,r,!1):a!=null&&ze(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(n,r,v,T,a,null)}Rr(n,l,h,d),Ts(n);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,R,l,a,null)}return;case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<Rl.length;l++)ke(Rl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,P,l,a,null)}return;default:if(Fo(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&jd(n,r,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(n,r,T,l,a,null))}function AS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,P=null,Q=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=te;default:l.hasOwnProperty(Y)||Ye(n,r,Y,null,l,te)}}for(var F in l){var Y=l[F];if(te=a[F],l.hasOwnProperty(F)&&(Y!=null||te!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":P=Y;break;case"defaultChecked":Q=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Ye(n,r,F,Y,l,te)}}br(n,v,T,R,P,Q,d,h);return;case"select":Y=v=T=F=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Y=R;default:l.hasOwnProperty(d)||Ye(n,r,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Ye(n,r,h,d,l,R)}r=T,a=v,l=Y,F!=null?ze(n,!!a,F,!1):!!l!=!!a&&(r!=null?ze(n,!!a,r,!0):ze(n,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(n,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(n,r,v,h,l,d)}As(n,F,Y);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:Ye(n,r,fe,null,l,F)}for(R in l)if(F=l[R],Y=a[R],l.hasOwnProperty(R)&&F!==Y&&(F!=null||Y!=null))switch(R){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(n,r,R,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&Ye(n,r,Ae,null,l,F);for(P in l)if(F=l[P],Y=a[P],l.hasOwnProperty(P)&&F!==Y&&(F!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ye(n,r,P,F,l,Y)}return;default:if(Fo(r)){for(var ut in a)F=a[ut],a.hasOwnProperty(ut)&&F!==void 0&&!l.hasOwnProperty(ut)&&jd(n,r,ut,void 0,l,F);for(Q in l)F=l[Q],Y=a[Q],!l.hasOwnProperty(Q)||F===Y||F===void 0&&Y===void 0||jd(n,r,Q,F,l,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Ye(n,r,U,null,l,F);for(te in l)F=l[te],Y=a[te],!l.hasOwnProperty(te)||F===Y||F==null&&Y==null||Ye(n,r,te,F,l,Y)}var zd=null,Bd=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function k_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function qd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fd=null;function SS(){var n=window.event;return n&&n.type==="popstate"?n===Fd?!1:(Fd=n,!0):(Fd=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(n){return L_.resolve(null).then(n).catch(IS)}:P_;function IS(n){setTimeout(function(){throw n})}function Hd(n,r){var a=r,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Ml(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ml(r)}function Gd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),Es(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function CS(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Er])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function DS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=$n(n.nextSibling),n===null))return null;return n}function $n(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function U_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function j_(n,r,a){switch(r=xc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Pn=new Map,z_=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var Ji=le.d;le.d={f:NS,r:OS,D:xS,C:VS,L:kS,m:MS,X:LS,S:PS,M:US};function NS(){var n=Ji.f(),r=bc();return n||r}function OS(n){var r=Oi(n);r!==null&&r.tag===5&&r.type==="form"?dy(r):Ji.r(n)}var to=typeof document>"u"?null:document;function B_(n,r,a){var l=to;if(l&&typeof r=="string"&&r){var h=at(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),z_.has(h)||(z_.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",n),et(r),l.head.appendChild(r)))}}function xS(n){Ji.D(n),B_("dns-prefetch",n,null)}function VS(n,r){Ji.C(n,r),B_("preconnect",n,r)}function kS(n,r,a){Ji.L(n,r,a);var l=to;if(l&&n&&r){var h='link[rel="preload"][as="'+at(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+at(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+at(a.imageSizes)+'"]')):h+='[href="'+at(n)+'"]';var d=h;switch(r){case"style":d=no(n);break;case"script":d=io(n)}Pn.has(d)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Pn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Dl(d))||(r=l.createElement("link"),Bt(r,"link",n),et(r),l.head.appendChild(r)))}}function MS(n,r){Ji.m(n,r);var a=to;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!Pn.has(d)&&(n=D({rel:"modulepreload",href:n},r),Pn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Bt(l,"link",n),et(l),a.head.appendChild(l)}}}function PS(n,r,a){Ji.S(n,r,a);var l=to;if(l&&n){var h=wr(l).hoistableStyles,d=no(n);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Cl(d)))T.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Pn.get(d))&&$d(n,a);var R=v=l.createElement("link");et(R),Bt(R,"link",n),R._p=new Promise(function(P,Q){R.onload=P,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function LS(n,r){Ji.X(n,r);var a=to;if(a&&n){var l=wr(a).hoistableScripts,h=io(n),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(n=D({src:n,async:!0},r),(r=Pn.get(h))&&Kd(n,r),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function US(n,r){Ji.M(n,r);var a=to;if(a&&n){var l=wr(a).hoistableScripts,h=io(n),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(n=D({src:n,async:!0,type:"module"},r),(r=Pn.get(h))&&Kd(n,r),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function q_(n,r,a,l){var h=(h=En.current)?Vc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=wr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=wr(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Cl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(n,a),d||jS(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=wr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+at(n)+'"'}function Cl(n){return'link[rel="stylesheet"]['+n+"]"}function F_(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function jS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),et(r),n.head.appendChild(r))}function io(n){return'[src="'+at(n)+'"]'}function Dl(n){return"script[async]"+n}function H_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+at(a.href)+'"]');if(l)return r.instance=l,et(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),et(l),Bt(l,"style",h),kc(l,a.precedence,n),r.instance=l;case"stylesheet":h=no(a.href);var d=n.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;l=F_(a),(h=Pn.get(h))&&$d(l,h),d=(n.ownerDocument||n).createElement("link"),et(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Bt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,n),r.instance=d;case"script":return d=io(a.src),(h=n.querySelector(Dl(d)))?(r.instance=h,et(h),h):(l=a,(h=Pn.get(d))&&(l=D({},a),Kd(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),et(h),Bt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,n));return r.instance}function kc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function $d(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Kd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Mc=null;function G_(n,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[Er]||d[Ot]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function $_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function zS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function K_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Nl=null;function BS(){}function qS(n,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(a.href),d=n.querySelector(Cl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Pc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,et(d);return}d=n.ownerDocument||n,a=F_(a),(h=Pn.get(h))&&$d(a,h),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function FS(){if(Nl===null)throw Error(s(475));var n=Nl;return n.stylesheets&&n.count===0&&Yd(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Yd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lc=null;function Yd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lc=new Map,r.forEach(HS,n),Lc=null,Pc.call(n))}function HS(n,r){if(!(r.state.loading&4)){var a=Lc.get(n);if(a)var l=a.get(null);else{a=new Map,Lc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Ol={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function GS(n,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Y_(n,r,a,l,h,d,v,T,R,P,Q,te){return n=new GS(n,r,a,v,T,R,P,te),r=1,d===!0&&(r|=24),d=kn(3,null,null,r),n.current=d,d.stateNode=n,r=Rf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ad(d),n}function Q_(n){return n?(n=Ma,n):Ma}function X_(n,r,a,l,h,d){h=Q_(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(n,l,r),a!==null&&(sn(a,n,r),ml(a,n,r))}function W_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Qd(n,r){W_(n,r),(n=n.alternate)&&W_(n,r)}function Z_(n){if(n.tag===13){var r=Cr(n,67108864);r!==null&&sn(r,n,67108864),Qd(n,67108864)}}var Uc=!0;function $S(n,r,a,l){var h=b.T;b.T=null;var d=le.p;try{le.p=2,Xd(n,r,a,l)}finally{le.p=d,b.T=h}}function KS(n,r,a,l){var h=b.T;b.T=null;var d=le.p;try{le.p=8,Xd(n,r,a,l)}finally{le.p=d,b.T=h}}function Xd(n,r,a,l){if(Uc){var h=Wd(l);if(h===null)Ud(n,r,l,jc,a),ev(n,l);else if(QS(h,n,r,a,l))l.stopPropagation();else if(ev(n,l),r&4&&-1<YS.indexOf(n)){for(;h!==null;){var d=Oi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-en(v);T.entanglements[1]|=R,v&=~R}mi(d),(nt&6)===0&&(wc=an()+500,bl(0))}}break;case 13:T=Cr(d,2),T!==null&&sn(T,d,2),bc(),Qd(d,2)}if(d=Wd(l),d===null&&Ud(n,r,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ud(n,r,l,null,a)}}function Wd(n){return n=Aa(n),Zd(n)}var jc=null;function Zd(n){if(jc=null,n=qn(n),n!==null){var r=ge(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Fe(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return jc=n,null}function J_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case At:return 2;case Nt:return 8;case Di:case bu:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Jd=!1,Fr=null,Hr=null,Gr=null,xl=new Map,Vl=new Map,$r=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ev(n,r){switch(n){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function kl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Oi(r),r!==null&&Z_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function QS(n,r,a,l,h){switch(r){case"focusin":return Fr=kl(Fr,n,r,a,l,h),!0;case"dragenter":return Hr=kl(Hr,n,r,a,l,h),!0;case"mouseover":return Gr=kl(Gr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,kl(xl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,kl(Vl.get(d)||null,n,r,a,l,h)),!0}return!1}function tv(n){var r=qn(n.target);if(r!==null){var a=ge(r);if(a!==null){if(r=a.tag,r===13){if(r=Fe(a),r!==null){n.blockedOn=r,vr(n.priority,function(){if(a.tag===13){var l=yn(),h=Cr(a,l);h!==null&&sn(h,a,l),Qd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Wd(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Sn=l,a.target.dispatchEvent(l),Sn=null}else return r=Oi(a),r!==null&&Z_(r),n.blockedOn=a,!1;r.shift()}return!0}function nv(n,r,a){zc(n)&&a.delete(r)}function XS(){Jd=!1,Fr!==null&&zc(Fr)&&(Fr=null),Hr!==null&&zc(Hr)&&(Hr=null),Gr!==null&&zc(Gr)&&(Gr=null),xl.forEach(nv),Vl.forEach(nv)}function Bc(n,r){n.blockedOn===r&&(n.blockedOn=null,Jd||(Jd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,XS)))}var qc=null;function iv(n){qc!==n&&(qc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qc===n&&(qc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=Oi(a);d!==null&&(n.splice(r,3),r-=3,qf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(n){function r(R){return Bc(R,n)}Fr!==null&&Bc(Fr,n),Hr!==null&&Bc(Hr,n),Gr!==null&&Bc(Gr,n),xl.forEach(r),Vl.forEach(r);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)tv(a),a.blockedOn===null&&$r.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[St]||null;if(typeof d=="function")v||iv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[St]||null)T=v.formAction;else if(Zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),iv(a)}}}function em(n){this._internalRoot=n}Fc.prototype.render=em.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();X_(a,l,n,r,null,null)},Fc.prototype.unmount=em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Za(),X_(n.current,2,null,n,null,null),bc(),r[Ni]=null}};function Fc(n){this._internalRoot=n}Fc.prototype.unstable_scheduleHydration=function(n){if(n){var r=Nu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<$r.length&&r!==0&&r<$r[a].priority;a++);$r.splice(a,0,n),a===0&&tv(n)}};var rv=e.version;if(rv!=="19.0.0")throw Error(s(527,rv,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?de(n):null,n=n===null?null:n.stateNode,n};var WS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{dr=Hc.inject(WS),Gt=Hc}catch{}}return Ll.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=Ty,d=wy,v=Ay,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Y_(n,1,!1,null,null,a,l,h,d,v,T,null),n[Ni]=r.current,Ld(n.nodeType===8?n.parentNode:n),new em(r)},Ll.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=Ty,v=wy,T=Ay,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),r=Y_(n,1,!0,r,a??null,l,h,d,v,T,R,P),r.context=Q_(null),a=r.current,l=yn(),h=Mr(l),h.callback=null,Pr(a,h,l),r.current.lanes=l,ct(r,l),mi(r),n[Ni]=r.current,Ld(n),new Fc(r)},Ll.version="19.0.0",Ll}var mv;function ob(){if(mv)return im.exports;mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),im.exports=ab(),im.exports}var lb=ob();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pv="popstate";function ub(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Zl(o)}return hb(e,t,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function wi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cb(){return Math.random().toString(36).substring(2,10)}function gv(i,e){return{usr:i.state,key:i.key,idx:e}}function Am(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:t,key:e&&e.key||s||cb()}}function Zl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function To(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function hb(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=E(),K=L==null?null:L-g;g=L,p&&p({action:m,location:$.location,delta:K})}function S(L,K){m="PUSH";let X=Am($.location,L,K);g=E()+1;let W=gv(X,g),he=$.createHref(X);try{f.pushState(W,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(he)}u&&p&&p({action:m,location:$.location,delta:1})}function O(L,K){m="REPLACE";let X=Am($.location,L,K);g=E();let W=gv(X,g),he=$.createHref(X);f.replaceState(W,"",he),u&&p&&p({action:m,location:$.location,delta:0})}function j(L){return fb(L)}let $={get action(){return m},get location(){return i(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,A),p=L,()=>{o.removeEventListener(pv,A),p=null}},createHref(L){return e(o,L)},createURL:j,encodeLocation(L){let K=j(L);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:O,go(L){return f.go(L)}};return $}function fb(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function sT(i,e,t="/"){return db(i,e,t,!1)}function db(i,e,t,s){let o=typeof e=="string"?To(e):e,u=ar(o.pathname||"/",t);if(u==null)return null;let f=aT(i);mb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=bb(u);m=Ab(f[p],g,s)}return m}function aT(i,e=[],t=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;it(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=ir([s,E.relativePath]),S=t.concat(E);f.children&&f.children.length>0&&(it(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),aT(f.children,e,S,A,p)),!(f.path==null&&!f.index)&&e.push({path:A,score:Tb(A,f.index),routesMeta:S})};return i.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,m);else for(let g of oT(f.path))u(f,m,!0,g)}),e}function oT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=oT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function mb(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:wb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var pb=/^:[\w-]+$/,gb=3,yb=2,_b=1,vb=10,Eb=-2,yv=i=>i==="*";function Tb(i,e){let t=i.split("/"),s=t.length;return t.some(yv)&&(s+=Eb),e&&(s+=yb),t.filter(o=>!yv(o)).reduce((o,u)=>o+(pb.test(u)?gb:u===""?_b:vb),s)}function wb(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Ab(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=ch({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ir([u,A.pathname]),pathnameBase:Db(ir([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=ir([u,A.pathnameBase]))}return f}function ch(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Sb(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let j=m[S]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=m[S];return A&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Sb(i,e=!1,t=!0){wi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function bb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Rb(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:t?t.startsWith("/")?t:Ib(t,e):e,search:Nb(s),hash:Ob(o)}}function Ib(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function om(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lT(i){let e=Cb(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function uT(i,e,t,s=!1){let o;typeof i=="string"?o=To(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=Rb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ir=i=>i.join("/").replace(/\/\/+/g,"/"),Db=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Nb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Ob=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var cT=["POST","PUT","PATCH","DELETE"];new Set(cT);var Vb=["GET",...cT];new Set(Vb);var wo=H.createContext(null);wo.displayName="DataRouter";var Vh=H.createContext(null);Vh.displayName="DataRouterState";H.createContext(!1);var hT=H.createContext({isTransitioning:!1});hT.displayName="ViewTransition";var kb=H.createContext(new Map);kb.displayName="Fetchers";var Mb=H.createContext(null);Mb.displayName="Await";var bi=H.createContext(null);bi.displayName="Navigation";var lu=H.createContext(null);lu.displayName="Location";var Ri=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Jm=H.createContext(null);Jm.displayName="RouteError";function Pb(i,{relative:e}={}){it(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=H.useContext(bi),{hash:o,pathname:u,search:f}=cu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ir([t,u])),s.createHref({pathname:m,search:f,hash:o})}function uu(){return H.useContext(lu)!=null}function aa(){return it(uu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(lu).location}var fT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dT(i){H.useContext(bi).static||H.useLayoutEffect(i)}function fs(){let{isDataRoute:i}=H.useContext(Ri);return i?Qb():Lb()}function Lb(){it(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(wo),{basename:e,navigator:t}=H.useContext(bi),{matches:s}=H.useContext(Ri),{pathname:o}=aa(),u=JSON.stringify(lT(s)),f=H.useRef(!1);return dT(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(wi(f.current,fT),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=uT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ir([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}H.createContext(null);function mT(){let{matches:i}=H.useContext(Ri),e=i[i.length-1];return e?e.params:{}}function cu(i,{relative:e}={}){let{matches:t}=H.useContext(Ri),{pathname:s}=aa(),o=JSON.stringify(lT(t));return H.useMemo(()=>uT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Ub(i,e){return pT(i,e)}function pT(i,e,t,s,o){var X;it(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(bi),{matches:f}=H.useContext(Ri),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let W=A&&A.path||"";gT(g,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=aa(),O;if(e){let W=typeof e=="string"?To(e):e;it(E==="/"||((X=W.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=S;let j=O.pathname||"/",$=j;if(E!=="/"){let W=E.replace(/^\//,"").split("/");$="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=sT(i,{pathname:$});wi(A||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),wi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Fb(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ir([E,u.encodeLocation?u.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:ir([E,u.encodeLocation?u.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),f,t,s,o);return e&&K?H.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},K):K}function jb(){let i=Yb(),e=xb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:o},t):null,f)}var zb=H.createElement(jb,null),Bb=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?H.createElement(Ri.Provider,{value:this.props.routeContext},H.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qb({routeContext:i,match:e,children:t}){let s=H.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ri.Provider,{value:i},t)}function Fb(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,f=t==null?void 0:t.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&(f==null?void 0:f[E.route.id])!==void 0);it(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(t)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:A,errors:S}=t,O=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,A)=>{let S,O=!1,j=null,$=null;t&&(S=f&&E.route.id?f[E.route.id]:void 0,j=E.route.errorElement||zb,m&&(p<0&&A===0?(gT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,$=null):p===A&&(O=!0,$=E.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,A+1)),K=()=>{let X;return S?X=j:O?X=$:E.route.Component?X=H.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=g,H.createElement(qb,{match:E,routeContext:{outlet:g,matches:L,isDataRoute:t!=null},children:X})};return t&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?H.createElement(Bb,{location:t.location,revalidation:t.revalidation,component:j,error:S,children:K(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:s}):K()},null)}function ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(i){let e=H.useContext(wo);return it(e,ep(i)),e}function Gb(i){let e=H.useContext(Vh);return it(e,ep(i)),e}function $b(i){let e=H.useContext(Ri);return it(e,ep(i)),e}function tp(i){let e=$b(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Kb(){return tp("useRouteId")}function Yb(){var s;let i=H.useContext(Jm),e=Gb("useRouteError"),t=tp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function Qb(){let{router:i}=Hb("useNavigate"),e=tp("useNavigate"),t=H.useRef(!1);return dT(()=>{t.current=!0}),H.useCallback(async(o,u={})=>{wi(t.current,fT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var _v={};function gT(i,e,t){!e&&!_v[i]&&(_v[i]=!0,wi(!1,t))}H.memo(Xb);function Xb({routes:i,future:e,state:t,unstable_onError:s}){return pT(i,void 0,t,s,e)}function ro(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wb({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){it(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=To(t));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=t,O=H.useMemo(()=>{let j=ar(p,f);return j==null?null:{location:{pathname:j,search:g,hash:E,state:A,key:S},navigationType:s}},[f,p,g,E,A,S,s]);return wi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(bi.Provider,{value:m},H.createElement(lu.Provider,{children:e,value:O}))}function Zb({children:i,location:e}){return Ub(Sm(i),e)}function Sm(i,e=[]){let t=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){t.push.apply(t,Sm(s.props.children,u));return}it(s.type===ro,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),t.push(f)}),t}var Zc="get",Jc="application/x-www-form-urlencoded";function kh(i){return i!=null&&typeof i.tagName=="string"}function Jb(i){return kh(i)&&i.tagName.toLowerCase()==="button"}function eR(i){return kh(i)&&i.tagName.toLowerCase()==="form"}function tR(i){return kh(i)&&i.tagName.toLowerCase()==="input"}function nR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function iR(i,e){return i.button===0&&(!e||e==="_self")&&!nR(i)}var Gc=null;function rR(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var sR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(i){return i!=null&&!sR.has(i)?(wi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):i}function aR(i,e){let t,s,o,u,f;if(eR(i)){let m=i.getAttribute("action");s=m?ar(m,e):null,t=i.getAttribute("method")||Zc,o=lm(i.getAttribute("enctype"))||Jc,u=new FormData(i)}else if(Jb(i)||tR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=lm(i.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Jc,u=new FormData(m,i),!rR()){let{name:g,type:E,value:A}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zc,s=null,o=Jc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function lR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function cR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lR(u,t);return f.links?f.links():[]}return[]}));return mR(s.flat(1).filter(uR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(i,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function hR(i,e,{includeHydrateFallback:t}={}){return fR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fR(i){return[...new Set(i)]}function dR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function mR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(dR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function yT(){let i=H.useContext(wo);return np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function pR(){let i=H.useContext(Vh);return np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ip=H.createContext(void 0);ip.displayName="FrameworkContext";function _T(){let i=H.useContext(ip);return np(i,"You must render this element inside a <HydratedRouter> element"),i}function gR(i,e){let t=H.useContext(ip),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=K=>{K.forEach(X=>{f(X.isIntersecting)})},L=new IntersectionObserver($,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ul(m,O),onBlur:Ul(p,j),onMouseEnter:Ul(g,O),onMouseLeave:Ul(E,j),onTouchStart:Ul(A,O)}]:[!1,S,{}]}function Ul(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function yR({page:i,...e}){let{router:t}=yT(),s=H.useMemo(()=>sT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?H.createElement(vR,{page:i,matches:s,...e}):null}function _R(i){let{manifest:e,routeModules:t}=_T(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return cR(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function vR({page:i,matches:e,...t}){let s=aa(),{manifest:o,routeModules:u}=_T(),{basename:f}=yT(),{loaderData:m,matches:p}=pR(),g=H.useMemo(()=>vv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=H.useMemo(()=>vv(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(K=>{var W;let X=o.routes[K.route.id];!X||!X.hasLoader||(!g.some(he=>he.route.id===K.route.id)&&K.route.id in m&&((W=u[K.route.id])!=null&&W.shouldRevalidate)||X.hasClientLoader?$=!0:j.add(K.route.id))}),j.size===0)return[];let L=oR(i,f,"data");return $&&j.size>0&&L.searchParams.set("_routes",e.filter(K=>j.has(K.route.id)).map(K=>K.route.id).join(",")),[L.pathname+L.search]},[f,m,s,o,g,e,i,u]),S=H.useMemo(()=>hR(E,o),[E,o]),O=_R(E);return H.createElement(H.Fragment,null,A.map(j=>H.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),S.map(j=>H.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),O.map(({key:j,link:$})=>H.createElement("link",{key:j,nonce:t.nonce,...$})))}function ER(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vT&&(window.__reactRouterVersion="7.8.2")}catch{}function TR({basename:i,children:e,window:t}){let s=H.useRef();s.current==null&&(s.current=ub({window:t,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(Wb,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var ET=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TT=H.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},O){let{basename:j}=H.useContext(bi),$=typeof g=="string"&&ET.test(g),L,K=!1;if(typeof g=="string"&&$&&(L=g,vT))try{let b=new URL(window.location.href),D=g.startsWith("//")?new URL(b.protocol+g):new URL(g),M=ar(D.pathname,j);D.origin===b.origin&&M!=null?g=M+D.search+D.hash:K=!0}catch{wi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=Pb(g,{relative:o}),[W,he,ue]=gR(s,S),_e=bR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function V(b){e&&e(b),b.defaultPrevented||_e(b)}let I=H.createElement("a",{...S,...ue,href:L||X,onClick:K||u?e:V,ref:ER(O,he),target:p,"data-discover":!$&&t==="render"?"true":void 0});return W&&!$?H.createElement(H.Fragment,null,I,H.createElement(yR,{page:X})):I});TT.displayName="Link";var wR=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=cu(f,{relative:g.relative}),S=aa(),O=H.useContext(Vh),{navigator:j,basename:$}=H.useContext(bi),L=O!=null&&NR(A)&&m===!0,K=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,X=S.pathname,W=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(X=X.toLowerCase(),W=W?W.toLowerCase():null,K=K.toLowerCase()),W&&$&&(W=ar(W,$)||W);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=X===K||!o&&X.startsWith(K)&&X.charAt(he)==="/",_e=W!=null&&(W===K||!o&&W.startsWith(K)&&W.charAt(K.length)==="/"),V={isActive:ue,isPending:_e,isTransitioning:L},I=ue?e:void 0,b;typeof s=="function"?b=s(V):b=[s,ue?"active":null,_e?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(V):u;return H.createElement(TT,{...g,"aria-current":I,className:b,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(V):p)});wR.displayName="NavLink";var AR=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},O)=>{let j=CR(),$=DR(m,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&ET.test(m),X=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let he=W.nativeEvent.submitter,ue=(he==null?void 0:he.getAttribute("formmethod"))||f;j(he||W.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return H.createElement("form",{ref:O,method:L,action:$,onSubmit:s?p:X,...S,"data-discover":!K&&i==="render"?"true":void 0})});AR.displayName="Form";function SR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(i){let e=H.useContext(wo);return it(e,SR(i)),e}function bR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=fs(),p=aa(),g=cu(i,{relative:u});return H.useCallback(E=>{if(iR(E,e)){E.preventDefault();let A=t!==void 0?t:Zl(p)===Zl(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,i,o,u,f])}var RR=0,IR=()=>`__${String(++RR)}__`;function CR(){let{router:i}=wT("useSubmit"),{basename:e}=H.useContext(bi),t=Kb();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=aR(s,e);if(o.navigate===!1){let E=o.fetcherKey||IR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function DR(i,{relative:e}={}){let{basename:t}=H.useContext(bi),s=H.useContext(Ri);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},f=aa();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ir([t,u.pathname])),Zl(u)}function NR(i,{relative:e}={}){let t=H.useContext(hT);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wT("useViewTransitionState"),o=cu(i,{relative:e});if(!t.isTransitioning)return!1;let u=ar(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=ar(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}const OR=()=>{};var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ST={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(S=64)),s.push(t[E],t[A],t[S],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(AT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):xR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new VR;const S=u<<2|m>>4;if(s.push(S),g!==64){const O=m<<4&240|g>>2;if(s.push(O),A!==64){const j=g<<6&192|A;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(i){const e=AT(i);return ST.encodeByteArray(e,!0)},hh=function(i){return kR(i).replace(/\./g,"")},bT=function(i){try{return ST.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=()=>MR().__FIREBASE_DEFAULTS__,LR=()=>{if(typeof process>"u"||typeof Ev>"u")return;const i=Ev.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bT(i[1]);return e&&JSON.parse(e)},Mh=()=>{try{return OR()||PR()||LR()||UR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},RT=i=>{var e,t;return(t=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},jR=i=>{const e=RT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},IT=()=>{var i;return(i=Mh())===null||i===void 0?void 0:i.config},CT=i=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[hh(JSON.stringify(t)),hh(JSON.stringify(f)),""].join(".")}const Gl={};function qR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?i.emulator.push(e):i.prod.push(e);return i}function FR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Tv=!1;function NT(i,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Gl[i]===e||Gl[i]||Tv)return;Gl[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=qR().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Tv=!0,f()},S}function E(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=FR(s),O=t("text"),j=document.getElementById(O)||document.createElement("span"),$=t("learnmore"),L=document.getElementById($)||document.createElement("a"),K=t("preprendIcon"),X=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;m(W),E(L,$);const he=g();p(X,K),W.append(X,j,L,he),document.body.appendChild(W)}u?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function GR(){var i;const e=(i=Mh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function QR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xT(){try{return typeof indexedDB=="object"}catch{return!1}}function VT(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function XR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Zn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=WR,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ZR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zn(o,m,s)}}function ZR(i,e){return i.replace(JR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JR=/\{\$([^}]+)}/g;function e1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function is(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(wv(u)&&wv(f)){if(!is(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function t1(i,e){const t=new n1(i,e);return t.subscribe.bind(t)}class n1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");i1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1e3,s1=2,a1=4*60*60*1e3,o1=.5;function Av(i,e=r1,t=s1){const s=e*Math.pow(t,i),o=Math.round(o1*s*(Math.random()-.5)*2);return Math.min(a1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(i){return i&&i._delegate?i._delegate:i}class Xn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new zR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c1(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(i){return i===Qs?void 0:i}function c1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const f1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},d1=xe.INFO,m1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},p1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=m1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ph{constructor(e){this.name=e,this._logLevel=d1,this._logHandler=p1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const g1=(i,e)=>e.some(t=>i instanceof t);let Sv,bv;function y1(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _1(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kT=new WeakMap,bm=new WeakMap,MT=new WeakMap,cm=new WeakMap,rp=new WeakMap;function v1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(Jr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&kT.set(t,i)}).catch(()=>{}),rp.set(e,i),e}function E1(i){if(bm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});bm.set(i,e)}let Rm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||MT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function T1(i){Rm=i(Rm)}function w1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(hm(this),e,...t);return MT.set(s,e.sort?e.sort():[e]),Jr(s)}:_1().includes(i)?function(...e){return i.apply(hm(this),e),Jr(kT.get(this))}:function(...e){return Jr(i.apply(hm(this),e))}}function A1(i){return typeof i=="function"?w1(i):(i instanceof IDBTransaction&&E1(i),g1(i,y1())?new Proxy(i,Rm):i)}function Jr(i){if(i instanceof IDBRequest)return v1(i);if(cm.has(i))return cm.get(i);const e=A1(i);return e!==i&&(cm.set(i,e),rp.set(e,i)),e}const hm=i=>rp.get(i);function PT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],fm=new Map;function Rv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=b1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S1.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return fm.set(e,u),u}T1(i=>({...i,get:(e,t,s)=>Rv(e,t)||i.get(e,t,s),has:(e,t)=>!!Rv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(I1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function I1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",Iv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Ph("@firebase/app"),C1="@firebase/app-compat",D1="@firebase/analytics-compat",N1="@firebase/analytics",O1="@firebase/app-check-compat",x1="@firebase/app-check",V1="@firebase/auth",k1="@firebase/auth-compat",M1="@firebase/database",P1="@firebase/data-connect",L1="@firebase/database-compat",U1="@firebase/functions",j1="@firebase/functions-compat",z1="@firebase/installations",B1="@firebase/installations-compat",q1="@firebase/messaging",F1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",$1="@firebase/remote-config",K1="@firebase/remote-config-compat",Y1="@firebase/storage",Q1="@firebase/storage-compat",X1="@firebase/firestore",W1="@firebase/ai",Z1="@firebase/firestore-compat",J1="firebase",eI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",tI={[Im]:"fire-core",[C1]:"fire-core-compat",[N1]:"fire-analytics",[D1]:"fire-analytics-compat",[x1]:"fire-app-check",[O1]:"fire-app-check-compat",[V1]:"fire-auth",[k1]:"fire-auth-compat",[M1]:"fire-rtdb",[P1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[U1]:"fire-fn",[j1]:"fire-fn-compat",[z1]:"fire-iid",[B1]:"fire-iid-compat",[q1]:"fire-fcm",[F1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[$1]:"fire-rc",[K1]:"fire-rc-compat",[Y1]:"fire-gcs",[Q1]:"fire-gcs-compat",[X1]:"fire-fst",[Z1]:"fire-fst-compat",[W1]:"fire-vertex","fire-js":"fire-js",[J1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,nI=new Map,Dm=new Map;function Cv(i,e){try{i.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ai(i){const e=i.name;if(Dm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,i);for(const t of fh.values())Cv(t,i);for(const t of nI.values())Cv(t,i);return!0}function la(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function _n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new oa("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=eI;function LT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(t||(t=IT()),!t)throw es.create("no-options");const u=fh.get(o);if(u){if(is(t,u.options)&&is(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new h1(o);for(const p of Dm.values())f.addComponent(p);const m=new rI(t,s,f);return fh.set(o,m),m}function sp(i=Cm){const e=fh.get(i);if(!e&&i===Cm&&IT())return LT();if(!e)throw es.create("no-app",{appName:i});return e}function jn(i,e,t){var s;let o=(s=tI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}Ai(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-heartbeat-database",aI=1,Jl="firebase-heartbeat-store";let dm=null;function UT(){return dm||(dm=PT(sI,aI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jl)}catch(t){console.warn(t)}}}}).catch(i=>{throw es.create("idb-open",{originalErrorMessage:i.message})})),dm}async function oI(i){try{const t=(await UT()).transaction(Jl),s=await t.objectStore(Jl).get(jT(i));return await t.done,s}catch(e){if(e instanceof Zn)or.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(t.message)}}}async function Dv(i,e){try{const s=(await UT()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,jT(i)),await s.done}catch(t){if(t instanceof Zn)or.warn(t.message);else{const s=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});or.warn(s.message)}}}function jT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1024,uI=30;class cI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Nv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>uI){const f=dI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Nv(),{heartbeatsToSend:s,unsentEntries:o}=hI(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return or.warn(t),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function hI(i,e=lI){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Ov(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class fI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xT()?VT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Dv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ov(i){return hh(JSON.stringify({version:2,heartbeats:i})).length}function dI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(i){Ai(new Xn("platform-logger",e=>new R1(e),"PRIVATE")),Ai(new Xn("heartbeat",e=>new cI(e),"PRIVATE")),jn(Im,Iv,i),jn(Im,Iv,"esm2017"),jn("fire-js","")}mI("");function ap(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pI=zT,BT=new oa("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Ph("@firebase/auth");function gI(i,...e){dh.logLevel<=xe.WARN&&dh.warn(`Auth (${So}): ${i}`,...e)}function eh(i,...e){dh.logLevel<=xe.ERROR&&dh.error(`Auth (${So}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(i,...e){throw lp(i,...e)}function Qn(i,...e){return lp(i,...e)}function op(i,e,t){const s=Object.assign(Object.assign({},pI()),{[e]:t});return new oa("auth","Firebase",s).create(e,{appName:i.name})}function rr(i){return op(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&zn(i,"argument-error"),op(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return BT.create(i,...e)}function ve(i,e,...t){if(!i)throw lp(e,...t)}function tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function lr(i,e){i||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function _I(){return xv()==="http:"||xv()==="https:"}function xv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_I()||OT()||"connection"in navigator)?navigator.onLine:!0}function EI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=HR()||KR()}get(){return vI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(i,e){lr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AI=new fu(3e4,6e4);function ds(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ms(i,e,t,s,o={}){return FT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return $R()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ao(i.emulatorConfig.host)&&(g.credentials="include"),qT.fetch()(await HT(i,i.config.apiHost,t,m),g)})}async function FT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},TI),e);try{const o=new bI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw $c(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw op(i,E,g);zn(i,E)}}catch(o){if(o instanceof Zn)throw o;zn(i,"network-request-failed",{message:String(o)})}}async function du(i,e,t,s,o={}){const u=await ms(i,e,t,s,o);return"mfaPendingCredential"in u&&zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function HT(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?up(i.config,o):`${i.config.apiScheme}://${o}`;return wI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function SI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),AI.get())})}}function $c(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=t,o}function Vv(i){return i!==void 0&&i.enterprise!==void 0}class RI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function II(i,e){return ms(i,"GET","/v2/recaptchaConfig",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(i,e){return ms(i,"POST","/v1/accounts:delete",e)}async function mh(i,e){return ms(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DI(i,e=!1){const t=Zt(i),s=await t.getIdToken(e),o=cp(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:$l(mm(o.auth_time)),issuedAtTime:$l(mm(o.iat)),expirationTime:$l(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(i){return Number(i)*1e3}function cp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=bT(t);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kv(i){const e=cp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zn&&NI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function NI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(i){var e;const t=i.auth,s=await i.getIdToken(),o=await eu(i,mh(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?GT(u.providerUserInfo):[],m=VI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function xI(i){const e=Zt(i);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function GT(i){return i.map(e=>{var{providerId:t}=e,s=ap(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(i,e){const t=await FT(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await HT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ao(i.emulatorConfig.host)&&(p.credentials="include"),qT.fetch()(f,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MI(i,e){return ms(i,"POST","/v2/accounts:revokeToken",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=kv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await kI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new co;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=ap(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DI(this,e)}reload(){return xI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await eu(this,CI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,j=(f=t.photoURL)!==null&&f!==void 0?f:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,L=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:he,isAnonymous:ue,providerData:_e,stsTokenManager:V}=t;ve(W&&V,e,"internal-error");const I=co.fromJSON(this.name,V);ve(typeof W=="string",e,"internal-error"),Yr(A,e.name),Yr(S,e.name),ve(typeof he=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Yr(O,e.name),Yr(j,e.name),Yr($,e.name),Yr(L,e.name),Yr(K,e.name),Yr(X,e.name);const b=new Kn({uid:W,auth:e,email:S,emailVerified:he,displayName:A,isAnonymous:ue,photoURL:j,phoneNumber:O,tenantId:$,stsTokenManager:I,createdAt:K,lastLoginAt:X});return _e&&Array.isArray(_e)&&(b.providerData=_e.map(D=>Object.assign({},D))),L&&(b._redirectEventId=L),b}static async _fromIdTokenResponse(e,t,s=!1){const o=new co;o.updateFromServerResponse(t);const u=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?GT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;function nr(i){lr(i instanceof Function,"Expected a class definition");let e=Mv.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Mv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$T.type="NONE";const Pv=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,t){return`firebase:${i}:${e}:${t}`}class ho{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ho(nr(Pv),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||nr(Pv);const f=th(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const S=await mh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Kn._fromGetAccountInfoResponse(e,S,E)}else A=Kn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(JT(e))return"Webos";if(YT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function KT(i=Wt()){return/firefox\//i.test(i)}function YT(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(i=Wt()){return/crios\//i.test(i)}function XT(i=Wt()){return/iemobile/i.test(i)}function WT(i=Wt()){return/android/i.test(i)}function ZT(i=Wt()){return/blackberry/i.test(i)}function JT(i=Wt()){return/webos/i.test(i)}function hp(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function PI(i=Wt()){var e;return hp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LI(){return YR()&&document.documentMode===10}function e0(i=Wt()){return hp(i)||WT(i)||JT(i)||ZT(i)||/windows phone/i.test(i)||XT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(i,e=[]){let t;switch(i){case"Browser":t=Lv(Wt());break;case"Worker":t=`${Lv(Wt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(i,e={}){return ms(i,"GET","/v2/passwordPolicy",ds(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=6;class BI{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:zI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new UI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(_n(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(rr(this));const t=e?Zt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jI(this),t=new BI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await MI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ps(i){return Zt(i)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=t1(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(i){Lh=i}function n0(i){return Lh.loadJS(i)}function HI(){return Lh.recaptchaEnterpriseScript}function GI(){return Lh.gapiScript}function $I(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class KI{constructor(){this.enterprise=new YI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QI="recaptcha-enterprise",i0="NO_RECAPTCHA";class XI{constructor(e){this.type=QI,this.auth=ps(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{II(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new RI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(i0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&Vv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HI();p.length!==0&&(p+=m),n0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function jv(i,e,t,s=!1,o=!1){const u=new XI(i);let f;if(o)f=i0;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jv(i,e,t,t==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jv(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i,e){const t=la(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(is(u,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function ZI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(nr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function JI(i,e,t){const s=ps(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=r0(e),{host:f,port:m}=eC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(is(g,s.config.emulator)&&is(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ao(f)?(DT(`${u}//${f}${p}`),NT("Auth",!0)):tC()}function r0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eC(i){const e=r0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:zv(f)}}}function zv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function nC(i,e){return ms(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(i,e){return du(i,"POST","/v1/accounts:signInWithPassword",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}async function sC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends fp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,t,"signInWithPassword",iC);case"emailLink":return rC(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,s,"signUpPassword",nC);case"emailLink":return sC(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e){return du(i,"POST","/v1/accounts:signInWithIdp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="http://localhost";class ea extends fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=ap(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return fo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,fo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fo(e,t)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lC(i){const e=jl(zl(i)).link,t=e?jl(zl(e)).deep_link_id:null,s=jl(zl(i)).deep_link_id;return(s?jl(zl(s)).link:null)||s||t||e||i}class dp{constructor(e){var t,s,o,u,f,m;const p=jl(zl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=oC((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=lC(e);try{return new dp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=dp.parseLink(t);return ve(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends mu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return er.credential(t,s)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends mu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends mu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Wr.credential(t,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,e){return du(i,"POST","/v1/accounts:signUp",ds(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=Bv(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Bv(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Bv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Zn{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new gh(e,t,s,o)}}function s0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(i,u,e,s):u})}async function cC(i,e,t=!1){const s=await eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e,t=!1){const{auth:s}=i;if(_n(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const u=await eu(i,s0(s,o,e,i),t);ve(u.idToken,s,"internal-error");const f=cp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(i,e,t=!1){if(_n(i.app))return Promise.reject(rr(i));const s="signIn",o=await s0(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function fC(i,e){return a0(ps(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o0(i){const e=ps(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dC(i,e,t){if(_n(i.app))return Promise.reject(rr(i));const s=ps(i),f=await xm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&o0(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function mC(i,e,t){return _n(i.app)?Promise.reject(rr(i)):fC(Zt(i),bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o0(i),s})}function pC(i,e,t,s){return Zt(i).onIdTokenChanged(e,t,s)}function gC(i,e,t){return Zt(i).beforeAuthStateChanged(e,t)}function yC(i,e,t,s){return Zt(i).onAuthStateChanged(e,t,s)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1e3,vC=10;class u0 extends l0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u0.type="LOCAL";const EC=u0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends l0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c0.type="SESSION";const h0=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await TC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function AC(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function SC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function RC(){return f0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="firebaseLocalStorageDb",IC=1,_h="firebaseLocalStorage",m0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jh(i,e){return i.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function CC(){const i=indexedDB.deleteDatabase(d0);return new pu(i).toPromise()}function Vm(){const i=indexedDB.open(d0,IC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(_h,{keyPath:m0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await CC(),e(await Vm()))})})}async function qv(i,e,t){const s=jh(i,!0).put({[m0]:e,value:t});return new pu(s).toPromise()}async function DC(i,e){const t=jh(i,!1).get(e),s=await new pu(t).toPromise();return s===void 0?null:s.value}function Fv(i,e){const t=jh(i,!0).delete(e);return new pu(t).toPromise()}const NC=800,OC=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>OC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(RC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new wC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await qv(e,yh,"1"),await Fv(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>DC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const xC=p0;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i,e){return e?nr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VC(i){return a0(i.auth,new gp(i),i.bypassAuthState)}function kC(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),hC(t,new gp(i),i.bypassAuthState)}async function MC(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),cC(t,new gp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return MC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:zn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new fu(2e3,1e4);async function LC(i,e,t){if(_n(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=ps(i);yI(i,e,mp);const o=g0(s,t);return new Xs(s,"signInViaPopup",e,o).executeNotNull()}class Xs extends y0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}Xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="pendingRedirect",nh=new Map;class jC extends y0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(i,e){const t=FC(e),s=qC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function BC(i,e){nh.set(i._key(),e)}function qC(i){return nr(i._redirectPersistence)}function FC(i){return th(UC,i.config.apiKey,i.name)}async function HC(i,e,t=!1){if(_n(i.app))return Promise.reject(rr(i));const s=ps(i),o=g0(s,e),f=await new jC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=10*60*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!_0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hv(e))}saveEventToCache(e){this.cachedEventUids.add(Hv(e)),this.lastProcessedEventTime=Date.now()}}function Hv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function _0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(i,e={}){return ms(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function WC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YC(i);for(const t of e)try{if(ZC(t))return}catch{}zn(i,"unauthorized-domain")}function ZC(i){const e=Nm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!XC.test(t))return!1;if(QC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new fu(3e4,6e4);function Gv(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function eD(i){return new Promise((e,t)=>{var s,o,u;function f(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),t(Qn(i,"network-request-failed"))},timeout:JC.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=$I("iframefcb");return gi()[m]=()=>{gapi.load?f():t(Qn(i,"network-request-failed"))},n0(`${GI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw ih=null,e})}let ih=null;function tD(i){return ih=ih||eD(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new fu(5e3,15e3),iD="__/auth/iframe",rD="emulator/auth/iframe",sD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oD(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?up(e,rD):`https://${i.config.authDomain}/${iD}`,s={apiKey:e.apiKey,appName:i.name,v:So},o=aD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${hu(s).slice(1)}`}async function lD(i){const e=await tD(i),t=gi().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:oD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},nD.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,hD=600,fD="_blank",dD="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(i,e,t,s=cD,o=hD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},uD),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Wt().toLowerCase();t&&(m=QT(g)?fD:t),KT(g)&&(e=e||dD,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[O,j])=>`${S}${O}=${j},`,"");if(PI(g)&&m!=="_self")return pD(e||"",m),new $v(null);const A=window.open(e||"",m,E);ve(A,i,"popup-blocked");try{A.focus()}catch{}return new $v(A)}function pD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="__/auth/handler",yD="emulator/auth/handler",_D=encodeURIComponent("fac");async function Kv(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:So,eventId:o};if(e instanceof mp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",e1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof mu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${_D}=${encodeURIComponent(p)}`:"";return`${vD(i)}?${hu(m).slice(1)}${g}`}function vD({config:i}){return i.emulator?up(i,yD):`https://${i.authDomain}/${gD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h0,this._completeRedirectFn=HC,this._overrideRedirectResult=BC}async _openPopup(e,t,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Kv(e,t,s,Nm(),o);return mD(e,f,pp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await Kv(e,t,s,Nm(),o);return AC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lD(e),s=new $C(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&t(!!f),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e0()||YT()||hp()}}const TD=ED;var Yv="@firebase/auth",Qv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SD(i){Ai(new Xn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t0(i)},g=new qI(s,o,u,p);return ZI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ai(new Xn("auth-internal",e=>{const t=ps(e.getProvider("auth").getImmediate());return(s=>new wD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(Yv,Qv,AD(i)),jn(Yv,Qv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=5*60,RD=CT("authIdTokenMaxAge")||bD;let Xv=null;const ID=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>RD)return;const o=t==null?void 0:t.token;Xv!==o&&(Xv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CD(i=sp()){const e=la(i,"auth");if(e.isInitialized())return e.getImmediate();const t=WI(i,{popupRedirectResolver:TD,persistence:[xC,EC,h0]}),s=CT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ID(u.toString());gC(t,f,()=>f(t.currentUser)),pC(t,m=>f(m))}}const o=RT("auth");return o&&JI(t,`http://${o}`),t}function DD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}FI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",DD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SD("Browser");var ND="firebase",OD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(ND,OD,"app");const v0="@firebase/installations",yp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=1e4,T0=`w:${yp}`,w0="FIS_v2",xD="https://firebaseinstallations.googleapis.com/v1",VD=60*60*1e3,kD="installations",MD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},na=new oa(kD,MD,PD);function A0(i){return i instanceof Zn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0({projectId:i}){return`${xD}/projects/${i}/installations`}function b0(i){return{token:i.token,requestStatus:2,expiresIn:UD(i.expiresIn),creationTime:Date.now()}}async function R0(i,e){const s=(await e.json()).error;return na.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function I0({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function LD(i,{refreshToken:e}){const t=I0(i);return t.append("Authorization",jD(e)),t}async function C0(i){const e=await i();return e.status>=500&&e.status<600?i():e}function UD(i){return Number(i.replace("s","000"))}function jD(i){return`${w0} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=S0(i),o=I0(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:t,authVersion:w0,appId:i.appId,sdkVersion:T0},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await C0(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:b0(g.authToken)}}else throw await R0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^[cdef][\w-]{21}$/,km="";function FD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=HD(i);return qD.test(t)?t:km}catch{return km}}function HD(i){return BD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function O0(i,e){const t=zh(i);x0(t,e),GD(t,e)}function x0(i,e){const t=N0.get(i);if(t)for(const s of t)s(e)}function GD(i,e){const t=$D();t&&t.postMessage({key:i,fid:e}),KD()}let Ws=null;function $D(){return!Ws&&"BroadcastChannel"in self&&(Ws=new BroadcastChannel("[Firebase] FID Change"),Ws.onmessage=i=>{x0(i.data.key,i.data.fid)}),Ws}function KD(){N0.size===0&&Ws&&(Ws.close(),Ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="firebase-installations-database",QD=1,ia="firebase-installations-store";let gm=null;function _p(){return gm||(gm=PT(YD,QD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ia)}}})),gm}async function vh(i,e){const t=zh(i),o=(await _p()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(t);return await u.put(e,t),await o.done,(!f||f.fid!==e.fid)&&O0(i,e.fid),e}async function V0(i){const e=zh(i),s=(await _p()).transaction(ia,"readwrite");await s.objectStore(ia).delete(e),await s.done}async function Bh(i,e){const t=zh(i),o=(await _p()).transaction(ia,"readwrite"),u=o.objectStore(ia),f=await u.get(t),m=e(f);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!f||f.fid!==m.fid)&&O0(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(i){let e;const t=await Bh(i.appConfig,s=>{const o=XD(s),u=WD(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===km?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function XD(i){const e=i||{fid:FD(),registrationStatus:0};return k0(e)}function WD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(na.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=ZD(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JD(i)}:{installationEntry:e}}async function ZD(i,e){try{const t=await zD(i,e);return vh(i.appConfig,t)}catch(t){throw A0(t)&&t.customData.serverCode===409?await V0(i.appConfig):await vh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function JD(i){let e=await Wv(i.appConfig);for(;e.registrationStatus===1;)await D0(100),e=await Wv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await vp(i);return s||t}return e}function Wv(i){return Bh(i,e=>{if(!e)throw na.create("installation-not-found");return k0(e)})}function k0(i){return e2(i)?{fid:i.fid,registrationStatus:0}:i}function e2(i){return i.registrationStatus===1&&i.registrationTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2({appConfig:i,heartbeatServiceProvider:e},t){const s=n2(i,t),o=LD(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:T0,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await C0(()=>fetch(s,m));if(p.ok){const g=await p.json();return b0(g)}else throw await R0("Generate Auth Token",p)}function n2(i,{fid:e}){return`${S0(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(i,e=!1){let t;const s=await Bh(i.appConfig,u=>{if(!M0(u))throw na.create("not-registered");const f=u.authToken;if(!e&&s2(f))return u;if(f.requestStatus===1)return t=i2(i,e),u;{if(!navigator.onLine)throw na.create("app-offline");const m=o2(u);return t=r2(i,m),m}});return t?await t:s.authToken}async function i2(i,e){let t=await Zv(i.appConfig);for(;t.authToken.requestStatus===1;)await D0(100),t=await Zv(i.appConfig);const s=t.authToken;return s.requestStatus===0?Ep(i,e):s}function Zv(i){return Bh(i,e=>{if(!M0(e))throw na.create("not-registered");const t=e.authToken;return l2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function r2(i,e){try{const t=await t2(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await vh(i.appConfig,s),t}catch(t){if(A0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await V0(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await vh(i.appConfig,s)}throw t}}function M0(i){return i!==void 0&&i.registrationStatus===2}function s2(i){return i.requestStatus===2&&!a2(i)}function a2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+VD}function o2(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function l2(i){return i.requestStatus===1&&i.requestTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(i){const e=i,{installationEntry:t,registrationPromise:s}=await vp(e);return s?s.catch(console.error):Ep(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(i,e=!1){const t=i;return await h2(t),(await Ep(t,e)).token}async function h2(i){const{registrationPromise:e}=await vp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(i){if(!i||!i.options)throw ym("App Configuration");if(!i.name)throw ym("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw ym(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ym(i){return na.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="installations",d2="installations-internal",m2=i=>{const e=i.getProvider("app").getImmediate(),t=f2(e),s=la(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},p2=i=>{const e=i.getProvider("app").getImmediate(),t=la(e,P0).getImmediate();return{getId:()=>u2(t),getToken:o=>c2(t,o)}};function g2(){Ai(new Xn(P0,m2,"PUBLIC")),Ai(new Xn(d2,p2,"PRIVATE"))}g2();jn(v0,yp);jn(v0,yp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="analytics",y2="firebase_id",_2="origin",v2=60*1e3,E2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new oa("analytics","Analytics",T2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){if(!i.startsWith(Tp)){const e=vn.create("invalid-gtag-resource",{gtagURL:i});return cn.warn(e.message),""}return i}function L0(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function A2(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function S2(i,e){const t=A2("firebase-js-sdk-policy",{createScriptURL:w2}),s=document.createElement("script"),o=`${Tp}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function b2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function R2(i,e,t,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await L0(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){cn.error(m)}i("config",o,u)}async function I2(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await L0(t);for(const p of f){const g=m.find(A=>A.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){cn.error(u)}}function C2(i,e,t,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await I2(i,e,t,m,p)}else if(u==="config"){const[m,p]=f;await R2(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){cn.error(m)}}return o}function D2(i,e,t,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=C2(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function N2(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Tp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=30,x2=1e3;class V2{constructor(e={},t=x2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const U0=new V2;function k2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function M2(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:k2(s)},u=E2.replace("{app-id}",t),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function P2(i,e=U0,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw vn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw vn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new j2;return setTimeout(async()=>{m.abort()},v2),j0({appId:s,apiKey:o,measurementId:u},f,m,e)}async function j0(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=U0){var u;const{appId:f,measurementId:m}=i;try{await L2(s,e)}catch(p){if(m)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await M2(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!U2(g)){if(o.deleteThrottleMetadata(f),m)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Av(t,o.intervalMillis,O2):Av(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(f,A),cn.debug(`Calling attemptFetch again in ${E} millis`),j0(i,A,s,o)}}function L2(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function U2(i){if(!(i instanceof Zn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class j2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function z2(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",t,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(){if(xT())try{await VT()}catch(i){return cn.warn(vn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return cn.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function q2(i,e,t,s,o,u,f){var m;const p=P2(i);p.then(O=>{t[O.measurementId]=O.appId,i.options.measurementId&&O.measurementId!==i.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>cn.error(O)),e.push(p);const g=B2().then(O=>{if(O)return s.getId()}),[E,A]=await Promise.all([p,g]);N2(u)||S2(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[_2]="firebase",S.update=!0,A!=null&&(S[y2]=A),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},Jv=[];const eE={};let _m="dataLayer",H2="gtag",tE,z0,nE=!1;function G2(){const i=[];if(OT()&&i.push("This is a browser extension environment."),XR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=vn.create("invalid-analytics-context",{errorInfo:e});cn.warn(t.message)}}function $2(i,e,t){G2();const s=i.options.appId;if(!s)throw vn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(Kl[s]!=null)throw vn.create("already-exists",{id:s});if(!nE){b2(_m);const{wrappedGtag:u,gtagCore:f}=D2(Kl,Jv,eE,_m,H2);z0=u,tE=f,nE=!0}return Kl[s]=q2(i,Jv,eE,e,tE,_m,t),new F2(i)}function K2(i=sp()){i=Zt(i);const e=la(i,Eh);return e.isInitialized()?e.getImmediate():Y2(i)}function Y2(i,e={}){const t=la(i,Eh);if(t.isInitialized()){const o=t.getImmediate();if(is(e,t.getOptions()))return o;throw vn.create("already-initialized")}return t.initialize({options:e})}function Q2(i,e,t,s){i=Zt(i),z2(z0,Kl[i.app.options.appId],e,t,s).catch(o=>cn.error(o))}const iE="@firebase/analytics",rE="0.10.17";function X2(){Ai(new Xn(Eh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return $2(s,o,t)},"PUBLIC")),Ai(new Xn("analytics-internal",i,"PRIVATE")),jn(iE,rE),jn(iE,rE,"esm2017");function i(e){try{const t=e.getProvider(Eh).getImmediate();return{logEvent:(s,o,u)=>Q2(t,s,o,u)}}catch(t){throw vn.create("interop-component-reg-failed",{reason:t})}}}X2();var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,B0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function b(){}b.prototype=I.prototype,V.D=I.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(D,M,B){for(var C=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)C[wt-2]=arguments[wt];return I.prototype[M].apply(D,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,b){b||(b=0);var D=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)D[M]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(M=0;16>M;++M)D[M]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=V.g[0],b=V.g[1],M=V.g[2];var B=V.g[3],C=I+(B^b&(M^B))+D[0]+3614090360&4294967295;I=b+(C<<7&4294967295|C>>>25),C=B+(M^I&(b^M))+D[1]+3905402710&4294967295,B=I+(C<<12&4294967295|C>>>20),C=M+(b^B&(I^b))+D[2]+606105819&4294967295,M=B+(C<<17&4294967295|C>>>15),C=b+(I^M&(B^I))+D[3]+3250441966&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(B^b&(M^B))+D[4]+4118548399&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(M^I&(b^M))+D[5]+1200080426&4294967295,B=I+(C<<12&4294967295|C>>>20),C=M+(b^B&(I^b))+D[6]+2821735955&4294967295,M=B+(C<<17&4294967295|C>>>15),C=b+(I^M&(B^I))+D[7]+4249261313&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(B^b&(M^B))+D[8]+1770035416&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(M^I&(b^M))+D[9]+2336552879&4294967295,B=I+(C<<12&4294967295|C>>>20),C=M+(b^B&(I^b))+D[10]+4294925233&4294967295,M=B+(C<<17&4294967295|C>>>15),C=b+(I^M&(B^I))+D[11]+2304563134&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(B^b&(M^B))+D[12]+1804603682&4294967295,I=b+(C<<7&4294967295|C>>>25),C=B+(M^I&(b^M))+D[13]+4254626195&4294967295,B=I+(C<<12&4294967295|C>>>20),C=M+(b^B&(I^b))+D[14]+2792965006&4294967295,M=B+(C<<17&4294967295|C>>>15),C=b+(I^M&(B^I))+D[15]+1236535329&4294967295,b=M+(C<<22&4294967295|C>>>10),C=I+(M^B&(b^M))+D[1]+4129170786&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^M&(I^b))+D[6]+3225465664&4294967295,B=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(B^I))+D[11]+643717713&4294967295,M=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(M^B))+D[0]+3921069994&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^B&(b^M))+D[5]+3593408605&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^M&(I^b))+D[10]+38016083&4294967295,B=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(B^I))+D[15]+3634488961&4294967295,M=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(M^B))+D[4]+3889429448&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^B&(b^M))+D[9]+568446438&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^M&(I^b))+D[14]+3275163606&4294967295,B=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(B^I))+D[3]+4107603335&4294967295,M=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(M^B))+D[8]+1163531501&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(M^B&(b^M))+D[13]+2850285829&4294967295,I=b+(C<<5&4294967295|C>>>27),C=B+(b^M&(I^b))+D[2]+4243563512&4294967295,B=I+(C<<9&4294967295|C>>>23),C=M+(I^b&(B^I))+D[7]+1735328473&4294967295,M=B+(C<<14&4294967295|C>>>18),C=b+(B^I&(M^B))+D[12]+2368359562&4294967295,b=M+(C<<20&4294967295|C>>>12),C=I+(b^M^B)+D[5]+4294588738&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^M)+D[8]+2272392833&4294967295,B=I+(C<<11&4294967295|C>>>21),C=M+(B^I^b)+D[11]+1839030562&4294967295,M=B+(C<<16&4294967295|C>>>16),C=b+(M^B^I)+D[14]+4259657740&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^B)+D[1]+2763975236&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^M)+D[4]+1272893353&4294967295,B=I+(C<<11&4294967295|C>>>21),C=M+(B^I^b)+D[7]+4139469664&4294967295,M=B+(C<<16&4294967295|C>>>16),C=b+(M^B^I)+D[10]+3200236656&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^B)+D[13]+681279174&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^M)+D[0]+3936430074&4294967295,B=I+(C<<11&4294967295|C>>>21),C=M+(B^I^b)+D[3]+3572445317&4294967295,M=B+(C<<16&4294967295|C>>>16),C=b+(M^B^I)+D[6]+76029189&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(b^M^B)+D[9]+3654602809&4294967295,I=b+(C<<4&4294967295|C>>>28),C=B+(I^b^M)+D[12]+3873151461&4294967295,B=I+(C<<11&4294967295|C>>>21),C=M+(B^I^b)+D[15]+530742520&4294967295,M=B+(C<<16&4294967295|C>>>16),C=b+(M^B^I)+D[2]+3299628645&4294967295,b=M+(C<<23&4294967295|C>>>9),C=I+(M^(b|~B))+D[0]+4096336452&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~M))+D[7]+1126891415&4294967295,B=I+(C<<10&4294967295|C>>>22),C=M+(I^(B|~b))+D[14]+2878612391&4294967295,M=B+(C<<15&4294967295|C>>>17),C=b+(B^(M|~I))+D[5]+4237533241&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~B))+D[12]+1700485571&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~M))+D[3]+2399980690&4294967295,B=I+(C<<10&4294967295|C>>>22),C=M+(I^(B|~b))+D[10]+4293915773&4294967295,M=B+(C<<15&4294967295|C>>>17),C=b+(B^(M|~I))+D[1]+2240044497&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~B))+D[8]+1873313359&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~M))+D[15]+4264355552&4294967295,B=I+(C<<10&4294967295|C>>>22),C=M+(I^(B|~b))+D[6]+2734768916&4294967295,M=B+(C<<15&4294967295|C>>>17),C=b+(B^(M|~I))+D[13]+1309151649&4294967295,b=M+(C<<21&4294967295|C>>>11),C=I+(M^(b|~B))+D[4]+4149444226&4294967295,I=b+(C<<6&4294967295|C>>>26),C=B+(b^(I|~M))+D[11]+3174756917&4294967295,B=I+(C<<10&4294967295|C>>>22),C=M+(I^(B|~b))+D[2]+718787259&4294967295,M=B+(C<<15&4294967295|C>>>17),C=b+(B^(M|~I))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+B&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var b=I-this.blockSize,D=this.B,M=this.h,B=0;B<I;){if(M==0)for(;B<=b;)o(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<I;)if(D[M++]=V.charCodeAt(B++),M==this.blockSize){o(this,D),M=0;break}}else for(;B<I;)if(D[M++]=V[B++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var b=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=b&255,b/=256;for(this.u(V),V=Array(16),I=b=0;4>I;++I)for(var D=0;32>D;D+=8)V[b++]=this.g[I]>>>D&255;return V};function u(V,I){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=I(V)}function f(V,I){this.h=I;for(var b=[],D=!0,M=V.length-1;0<=M;M--){var B=V[M]|0;D&&B==I||(b[M]=B,D=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?u(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return L(g(-V));for(var I=[],b=1,D=0;V>=b;D++)I[D]=V/b|0,b*=4294967296;return new f(I,0)}function E(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return L(E(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(I,8)),D=A,M=0;M<V.length;M+=8){var B=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+B),I);8>B?(B=g(Math.pow(I,B)),D=D.j(B).add(g(C))):(D=D.j(b),D=D.add(g(C)))}return D}var A=p(0),S=p(1),O=p(16777216);i=f.prototype,i.m=function(){if($(this))return-L(this).m();for(var V=0,I=1,b=0;b<this.g.length;b++){var D=this.i(b);V+=(0<=D?D:4294967296+D)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(j(this))return"0";if($(this))return"-"+L(this).toString(V);for(var I=g(Math.pow(V,6)),b=this,D="";;){var M=he(b,I).g;b=K(b,M.j(I));var B=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=M,j(b))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function j(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function $(V){return V.h==-1}i.l=function(V){return V=K(this,V),$(V)?-1:j(V)?0:1};function L(V){for(var I=V.g.length,b=[],D=0;D<I;D++)b[D]=~V.g[D];return new f(b,~V.h).add(S)}i.abs=function(){return $(this)?L(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],D=0,M=0;M<=I;M++){var B=D+(this.i(M)&65535)+(V.i(M)&65535),C=(B>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);D=C>>>16,B&=65535,C&=65535,b[M]=C<<16|B}return new f(b,b[b.length-1]&-2147483648?-1:0)};function K(V,I){return V.add(L(I))}i.j=function(V){if(j(this)||j(V))return A;if($(this))return $(V)?L(this).j(L(V)):L(L(this).j(V));if($(V))return L(this.j(L(V)));if(0>this.l(O)&&0>V.l(O))return g(this.m()*V.m());for(var I=this.g.length+V.g.length,b=[],D=0;D<2*I;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<V.g.length;M++){var B=this.i(D)>>>16,C=this.i(D)&65535,wt=V.i(M)>>>16,dt=V.i(M)&65535;b[2*D+2*M]+=C*dt,X(b,2*D+2*M),b[2*D+2*M+1]+=B*dt,X(b,2*D+2*M+1),b[2*D+2*M+1]+=C*wt,X(b,2*D+2*M+1),b[2*D+2*M+2]+=B*wt,X(b,2*D+2*M+2)}for(D=0;D<I;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=I;D<2*I;D++)b[D]=0;return new f(b,0)};function X(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function W(V,I){this.g=V,this.h=I}function he(V,I){if(j(I))throw Error("division by zero");if(j(V))return new W(A,A);if($(V))return I=he(L(V),I),new W(L(I.g),L(I.h));if($(I))return I=he(V,L(I)),new W(L(I.g),I.h);if(30<V.g.length){if($(V)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var b=S,D=I;0>=D.l(V);)b=ue(b),D=ue(D);var M=_e(b,1),B=_e(D,1);for(D=_e(D,2),b=_e(b,2);!j(D);){var C=B.add(D);0>=C.l(V)&&(M=M.add(b),B=C),D=_e(D,1),b=_e(b,1)}return I=K(V,M.j(I)),new W(M,I)}for(M=A;0<=V.l(I);){for(b=Math.max(1,Math.floor(V.m()/I.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=g(b),C=B.j(I);$(C)||0<C.l(V);)b-=D,B=g(b),C=B.j(I);j(B)&&(B=S),M=M.add(B),V=K(V,C)}return new W(M,V)}i.A=function(V){return he(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)&V.i(D);return new f(b,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)|V.i(D);return new f(b,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),b=[],D=0;D<I;D++)b[D]=this.i(D)^V.i(D);return new f(b,this.h^V.h)};function ue(V){for(var I=V.g.length+1,b=[],D=0;D<I;D++)b[D]=V.i(D)<<1|V.i(D-1)>>>31;return new f(b,V.h)}function _e(V,I){var b=I>>5;I%=32;for(var D=V.g.length-b,M=[],B=0;B<D;B++)M[B]=0<I?V.i(B+b)>>>I|V.i(B+b+1)<<32-I:V.i(B+b);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,B0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ts=f}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q0,Bl,F0,rh,Mm,H0,G0,$0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,z={next:function(){if(!w&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,z,G){for(var ie=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ie[Me-2]=arguments[Me];return y.prototype[z].apply(w,ie)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const z=c.length||0,G=w.length||0;c.length=z+G;for(let ie=0;ie<G;ie++)c[z+ie]=w[ie]}else c.push(w)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var ue=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function _e(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let G=0;G<b.length;G++)_=b[G],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class wt{constructor(){this.h=this.g=null}add(y,_){const w=dt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var dt=new K(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Fe=new wt,x=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){B(_)}var y=dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{he(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,oe);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),je=0;function st(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++je,this.da=this.fa=!1}function $e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,y,_,w,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=En(c,y,w,z);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new st(y,this.src,G,!!w,z),y.fa=_,c.push(y)),y};function Ii(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(w,z,1),G&&($e(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function En(c,y,_,w){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==w)return z}return-1}var hr="closure_lm_"+(1e6*Math.random()|0),fr={};function Ci(c,y,_,w,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Ci(c,y[G],_,w,z);return null}return _=Su(_),c&&c[mt]?c.K(y,_,g(w)?!!w.capture:!1,z):Oo(c,y,_,!1,w,z)}function Oo(c,y,_,w,z,G){if(!y)throw Error("Invalid event type");var ie=g(z)?!!z.capture:!!z,Me=xo(c);if(Me||(c[hr]=Me=new Jt(c)),_=Me.add(y,_,w,ie,G),_.proxy)return _;if(w=ma(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)le||(z=ie),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(ga(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ma(){function c(_){return y.call(c.src,c.listener,_)}const y=nf;return c}function pa(c,y,_,w,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)pa(c,y[G],_,w,z);else w=g(w)?!!w.capture:!!w,_=Su(_),c&&c[mt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=En(G,_,w,z),-1<_&&($e(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=xo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=En(y,_,w,z)),(_=-1<c?y[c]:null)&&ys(_))}function ys(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[mt])Ii(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ga(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=xo(y))?(Ii(_,c),_.h==0&&(_.src=null,y[hr]=null)):$e(c)}}}function ga(c){return c in fr?fr[c]:fr[c]="on"+c}function nf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ys(c),c=_.call(w,y)}return c}function xo(c){return c=c[hr],c instanceof Jt?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function At(){de.call(this),this.i=new Jt(this),this.M=this,this.F=null}j(At,de),At.prototype[mt]=!0,At.prototype.removeEventListener=function(c,y,_,w){pa(this,c,y,_,w)};function Nt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var z=y;y=new oe(w,c),D(y,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var ie=y.g=_[G];z=Di(ie,w,!0,y)&&z}if(ie=y.g=c,z=Di(ie,w,!0,y)&&z,z=Di(ie,w,!1,y)&&z,_)for(G=0;G<_.length;G++)ie=y.g=_[G],z=Di(ie,w,!1,y)&&z}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)$e(_[w]);delete c.g[y],c.h--}}this.F=null},At.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},At.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Di(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ie=y[G];if(ie&&!ie.da&&ie.capture==_){var Me=ie.listener,bt=ie.ha||ie.src;ie.fa&&Ii(c.i,ie),z=Me.call(bt,w)!==!1&&z}}return z&&!w.defaultPrevented}function bu(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vo(c){c.g=bu(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rf extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(c){de.call(this),this.h=c,this.g={}}j(_s,de);var dr=[];function Gt(c){_e(c.g,function(y,_){this.g.hasOwnProperty(_)&&ys(y)},c),c.g={}}_s.prototype.N=function(){_s.aa.N.call(this),Gt(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,Jn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Iu(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){oe.call(this,"d")}j(mr,oe);function Bn(){oe.call(this,"c")}j(Bn,oe);var Tn={},pr=null;function ya(){return pr=pr||new At}Tn.La="serverreachability";function Po(c){oe.call(this,Tn.La,c)}j(Po,oe);function gr(c){const y=ya();Nt(y,new Po(y))}Tn.STAT_EVENT="statevent";function _a(c,y){oe.call(this,Tn.STAT_EVENT,c),this.stat=y}j(_a,oe);function ct(c){const y=ya();Nt(y,new _a(y,c))}Tn.Ma="timingevent";function Cu(c,y){oe.call(this,Tn.Ma,c),this.size=y}j(Cu,oe);function yr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function Du(c,y,_,w,z,G){c.info(function(){if(c.g)if(G)for(var ie="",Me=G.split("&"),bt=0;bt<Me.length;bt++){var Pe=Me[bt].split("=");if(1<Pe.length){var Vt=Pe[0];Pe=Pe[1];var Rt=Vt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(Vt+"="+Pe+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+ie})}function Nu(c,y,_,w,z,G,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+G+" "+ie})}function vr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ot(c,_)+(w?" "+w:"")})}function ti(c,y){c.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function Ot(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return ko(_)}catch{return y}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vs;function va(){}j(va,Mo),va.prototype.g=function(){return new XMLHttpRequest},va.prototype.i=function(){return{}},vs=new va;function ni(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new _s(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var Er={},Es={};function qn(c,y,_){c.L=1,c.v=As(at(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),et(c),c.A=at(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ki(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Lo,c.g=Hu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new rf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(dr[0]=z.toString()),z=dr);for(var G=0;G<z.length;G++){var ie=Ci(_,z[G],w||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),gr(),Du(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Rn(this.g);var y=this.g.Ba();const Ui=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Ui?gr(3):gr(2)),Ea(this);var _=this.g.Z();this.X=_;t:if(Tr(this)){var w=Pu(this.g);c="";var z=w.length,G=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),hn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(G&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Nu(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,bt=this.g;if((Me=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Me)){var Pe=Me;break t}}Pe=null}if(_=Pe)vr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,_);else{this.o=!1,this.s=3,ct(12),on(this),hn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ie.length;)if(Ut=wr(this,ie),Ut==Es){Rt==4&&(this.s=4,ct(14),_=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Er){this.s=4,ct(15),vr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else vr(this.i,this.l,Ut,null),fn(this,Ut);if(Tr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)vr(this.i,this.l,ie,"[Invalid Chunked Response]"),on(this),hn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ns(Vt),Vt.M=!0,ct(11))}}else vr(this.i,this.l,ie,null),fn(this,ie);Rt==4&&on(this),this.o&&!this.J&&(Rt==4?Bu(this.j,this):(this.o=!1,et(this)))}else cf(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),on(this),hn(this)}}}catch{}finally{}};function Tr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wr(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Es:(_=Number(y.substring(_,w)),isNaN(_)?Er:(w+=1,w+_>y.length?Es:(y=y.slice(w,w+_),c.C=w+_,y)))}ni.prototype.cancel=function(){this.J=!0,on(this)};function et(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yr(S(c.ba,c),y)}function Ea(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ti(this.i,this.A),this.L!=2&&(gr(),ct(17)),on(this),this.s=2,hn(this)):Uo(this,this.S-c)};function hn(c){c.j.G==0||c.J||Bu(c.j,c)}function on(c){Ea(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Gt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ar(_.h,c))){if(!c.K&&Ar(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Na(_),Ca(_);else break e;Qo(_),ct(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=yr(S(_.Za,_),6e3));if(1>=Ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&Na(_),!X(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Pe=z[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Vt=Pe[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Rt=Pe[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Ui=Pe[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(w=1.5*Ui,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ut=c.g;if(Ut){const ui=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var G=w.h;G.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Sr(G,G.h),G.h=null))}if(w.D){const Wo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(w.ya=Wo,ze(w.I,w.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ie=c;if(w.qa=Fu(w,w.J?w.ia:null,w.W),ie.K){wn(w.h,ie);var Me=ie,bt=w.L;bt&&(Me.I=bt),Me.B&&(Ea(Me),et(Me)),w.g=ie}else ju(w);0<_.i.length&&Da(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Li(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Li(_,7):Ko(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}gr(4)}catch{}}var sf=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ou(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sr(c,y){c.g?c.g.add(y):c.h=y}function wn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function xu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function af(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Ts(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=af(c),w=xu(c),z=w.length,G=0;G<z;G++)y.call(void 0,w[G],_&&_[G],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),z=null;if(0<=w){var G=c[_].substring(0,w);z=c[_].substring(w+1)}else G=c[_];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,br(this,c.j),this.o=c.o,this.g=c.g,ws(this,c.s),this.l=c.l;var y=c.i,_=new ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),wa(this,_),this.m=c.m}else c&&(y=String(c).match(Bo))?(this.h=!1,br(this,y[1]||"",!0),this.o=Rr(y[2]||""),this.g=Rr(y[3]||"",!0),ws(this,y[4]),this.l=Rr(y[5]||"",!0),wa(this,y[6]||"",!0),this.m=Rr(y[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}xi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(An(y,qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(An(y,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(An(_,_.charAt(0)=="/"?Fo:Vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",An(_,uf)),c.join("")};function at(c){return new xi(c)}function br(c,y,_){c.j=_?Rr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ws(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function wa(c,y,_){y instanceof ii?(c.i=y,Ho(c.i,c.h)):(_||(y=An(y,lf)),c.i=new ii(y,c.h))}function ze(c,y,_){c.i.set(y,_)}function As(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function An(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,of),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function of(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Vu=/[#\?:]/g,Fo=/[#\?]/g,lf=/[#\?@]/g,uf=/#/g;function ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ta(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=ii.prototype,i.add=function(c,y){Sn(this),this.i=null,c=Mi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Aa(c,y){Sn(c),y=Mi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return Sn(c),y=Mi(c,y),c.g.has(y)}i.forEach=function(c,y){Sn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const z=c[w];for(let G=0;G<z.length;G++)_.push(y[w])}return _},i.V=function(c){Sn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(Mi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Sn(this),this.i=null,c=Mi(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ki(c,y,_){Aa(c,y),0<_.length&&(c.i=null,c.g.set(Mi(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const G=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var z=G;ie[w]!==""&&(z+="="+encodeURIComponent(String(ie[w]))),c.push(z)}}return this.i=c.join("&")};function Mi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ho(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(Aa(this,w),ki(this,z,_))},c)),c.j=y}function ku(c,y){const _=new _r;if(m.Image){const w=new Image;w.onload=O(bn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=O(bn,_,"TestLoadImage: error",!1,y,w),w.onabort=O(bn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(bn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ss(c,y){const _=new _r,w=new AbortController,z=setTimeout(()=>{w.abort(),bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?bn(_,"TestPingServer: ok",!0,y):bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),bn(_,"TestPingServer: error",!1,y)})}function bn(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function bs(){this.g=new en}function ri(c,y,_){const w=_||"";try{Ts(c,function(z,G){let ie=z;g(z)&&(ie=ko(z)),y.push(w+G+"="+encodeURIComponent(ie))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Ir,Mo),Ir.prototype.g=function(){return new Pi(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){At.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Pi,At),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},i.Qa=function(c){this.g&&(this.response=c,si(this))},i.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return _e(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function xt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=$o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,y,_))}function He(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(He,At);var Sa=/^https?$/i,Rs=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vs.g(),this.v=this.o?Ru(this.o):Ru(vs),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Mu(this,G);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())_.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of _)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Mu(this,G)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),oi(c)}function ba(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},i.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)bu(c.Ea,0,c);else if(Nt(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ie===0){var z=String(c.D).match(Bo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!Sa.test(z?z.toLowerCase():"")}_=w}if(_)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var G=2<Rn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ba(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){Is(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Nt(c,"ready");try{_.onreadystatechange=w}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jn(y)}};function Pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(X(c[w]))continue;var _=M(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[z]||[];y[z]=G,G.push(_)}V(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ia.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){ct(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Fu(this,null,this.W),Da(this)};function Ko(c){if(Lu(c),c.G==3){var y=c.U++,_=at(c.I);if(ze(_,"SID",c.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Ds(c,_),y=new ni(c,c.j,y),y.L=2,y.v=As(at(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Hu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}qu(c)}function Ca(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function Lu(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Da(c){if(!zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;Te||x(),ge||(Te(),ge=!0),Fe.add(y,c),c.B=0}}function hf(c,y){return Ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yr(S(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ni(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Uu(this,z,y),_=at(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Ds(this,_),G&&(this.O?y="headers="+encodeURIComponent(String($o(G)))+"&"+y:this.m&&xt(_,this.m,G)),Sr(this.h,z),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),z.T=!0,qn(z,_,null)):qn(z,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||zo(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const w=at(c.I);ze(w,"SID",c.K),ze(w,"RID",_),ze(w,"AID",c.T),Ds(c,w),c.m&&c.o&&xt(w,c.m,c.o),_=new ni(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,_),qn(_,w,y)}function Ds(c,y){c.H&&_e(c.H,function(_,w){ze(y,w,_)}),c.l&&Ts({},function(_,w){ze(y,w,_)})}function Uu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ie=["count="+_];G==-1?0<_?(G=z[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Me=!0;for(let bt=0;bt<_;bt++){let Pe=z[bt].g;const Vt=z[bt].map;if(Pe-=G,0>Pe)G=Math.max(0,z[bt].g-100),Me=!1;else try{ri(Vt,ie,"req"+Pe+"_")}catch{w&&w(Vt)}}if(Me){w=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Te||x(),ge||(Te(),ge=!0),Fe.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yr(S(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yr(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Ca(this),zu(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=at(c.qa);ze(y,"RID","rpc"),ze(y,"SID",c.K),ze(y,"AID",c.T),ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(y,"TO",c.ja),ze(y,"TYPE","xmlhttp"),Ds(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(at(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ca(this),Qo(this),ct(19))};function Na(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,y){var _=null;if(c.g==y){Na(c),Ns(c),c.g=null;var w=2}else if(Ar(c.h,y))_=y.D,wn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=ya(),Nt(w,new Cu(w,_)),Da(c)}else ju(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&hf(c,y)||w==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const z=!w;w=new xi(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||br(w,"https"),As(w),z?ku(w.toString(),_):Ss(w.toString(),_)}else ct(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var w=_ instanceof xi?at(_):new xi(_);if(w.g!="")y&&(w.g=y+"."+w.g),ws(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new xi(null);w&&br(G,w),y&&(G.g=y),z&&ws(G,z),_&&(G.l=_),w=G}return _=c.D,y=c.ya,_&&y&&ze(w,_,y),ze(w,"VER",c.la),Ds(c,w),w}function Hu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new Ir({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Oa(){}Oa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){At.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}j(nn,At),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ko(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ko(c),c=_);y.i.push(new sf(y.Ya++,c)),y.G==3&&Da(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,nn.aa.N.call(this)};function $u(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j($u,mr);function Ku(){Bn.call(this),this.status=1}j(Ku,Bn);function li(c){this.g=c}j(li,Gu),li.prototype.ua=function(){Nt(this.g,"a")},li.prototype.ta=function(c){Nt(this.g,new $u(c))},li.prototype.sa=function(c){Nt(this.g,new Ku)},li.prototype.ra=function(){Nt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,$0=function(){return new Oa},G0=function(){return ya()},H0=Tn,Mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,rh=St,Ni.COMPLETE="complete",F0=Ni,Iu.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",At.prototype.listen=At.prototype.K,Bl=Iu,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,q0=He}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Ph("@firebase/firestore");function so(){return ra.logLevel}function ae(i,...e){if(ra.logLevel<=xe.DEBUG){const t=e.map(wp);ra.debug(`Firestore (${Ro}): ${i}`,...t)}}function ur(i,...e){if(ra.logLevel<=xe.ERROR){const t=e.map(wp);ra.error(`Firestore (${Ro}): ${i}`,...t)}}function rs(i,...e){if(ra.logLevel<=xe.WARN){const t=e.map(wp);ra.warn(`Firestore (${Ro}): ${i}`,...t)}}function wp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,K0(i,s,t)}function K0(i,e,t){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ur(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||K0(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class Z2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class J2{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Y0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class eN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new eN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new lE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function Pm(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=Q0(),f=rN(u.encode(uE(i,t)),u.encode(uE(e,t)));return f!==0?f:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function uE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function rN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function go(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class pi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return De(e.length,t.length)}static compareSegments(e,t){const s=pi.isNumericId(e),o=pi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(t)):Pm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Ze extends pi{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const sN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends pi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return sN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Ft([cE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new se(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ze.fromString(e))}static fromName(e){return new pe(Ze.fromString(e).popFirst(5))}static empty(){return new pe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i,e,t){if(!t)throw new se(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aN(i,e,t,s){if(e===!0&&s===!0)throw new se(Z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hE(i){if(!pe.isDocumentKey(i))throw new se(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fE(i){if(pe.isDocumentKey(i))throw new se(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function W0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ss(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qh(i);throw new se(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,e){const t={typeString:i};return e&&(t.value=e),t}function gu(i,e){if(!W0(i))throw new se(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new se(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*mE);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dE)throw new se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Et("string",Je._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Je(0,0))}static max(){return new we(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function oN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new as(o,pe.empty(),e)}function lN(i){return new as(i.readTime,i.key,nu)}class as{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new as(we.min(),pe.empty(),nu)}static max(){return new as(we.max(),pe.empty(),nu)}}function uN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==cN)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function fN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Co(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Fh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function Hh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function dN(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="";function mN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pE(e)),e=pN(i.get(t),e);return pE(e)}function pN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Z0:t+="";break;default:t+=u}}return t}function pE(i){return i+Z0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ua(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function J0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yc(this.root,e,this.comparator,!0)}}class Yc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Dt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ew("Invalid base64 string: "+u):u}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const gN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=gN.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(i.seconds),nanos:ft(i.nanos)}}function ft(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ls(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="server_timestamp",nw="__type__",iw="__previous_value__",rw="__local_write_time__";function bp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[nw])===null||t===void 0?void 0:t.stringValue)===tw}function Gh(i){const e=i.mapValue.fields[iw];return bp(e)?Gh(e):e}function iu(i){const e=os(i.mapValue.fields[rw].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const wh="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__type__",_N="__max__",Qc={mapValue:{}},aw="__vector__",Ah="value";function us(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:EN(i)?9007199254740991:vN(i)?10:11:Ee(28295,{value:i})}function Si(i,e){if(i===e)return!0;const t=us(i);if(t!==us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gE(f)!==gE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Si(f[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function su(i,e){return(i.values||[]).find(t=>Si(t,e))!==void 0}function yo(i,e){if(i===e)return 0;const t=us(i),s=us(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return _E(i.timestampValue,e.timestampValue);case 4:return _E(iu(i),iu(e));case 5:return Pm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=De(m[g],p[g]);if(E!==0)return E}return De(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=De(ft(u.latitude),ft(f.latitude));return m!==0?m:De(ft(u.longitude),ft(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return vE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},S=f.fields||{},O=(m=A[Ah])===null||m===void 0?void 0:m.arrayValue,j=(p=S[Ah])===null||p===void 0?void 0:p.arrayValue,$=De(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:vE(O,j)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=Pm(p[A],E[A]);if(S!==0)return S;const O=yo(m[p[A]],g[E[A]]);if(O!==0)return O}return De(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{le:t})}}function _E(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=os(i),s=os(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function vE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return De(t.length,s.length)}function _o(i){return Lm(i)}function Lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=os(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ls(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(t.fields[f])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function sh(i){switch(us(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(i);return e?16+sh(e):16;case 5:return 2*i.stringValue.length;case 6:return ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ua(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function EE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Um(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function TE(i){return!!i&&"nullValue"in i}function wE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function vN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===aw}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ua(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Yl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function EN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ua(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Ln(Yl(this.value))}}function ow(i){const e=[];return ua(i.fields,(t,s)=>{const o=new Ft([t]);if(ah(s)){const u=ow(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),Ln.empty(),0)}static newFoundDocument(e,t,s,o){return new Xt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Xt(e,2,t,we.min(),we.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,we.min(),we.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function AE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),t.key):s=yo(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function SE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Si(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function TN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class vt extends lw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new AN(e,t,s):t==="array-contains"?new RN(e,s):t==="in"?new IN(e,s):t==="not-in"?new CN(e,s):t==="array-contains-any"?new DN(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new SN(e,s):new bN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yo(t,this.value)):t!==null&&us(this.value)===us(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends lw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Wn(e,t)}matches(e){return uw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function uw(i){return i.op==="and"}function cw(i){return wN(i)&&uw(i)}function wN(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function jm(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(cw(i))return i.filters.map(e=>jm(e)).join(",");{const e=i.filters.map(t=>jm(t)).join(",");return`${i.op}(${e})`}}function hw(i,e){return i instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Wn?function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&hw(f,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function fw(i){return i instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(i):i instanceof Wn?function(t){return t.op.toString()+" {"+t.getFilters().map(fw).join(" ,")+"}"}(i):"Filter"}class AN extends vt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class SN extends vt{constructor(e,t){super(e,"in",t),this.keys=dw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bN extends vt{constructor(e,t){super(e,"not-in",t),this.keys=dw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class RN extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rp(t)&&su(t.arrayValue,this.value)}}class IN extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class CN extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class DN extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function bE(i,e=null,t=[],s=[],o=null,u=null,f=null){return new NN(i,e,t,s,o,u,f)}function Ip(i){const e=Se(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>jm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Pe=t}return e.Pe}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!TN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!hw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!SE(i.startAt,e.startAt)&&SE(i.endAt,e.endAt)}function zm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ON(i,e,t,s,o,u,f,m){return new yu(i,e,t,s,o,u,f,m)}function Dp(i){return new yu(i)}function RE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mw(i){return i.collectionGroup!==null}function Ql(i){const e=Se(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new bh(u,s))}),t.has(Ft.keyField().canonicalString())||e.Te.push(new bh(Ft.keyField(),s))}return e.Te}function yi(i){const e=Se(i);return e.Ie||(e.Ie=xN(e,Ql(i))),e.Ie}function xN(i,e){if(i.limitType==="F")return bE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bh(o.field,u)});const t=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return bE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Bm(i,e){const t=i.filters.concat([e]);return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function qm(i,e,t){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function $h(i,e){return Cp(yi(i),yi(e))&&i.limitType===e.limitType}function pw(i){return`${Ip(yi(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>fw(o)).join(", ")}]`),Hh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function Kh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=AE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=AE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function VN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gw(i){return(e,t)=>{let s=!1;for(const o of Ql(i)){const u=kN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kN(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new rt(pe.comparator);function cr(){return MN}const yw=new rt(pe.comparator);function ql(...i){let e=yw;for(const t of i)e=e.insert(t.key,t);return e}function _w(i){let e=yw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Zs(){return Xl()}function vw(){return Xl()}function Xl(){return new ca(i=>i.toString(),(i,e)=>i.isEqual(e))}const PN=new rt(pe.comparator),LN=new Dt(pe.comparator);function Ve(...i){let e=LN;for(const t of i)e=e.add(t);return e}const UN=new Dt(De);function jN(){return UN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Ew(i){return{integerValue:""+i}}function zN(i,e){return dN(e)?Ew(e):Np(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function BN(i,e,t){return i instanceof Rh?function(o,u){const f={fields:{[nw]:{stringValue:tw},[rw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=Gh(u)),u&&(f.fields[iw]=u),{mapValue:f}}(t,e):i instanceof au?ww(i,e):i instanceof ou?Aw(i,e):function(o,u){const f=Tw(o,u),m=IE(f)+IE(o.Ee);return Um(f)&&Um(o.Ee)?Ew(m):Np(o.serializer,m)}(i,e)}function qN(i,e,t){return i instanceof au?ww(i,e):i instanceof ou?Aw(i,e):t}function Tw(i,e){return i instanceof Ih?function(s){return Um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Rh extends Yh{}class au extends Yh{constructor(e){super(),this.elements=e}}function ww(i,e){const t=Sw(e);for(const s of i.elements)t.some(o=>Si(o,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends Yh{constructor(e){super(),this.elements=e}}function Aw(i,e){let t=Sw(e);for(const s of i.elements)t=t.filter(o=>!Si(o,s));return{arrayValue:{values:t}}}class Ih extends Yh{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function IE(i){return ft(i.integerValue||i.doubleValue)}function Sw(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function FN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?go(s.elements,o.elements,Si):s instanceof Ih&&o instanceof Ih?Si(s.Ee,o.Ee):s instanceof Rh&&o instanceof Rh}(i.transform,e.transform)}class HN{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Qh{}function bw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Iw(i.key,_i.none()):new _u(i.key,i.data,_i.none());{const t=i.data,s=Ln.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ha(i.key,s,new Yn(o.toArray()),_i.none())}}function GN(i,e,t){i instanceof _u?function(o,u,f){const m=o.value.clone(),p=DE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ha?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=DE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Rw(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Wl(i,e,t,s){return i instanceof _u?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=u.value.clone(),E=NE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ha?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=NE(u.fieldTransforms,p,f),E=f.data;return E.setAll(Rw(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function $N(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Tw(s.transform,o||null);u!=null&&(t===null&&(t=Ln.empty()),t.set(s.field,u))}return t||null}function CE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,f)=>FN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends Qh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ha extends Qh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function DE(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,qN(f,m,t[o]))}return s}function NE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,BN(u,f,e))}return s}class Iw extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&GN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=vw();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=bw(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>CE(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>CE(t,s))}}class Op{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return PN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function WN(i){switch(i){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Cw(i){if(i===void 0)return ur("GRPC error has no .code"),Z.UNKNOWN;switch(i){case _t.OK:return Z.OK;case _t.CANCELLED:return Z.CANCELLED;case _t.UNKNOWN:return Z.UNKNOWN;case _t.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _t.INTERNAL:return Z.INTERNAL;case _t.UNAVAILABLE:return Z.UNAVAILABLE;case _t.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _t.NOT_FOUND:return Z.NOT_FOUND;case _t.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _t.ABORTED:return Z.ABORTED;case _t.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _t.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new ts([4294967295,4294967295],0);function OE(i){const e=Q0().encode(i),t=new B0;return t.update(e),new Uint8Array(t.digest())}function xE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([t,s],0),new ts([o,u],0)]}class xp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fl(`Invalid padding: ${t}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ts.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(ts.fromNumber(s)));return o.compare(ZN)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=OE(e),[s,o]=xE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const t=OE(e),[s,o]=xE(t);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xh(we.min(),o,new rt(De),cr(),Ve())}}class vu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Dw{constructor(e,t){this.targetId=e,this.De=t}}class Nw{constructor(e,t,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class VE{constructor(){this.ve=0,this.Ce=kE(),this.Fe=Ht.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),s=Ve();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new vu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=kE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class JN{constructor(e){this.We=e,this.Ge=new Map,this.ze=cr(),this.je=Xc(),this.Je=Xc(),this.He=new rt(De)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(zm(u))if(s===0){const f=new pe(u.path);this.Xe(t,f,Xt.newNoDocument(f,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this.ot(t);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof ew)return rs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xp(f,o,u)}catch(p){return rs(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&zm(m.target)){const p=new pe(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Xt.newNoDocument(p,e))}u.Ne&&(t.set(f,u.Le()),u.ke())}});let s=Ve();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Xh(e,t,this.He,this.ze,s);return this.ze=cr(),this.je=Xc(),this.Je=Xc(),this.He=new rt(De),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new VE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Dt(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Dt(De),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new VE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new rt(pe.comparator)}function kE(){return new rt(pe.comparator)}const eO={asc:"ASCENDING",desc:"DESCENDING"},tO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nO={and:"AND",or:"OR"};class iO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fm(i,e){return i.useProto3Json||Hh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ow(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rO(i,e){return Ch(i,e.toTimestamp())}function vi(i){return Ge(!!i,49232),we.fromTimestamp(function(t){const s=os(t);return new Je(s.seconds,s.nanos)}(i))}function Vp(i,e){return Hm(i,e).canonicalString()}function Hm(i,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function xw(i){const e=Ze.fromString(i);return Ge(Lw(e),10190,{key:e.toString()}),e}function Gm(i,e){return Vp(i.databaseId,e.path)}function vm(i,e){const t=xw(e);if(t.get(1)!==i.databaseId.projectId)throw new se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(kw(t))}function Vw(i,e){return Vp(i.databaseId,e)}function sO(i){const e=xw(i);return e.length===4?Ze.emptyPath():kw(e)}function $m(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kw(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ME(i,e,t){return{name:Gm(i,e),fields:t.value.mapValue.fields}}function aO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Ht.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ht.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?Z.UNKNOWN:Cw(g.code);return new se(E,g.message||"")}(f);t=new Nw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(i,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):we.min(),m=new Ln({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new lh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(i,s.document),u=s.readTime?vi(s.readTime):we.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(i,s.document),u=s.removedTargetIds||[];t=new lh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new XN(o,u),m=s.targetId;t=new Dw(m,f)}}return t}function oO(i,e){let t;if(e instanceof _u)t={update:ME(i,e.key,e.value)};else if(e instanceof Iw)t={delete:Gm(i,e.key)};else if(e instanceof ha)t={update:ME(i,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof KN))return Ee(16599,{Rt:e.type});t={verify:Gm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:rO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),t}function lO(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(we.min())&&(f=vi(u)),new HN(f,o.transformResults||[])}(t,e))):[]}function uO(i,e){return{documents:[Vw(i,e.path)]}}function cO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Vw(i,o);const u=function(g){if(g.length!==0)return Pw(Wn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:oo(S.field),direction:dO(S.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Fm(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function hO(i){let e=sO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const S=Mw(A);return S instanceof Wn&&cw(S)?S.getFilters():[S]}(t.where));let f=[];t.orderBy&&(f=function(A){return A.map(S=>function(j){return new bh(lo(j.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Hh(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(A){const S=!!A.before,O=A.values||[];return new Sh(O,S)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const S=!A.before,O=A.values||[];return new Sh(O,S)}(t.endAt)),ON(e,o,f,u,m,"F",p,g)}function fO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=lo(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(t.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(t.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(t.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(t){return vt.create(lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Wn.create(t.compositeFilter.filters.map(s=>Mw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(i):Ee(30097,{filter:i})}function dO(i){return eO[i]}function mO(i){return tO[i]}function pO(i){return nO[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Ft.fromServerFormat(i.fieldPath)}function Pw(i){return i instanceof vt?function(t){if(t.op==="=="){if(wE(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NAN"}};if(TE(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wE(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NAN"}};if(TE(t.value))return{unaryFilter:{field:oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(t.field),op:mO(t.op),value:t.value}}}(i):i instanceof Wn?function(t){const s=t.getFilters().map(o=>Pw(o));return s.length===1?s[0]:{compositeFilter:{op:pO(t.op),filters:s}}}(i):Ee(54877,{filter:i})}function gO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Lw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,s,o,u=we.min(),f=we.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.gt=e}}function _O(i){const e=hO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Dn=new EO}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(as.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class EO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(Ze.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uw=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Uw,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new vo(0)}static ur(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",TO=1048576;function UE([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class wO{constructor(e){this.Tr=e,this.buffer=new Dt(UE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();UE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(LE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Co(t)?ae(LE,"Ignoring IndexedDB error during garbage collection: ",t):await Io(t)}await this.Rr(3e5)})}}class SO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Fh.ue);const s=new wO(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(PE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),so()<=xe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function bO(i,e){return new SO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.changes=new ca(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Wl(s.mutation,o,Yn.empty(),Je.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=cr();const f=Xl(),m=function(){return Xl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ha)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),Je.now())):f.set(g.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var A;return m.set(g,new IO(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Xl();let o=new rt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Yn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=vw();E.forEach(S=>{if(!u.has(S)){const O=bw(t.get(S),s.get(S));O!==null&&A.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(Zs());let m=nu,p=u;return f.next(g=>ee.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:_w(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,S){return new yu(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Yn.empty(),Je.now()),Kh(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:_O(o.bundledQuery),readTime:vi(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.overlays=new rt(pe.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Zs();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=Zs(),u=t.length+1,f=new pe(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new rt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QN(t,s));let u=this.kr.get(t);u===void 0&&(u=Ve(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.qr=new Dt(Lt.Qr),this.$r=new Dt(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Lt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new pe(new Ze([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new pe(new Ze([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=Ve();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return pe.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Dt(Lt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YN(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Sp:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(De);return t.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),ee.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new pe(u),0);let m=new Dt(De);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),ee.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ee.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Yr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.ni=e,this.docs=function(){return new rt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let s=cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=cr();const f=t.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||uN(lN(E),s)<=0||(o.has(E.key)||Kh(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ri(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new kO(this)}getSize(e){return ee.resolve(this.size)}}class kO extends RO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.persistence=e,this.ii=new ca(t=>Ip(t),Cp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new kp,this.targetCount=0,this._i=vo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new Fh(0),this.ci=!1,this.ci=!0,this.li=new OO,this.referenceDelegate=e(this),this.hi=new MO(this),this.indexManager=new vO,this.remoteDocumentCache=function(o){return new VO(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new yO(t),this.Ti=new DO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new xO(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new PO(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ee.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class PO extends hN{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ai=new kp,this.Ri=null}static Vi(e){return new Mp(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,s=>{const o=pe.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Dh{constructor(e,t){this.persistence=e,this.gi=new ca(s=>mN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bO(this,t)}static Vi(e,t){return new Dh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}Sr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return QR()?8:fN(Wt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new LO;return this.ws(e,t,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,f,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(so()<=xe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(so()<=xe.DEBUG&&ae("QueryEngine","Query:",ao(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(so()<=xe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(t))):ee.resolve())}ps(e,t){if(RE(t))return ee.resolve(null);let s=yi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=qm(t,null,"F"),s=yi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,m);return this.Ds(t,g,f,p.readTime)?this.ps(e,qm(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return RE(t)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(t,u);return this.Ds(t,f,s,o)?ee.resolve(null):(so()<=xe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(t)),this.vs(e,f,t,oN(o,nu)).next(m=>m))})}bs(e,t){let s=new Dt(gw(e));return t.forEach((o,u)=>{Kh(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return so()<=xe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",ao(t)),this.gs.getDocumentsMatchingQuery(e,t,as.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",jO=3e8;class zO{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new rt(De),this.Ms=new ca(u=>Ip(u),Cp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function BO(i,e,t,s){return new zO(i,e,t,s)}async function zw(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function qO(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let O=ee.resolve();return S.forEach(j=>{O=O.next(()=>E.getEntry(p,j)).next($=>{const L=g.docVersions.get(j);Ge(L!==null,48541),$.version.compareTo(L)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Bw(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function FO(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(t.hi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,E.addedDocuments,A)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(A,O),function($,L,K){return $.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=jO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,O,E)&&m.push(t.hi.updateTargetData(u,O))});let p=cr(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(HO(u,f,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function HO(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=cr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ae(Lp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function GO(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Sp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $O(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.hi.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Km(i,e,t){const s=Se(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Co(f))throw f;ae(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function jE(i,e,t){const s=Se(i);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Se(p),S=A.Ms.get(E);return S!==void 0?ee.resolve(A.Fs.get(S)):A.hi.getTargetData(g,E)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,t?o:we.min(),t?u:Ve())).next(m=>(KO(s,VN(e),m),{documents:m,qs:u})))}function KO(i,e,t){let s=i.xs.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class zE{constructor(){this.activeTargetIds=jN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YO{constructor(){this.Fo=new zE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new zE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="ConnectivityMonitor";class qE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae(BE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae(BE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Ym(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WO{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const f=Ym(),m=this.Go(e,t.toUriEncodedString());ae(Em,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Ao(g);return this.jo(e,m,p,s,E).then(A=>(ae(Em,`Received RPC '${e}' ${f}: `,A),A),A=>{throw rs(Em,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,t,s,o,u,f){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=XO[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class JO extends WO{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const f=Ym();return new Promise((m,p)=>{const g=new q0;g.setWithCredentials(!0),g.listenOnce(F0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rh.NO_ERROR:const A=g.getResponseJson();ae(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case rh.TIMEOUT:ae(Yt,`RPC '${e}' ${f} timed out`),p(new se(Z.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const S=g.getStatus();if(ae(Yt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const $=function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN}(j.status);p(new se($,j.message))}else p(new se(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ae(Yt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ae(Yt,`RPC '${e}' ${f} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=Ym(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$0(),m=G0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ae(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.T_(A);let S=!1,O=!1;const j=new ZO({Ho:L=>{O?ae(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ae(Yt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ae(Yt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Yo:()=>A.close()}),$=(L,K,X)=>{L.listen(K,W=>{try{X(W)}catch(he){setTimeout(()=>{throw he},0)}})};return $(A,Bl.EventType.OPEN,()=>{O||(ae(Yt,`RPC '${e}' stream ${o} transport opened.`),j.s_())}),$(A,Bl.EventType.CLOSE,()=>{O||(O=!0,ae(Yt,`RPC '${e}' stream ${o} transport closed`),j.__(),this.I_(A))}),$(A,Bl.EventType.ERROR,L=>{O||(O=!0,rs(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),j.__(new se(Z.UNAVAILABLE,"The operation could not be completed")))}),$(A,Bl.EventType.MESSAGE,L=>{var K;if(!O){const X=L.data[0];Ge(!!X,16349);const W=X,he=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(he){ae(Yt,`RPC '${e}' stream ${o} received error:`,he);const ue=he.status;let _e=function(b){const D=_t[b];if(D!==void 0)return Cw(D)}(ue),V=he.message;_e===void 0&&(_e=Z.INTERNAL,V="Unknown error status: "+ue+" with message "+he.message),O=!0,j.__(new se(_e,V)),A.close()}else ae(Yt,`RPC '${e}' stream ${o} received:`,X),j.a_(X)}}),$(m,H0.STAT_EVENT,L=>{L.stat===Mm.PROXY?ae(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Mm.NOPROXY&&ae(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.o_()},0),j}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(i){return new iO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="PersistentStream";class Fw{constructor(e,t,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new qw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new se(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(FE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ae(FE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ex extends Fw{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=aO(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?vi(f.readTime):we.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=$m(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=zm(p)?{documents:uO(u,p)}:{query:cO(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ow(u,f.resumeToken);const g=Fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const g=Fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=fO(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=$m(this.serializer),t.removeTarget=e,this.k_(t)}}class tx extends Fw{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=lO(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=$m(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>oO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class ix extends nx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new se(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,Hm(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(Z.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,Hm(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Z.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class rx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ur(t),this._a=!1):ae("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class sx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{fa(this)&&(ae(sa,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.Ia.add(4),await Eu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Zh(g)}(this))})}),this.Aa=new rx(s,o)}}async function Zh(i){if(fa(i))for(const e of i.da)await e(!0)}async function Eu(i){for(const e of i.da)await e(!1)}function Hw(i,e){const t=Se(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Bp(t)?zp(t):Do(t).x_()&&jp(t,e))}function Up(i,e){const t=Se(i),s=Do(t);t.Ta.delete(e),s.x_()&&Gw(t,e),t.Ta.size===0&&(s.x_()?s.B_():fa(t)&&t.Aa.set("Unknown"))}function jp(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(i).H_(e)}function Gw(i,e){i.Ra.$e(e),Do(i).Y_(e)}function zp(i){i.Ra=new JN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Aa.aa()}function Bp(i){return fa(i)&&!Do(i).M_()&&i.Ta.size>0}function fa(i){return Se(i).Ia.size===0}function $w(i){i.Ra=void 0}async function ax(i){i.Aa.set("Online")}async function ox(i){i.Ta.forEach((e,t)=>{jp(i,e)})}async function lx(i,e){$w(i),Bp(i)?(i.Aa.la(e),zp(i)):i.Aa.set("Unknown")}async function ux(i,e,t){if(i.Aa.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){ae(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(i,s)}else if(e instanceof lh?i.Ra.Ye(e):e instanceof Dw?i.Ra.it(e):i.Ra.et(e),!t.isEqual(we.min()))try{const s=await Bw(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),Gw(u,p);const A=new Zr(E.target,p,g,E.sequenceNumber);jp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ae(sa,"Failed to raise snapshot:",s),await Nh(i,s)}}async function Nh(i,e,t){if(!Co(e))throw e;i.Ia.add(1),await Eu(i),i.Aa.set("Offline"),t||(t=()=>Bw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae(sa,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await Zh(i)})}function Kw(i,e){return e().catch(t=>Nh(i,t,e))}async function Jh(i){const e=Se(i),t=cs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Sp;for(;cx(e);)try{const o=await GO(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,hx(e,o)}catch(o){await Nh(e,o)}Yw(e)&&Qw(e)}function cx(i){return fa(i)&&i.Pa.length<10}function hx(i,e){i.Pa.push(e);const t=cs(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function Yw(i){return fa(i)&&!cs(i).M_()&&i.Pa.length>0}function Qw(i){cs(i).start()}async function fx(i){cs(i).na()}async function dx(i){const e=cs(i);for(const t of i.Pa)e.X_(t.mutations)}async function mx(i,e,t){const s=i.Pa.shift(),o=Op.from(s,e,t);await Kw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jh(i)}async function px(i,e){e&&cs(i).Z_&&await async function(s,o){if(function(f){return WN(f)&&f!==Z.ABORTED}(o.code)){const u=s.Pa.shift();cs(s).N_(),await Kw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(s)}}(i,e),Yw(i)&&Qw(i)}async function HE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ae(sa,"RemoteStore received new credentials");const s=fa(t);t.Ia.add(3),await Eu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Zh(t)}async function gx(i,e){const t=Se(i);e?(t.Ia.delete(2),await Zh(t)):e||(t.Ia.add(2),await Eu(t),t.Aa.set("Unknown"))}function Do(i){return i.Va||(i.Va=function(t,s,o){const u=Se(t);return u.ia(),new ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:ax.bind(null,i),e_:ox.bind(null,i),n_:lx.bind(null,i),J_:ux.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Bp(i)?zp(i):i.Aa.set("Unknown")):(await i.Va.stop(),$w(i))})),i.Va}function cs(i){return i.ma||(i.ma=function(t,s,o){const u=Se(t);return u.ia(),new tx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:fx.bind(null,i),n_:px.bind(null,i),ea:dx.bind(null,i),ta:mx.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await Jh(i)):(await i.ma.stop(),i.Pa.length>0&&(ae(sa,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new qp(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(ur("AsyncQueue",`${e}: ${i}`),Co(i))return new se(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=ql(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.fa=new rt(pe.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new Eo(e,t,mo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class _x{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=$E(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new se(Z.ABORTED,"Firestore shutting down"))}}function $E(){return new ca(i=>pw(i),$h)}async function Xw(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new yx,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=Fp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Hp(t)}async function Ww(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function vx(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&Hp(t)}function Ex(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Hp(i){i.Da.forEach(e=>{e.next()})}var Qm,KE;(KE=Qm||(Qm={})).Fa="default",KE.Cache="cache";class Zw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class Tx{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=gw(e),this.eu=new mo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new GE,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),O=Kh(this.query,A)?A:null,j=!!S&&this.mutatedKeys.has(S.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;S&&O?S.data.isEqual(O.data)?j!==$&&(s.track({type:3,doc:O}),L=!0):this.iu(S,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.Xa(O,p)>0||g&&this.Xa(O,g)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),L=!0):S&&!O&&(s.track({type:1,doc:S}),L=!0,(p||g)&&(m=!0)),L&&(O?(f=f.add(O),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,A)=>function(O,j){const $=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:L})}};return $(O)-$(j)}(E.type,A.type)||this.Xa(E.doc,A.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new Eo(this.query,e.eu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new GE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new eA(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new Jw(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Eo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Gp="SyncEngine";class wx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Ax{constructor(e){this.key=e,this.lu=!1}}class Sx{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ca(m=>pw(m),$h),this.Tu=new Map,this.Iu=new Set,this.du=new rt(pe.comparator),this.Eu=new Map,this.Au=new kp,this.Ru={},this.Vu=new Map,this.mu=vo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function bx(i,e,t=!0){const s=aA(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await tA(s,e,t,!0),o}async function Rx(i,e){const t=aA(i);await tA(t,e,!0,!1)}async function tA(i,e,t,s){const o=await $O(i.localStore,yi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Ix(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&Hw(i.remoteStore,o),m}async function Ix(i,e,t,s,o){i.gu=(A,S,O)=>async function($,L,K,X){let W=L.view.nu(K);W.Ds&&(W=await jE($.localStore,L.query,!1).then(({documents:V})=>L.view.nu(V,W)));const he=X&&X.targetChanges.get(L.targetId),ue=X&&X.targetMismatches.get(L.targetId)!=null,_e=L.view.applyChanges(W,$.isPrimaryClient,he,ue);return QE($,L.targetId,_e._u),_e.snapshot}(i,A,S,O);const u=await jE(i.localStore,e,!0),f=new Tx(e,u.qs),m=f.nu(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);QE(i,t,g._u);const E=new wx(e,t,f);return i.Pu.set(e,E),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),g.snapshot}async function Cx(i,e,t){const s=Se(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!$h(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Up(s.remoteStore,o.targetId),Xm(s,o.targetId)}).catch(Io)):(Xm(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function Dx(i,e){const t=Se(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Up(t.remoteStore,s.targetId))}async function Nx(i,e,t){const s=Lx(i);try{const o=await function(f,m){const p=Se(f),g=Je.now(),E=m.reduce((O,j)=>O.add(j.key),Ve());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=cr(),$=Ve();return p.Os.getEntries(O,E).next(L=>{j=L,j.forEach((K,X)=>{X.isValidDocument()||($=$.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,j)).next(L=>{A=L;const K=[];for(const X of m){const W=$N(X,A.get(X.key).overlayedDocument);W!=null&&K.push(new ha(X.key,W,ow(W.value.mapValue),_i.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,K,m)}).next(L=>{S=L;const K=L.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(O,L.batchId,K)})}).then(()=>({batchId:S.batchId,changes:_w(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new rt(De)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,t),await Tu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");t.reject(u)}}async function nA(i,e){const t=Se(i);try{const s=await FO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Eu.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Ge(f.lu,14607):o.removedDocuments.size>0&&(Ge(f.lu,42227),f.lu=!1))}),await Tu(t,s,e)}catch(s){await Io(s)}}function YE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.wa)S.va(m)&&(g=!0)}),g&&Hp(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ox(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new rt(pe.comparator);f=f.insert(u,Xt.newNoDocument(u,we.min()));const m=Ve().add(u),p=new Xh(we.min(),new Map,new rt(De),f,m);await nA(s,p),s.du=s.du.remove(u),s.Eu.delete(e),$p(s)}else await Km(s.localStore,e,!1).then(()=>Xm(s,e,t)).catch(Io)}async function xx(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await qO(t.localStore,e);rA(t,s,null),iA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(t,o)}catch(o){await Io(o)}}async function Vx(i,e,t){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);rA(s,e,t),iA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Tu(s,o)}catch(o){await Io(o)}}function iA(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function rA(i,e,t){const s=Se(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Xm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||sA(i,s)})}function sA(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Up(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),$p(i))}function QE(i,e,t){for(const s of t)s instanceof Jw?(i.Au.addReference(s.key,e),kx(i,s)):s instanceof eA?(ae(Gp,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||sA(i,s.key)):Ee(19791,{yu:s})}function kx(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(ae(Gp,"New document in limbo: "+t),i.Iu.add(s),$p(i))}function $p(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new pe(Ze.fromString(e)),s=i.mu.next();i.Eu.set(s,new Ax(t)),i.du=i.du.insert(t,s),Hw(i.remoteStore,new Zr(yi(Dp(t.path)),s,"TargetPurposeLimboResolution",Fh.ue))}}async function Tu(i,e,t){const s=Se(i),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Pp.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,S=>ee.forEach(S.Is,O=>E.persistence.referenceDelegate.addReference(A,S.targetId,O)).next(()=>ee.forEach(S.ds,O=>E.persistence.referenceDelegate.removeReference(A,S.targetId,O)))))}catch(A){if(!Co(A))throw A;ae(Lp,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const O=E.Fs.get(S),j=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(j);E.Fs=E.Fs.insert(S,$)}}}(s.localStore,u))}async function Mx(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ae(Gp,"User change. New user:",e.toKey());const s=await zw(t.localStore,e);t.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new se(Z.CANCELLED,f))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(t,s.Bs)}}function Px(i,e){const t=Se(i),s=t.Eu.get(e);if(s&&s.lu)return Ve().add(s.key);{let o=Ve();const u=t.Tu.get(e);if(!u)return o;for(const f of u){const m=t.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function aA(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Px.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.hu.J_=vx.bind(null,e.eventManager),e.hu.pu=Ex.bind(null,e.eventManager),e}function Lx(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vx.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return BO(this.persistence,new UO,e.initialUser,this.serializer)}Du(e){return new jw(Mp.Vi,this.serializer)}bu(e){return new YO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class Ux extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ge(this.persistence.referenceDelegate instanceof Dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AO(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new jw(s=>Dh.Vi(s,t),this.serializer)}}class Wm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>YE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,this.syncEngine),await gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _x}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),s=function(u){return new JO(u)}(e.databaseInfo);return function(u,f,m,p){return new ix(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new sx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>YE(this.syncEngine,t,0),function(){return qE.C()?new qE:new QO}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const A=new Sx(o,u,f,m,p,g);return E&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ae(sa,"RemoteStore shutting down."),u.Ia.add(5),await Eu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Wm.provider={build:()=>new Wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class jx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ae(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ae(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Fp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wm(i,e){i.asyncQueue.verifyOperationInProgress(),ae(hs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await zw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{rs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{rs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function XE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await zx(i);ae(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>HE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>HE(e.remoteStore,o)),i._onlineComponents=e}async function zx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae(hs,"Using user provided OfflineComponentProvider");try{await wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;rs("Error using user provided cache. Falling back to memory cache: "+t),await wm(i,new Oh)}}else ae(hs,"Using default OfflineComponentProvider"),await wm(i,new Ux(void 0));return i._offlineComponents}async function lA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae(hs,"Using user provided OnlineComponentProvider"),await XE(i,i._uninitializedComponentsProvider._online)):(ae(hs,"Using default OnlineComponentProvider"),await XE(i,new Wm))),i._onlineComponents}function Bx(i){return lA(i).then(e=>e.syncEngine)}async function uA(i){const e=await lA(i),t=e.eventManager;return t.onListen=bx.bind(null,e.syncEngine),t.onUnlisten=Cx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Dx.bind(null,e.syncEngine),t}function qx(i,e,t={}){const s=new sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new oA({next:S=>{E.Ou(),f.enqueueAndForget(()=>Ww(u,A));const O=S.docs.has(m);!O&&S.fromCache?g.reject(new se(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?g.reject(new se(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Zw(Dp(m.path),E,{includeMetadataChanges:!0,ka:!0});return Xw(u,A)}(await uA(i),i.asyncQueue,e,t,s)),s.promise}function Fx(i,e,t={}){const s=new sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new oA({next:S=>{E.Ou(),f.enqueueAndForget(()=>Ww(u,A)),S.fromCache&&p.source==="server"?g.reject(new se(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new Zw(m,E,{includeMetadataChanges:!0,ka:!0});return Xw(u,A)}(await uA(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",ZE=!0;class JE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=ZE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TO)throw new se(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new se(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new W2;switch(s.type){case"firstParty":return new tN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=WE.get(t);s&&(ae("ComponentProvider","Removing Datastore"),WE.delete(t),s.terminate())}(this),Promise.resolve()}}function Hx(i,e,t,s={}){var o;i=ss(i,ef);const u=Ao(e),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(DT(`https://${p}`),NT("Firestore",!0)),f.host!==hA&&f.host!==p&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!is(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=Qt.MOCK_USER;else{E=BR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new se(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qt(S)}i._authCredentials=new Z2(new Y0(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Tt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(gu(t,Tt._jsonSchema))return new Tt(e,s||null,new pe(Ze.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Et("string",Tt._jsonSchemaVersion),referencePath:Et("string")};class ns extends No{constructor(e,t,s){super(e,t,Dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new pe(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function fA(i,e,...t){if(i=Zt(i),X0("collection","path",e),i instanceof ef){const s=Ze.fromString(e,...t);return fE(s),new ns(i,null,s)}{if(!(i instanceof Tt||i instanceof ns))throw new se(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...t));return fE(s),new ns(i.firestore,null,s)}}function da(i,e,...t){if(i=Zt(i),arguments.length===1&&(e=Ap.newId()),X0("doc","path",e),i instanceof ef){const s=Ze.fromString(e,...t);return hE(s),new Tt(i,null,new pe(s))}{if(!(i instanceof Tt||i instanceof ns))throw new se(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...t));return hE(s),new Tt(i.firestore,i instanceof ns?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="AsyncQueue";class tT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new qw(this,"async_queue_retry"),this.oc=()=>{const s=Tm();s&&ae(eT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new sr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Co(e))throw e;ae(eT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ur("INTERNAL UNHANDLED ERROR: ",nT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=qp.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:nT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function nT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class wu extends ef{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new tT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tT(e),this._firestoreClient=void 0,await e}}}function Gx(i,e){const t=typeof i=="object"?i:sp(),s=typeof i=="string"?i:wh,o=la(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jR("firestore");u&&Hx(o,...u)}return o}function Kp(i){if(i._terminated)throw new se(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$x(i),i._firestoreClient}function $x(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new yN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,cA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new jx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Ht.fromBase64String(e))}catch(t){throw new se(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Un(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Et("string",Un._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Et("string",Ei._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ti(e.vectorValues);throw new se(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Et("string",Ti._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=/^__.*__$/;class Yx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}function mA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:i})}}class Qp{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(mA(this.Ec)&&Kx.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Qx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Wh(e)}Dc(e,t,s,o=!1){return new Qp({Ec:e,methodName:t,bc:s,path:Ft.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(i){const e=i._freezeSettings(),t=Wh(i._databaseId);return new Qx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function pA(i,e,t,s,o,u={}){const f=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);_A("Data must be an object, but it was:",f,s);const m=gA(s,f);let p,g;if(u.merge)p=new Yn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Wx(e,A,t);if(!f.contains(S))throw new se(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Jx(E,S)||E.push(S)}p=new Yn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new Yx(new Ln(m),p,g)}function Xx(i,e,t,s=!1){return Wp(t,i.Dc(s?4:3,e))}function Wp(i,e){if(yA(i=Zt(i)))return _A("Unsupported field value:",e,i),gA(i,e);if(i instanceof dA)return function(s,o){if(!mA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Wp(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:Ow(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ti)return function(f,m){return{mapValue:{fields:{[sw]:{stringValue:aw},[Ah]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Np(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${qh(s)}`)}(i,e)}function gA(i,e){const t={};return J0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(i,(s,o)=>{const u=Wp(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function yA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Je||i instanceof Ei||i instanceof Un||i instanceof Tt||i instanceof dA||i instanceof Ti)}function _A(i,e,t){if(!yA(t)||!W0(t)){const s=qh(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Wx(i,e,t){if((e=Zt(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return vA(i,e);throw xh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Zx=new RegExp("[~\\*/\\[\\]]");function vA(i,e,t){if(e.search(Zx)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Yp(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xh(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new se(Z.INVALID_ARGUMENT,m+i+p)}function Jx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eV extends EA{data(){return super.data()}}function Zp(i,e){return typeof e=="string"?vA(i,e):e instanceof Yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class nV extends Jp{}function iV(i,e,...t){let s=[];e instanceof Jp&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof eg).length,m=u.filter(p=>p instanceof tf).length;if(f>1||f>0&&m>0)throw new se(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class tf extends nV{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new tf(e,t,s)}_apply(e){const t=this._parse(e);return TA(e._query,t),new No(e.firestore,e.converter,Bm(e._query,t))}_parse(e){const t=Xp(e.firestore);return function(u,f,m,p,g,E,A){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rT(A,E);const j=[];for(const $ of A)j.push(iT(p,u,$));S={arrayValue:{values:j}}}else S=iT(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rT(A,E),S=Xx(m,f,A,E==="in"||E==="not-in");return vt.create(g,E,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rV(i,e,t){const s=e,o=Zp("where",i);return tf._create(o,s,t)}class eg extends Jp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new eg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)TA(f,p),f=Bm(f,p)}(e._query,t),new No(e.firestore,e.converter,Bm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iT(i,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new se(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mw(e)&&t.indexOf("/")!==-1)throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ze.fromString(t));if(!pe.isDocumentKey(s))throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return EE(i,new pe(s))}if(t instanceof Tt)return EE(i,t._key);throw new se(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(t)}.`)}function rT(i,e){if(!Array.isArray(i)||i.length===0)throw new se(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(i,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new se(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sV{convertValue(e,t="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ua(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new Ti(u)}convertGeoPoint(e){return new Ei(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=os(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);Ge(Lw(s),9688,{name:e});const o=new ru(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Hl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends EA{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Zp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:Et("string",Js._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class uh extends Js{data(e={}){return super.data(e)}}class po{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new uh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:aV(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i){i=ss(i,Tt);const e=ss(i.firestore,wu);return qx(Kp(e),i._key).then(t=>uV(e,i,t))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Et("string",po._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class AA extends sV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function oV(i){i=ss(i,No);const e=ss(i.firestore,wu),t=Kp(e),s=new AA(e);return tV(i._query),Fx(t,i._query).then(o=>new po(e,s,i,o))}function ng(i,e,t){i=ss(i,Tt);const s=ss(i.firestore,wu),o=wA(i.converter,e,t);return SA(s,[pA(Xp(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,_i.none())])}function lV(i,e){const t=ss(i.firestore,wu),s=da(i),o=wA(i.converter,e);return SA(t,[pA(Xp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then(()=>s)}function SA(i,e){return function(s,o){const u=new sr;return s.asyncQueue.enqueueAndForget(async()=>Nx(await Bx(s),o,u)),u.promise}(Kp(i),e)}function uV(i,e,t){const s=t.docs.get(e._key),o=new AA(i);return new Js(i,o,e._key,s,new Hl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ro=o})(So),Ai(new Xn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new wu(new J2(s.getProvider("auth-internal")),new nN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jn(aE,oE,e),jn(aE,oE,"esm2017")})();const cV={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},ig=LT(cV);K2(ig);const Au=CD(ig),hV=new er,gs=Gx(ig),fV=async()=>{const i=await LC(Au,hV);dV(i);const e=da(gs,"users",i.user.uid);return ng(e,{name:i.user.displayName,email:i.user.email,uid:i.user.uid},{merge:!0}),i};function dV(i){const e={name:i.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function mV(){const i=fs();return{handleGoogleSignIn:async()=>{try{await fV(),i("/ListOfUsersPrograms")}catch(t){console.error("Sign in failed:",t)}}}}function pV(i,e){return mC(Au,i,e)}const gV=({className:i})=>{const[e,t]=H.useState(""),[s,o]=H.useState(""),u=fs(),f=async m=>{m.preventDefault();try{await pV(e,s),u("/ListOfUsersPrograms")}catch(p){console.error("Login failed:",p),alert("Login failed: "+p.message)}};return N.jsxs("form",{onSubmit:f,className:i,children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"email",children:"Email:"}),N.jsx("input",{type:"email",id:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"password",children:"Password:"}),N.jsx("input",{type:"password",id:"password",required:!0,value:s,onChange:m=>o(m.target.value)})]}),N.jsx("button",{type:"submit",children:"Login"})]})},yV=(i,e)=>dC(Au,i,e).then(t=>{const s=t.user,o=da(gs,"users",s.uid);ng(o,{name:s.displayName,email:s.email,uid:s.uid},{merge:!0})}).catch(t=>{t.code,t.message}),_V=({className:i})=>{const[e,t]=H.useState(""),[s,o]=H.useState(""),u=fs(),f=async m=>{m.preventDefault();try{await yV(e,s),u("/ListOfUsersPrograms")}catch(p){console.error("Sign up failed:",p),alert("Sign up failed: "+p.message)}};return N.jsxs("form",{className:i,onSubmit:f,children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"email",children:"Email:"}),N.jsx("input",{type:"email",id:"email",value:e,onChange:m=>t(m.target.value),required:!0})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{htmlFor:"password",children:"Password:"}),N.jsx("input",{type:"password",id:"password",value:s,onChange:m=>o(m.target.value),required:!0})]}),N.jsx("button",{type:"submit",children:"Sign Up"})]})},vV=()=>{const{handleGoogleSignIn:i}=mV(),[e,t]=H.useState(!0);return N.jsx("div",{className:"auth-container",children:N.jsxs("div",{className:"auth-card",children:[N.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),N.jsxs("div",{className:"auth-form-wrapper",children:[N.jsx(gV,{className:`auth-form${e?" active":""}`}),N.jsx(_V,{className:`auth-form${e?"":" active"}`})]}),N.jsx("button",{className:"auth-btn auth-btn-google",onClick:i,children:"Sign in with Google"}),N.jsx("div",{className:"auth-switch",children:e?N.jsxs(N.Fragment,{children:["Don't have an account?",N.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!1)},children:"Sign Up"})]}):N.jsxs(N.Fragment,{children:["Already have an account?",N.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!0)},children:"Login"})]})})]})})},EV=async i=>(await lV(fA(gs,"programs"),i)).id,TV=({program:i,setProgram:e})=>N.jsxs("div",{className:"step-content",children:[N.jsx("h2",{children:"Program Details"}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Program Name"}),N.jsx("input",{type:"text",value:i.name,onChange:t=>e(s=>({...s,name:t.target.value})),placeholder:"Enter program name"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Description"}),N.jsx("textarea",{value:i.description,onChange:t=>e(s=>({...s,description:t.target.value})),placeholder:"Describe your program",rows:"3"})]}),N.jsxs("div",{className:"form-row",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Duration (weeks)"}),N.jsx("input",{type:"number",value:i.duration,onChange:t=>e(s=>({...s,duration:t.target.value})),placeholder:"e.g., 12"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Difficulty"}),N.jsxs("select",{value:i.difficulty,onChange:t=>e(s=>({...s,difficulty:t.target.value})),children:[N.jsx("option",{value:"beginner",children:"Beginner"}),N.jsx("option",{value:"intermediate",children:"Intermediate"}),N.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),wV=({exercise:i,setExercise:e,onAddExercise:t})=>N.jsxs("div",{className:"exercise-section",children:[N.jsx("h3",{children:"Add Exercise"}),N.jsxs("div",{className:"form-row",children:[N.jsx("input",{type:"text",value:i.name,onChange:s=>e(o=>({...o,name:s.target.value})),placeholder:"Exercise name"}),N.jsx("input",{type:"number",value:i.sets,onChange:s=>e(o=>({...o,sets:s.target.value})),placeholder:"Sets"}),N.jsx("input",{type:"text",value:i.reps,onChange:s=>e(o=>({...o,reps:s.target.value})),placeholder:"Reps"}),N.jsx("button",{type:"button",onClick:t,className:"btn-add",children:"Add"})]})]}),AV=({exercises:i,onRemoveExercise:e})=>i.length===0?null:N.jsxs("div",{className:"exercise-list",children:[N.jsx("h4",{children:"Exercises in this workout:"}),i.map(t=>N.jsxs("div",{className:"exercise-item",children:[N.jsxs("span",{children:[t.name," - ",t.sets.length," sets x"," ",t.sets[0].reps," reps"," ",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]}),N.jsx("button",{onClick:()=>e(t.id),className:"btn-remove",children:"Remove"})]},t.id))]}),SV=({workout:i,onRemoveWorkout:e})=>N.jsxs("div",{className:"workout-preview",children:[N.jsxs("div",{className:"workout-header",children:[N.jsx("h5",{children:i.name}),N.jsx("button",{onClick:()=>e(i.id),className:"btn-remove",children:"Remove"})]}),N.jsx("div",{className:"exercises-preview",children:i.exercises.map(t=>N.jsxs("div",{className:"exercise-preview",children:[N.jsx("span",{className:"exercise-name",children:t.name})," ",N.jsxs("span",{className:"exercise-details",children:[t.sets.length," sets  ",t.sets[0].reps," reps",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]})]},t.id))})]}),bV=({program:i,onRemoveWorkout:e})=>N.jsxs("div",{className:"step-content",children:[N.jsx("h2",{children:"Program Preview"}),N.jsxs("div",{className:"program-preview",children:[N.jsxs("div",{className:"preview-header",children:[N.jsx("h3",{children:i.name||"Untitled Program"}),N.jsxs("div",{className:"program-meta",children:[N.jsxs("span",{className:"duration",children:[i.duration," weeks"]}),N.jsx("span",{className:"difficulty",children:i.difficulty})]}),N.jsx("p",{className:"description",children:i.description})]}),N.jsxs("div",{className:"workouts-preview",children:[N.jsxs("h4",{children:["Workouts (",i.workouts.length,")"]}),i.workouts.map(t=>N.jsx(SV,{workout:t,onRemoveWorkout:e},t.id))]}),i.workouts.length===0&&N.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),RV=({currentWorkout:i,setCurrentWorkout:e,currentExercise:t,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:u,onAddWorkout:f,program:m})=>N.jsxs("div",{className:"step-content",children:[N.jsx("h2",{children:"Add Workouts"}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Workout Name"}),N.jsx("input",{type:"text",value:i.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),N.jsx(wV,{exercise:t,setExercise:s,onAddExercise:o}),N.jsx(AV,{exercises:i.exercises,onRemoveExercise:u}),i.exercises.length>0&&N.jsx("div",{style:{marginTop:"1rem"},children:N.jsx("button",{onClick:f,className:"btn-primary",children:"Add Workout to Program"})}),N.jsxs("div",{className:"workout-preview",children:[N.jsx("h3",{children:"Workouts in Program"}),m.workouts.length>0?m.workouts.map(p=>N.jsxs("div",{className:"workout-card",children:[N.jsx("h4",{children:p.name}),N.jsx("ul",{children:p.exercises.map(g=>N.jsxs("li",{children:[N.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):N.jsx("p",{children:"No workouts added yet."})]})]}),IV=({currentStep:i,steps:e})=>N.jsx("div",{className:"step-indicator",children:e.map((t,s)=>N.jsx("div",{className:`step ${i>=s+1?"active":""}`,children:t},s))});function CV(i,e){const t=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=t;o++)for(const u of i)s.push({...u,week:o,id:`${u.id||""}-week${o}`});return s}const DV=()=>{const i=fs(),[e,t]=H.useState(1),[s,o]=H.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[u,f]=H.useState({name:"",exercises:[]}),[m,p]=H.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=()=>{if(m.name&&m.sets&&m.reps){const L=parseInt(m.sets)||1,K=Array.from({length:L},()=>({reps:m.reps,weight:m.weight||null,complete:!1})),X={name:m.name,sets:K,id:Date.now()};f(W=>({...W,exercises:[...W.exercises,X]})),console.log(X),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},E=()=>{u.name&&u.exercises.length>0&&(o(L=>({...L,workouts:[...L.workouts,{...u,id:Date.now()}]})),f({name:"",exercises:[]}))},A=L=>{f(K=>({...K,exercises:K.exercises.filter(X=>X.id!==L)}))},S=L=>{o(K=>({...K,workouts:K.workouts.filter(X=>X.id!==L)}))},O=async()=>{const L=Au.currentUser;if(!L){alert("You must be logged in to save a program.");return}try{const K={...s,workouts:CV(s.workouts,s.duration),createdBy:L.uid,createdAt:new Date},X=await EV(K);alert("Program saved successfully! ID: "+X),i("/ExecuteProgram")}catch(K){console.error("Error saving program:",K),alert("Failed to save program: "+K.message)}},j=()=>{switch(e){case 1:return N.jsx(TV,{program:s,setProgram:o});case 2:return N.jsx(RV,{currentWorkout:u,setCurrentWorkout:f,currentExercise:m,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:A,onAddWorkout:E,program:s});case 3:return N.jsx(bV,{program:s,onRemoveWorkout:S});default:return null}},$=["1. Details","2. Workouts","3. Preview"];return N.jsxs("div",{className:"create-program-container",children:[N.jsxs("div",{className:"create-program-header",children:[N.jsx("h1",{children:"Create New Program"}),N.jsx(IV,{currentStep:e,steps:$})]}),N.jsx("div",{className:"create-program-content",children:j()}),N.jsxs("div",{className:"create-program-actions",children:[e>1&&N.jsx("button",{onClick:()=>t(e-1),className:"btn-secondary",children:"Previous"}),e<3?N.jsx("button",{onClick:()=>t(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):N.jsx("button",{onClick:O,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),N.jsx("button",{onClick:()=>i("/ListOfUsersPrograms"),className:"btn-cancel",children:"Cancel"})]})]})},NV=()=>{const i=fs(),{programId:e}=mT(),[t,s]=H.useState(null),[o,u]=H.useState(1),[f,m]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const O=da(gs,"programs",e),j=await tg(O);if(j.exists()){const $=j.data();s($),u(1)}else s(null);m(!1)}catch(O){console.error("Failed to fetch program:",O),m(!1)}})()},[e]);const p=t?t.workouts.filter(S=>S.week===o):[],g=S=>{u(S)},E=()=>{i("/ListOfUsersPrograms")},A=()=>{i("/CreateProgram")};return f?N.jsx("div",{className:"execute-program-container",children:N.jsx("div",{className:"loading",children:"Loading your program..."})}):t?N.jsxs("div",{className:"execute-program-container",children:[N.jsxs("div",{className:"execute-program-header",children:[N.jsxs("div",{className:"header-actions",children:[N.jsx("button",{onClick:E,className:"btn-back",children:" Back to Home"}),N.jsx("button",{onClick:A,className:"btn-secondary",children:"Create New Program"})]}),N.jsx("h1",{children:t.name}),N.jsxs("div",{className:"program-info",children:[N.jsxs("span",{children:["Week ",o," of ",t.duration]}),N.jsx("span",{children:t.difficulty})]})]}),N.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(t.duration,10)},(S,O)=>O+1).map(S=>N.jsxs("button",{className:`week-btn ${o===S?"active":""}`,onClick:()=>g(S),children:["Week ",S]},S))}),N.jsxs("div",{className:"week-content",children:[N.jsxs("h2",{children:["Week ",o," Workouts"]}),p.length===0?N.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):N.jsx("div",{className:"workouts-grid",children:p.map(S=>N.jsxs("div",{className:"workout-card",children:[N.jsx("div",{className:"workout-card-header",children:N.jsx("h3",{children:S.name})}),N.jsx("div",{className:"workout-exercises",children:S.exercises.map(O=>N.jsxs("div",{className:"exercise-summary",children:[N.jsx("span",{className:"exercise-name",children:O.name}),N.jsxs("span",{className:"exercise-target",children:[O.sets.length,"  ",O.sets[0].reps]})]},O.id))}),N.jsx("div",{className:"workout-actions",children:N.jsx("button",{onClick:()=>i(`/CurrentSession/${e}/${S.id}`),className:"btn-primary",children:"Start Workout"})})]},S.id))})]})]}):N.jsx("div",{className:"execute-program-container",children:N.jsx("div",{className:"error",children:"Failed to load program"})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function OV(i,e,t,s){function o(u){return u instanceof t?u:new t(function(f){f(u)})}return new(t||(t=Promise))(function(u,f){function m(E){try{g(s.next(E))}catch(A){f(A)}}function p(E){try{g(s.throw(E))}catch(A){f(A)}}function g(E){E.done?u(E.value):o(E.value).then(m,p)}g((s=s.apply(i,[])).next())})}function xV(i,e){var t={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,f;return f={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function m(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(u=t.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){t.label=g[1];break}if(g[0]===6&&t.label<u[1]){t.label=u[1],u=g;break}if(u&&t.label<u[2]){t.label=u[2],t.ops.push(g);break}u[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(E){g=[6,E],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uo=function(){return uo=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},uo.apply(this,arguments)},bA=function(i){return{loading:i==null,value:i}},VV=function(){return function(i,e){switch(e.type){case"error":return uo(uo({},i),{error:e.error,loading:!1,value:void 0});case"reset":return bA(e.defaultValue);case"value":return uo(uo({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},kV=function(i){var e=i?i():void 0,t=H.useReducer(VV(),bA(e)),s=t[0],o=t[1],u=H.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),f=H.useCallback(function(p){o({type:"error",error:p})},[]),m=H.useCallback(function(p){o({type:"value",value:p})},[]);return H.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:f,setValue:m,value:s.value}},[s.error,s.loading,u,f,m,s.value])},MV=function(i,e){var t=kV(function(){return i.currentUser}),s=t.error,o=t.loading,u=t.setError,f=t.setValue,m=t.value;return H.useEffect(function(){var p=yC(i,function(g){return OV(void 0,void 0,void 0,function(){var E;return xV(this,function(A){switch(A.label){case 0:return[3,4];case 1:return A.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return A.sent(),[3,4];case 3:return E=A.sent(),u(E),[3,4];case 4:return f(g),[2]}})})},u);return function(){p()}},[i]),[m,o,s]};const RA=H.createContext();function PV({children:i}){const[e,t,s]=MV(Au);return N.jsx(RA.Provider,{value:{user:e,loading:t,error:s},children:i})}function IA(){return H.useContext(RA)}async function LV(i){const{userId:e,programId:t,workoutId:s,week:o}=i,u=CA(e,t,s,o);try{return await ng(da(gs,"sessions",u),i,{merge:!0}),console.log("Session saved:",i,"Document ID:",u),u}catch(f){throw console.error("Error saving session:",f,"Session data:",i),f}}async function UV(i,e,t,s,o){const u=CA(i,e,t,s);try{const f=da(gs,"sessions",u),m=await tg(f);return m.exists()?(console.log(" Found existing session data:",m.data()),m.data()):(console.log(" No session found, will use program data"),o)}catch(f){return console.error("Error fetching session data:",f),o}}function CA(i,e,t,s){return`${i}_${e}_${t}_${s}`}const jV=({workout:i,onBack:e})=>N.jsxs("div",{className:"session-header",children:[N.jsxs("h1",{className:"session-title",children:[i.name," "]}),N.jsx("div",{className:"session-meta",children:N.jsxs("span",{children:["Week ",i.week," "]})}),N.jsx("button",{className:"btn-back",onClick:e,children:"Back"})]});function zV({actions:i,trigger:e}){const[t,s]=H.useState(!1),o=H.useRef();return H.useEffect(()=>{function u(f){o.current&&!o.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),N.jsxs("div",{className:"dropdown",ref:o,children:[N.jsx("button",{className:"dropdown-trigger",onClick:()=>s(u=>!u),children:e||""}),t&&N.jsx("div",{className:"dropdown-content",children:i.map((u,f)=>N.jsx("button",{className:"dropdown-item",onClick:m=>{u.onClick(m),s(!1)},children:u.label},f))})]})}const BV=({exercise:i,onExpand:e})=>N.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:N.jsx("h2",{className:"exercise-name",children:i.name})}),qV=({exercises:i,setWorkout:e,handleDeleteExercise:t})=>{const[s,o]=H.useState(null),[u,f]=H.useState(null),m=j=>{f($=>$===j?null:j)},p=(j,$)=>{e(L=>({...L,exercises:L.exercises.map((K,X)=>X===j?{...K,name:$}:K)}))},g=(j,$)=>{e(L=>{const K=L.exercises.map((X,W)=>{if(W!==j)return X;const he=X.sets.filter((ue,_e)=>_e!==$);return{...X,sets:he}});return{...L,exercises:K}})},E=(j,$,L)=>{e(K=>{const X=K.exercises.map((W,he)=>{if(he!==j)return W;const ue=W.sets.map((_e,V)=>V!==$?_e:{..._e,reps:L});return{...W,sets:ue}});return{...K,exercises:X}})},A=(j,$,L)=>{e(K=>{const X=K.exercises.map((W,he)=>{if(he!==j)return W;const ue=W.sets.map((_e,V)=>V!==$?_e:{..._e,weight:L});return{...W,sets:ue}});return{...K,exercises:X}})},S=(j,$)=>{e(L=>{const K=L.exercises.map((X,W)=>W!==j?X:{...X,sets:X.sets.map((he,ue)=>ue!==$?he:{...he,complete:!he.complete})});return{...L,exercises:K}})},O=j=>{e($=>{const L=$.exercises.map((K,X)=>X!==j?K:{...K,sets:[...K.sets,{reps:"",weight:"",complete:!1}]});return{...$,exercises:L}})};return N.jsx("div",{className:"exercise-list-session",children:i.map((j,$)=>N.jsx("div",{className:`exercise-card ${u===j.id?"expanded":"collapsed"}`,children:u===j.id?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"exercise-header",children:s===j.id?N.jsxs(N.Fragment,{children:[N.jsx("input",{type:"text",value:j.name,onChange:L=>p($,L.target.value),className:"edit-exercise-name"}),N.jsxs("div",{className:"edit-actions",children:[N.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),N.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"Cancel"})]})]}):N.jsxs(N.Fragment,{children:[N.jsx("h2",{className:"exercise-name",children:j.name}),N.jsx(zV,{actions:[{label:"Edit",onClick:L=>{L.stopPropagation(),o(j.id)}},{label:"Delete",onClick:L=>{L.stopPropagation(),t(j.id)}}],trigger:N.jsx("span",{children:""})})]})}),N.jsx("div",{className:"exercise-details"}),N.jsx("div",{className:"sets-list",children:Array.from({length:Number(j.sets.length)}).map((L,K)=>{var X,W,he;return N.jsxs("div",{className:"set-row",children:[N.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((X=j.sets[K])==null?void 0:X.reps)||"",onChange:ue=>E($,K,ue.target.value)}),N.jsx("input",{type:"text",className:"input-weight",placeholder:"Weight",value:((W=j.sets[K])==null?void 0:W.weight)||"",onChange:ue=>A($,K,ue.target.value)}),N.jsx("div",{className:"set-complete-checkbox",children:N.jsx("input",{type:"checkbox",checked:((he=j.sets[K])==null?void 0:he.complete)||!1,onChange:()=>S($,K)})}),s===j.id&&N.jsx("button",{className:"btn-delete-set",onClick:()=>g($,K),children:"Delete"})]},K)})}),N.jsx("button",{className:"btn-add-set",onClick:()=>O($),children:"Add Set"})]}):N.jsx(BV,{exercise:j,onExpand:()=>m(j.id)})},j.id))})},FV=({setWorkout:i,handleSaveSession:e})=>{const t=s=>{i(o=>({...o,notes:s.target.value}))};return N.jsxs("div",{className:"session-actions",children:[N.jsx("textarea",{className:"session-notes",placeholder:"Add notes for this session...",onChange:t}),N.jsx("div",{className:"session-action-buttons",children:N.jsx("button",{className:"btn-save",onClick:e,children:"Save Session"})})]})},HV=()=>{const{workoutId:i,programId:e}=mT(),[t,s]=H.useState(null),[o,u]=H.useState(!0),f=fs(),{user:m}=IA(),p=()=>{f(`/ExecuteProgram/${e}`)},g=()=>{s(S=>({...S,exercises:[...S.exercises,{id:Date.now(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},E=S=>{console.log("delete"),s(O=>({...O,exercises:O.exercises.filter(j=>j.id!==S)}))},A=()=>{console.log("Save session clicked"),console.log("Current workout state:",t);const S={userId:m.uid,programId:e,workoutId:i,name:t.name,week:t.week,exercises:t.exercises,notes:t.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",S),LV(S)};return H.useEffect(()=>{if(!m)return;(async()=>{try{const O=da(gs,"programs",e),L=(await tg(O)).data().workouts.find(X=>X.id===i),K=await UV(m.uid,e,i,L.week,L);s(K),u(!1)}catch(O){console.error("Error fetching workout:",O),u(!1)}})()},[i,e,m]),o?N.jsx("div",{className:"current-session-container",children:N.jsx("div",{className:"loading",children:"Loading workout..."})}):t?(console.log("Loaded workout:",t),N.jsxs("div",{className:"current-session-container",children:[N.jsx(jV,{workout:t,onBack:p}),N.jsxs("div",{className:"current-session-content",children:[N.jsx(qV,{exercises:t.exercises,setWorkout:s,handleDeleteExercise:E}),N.jsx("button",{className:"btn-add-exercise",onClick:g,children:"Add Exercise"}),N.jsx(FV,{handleSaveSession:A,setWorkout:s})]})]})):N.jsx("div",{className:"current-session-container",children:N.jsx("div",{className:"error",children:"Workout not found"})})};function GV(){const[i,e]=H.useState([]),[t,s]=H.useState(!0),[o,u]=H.useState(null),{user:f,loading:m}=IA();return H.useEffect(()=>{if(m)return;async function p(){try{if(!f){u("Not logged in"),s(!1);return}const g=iV(fA(gs,"programs"),rV("createdBy","==",f.uid)),E=await oV(g),A=[];E.forEach(S=>{A.push({id:S.id,...S.data()})}),e(A)}catch(g){u(g.message)}finally{s(!1)}}p()},[f,m]),{userPrograms:i,loading:t||m,error:o}}const $V=()=>{const{userPrograms:i,loading:e,error:t}=GV(),s=fs();return e?N.jsx("div",{children:"Loading..."}):t?N.jsxs("div",{children:["Error: ",t]}):i.length===0?N.jsx("div",{children:"No programs found."}):N.jsxs("div",{className:"user-programs-container",children:[N.jsx("h1",{children:"Your Programs"}),N.jsx("section",{className:"user-programs-list",children:i.map(o=>N.jsxs("div",{className:"user-program-card",onClick:()=>s(`/ExecuteProgram/${o.id}`),children:[N.jsx("h2",{children:o.name}),N.jsx("p",{children:o.description}),N.jsxs("span",{children:[o.duration," weeks"]})]},o.id))})]})};function KV(){return N.jsx(PV,{children:N.jsxs(Zb,{children:[N.jsx(ro,{path:"/",element:N.jsx(vV,{})}),N.jsx(ro,{path:"/CreateProgram",element:N.jsx(DV,{})}),N.jsx(ro,{path:"/ExecuteProgram/:programId",element:N.jsx(NV,{})}),N.jsx(ro,{path:"/CurrentSession/:programId/:workoutId",element:N.jsx(HV,{})}),N.jsx(ro,{path:"/ListOfUsersPrograms",element:N.jsx($V,{})})]})})}lb.createRoot(document.getElementById("root")).render(N.jsx(H.StrictMode,{children:N.jsx(TR,{basename:"/my-workout-tracker",children:N.jsx(KV,{})})}));
