(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Em={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function Sb(){if(N_)return Hl;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var O_;function Ab(){return O_||(O_=1,Em.exports=Sb()),Em.exports}var C=Ab(),Tm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function bb(){if(x_)return Re;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,W={};function q(P,ie,me){this.props=P,this.context=ie,this.refs=W,this.updater=me||k}q.prototype.isReactComponent={},q.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=q.prototype;function X(P,ie,me){this.props=P,this.context=ie,this.refs=W,this.updater=me||k}var K=X.prototype=new $;K.constructor=X,H(K,q.prototype),K.isPureReactComponent=!0;var te=Array.isArray,ne={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function x(P,ie,me,ue,ce,Ie){return me=Ie.ref,{$$typeof:r,type:P,key:ie,ref:me!==void 0?me:null,props:Ie}}function b(P,ie){return x(P.type,ie,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function I(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return ie[me]})}var O=/\/+/g;function V(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):ie.toString(36)}function N(){}function Ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ze(P,ie,me,ue,ce){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case r:case e:be=!0;break;case E:return be=P._init,ze(be(P._payload),ie,me,ue,ce)}}if(be)return ce=ce(P),be=ue===""?"."+V(P,0):ue,te(ce)?(me="",be!=null&&(me=be.replace(O,"$&/")+"/"),ze(ce,ie,me,"",function(ot){return ot})):ce!=null&&(A(ce)&&(ce=b(ce,me+(ce.key==null||P&&P.key===ce.key?"":(""+ce.key).replace(O,"$&/")+"/")+be)),ie.push(ce)),1;be=0;var yt=ue===""?".":ue+":";if(te(P))for(var Be=0;Be<P.length;Be++)ue=P[Be],Ie=yt+V(ue,Be),be+=ze(ue,ie,me,Ie,ce);else if(Be=R(P),typeof Be=="function")for(P=Be.call(P),Be=0;!(ue=P.next()).done;)ue=ue.value,Ie=yt+V(ue,Be++),be+=ze(ue,ie,me,Ie,ce);else if(Ie==="object"){if(typeof P.then=="function")return ze(Ve(P),ie,me,ue,ce);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function se(P,ie,me){if(P==null)return P;var ue=[],ce=0;return ze(P,ue,"","",function(Ie){return ie.call(me,Ie,ce++)}),ue}function ye(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ge(){}return Re.Children={map:se,forEach:function(P,ie,me){se(P,function(){ie.apply(this,arguments)},me)},count:function(P){var ie=0;return se(P,function(){ie++}),ie},toArray:function(P){return se(P,function(ie){return ie})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ie,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=H({},P.props),ce=P.key,Ie=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!fe.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(ue[be]=ie[be]);var be=arguments.length-2;if(be===1)ue.children=me;else if(1<be){for(var yt=Array(be),Be=0;Be<be;Be++)yt[Be]=arguments[Be+2];ue.children=yt}return x(P.type,ce,void 0,void 0,Ie,ue)},Re.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Re.createElement=function(P,ie,me){var ue,ce={},Ie=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ie=""+ie.key),ie)fe.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ie[ue]);var be=arguments.length-2;if(be===1)ce.children=me;else if(1<be){for(var yt=Array(be),Be=0;Be<be;Be++)yt[Be]=arguments[Be+2];ce.children=yt}if(P&&P.defaultProps)for(ue in be=P.defaultProps,be)ce[ue]===void 0&&(ce[ue]=be[ue]);return x(P,Ie,void 0,void 0,null,ce)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:d,render:P}},Re.isValidElement=A,Re.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ye}},Re.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Re.startTransition=function(P){var ie=ne.T,me={};ne.T=me;try{var ue=P(),ce=ne.S;ce!==null&&ce(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ge,ve)}catch(Ie){ve(Ie)}finally{ne.T=ie}},Re.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Re.use=function(P){return ne.H.use(P)},Re.useActionState=function(P,ie,me){return ne.H.useActionState(P,ie,me)},Re.useCallback=function(P,ie){return ne.H.useCallback(P,ie)},Re.useContext=function(P){return ne.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ie){return ne.H.useDeferredValue(P,ie)},Re.useEffect=function(P,ie){return ne.H.useEffect(P,ie)},Re.useId=function(){return ne.H.useId()},Re.useImperativeHandle=function(P,ie,me){return ne.H.useImperativeHandle(P,ie,me)},Re.useInsertionEffect=function(P,ie){return ne.H.useInsertionEffect(P,ie)},Re.useLayoutEffect=function(P,ie){return ne.H.useLayoutEffect(P,ie)},Re.useMemo=function(P,ie){return ne.H.useMemo(P,ie)},Re.useOptimistic=function(P,ie){return ne.H.useOptimistic(P,ie)},Re.useReducer=function(P,ie,me){return ne.H.useReducer(P,ie,me)},Re.useRef=function(P){return ne.H.useRef(P)},Re.useState=function(P){return ne.H.useState(P)},Re.useSyncExternalStore=function(P,ie,me){return ne.H.useSyncExternalStore(P,ie,me)},Re.useTransition=function(){return ne.H.useTransition()},Re.version="19.0.0",Re}var k_;function Ep(){return k_||(k_=1,Tm.exports=bb()),Tm.exports}var z=Ep(),wm={exports:{}},Gl={},Sm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function Rb(){return P_||(P_=1,function(r){function e(se,ye){var ve=se.length;se.push(ye);e:for(;0<ve;){var Ge=ve-1>>>1,P=se[Ge];if(0<o(P,ye))se[Ge]=ye,se[ve]=P,ve=Ge;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],ve=se.pop();if(ve!==ye){se[0]=ve;e:for(var Ge=0,P=se.length,ie=P>>>1;Ge<ie;){var me=2*(Ge+1)-1,ue=se[me],ce=me+1,Ie=se[ce];if(0>o(ue,ve))ce<P&&0>o(Ie,ue)?(se[Ge]=Ie,se[ce]=ve,Ge=ce):(se[Ge]=ue,se[me]=ve,Ge=me);else if(ce<P&&0>o(Ie,ve))se[Ge]=Ie,se[ce]=ve,Ge=ce;else break e}}return ye}function o(se,ye){var ve=se.sortIndex-ye.sortIndex;return ve!==0?ve:se.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,R=3,k=!1,H=!1,W=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function K(se){for(var ye=t(g);ye!==null;){if(ye.callback===null)s(g);else if(ye.startTime<=se)s(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function te(se){if(W=!1,K(se),!H)if(t(p)!==null)H=!0,Ve();else{var ye=t(g);ye!==null&&ze(te,ye.startTime-se)}}var ne=!1,fe=-1,x=5,b=-1;function A(){return!(r.unstable_now()-b<x)}function I(){if(ne){var se=r.unstable_now();b=se;var ye=!0;try{e:{H=!1,W&&(W=!1,$(fe),fe=-1),k=!0;var ve=R;try{t:{for(K(se),T=t(p);T!==null&&!(T.expirationTime>se&&A());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,R=T.priorityLevel;var P=Ge(T.expirationTime<=se);if(se=r.unstable_now(),typeof P=="function"){T.callback=P,K(se),ye=!0;break t}T===t(p)&&s(p),K(se)}else s(p);T=t(p)}if(T!==null)ye=!0;else{var ie=t(g);ie!==null&&ze(te,ie.startTime-se),ye=!1}}break e}finally{T=null,R=ve,k=!1}ye=void 0}}finally{ye?O():ne=!1}}}var O;if(typeof X=="function")O=function(){X(I)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,N=V.port2;V.port1.onmessage=I,O=function(){N.postMessage(null)}}else O=function(){q(I,0)};function Ve(){ne||(ne=!0,O())}function ze(se,ye){fe=q(function(){se(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){H||k||(H=!0,Ve())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(R){case 1:case 2:case 3:var ye=3;break;default:ye=R}var ve=R;R=ye;try{return se()}finally{R=ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ve=R;R=se;try{return ye()}finally{R=ve}},r.unstable_scheduleCallback=function(se,ye,ve){var Ge=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,se){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ve+P,se={id:E++,callback:ye,priorityLevel:se,startTime:ve,expirationTime:P,sortIndex:-1},ve>Ge?(se.sortIndex=ve,e(g,se),t(p)===null&&se===t(g)&&(W?($(fe),fe=-1):W=!0,ze(te,ve-Ge))):(se.sortIndex=P,e(p,se),H||k||(H=!0,Ve())),se},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(se){var ye=R;return function(){var ve=R;R=ye;try{return se.apply(this,arguments)}finally{R=ve}}}}(Am)),Am}var V_;function Ib(){return V_||(V_=1,Sm.exports=Rb()),Sm.exports}var bm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function Cb(){if(M_)return Wt;M_=1;var r=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var L_;function Db(){if(L_)return bm.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bm.exports=Cb(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Nb(){if(U_)return Gl;U_=1;var r=Ib(),e=Ep(),t=Db();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function b(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case W:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $:return i=n.displayName||null,i!==null?i:b(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return b(n(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,O,V;function N(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+V}var Ve=!1;function ze(n,i){if(!n||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var F=Y}Reflect.construct(n,[],re)}else{try{re.call()}catch(Y){F=Y}n.call(re.prototype)}}else{try{throw Error()}catch(Y){F=Y}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var D=_.split(`
`),L=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===L.length)for(u=D.length-1,f=L.length-1;1<=u&&0<=f&&D[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==L[f]){var Q=`
`+D[u].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=u&&0<=f);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=ze(n.type,!1),n;case 11:return n=ze(n.type.render,!1),n;case 1:return n=ze(n.type,!0),n;default:return""}}function ye(n){try{var i="";do i+=se(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ge(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function P(n){if(ve(n)!==n)throw Error(s(188))}function ie(n){var i=n.alternate;if(!i){if(i=ve(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return P(f),n;if(m===u)return P(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,u=m;break}if(w===u){_=!0,u=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,u=f;break}if(w===u){_=!0,u=m,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},be=[],yt=-1;function Be(n){return{current:n}}function ot(n){0>yt||(n.current=be[yt],be[yt]=null,yt--)}function Ye(n,i){yt++,be[yt]=n.current,n.current=i}var nn=Be(null),xr=Be(null),Rn=Be(null),yi=Be(null);function vi(n,i){switch(Ye(Rn,i),Ye(xr,n),Ye(nn,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?s_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=s_(n),i=a_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(nn),Ye(nn,i)}function kr(){ot(nn),ot(xr),ot(Rn)}function jo(n){n.memoizedState!==null&&Ye(yi,n);var i=nn.current,a=a_(i,n.type);i!==a&&(Ye(xr,n),Ye(nn,a))}function Aa(n){xr.current===n&&(ot(nn),ot(xr)),yi.current===n&&(ot(yi),jl._currentValue=Ie)}var ba=Object.prototype.hasOwnProperty,bs=r.unstable_scheduleCallback,Ra=r.unstable_cancelCallback,wf=r.unstable_shouldYield,zo=r.unstable_requestPaint,un=r.unstable_now,Ou=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Pr=r.unstable_NormalPriority,xu=r.unstable_LowPriority,Bo=r.unstable_IdlePriority,Sf=r.log,Rs=r.unstable_setDisableYieldValue,_i=null,Yt=null;function qo(n){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(_i,n,void 0,(n.current.flags&128)===128)}catch{}}function sr(n){if(typeof Sf=="function"&&Rs(n),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(_i,n)}catch{}}var rn=Math.clz32?Math.clz32:Pu,Fo=Math.log,ku=Math.LN2;function Pu(n){return n>>>=0,n===0?32:31-(Fo(n)/ku|0)|0}var ar=128,Ei=4194304;function Kn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?u=Kn(a):(m&=w,m!==0?u=Kn(m):n||(_=w&~_,_!==0&&(u=Kn(_))))):(w=a&~f,w!==0?u=Kn(w):m!==0?u=Kn(m):n||(_=a&~_,_!==0&&(u=Kn(_)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:u}function Ti(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ia(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=ar;return ar<<=1,(ar&4194176)===0&&(ar=128),n}function wi(){var n=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),n}function Ca(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vu(n,i,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-rn(a),re=1<<Q;w[Q]=0,D[Q]=-1;var F=L[Q];if(F!==null)for(L[Q]=null,Q=0;Q<F.length;Q++){var Y=F[Q];Y!==null&&(Y.lane&=-536870913)}a&=~re}u!==0&&Si(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function Si(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-rn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ai(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-rn(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Mu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Lu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:A_(n.type))}function bi(n,i){var a=ce.p;try{return ce.p=n,i()}finally{ce.p=a}}var or=Math.random().toString(36).slice(2),kt="__reactFiber$"+or,Rt="__reactProps$"+or,Vr="__reactContainer$"+or,Is="__reactEvents$"+or,Da="__reactListeners$"+or,lr="__reactHandles$"+or,Go="__reactResources$"+or,Ri="__reactMarker$"+or;function Cs(n){delete n[kt],delete n[Rt],delete n[Is],delete n[Da],delete n[lr]}function Yn(n){var i=n[kt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Vr]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=u_(n);n!==null;){if(a=n[kt])return a;n=u_(n)}return i}n=a,a=n.parentNode}return null}function Mr(n){if(n=n[kt]||n[Vr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Ii(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Ci(n){var i=n[Go];return i||(i=n[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ri]=!0}var $o=new Set,Na={};function gn(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(Na[n]=i,n=0;n<i.length;n++)$o.add(i[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function Uu(n){return ba.call(Yo,n)?!0:ba.call(Ko,n)?!1:Af.test(n)?Yo[n]=!0:(Ko[n]=!0,!1)}function Di(n,i,a){if(Uu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ni(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ju(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bf(n){var i=ju(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ds(n){n._valueTracker||(n._valueTracker=bf(n))}function Qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=ju(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function Oa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lr=/[\n"\\]/g;function lt(n){return n.replace(Lr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oi(n,i,a,u,f,m,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?xa(n,_,sn(i)):a!=null?xa(n,_,sn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function Ns(n,i,a,u,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function xa(n,i,a){i==="number"&&Oa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qe(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Os(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function xi(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Dn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||Rf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function zu(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Wo(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Wo(n,m,i[m])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(n){return Cf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nn=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,jr=null;function zr(n){var i=Mr(n);if(i&&(n=i.stateNode)){var a=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Oi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(s(90));Oi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Qo(u)}break e;case"textarea":Os(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qe(n,!!a.multiple,i,!1)}}}var Zo=!1;function Bu(n,i,a){if(Zo)return n(i,a);Zo=!0;try{var u=n(i);return u}finally{if(Zo=!1,(Ur!==null||jr!==null)&&(xc(),Ur&&(i=Ur,n=jr,jr=Ur=null,zr(i),n)))for(i=0;i<n.length;i++)zr(n[i])}}function xs(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Rt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(yn)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){On=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{On=!1}var cr=null,ki=null,Br=null;function Jo(){if(Br)return Br;var n,i=ki,a=i.length,u,f="value"in cr?cr.value:cr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&i[a-u]===f[m-u];u++);return Br=f.slice(n,1<u?1-u:void 0)}function hr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fr(){return!0}function el(){return!1}function Pt(n){function i(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fr:el,this.isPropagationStopped=el,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Pt($e),Ps=I({},$e,{view:0,detail:0}),qu=Pt(Ps),Va,Ma,dr,Vs=I({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==dr&&(dr&&n.type==="mousemove"?(Va=n.screenX-dr.screenX,Ma=n.screenY-dr.screenY):Ma=Va=0,dr=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),xn=Pt(Vs),Fu=I({},Vs,{dataTransfer:0}),Df=Pt(Fu),Ms=I({},Ps,{relatedTarget:0}),La=Pt(Ms),tl=I({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Pt(tl),Hu=I({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=Pt(Hu),Nf=I({},$e,{data:0}),nl=Pt(Nf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=$u[n])?!!i[n]:!1}function Us(){return rl}var Ku=I({},Ps,{key:function(n){if(n.key){var i=Ls[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),za=Pt(Ku),Yu=I({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Pt(Yu),qr=I({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Qu=Pt(qr),Wu=I({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xu=Pt(Wu),Zu=I({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=Pt(Zu),an=I({},$e,{newState:0,oldState:0}),Ju=Pt(an),ec=[9,13,27,32],mr=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,v=yn&&(!mr||c&&8<c&&11>=c),S=" ",j=!1;function G(n,i){switch(n){case"keyup":return ec.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function It(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return n=i.data,n===S&&j?null:n;default:return null}}function Le(n,i){if(Me)return n==="compositionend"||!mr&&G(n,i)?(n=Jo(),Br=ki=cr=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Fr(n,i,a,u){Ur?jr?jr.push(u):jr=[u]:Ur=u,i=Lc(i,"onChange"),0<i.length&&(a=new Pa("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var zt=null,pr=null;function sl(n){e_(n,0)}function tc(n){var i=Ii(n);if(Qo(i))return n}function Dg(n,i){if(n==="change")return i}var Ng=!1;if(yn){var Of;if(yn){var xf="oninput"in document;if(!xf){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),xf=typeof Og.oninput=="function"}Of=xf}else Of=!1;Ng=Of&&(!document.documentMode||9<document.documentMode)}function xg(){zt&&(zt.detachEvent("onpropertychange",kg),pr=zt=null)}function kg(n){if(n.propertyName==="value"&&tc(pr)){var i=[];Fr(i,pr,n,ka(n)),Bu(sl,i)}}function JS(n,i,a){n==="focusin"?(xg(),zt=i,pr=a,zt.attachEvent("onpropertychange",kg)):n==="focusout"&&xg()}function eA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(pr)}function tA(n,i){if(n==="click")return tc(i)}function nA(n,i){if(n==="input"||n==="change")return tc(i)}function rA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:rA;function al(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ba.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Pg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vg(n,i){var a=Pg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pg(a)}}function Mg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Mg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Oa(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Oa(n.document)}return i}function kf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function iA(n,i){var a=Lg(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Mg(i.ownerDocument.documentElement,i)){if(u!==null&&kf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=Vg(i,m);var _=Vg(i,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var sA=yn&&"documentMode"in document&&11>=document.documentMode,qa=null,Pf=null,ol=null,Vf=!1;function Ug(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||qa==null||qa!==Oa(u)||(u=qa,"selectionStart"in u&&kf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ol&&al(ol,u)||(ol=u,u=Lc(Pf,"onSelect"),0<u.length&&(i=new Pa("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=qa)))}function js(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Fa={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Mf={},jg={};yn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function zs(n){if(Mf[n])return Mf[n];if(!Fa[n])return n;var i=Fa[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in jg)return Mf[n]=i[a];return n}var zg=zs("animationend"),Bg=zs("animationiteration"),qg=zs("animationstart"),aA=zs("transitionrun"),oA=zs("transitionstart"),lA=zs("transitioncancel"),Fg=zs("transitionend"),Hg=new Map,Gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(n,i){Hg.set(n,i),gn(i,[n])}var kn=[],Ha=0,Lf=0;function nc(){for(var n=Ha,i=Lf=Ha=0;i<n;){var a=kn[i];kn[i++]=null;var u=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&$g(a,f,m)}}function rc(n,i,a,u){kn[Ha++]=n,kn[Ha++]=i,kn[Ha++]=a,kn[Ha++]=u,Lf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Uf(n,i,a,u){return rc(n,i,a,u),ic(n)}function Pi(n,i){return rc(n,null,null,i),ic(n)}function $g(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-rn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function ic(n){if(50<xl)throw xl=0,Hd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ga={},Kg=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var a=Kg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ye(i)},Kg.set(n,i),i)}return{value:n,source:i,stack:ye(i)}}var $a=[],Ka=0,sc=null,ac=0,Vn=[],Mn=0,Bs=null,Hr=1,Gr="";function qs(n,i){$a[Ka++]=ac,$a[Ka++]=sc,sc=n,ac=i}function Yg(n,i,a){Vn[Mn++]=Hr,Vn[Mn++]=Gr,Vn[Mn++]=Bs,Bs=n;var u=Hr;n=Gr;var f=32-rn(u)-1;u&=~(1<<f),a+=1;var m=32-rn(i)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Hr=1<<32-rn(i)+f|a<<f|u,Gr=m+n}else Hr=1<<m|a<<f|u,Gr=n}function jf(n){n.return!==null&&(qs(n,1),Yg(n,1,0))}function zf(n){for(;n===sc;)sc=$a[--Ka],$a[Ka]=null,ac=$a[--Ka],$a[Ka]=null;for(;n===Bs;)Bs=Vn[--Mn],Vn[Mn]=null,Gr=Vn[--Mn],Vn[Mn]=null,Hr=Vn[--Mn],Vn[Mn]=null}var on=null,Bt=null,Fe=!1,Wn=null,gr=!1,Bf=Error(s(519));function Fs(n){var i=Error(s(418,""));throw cl(Pn(i,n)),Bf}function Qg(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[kt]=n,i[Rt]=u,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Pe(Pl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Ns(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ds(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),xi(i,u.value,u.defaultValue,u.children),Ds(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||i_(i.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=Uc),i=!0):i=!1,i||Fs(n)}function Wg(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:gr=!0;return;case 5:case 13:gr=!1;return;default:on=on.return}}function ll(n){if(n!==on)return!1;if(!Fe)return Wg(n),Fe=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||om(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Fs(n),Wg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Bt=Zn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Bt=null}}else Bt=on?Zn(n.stateNode.nextSibling):null;return!0}function ul(){Bt=on=null,Fe=!1}function cl(n){Wn===null?Wn=[n]:Wn.push(n)}var hl=Error(s(460)),Xg=Error(s(474)),qf={then:function(){}};function Zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oc(){}function Jg(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(oc,oc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===hl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(oc,oc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===hl?Error(s(483)):n}throw fl=i,hl}}var fl=null;function ey(){if(fl===null)throw Error(s(459));var n=fl;return fl=null,n}var Ya=null,dl=0;function lc(n){var i=dl;return dl+=1,Ya===null&&(Ya=[]),Jg(Ya,n,i)}function ml(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function uc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ty(n){var i=n._init;return i(n._payload)}function ny(n){function i(U,M){if(n){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!n)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=$i(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function _(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function w(U,M,B,J){return M===null||M.tag!==6?(M=Md(B,U.mode,J),M.return=U,M):(M=f(M,B),M.return=U,M)}function D(U,M,B,J){var he=B.type;return he===p?Q(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&ty(he)===M.type)?(M=f(M,B.props),ml(M,B),M.return=U,M):(M=Ic(B.type,B.key,B.props,null,U.mode,J),ml(M,B),M.return=U,M)}function L(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Ld(B,U.mode,J),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function Q(U,M,B,J,he){return M===null||M.tag!==7?(M=Js(B,U.mode,J,he),M.return=U,M):(M=f(M,B),M.return=U,M)}function re(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Md(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return B=Ic(M.type,M.key,M.props,null,U.mode,B),ml(B,M),B.return=U,B;case d:return M=Ld(M,U.mode,B),M.return=U,M;case X:var J=M._init;return M=J(M._payload),re(U,M,B)}if(ue(M)||fe(M))return M=Js(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return re(U,lc(M),B);if(M.$$typeof===k)return re(U,Ac(U,M),B);uc(U,M)}return null}function F(U,M,B,J){var he=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:w(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===he?D(U,M,B,J):null;case d:return B.key===he?L(U,M,B,J):null;case X:return he=B._init,B=he(B._payload),F(U,M,B,J)}if(ue(B)||fe(B))return he!==null?null:Q(U,M,B,J,null);if(typeof B.then=="function")return F(U,M,lc(B),J);if(B.$$typeof===k)return F(U,M,Ac(U,B),J);uc(U,B)}return null}function Y(U,M,B,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(M,U,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return U=U.get(J.key===null?B:J.key)||null,D(M,U,J,he);case d:return U=U.get(J.key===null?B:J.key)||null,L(M,U,J,he);case X:var Ne=J._init;return J=Ne(J._payload),Y(U,M,B,J,he)}if(ue(J)||fe(J))return U=U.get(B)||null,Q(M,U,J,he,null);if(typeof J.then=="function")return Y(U,M,B,lc(J),he);if(J.$$typeof===k)return Y(U,M,B,Ac(M,J),he);uc(M,J)}return null}function de(U,M,B,J){for(var he=null,Ne=null,pe=M,_e=M=0,Ut=null;pe!==null&&_e<B.length;_e++){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var He=F(U,pe,B[_e],J);if(He===null){pe===null&&(pe=Ut);break}n&&pe&&He.alternate===null&&i(U,pe),M=m(He,M,_e),Ne===null?he=He:Ne.sibling=He,Ne=He,pe=Ut}if(_e===B.length)return a(U,pe),Fe&&qs(U,_e),he;if(pe===null){for(;_e<B.length;_e++)pe=re(U,B[_e],J),pe!==null&&(M=m(pe,M,_e),Ne===null?he=pe:Ne.sibling=pe,Ne=pe);return Fe&&qs(U,_e),he}for(pe=u(pe);_e<B.length;_e++)Ut=Y(pe,U,_e,B[_e],J),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?_e:Ut.key),M=m(Ut,M,_e),Ne===null?he=Ut:Ne.sibling=Ut,Ne=Ut);return n&&pe.forEach(function(Ji){return i(U,Ji)}),Fe&&qs(U,_e),he}function Se(U,M,B,J){if(B==null)throw Error(s(151));for(var he=null,Ne=null,pe=M,_e=M=0,Ut=null,He=B.next();pe!==null&&!He.done;_e++,He=B.next()){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var Ji=F(U,pe,He.value,J);if(Ji===null){pe===null&&(pe=Ut);break}n&&pe&&Ji.alternate===null&&i(U,pe),M=m(Ji,M,_e),Ne===null?he=Ji:Ne.sibling=Ji,Ne=Ji,pe=Ut}if(He.done)return a(U,pe),Fe&&qs(U,_e),he;if(pe===null){for(;!He.done;_e++,He=B.next())He=re(U,He.value,J),He!==null&&(M=m(He,M,_e),Ne===null?he=He:Ne.sibling=He,Ne=He);return Fe&&qs(U,_e),he}for(pe=u(pe);!He.done;_e++,He=B.next())He=Y(pe,U,_e,He.value,J),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?_e:He.key),M=m(He,M,_e),Ne===null?he=He:Ne.sibling=He,Ne=He);return n&&pe.forEach(function(wb){return i(U,wb)}),Fe&&qs(U,_e),he}function ht(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var he=B.key;M!==null;){if(M.key===he){if(he=B.type,he===p){if(M.tag===7){a(U,M.sibling),J=f(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&ty(he)===M.type){a(U,M.sibling),J=f(M,B.props),ml(J,B),J.return=U,U=J;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(J=Js(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Ic(B.type,B.key,B.props,null,U.mode,J),ml(J,B),J.return=U,U=J)}return _(U);case d:e:{for(he=B.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),J=f(M,B.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else i(U,M);M=M.sibling}J=Ld(B,U.mode,J),J.return=U,U=J}return _(U);case X:return he=B._init,B=he(B._payload),ht(U,M,B,J)}if(ue(B))return de(U,M,B,J);if(fe(B)){if(he=fe(B),typeof he!="function")throw Error(s(150));return B=he.call(B),Se(U,M,B,J)}if(typeof B.then=="function")return ht(U,M,lc(B),J);if(B.$$typeof===k)return ht(U,M,Ac(U,B),J);uc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,B),J.return=U,U=J):(a(U,M),J=Md(B,U.mode,J),J.return=U,U=J),_(U)):a(U,M)}return function(U,M,B,J){try{dl=0;var he=ht(U,M,B,J);return Ya=null,he}catch(pe){if(pe===hl)throw pe;var Ne=zn(29,pe,null,U.mode);return Ne.lanes=J,Ne.return=U,Ne}finally{}}}var Hs=ny(!0),ry=ny(!1),Qa=Be(null),cc=Be(0);function iy(n,i){n=ni,Ye(cc,n),Ye(Qa,i),ni=n|i.baseLanes}function Ff(){Ye(cc,ni),Ye(Qa,Qa.current)}function Hf(){ni=cc.current,ot(Qa),ot(cc)}var Ln=Be(null),yr=null;function Vi(n){var i=n.alternate;Ye(Dt,Dt.current&1),Ye(Ln,n),yr===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(yr=n)}function sy(n){if(n.tag===22){if(Ye(Dt,Dt.current),Ye(Ln,n),yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yr=n)}}else Mi()}function Mi(){Ye(Dt,Dt.current),Ye(Ln,Ln.current)}function $r(n){ot(Ln),yr===n&&(yr=null),ot(Dt)}var Dt=Be(0);function hc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var uA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},cA=r.unstable_scheduleCallback,hA=r.unstable_NormalPriority,Nt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new uA,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&cA(hA,function(){n.controller.abort()})}var gl=null,$f=0,Wa=0,Xa=null;function fA(n,i){if(gl===null){var a=gl=[];$f=0,Wa=Zd(),Xa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return $f++,i.then(ay,ay),i}function ay(){if(--$f===0&&gl!==null){Xa!==null&&(Xa.status="fulfilled");var n=gl;gl=null,Wa=0,Xa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function dA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var oy=A.S;A.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fA(n,i),oy!==null&&oy(n,i)};var Gs=Be(null);function Kf(){var n=Gs.current;return n!==null?n:Ze.pooledCache}function fc(n,i){i===null?Ye(Gs,Gs.current):Ye(Gs,i.pool)}function ly(){var n=Kf();return n===null?null:{parent:Nt._currentValue,pool:n}}var Li=0,Ce=null,Qe=null,vt=null,dc=!1,Za=!1,$s=!1,mc=0,yl=0,Ja=null,mA=0;function pt(){throw Error(s(321))}function Yf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function Qf(n,i,a,u,f,m){return Li=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=n===null||n.memoizedState===null?Ks:Ui,$s=!1,m=a(u,f),$s=!1,Za&&(m=cy(i,a,u,f)),uy(n),m}function uy(n){A.H=vr;var i=Qe!==null&&Qe.next!==null;if(Li=0,vt=Qe=Ce=null,dc=!1,yl=0,Ja=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Sc(n)&&(Mt=!0))}function cy(n,i,a,u){Ce=n;var f=0;do{if(Za&&(Ja=null),yl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,vt=Qe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=Ys,m=i(a,u)}while(Za);return m}function pA(){var n=A.H,i=n.useState()[0];return i=typeof i.then=="function"?vl(i):i,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Wf(){var n=mc!==0;return mc=0,n}function Xf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Zf(n){if(dc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dc=!1}Li=0,vt=Qe=Ce=null,Za=!1,yl=mc=0,Ja=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ce.memoizedState=vt=n:vt=vt.next=n,vt}function _t(){if(Qe===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var i=vt===null?Ce.memoizedState:vt.next;if(i!==null)vt=i,Qe=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?Ce.memoizedState=vt=n:vt=vt.next=n}return vt}var pc;pc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(n){var i=yl;return yl+=1,Ja===null&&(Ja=[]),n=Jg(Ja,n,i),i=Ce,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Ks:Ui),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===k)return Qt(n)}throw Error(s(438,String(n)))}function Jf(n){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=te;return i.index++,a}function Kr(n,i){return typeof i=="function"?i(n):i}function yc(n){var i=_t();return ed(i,Qe,n)}function ed(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=_=null,D=null,L=i,Q=!1;do{var re=L.lane&-536870913;if(re!==L.lane?(Ue&re)===re:(Li&re)===re){var F=L.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),re===Wa&&(Q=!0);else if((Li&F)===F){L=L.next,F===Wa&&(Q=!0);continue}else re={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=re,_=m):D=D.next=re,Ce.lanes|=F,Ki|=F;re=L.action,$s&&a(m,re),m=L.hasEagerState?L.eagerState:a(m,re)}else F={lane:re,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=F,_=m):D=D.next=F,Ce.lanes|=re,Ki|=re;L=L.next}while(L!==null&&L!==i);if(D===null?_=m:D.next=w,!vn(m,n.memoizedState)&&(Mt=!0,Q&&(a=Xa,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function td(n){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);vn(m,i.memoizedState)||(Mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function hy(n,i,a){var u=Ce,f=_t(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Qe||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,id(my.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,eo(9,dy.bind(null,u,f,a,i),{destroy:void 0},null),Ze===null)throw Error(s(349));m||(Li&60)!==0||fy(u,i,a)}return a}function fy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=pc(),Ce.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function dy(n,i,a,u){i.value=a,i.getSnapshot=u,py(i)&&gy(n)}function my(n,i,a){return a(function(){py(i)&&gy(n)})}function py(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function gy(n){var i=Pi(n,2);i!==null&&ln(i,n,2)}function nd(n){var i=hn();if(typeof n=="function"){var a=n;if(n=a(),$s){sr(!0);try{a()}finally{sr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:n},i}function yy(n,i,a,u){return n.baseState=a,ed(n,Qe,typeof u=="function"?u:Kr)}function gA(n,i,a,u,f){if(Ec(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};A.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,vy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function vy(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=A.T,_={};A.T=_;try{var w=a(f,u),D=A.S;D!==null&&D(_,w),_y(n,i,w)}catch(L){rd(n,i,L)}finally{A.T=m}}else try{m=a(f,u),_y(n,i,m)}catch(L){rd(n,i,L)}}function _y(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ey(n,i,u)},function(u){return rd(n,i,u)}):Ey(n,i,a)}function Ey(n,i,a){i.status="fulfilled",i.value=a,Ty(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,vy(n,a)))}function rd(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Ty(i),i=i.next;while(i!==u)}n.action=null}function Ty(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function wy(n,i){return i}function Sy(n,i){if(Fe){var a=Ze.formState;if(a!==null){e:{var u=Ce;if(Fe){if(Bt){t:{for(var f=Bt,m=gr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Bt=Zn(f.nextSibling),u=f.data==="F!";break e}}Fs(u)}u=!1}u&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:i},a.queue=u,a=By.bind(null,Ce,u),u.dispatch=a,u=nd(!1),m=ud.bind(null,Ce,!1,u.queue),u=hn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=gA.bind(null,Ce,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function Ay(n){var i=_t();return by(i,Qe,n)}function by(n,i,a){i=ed(n,i,wy)[0],n=yc(Kr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?vl(i):i;var u=_t(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ce.flags|=2048,eo(9,yA.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function yA(n,i){n.action=i}function Ry(n){var i=_t(),a=Qe;if(a!==null)return by(i,a,n);_t(),i=i.memoizedState,a=_t();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function eo(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=Ce.updateQueue,i===null&&(i=pc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Iy(){return _t().memoizedState}function vc(n,i,a,u){var f=hn();Ce.flags|=n,f.memoizedState=eo(1|i,a,{destroy:void 0},u===void 0?null:u)}function _c(n,i,a,u){var f=_t();u=u===void 0?null:u;var m=f.memoizedState.inst;Qe!==null&&u!==null&&Yf(u,Qe.memoizedState.deps)?f.memoizedState=eo(i,a,m,u):(Ce.flags|=n,f.memoizedState=eo(1|i,a,m,u))}function Cy(n,i){vc(8390656,8,n,i)}function id(n,i){_c(2048,8,n,i)}function Dy(n,i){return _c(4,2,n,i)}function Ny(n,i){return _c(4,4,n,i)}function Oy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function xy(n,i,a){a=a!=null?a.concat([n]):null,_c(4,4,Oy.bind(null,i,n),a)}function sd(){}function ky(n,i){var a=_t();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Yf(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function Py(n,i){var a=_t();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Yf(i,u[1]))return u[0];if(u=n(),$s){sr(!0);try{n()}finally{sr(!1)}}return a.memoizedState=[u,i],u}function ad(n,i,a){return a===void 0||(Li&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Mv(),Ce.lanes|=n,Ki|=n,a)}function Vy(n,i,a,u){return vn(a,i)?a:Qa.current!==null?(n=ad(n,a,u),vn(n,i)||(Mt=!0),n):(Li&42)===0?(Mt=!0,n.memoizedState=a):(n=Mv(),Ce.lanes|=n,Ki|=n,i)}function My(n,i,a,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var _=A.T,w={};A.T=w,ud(n,!1,i,a);try{var D=f(),L=A.S;if(L!==null&&L(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=dA(D,u);_l(n,i,Q,wn(n))}else _l(n,i,u,wn(n))}catch(re){_l(n,i,{then:function(){},status:"rejected",reason:re},wn())}finally{ce.p=m,A.T=_}}function vA(){}function od(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=Ly(n).queue;My(n,f,i,Ie,a===null?vA:function(){return Uy(n),a(u)})}function Ly(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Uy(n){var i=Ly(n).next.queue;_l(n,i,{},wn())}function ld(){return Qt(jl)}function jy(){return _t().memoizedState}function zy(){return _t().memoizedState}function _A(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Bi(a);var u=qi(i,n,a);u!==null&&(ln(u,i,a),wl(u,i,a)),i={cache:Gf()},n.payload=i;return}i=i.return}}function EA(n,i,a){var u=wn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(n)?qy(i,a):(a=Uf(n,i,a,u),a!==null&&(ln(a,n,u),Fy(a,i,u)))}function By(n,i,a){var u=wn();_l(n,i,a,u)}function _l(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(n))qy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,_))return rc(n,i,f,0),Ze===null&&nc(),!1}catch{}finally{}if(a=Uf(n,i,f,u),a!==null)return ln(a,n,u),Fy(a,i,u),!0}return!1}function ud(n,i,a,u){if(u={lane:2,revertLane:Zd(),action:u,hasEagerState:!1,eagerState:null,next:null},Ec(n)){if(i)throw Error(s(479))}else i=Uf(n,a,u,2),i!==null&&ln(i,n,2)}function Ec(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function qy(n,i){Za=dc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Fy(n,i,a){if((a&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ai(n,a)}}var vr={readContext:Qt,use:gc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};vr.useCacheRefresh=pt,vr.useMemoCache=pt,vr.useHostTransitionStatus=pt,vr.useFormState=pt,vr.useActionState=pt,vr.useOptimistic=pt;var Ks={readContext:Qt,use:gc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Qt,useEffect:Cy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,vc(4194308,4,Oy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return vc(4194308,4,n,i)},useInsertionEffect:function(n,i){vc(4,2,n,i)},useMemo:function(n,i){var a=hn();i=i===void 0?null:i;var u=n();if($s){sr(!0);try{n()}finally{sr(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=hn();if(a!==void 0){var f=a(i);if($s){sr(!0);try{a(i)}finally{sr(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=EA.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=nd(n);var i=n.queue,a=By.bind(null,Ce,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(n,i){var a=hn();return ad(a,n,i)},useTransition:function(){var n=nd(!1);return n=My.bind(null,Ce,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ce,f=hn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Ue&60)!==0||fy(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Cy(my.bind(null,u,m,n),[n]),u.flags|=2048,eo(9,dy.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=hn(),i=Ze.identifierPrefix;if(Fe){var a=Gr,u=Hr;a=(u&~(1<<32-rn(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=mA++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=_A.bind(null,Ce)}};Ks.useMemoCache=Jf,Ks.useHostTransitionStatus=ld,Ks.useFormState=Sy,Ks.useActionState=Sy,Ks.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,Ce,!0,a),a.dispatch=i,[n,i]};var Ui={readContext:Qt,use:gc,useCallback:ky,useContext:Qt,useEffect:id,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Py,useReducer:yc,useRef:Iy,useState:function(){return yc(Kr)},useDebugValue:sd,useDeferredValue:function(n,i){var a=_t();return Vy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=yc(Kr)[0],i=_t().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:hy,useId:jy};Ui.useCacheRefresh=zy,Ui.useMemoCache=Jf,Ui.useHostTransitionStatus=ld,Ui.useFormState=Ay,Ui.useActionState=Ay,Ui.useOptimistic=function(n,i){var a=_t();return yy(a,Qe,n,i)};var Ys={readContext:Qt,use:gc,useCallback:ky,useContext:Qt,useEffect:id,useImperativeHandle:xy,useInsertionEffect:Dy,useLayoutEffect:Ny,useMemo:Py,useReducer:td,useRef:Iy,useState:function(){return td(Kr)},useDebugValue:sd,useDeferredValue:function(n,i){var a=_t();return Qe===null?ad(a,n,i):Vy(a,Qe.memoizedState,n,i)},useTransition:function(){var n=td(Kr)[0],i=_t().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:hy,useId:jy};Ys.useCacheRefresh=zy,Ys.useMemoCache=Jf,Ys.useHostTransitionStatus=ld,Ys.useFormState=Ry,Ys.useActionState=Ry,Ys.useOptimistic=function(n,i){var a=_t();return Qe!==null?yy(a,Qe,n,i):(a.baseState=n,[n,a.queue.dispatch])};function cd(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:I({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hd={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Bi(u);f.payload=i,a!=null&&(f.callback=a),i=qi(n,f,u),i!==null&&(ln(i,n,u),wl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Bi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=qi(n,f,u),i!==null&&(ln(i,n,u),wl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),u=Bi(a);u.tag=2,i!=null&&(u.callback=i),i=qi(n,u,a),i!==null&&(ln(i,n,a),wl(i,n,a))}};function Hy(n,i,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,u)||!al(f,m):!0}function Gy(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&hd.enqueueReplaceState(i,i.state,null)}function Qs(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=I({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function $y(n){Tc(n)}function Ky(n){console.error(n)}function Yy(n){Tc(n)}function wc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Qy(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(n,i,a){return a=Bi(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(n,i)},a}function Wy(n){return n=Bi(n),n.tag=3,n}function Xy(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Qy(i,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Qy(i,a,u),typeof f!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function TA(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Tl(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return yr===null?Kd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===qf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Qd(n,u,f)),!1;case 22:return a.flags|=65536,u===qf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Qd(n,u,f)),!1}throw Error(s(435,a.tag))}return Qd(n,u,f),Kd(),!1}if(Fe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Bf&&(n=Error(s(422),{cause:u}),cl(Pn(n,a)))):(u!==Bf&&(i=Error(s(423),{cause:u}),cl(Pn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,a),f=fd(n.stateNode,u,f),Id(n,f),ct!==4&&(ct=2)),!1;var m=Error(s(520),{cause:u});if(m=Pn(m,a),Nl===null?Nl=[m]:Nl.push(m),ct!==4&&(ct=2),i===null)return!0;u=Pn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=fd(a.stateNode,u,n),Id(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Yi===null||!Yi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Xy(f,n,a,u),Id(a,f),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),Mt=!1;function qt(n,i,a,u){i.child=n===null?ry(i,null,a,u):Hs(i,n.child,a,u)}function Jy(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var _={};for(var w in u)w!=="ref"&&(_[w]=u[w])}else _=u;return Xs(i),u=Qf(n,i,a,_,m,f),w=Wf(),n!==null&&!Mt?(Xf(n,i,f),Yr(n,i,f)):(Fe&&w&&jf(i),i.flags|=1,qt(n,i,u,f),i.child)}function ev(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Vd(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,tv(n,i,m,u,f)):(n=Ic(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Td(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,u)&&n.ref===i.ref)return Yr(n,i,f)}return i.flags|=1,n=$i(m,u),n.ref=i.ref,n.return=i,i.child=n}function tv(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(al(m,u)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=u=m,Td(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Yr(n,i,f)}return dd(n,i,a,u,f)}function nv(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(El(n,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return rv(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&fc(i,_!==null?_.cachePool:null),_!==null?iy(i,_):Ff(),sy(i);else return i.lanes=i.childLanes=536870912,rv(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(fc(i,_.cachePool),iy(i,_),Mi(),i.memoizedState=null):(n!==null&&fc(i,null),Ff(),Mi());return qt(n,i,f,a),i.child}function rv(n,i,a,u){var f=Kf();return f=f===null?null:{parent:Nt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&fc(i,null),Ff(),sy(i),n!==null&&Tl(n,i,u,!0),null}function El(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function dd(n,i,a,u,f){return Xs(i),a=Qf(n,i,a,u,void 0,f),u=Wf(),n!==null&&!Mt?(Xf(n,i,f),Yr(n,i,f)):(Fe&&u&&jf(i),i.flags|=1,qt(n,i,a,f),i.child)}function iv(n,i,a,u,f,m){return Xs(i),i.updateQueue=null,a=cy(i,u,a,f),uy(n),u=Wf(),n!==null&&!Mt?(Xf(n,i,m),Yr(n,i,m)):(Fe&&u&&jf(i),i.flags|=1,qt(n,i,a,m),i.child)}function sv(n,i,a,u,f){if(Xs(i),i.stateNode===null){var m=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(m=Qt(_)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},bd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Qt(_):Ga,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(i,a,_,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&hd.enqueueReplaceState(m,m.state,null),Al(i,u,m,f),Sl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,D=Qs(a,w);m.props=D;var L=m.context,Q=a.contextType;_=Ga,typeof Q=="object"&&Q!==null&&(_=Qt(Q));var re=a.getDerivedStateFromProps;Q=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||L!==_)&&Gy(i,m,u,_),zi=!1;var F=i.memoizedState;m.state=F,Al(i,u,m,f),Sl(),L=i.memoizedState,w||F!==L||zi?(typeof re=="function"&&(cd(i,a,re,u),L=i.memoizedState),(D=zi||Hy(i,a,D,u,F,L,_))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=L),m.props=u,m.state=L,m.context=_,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Rd(n,i),_=i.memoizedProps,Q=Qs(a,_),m.props=Q,re=i.pendingProps,F=m.context,L=a.contextType,D=Ga,typeof L=="object"&&L!==null&&(D=Qt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==re||F!==D)&&Gy(i,m,u,D),zi=!1,F=i.memoizedState,m.state=F,Al(i,u,m,f),Sl();var Y=i.memoizedState;_!==re||F!==Y||zi||n!==null&&n.dependencies!==null&&Sc(n.dependencies)?(typeof w=="function"&&(cd(i,a,w,u),Y=i.memoizedState),(Q=zi||Hy(i,a,Q,u,F,Y,D)||n!==null&&n.dependencies!==null&&Sc(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),m.props=u,m.state=Y,m.context=D,u=Q):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,El(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Hs(i,n.child,null,f),i.child=Hs(i,null,a,f)):qt(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Yr(n,i,f),n}function av(n,i,a,u){return ul(),i.flags|=256,qt(n,i,a,u),i.child}var md={dehydrated:null,treeContext:null,retryLane:0};function pd(n){return{baseLanes:n,cachePool:ly()}}function gd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bn),n}function ov(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Vi(i):Mi(),Fe){var w=Bt,D;if(D=w){e:{for(D=w,w=gr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Zn(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:Bs!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912},D=zn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,on=i,Bt=null,D=!0):D=!1}D||Fs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;$r(i)}return w=u.children,u=u.fallback,f?(Mi(),f=i.mode,w=vd({mode:"hidden",children:w},f),u=Js(u,f,a,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=pd(a),f.childLanes=gd(n,_,a),i.memoizedState=md,u):(Vi(i),yd(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(Vi(i),i.flags&=-257,i=_d(n,i,a)):i.memoizedState!==null?(Mi(),i.child=n.child,i.flags|=128,i=null):(Mi(),f=u.fallback,w=i.mode,u=vd({mode:"visible",children:u.children},w),f=Js(f,w,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Hs(i,n.child,null,a),u=i.child,u.memoizedState=pd(a),u.childLanes=gd(n,_,a),i.memoizedState=md,i=f);else if(Vi(i),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var L=_.dgst;_=L,u=Error(s(419)),u.stack="",u.digest=_,cl({value:u,source:null,stack:null}),i=_d(n,i,a)}else if(Mt||Tl(n,i,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=Ze,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Pi(n,u),ln(_,n,u),Zy}w.data==="$?"||Kd(),i=_d(n,i,a)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=MA.bind(null,n),w._reactRetry=i,i=null):(n=D.treeContext,Bt=Zn(w.nextSibling),on=i,Fe=!0,Wn=null,gr=!1,n!==null&&(Vn[Mn++]=Hr,Vn[Mn++]=Gr,Vn[Mn++]=Bs,Hr=n.id,Gr=n.overflow,Bs=i),i=yd(i,u.children),i.flags|=4096);return i}return f?(Mi(),f=u.fallback,w=i.mode,D=n.child,L=D.sibling,u=$i(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,L!==null?f=$i(L,f):(f=Js(f,w,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=n.child.memoizedState,w===null?w=pd(a):(D=w.cachePool,D!==null?(L=Nt._currentValue,D=D.parent!==L?{parent:L,pool:L}:D):D=ly(),w={baseLanes:w.baseLanes|a,cachePool:D}),f.memoizedState=w,f.childLanes=gd(n,_,a),i.memoizedState=md,u):(Vi(i),a=n.child,n=a.sibling,a=$i(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function yd(n,i){return i=vd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function vd(n,i){return kv(n,i,0,null)}function _d(n,i,a){return Hs(i,n.child,null,a),n=yd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function lv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Sd(n.return,i,a)}function Ed(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function uv(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(qt(n,i,u.children,a),u=Dt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lv(n,a,i);else if(n.tag===19)lv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Ye(Dt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&hc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ed(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&hc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ed(i,!0,a,null,m);break;case"together":Ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Tl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=$i(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=$i(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Sc(n)))}function wA(n,i,a){switch(i.tag){case 3:vi(i,i.stateNode.containerInfo),ji(i,Nt,n.memoizedState.cache),ul();break;case 27:case 5:jo(i);break;case 4:vi(i,i.stateNode.containerInfo);break;case 10:ji(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Vi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ov(n,i,a):(Vi(i),n=Yr(n,i,a),n!==null?n.sibling:null);Vi(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Tl(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return uv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(Dt,Dt.current),u)break;return null;case 22:case 23:return i.lanes=0,nv(n,i,a);case 24:ji(i,Nt,n.memoizedState.cache)}return Yr(n,i,a)}function cv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Td(n,a)&&(i.flags&128)===0)return Mt=!1,wA(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&Yg(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Vd(u)?(n=Qs(u,n),i.tag=1,i=sv(null,i,u,n,a)):(i.tag=0,i=dd(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===H){i.tag=11,i=Jy(null,i,u,n,a);break e}else if(f===$){i.tag=14,i=ev(null,i,u,n,a);break e}}throw i=b(u)||u,Error(s(306,i,""))}}return i;case 0:return dd(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Qs(u,i.pendingProps),sv(n,i,u,f,a);case 3:e:{if(vi(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,Rd(n,i),Al(i,m,null,a);var _=i.memoizedState;if(m=_.cache,ji(i,Nt,m),m!==f.cache&&Ad(i,[Nt],a,!0),Sl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=av(n,i,m,a);break e}else if(m!==u){u=Pn(Error(s(424)),i),cl(u),i=av(n,i,m,a);break e}else for(Bt=Zn(i.stateNode.containerInfo.firstChild),on=i,Fe=!0,Wn=null,gr=!0,a=ry(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),m===u){i=Yr(n,i,a);break e}qt(n,i,m,a)}i=i.child}return i;case 26:return El(n,i),n===null?(a=d_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,u=jc(Rn.current).createElement(a),u[kt]=i,u[Rt]=n,Ft(u,a,n),nt(u),i.stateNode=u):i.memoizedState=d_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return jo(i),n===null&&Fe&&(u=i.stateNode=c_(i.type,i.pendingProps,Rn.current),on=i,gr=!0,Bt=Zn(u.firstChild)),u=i.pendingProps.children,n!==null||Fe?qt(n,i,u,a):i.child=Hs(i,null,u,a),El(n,i),i.child;case 5:return n===null&&Fe&&((f=u=Bt)&&(u=ZA(u,i.type,i.pendingProps,gr),u!==null?(i.stateNode=u,on=i,Bt=Zn(u.firstChild),gr=!1,f=!0):f=!1),f||Fs(i)),jo(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,om(f,m)?u=null:_!==null&&om(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Qf(n,i,pA,null,null,a),jl._currentValue=f),El(n,i),qt(n,i,u,a),i.child;case 6:return n===null&&Fe&&((n=a=Bt)&&(a=JA(a,i.pendingProps,gr),a!==null?(i.stateNode=a,on=i,Bt=null,n=!0):n=!1),n||Fs(i)),null;case 13:return ov(n,i,a);case 4:return vi(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Hs(i,null,u,a):qt(n,i,u,a),i.child;case 11:return Jy(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,ji(i,i.type,u.value),qt(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Xs(i),f=Qt(f),u=u(f),i.flags|=1,qt(n,i,u,a),i.child;case 14:return ev(n,i,i.type,i.pendingProps,a);case 15:return tv(n,i,i.type,i.pendingProps,a);case 19:return uv(n,i,a);case 22:return nv(n,i,a);case 24:return Xs(i),u=Qt(Nt),n===null?(f=Kf(),f===null&&(f=Ze,m=Gf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},bd(i),ji(i,Nt,f)):((n.lanes&a)!==0&&(Rd(n,i),Al(i,null,null,a),Sl()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ji(i,Nt,u)):(u=m.cache,ji(i,Nt,u),u!==f.cache&&Ad(i,[Nt],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var wd=Be(null),Ws=null,Qr=null;function ji(n,i,a){Ye(wd,i._currentValue),i._currentValue=a}function Wr(n){n._currentValue=wd.current,ot(wd)}function Sd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Ad(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Sd(m.return,a,n),u||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Sd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Tl(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;vn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===yi.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}f=f.return}n!==null&&Ad(i,n,a,u),i.flags|=262144}function Sc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ws=n,Qr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return hv(Ws,n)}function Ac(n,i){return Ws===null&&Xs(n),hv(n,i)}function hv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qr===null){if(n===null)throw Error(s(308));Qr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Qr=Qr.next=i;return a}var zi=!1;function bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qi(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=ic(n),$g(n,null,a),i}return rc(n,u,i,a),ic(n)}function wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ai(n,a)}}function Id(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Cd=!1;function Sl(){if(Cd){var n=Xa;if(n!==null)throw n}}function Al(n,i,a,u){Cd=!1;var f=n.updateQueue;zi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,L=D.next;D.next=null,_===null?m=L:_.next=L,_=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==_&&(w===null?Q.firstBaseUpdate=L:w.next=L,Q.lastBaseUpdate=D))}if(m!==null){var re=f.baseState;_=0,Q=L=D=null,w=m;do{var F=w.lane&-536870913,Y=F!==w.lane;if(Y?(Ue&F)===F:(u&F)===F){F!==0&&F===Wa&&(Cd=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=n,Se=w;F=i;var ht=a;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){re=de.call(ht,re,F);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,F=typeof de=="function"?de.call(ht,re,F):de,F==null)break e;re=I({},re,F);break e;case 2:zi=!0}}F=w.callback,F!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(L=Q=Y,D=re):Q=Q.next=Y,_|=F;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);Q===null&&(D=re),f.baseState=D,f.firstBaseUpdate=L,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),Ki|=_,n.lanes=_,n.memoizedState=re}}function fv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function dv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)fv(a[n],i)}function bl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(w){Xe(i,i.return,w)}}function Fi(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var D=a;try{w()}catch(L){Xe(f,D,L)}}}u=u.next}while(u!==m)}}catch(L){Xe(i,i.return,L)}}function mv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{dv(i,a)}catch(u){Xe(n,n.return,u)}}}function pv(n,i,a){a.props=Qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,i,u)}}function Zs(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Xe(n,i,m)}}function _n(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,i,f)}else a.current=null}function gv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function yv(n,i,a){try{var u=n.stateNode;KA(u,n.type,a,i),u[Rt]=i}catch(f){Xe(n,n.return,f)}}function vv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Dd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||vv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Uc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Nd(n,i,a),n=n.sibling;n!==null;)Nd(n,i,a),n=n.sibling}function bc(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(bc(n,i,a),n=n.sibling;n!==null;)bc(n,i,a),n=n.sibling}var Xr=!1,ut=!1,Od=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Lt=null,Ev=!1;function SA(n,i){if(n=n.containerInfo,sm=Gc,n=Lg(n),kf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,D=-1,L=0,Q=0,re=n,F=null;t:for(;;){for(var Y;re!==a||f!==0&&re.nodeType!==3||(w=_+f),re!==m||u!==0&&re.nodeType!==3||(D=_+u),re.nodeType===3&&(_+=re.nodeValue.length),(Y=re.firstChild)!==null;)F=re,re=Y;for(;;){if(re===n)break t;if(F===a&&++L===f&&(w=_),F===m&&++Q===u&&(D=_),(Y=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=Y}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:n,selectionRange:a},Gc=!1,Lt=i;Lt!==null;)if(i=Lt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Lt=n;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var de=Qs(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(de,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Xe(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Lt=n;break}Lt=i.return}return de=Ev,Ev=!1,de}function Tv(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(n,a),u&4&&bl(5,a);break;case 1:if(Jr(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){Xe(a,a.return,w)}else{var f=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(a,a.return,w)}}u&64&&mv(a),u&512&&Zs(a,a.return);break;case 3:if(Jr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{dv(u,n)}catch(w){Xe(a,a.return,w)}}break;case 26:Jr(n,a),u&512&&Zs(a,a.return);break;case 27:case 5:Jr(n,a),i===null&&u&4&&gv(a),u&512&&Zs(a,a.return);break;case 12:Jr(n,a);break;case 13:Jr(n,a),u&4&&Av(n,a);break;case 22:if(f=a.memoizedState!==null||Xr,!f){i=i!==null&&i.memoizedState!==null||ut;var m=Xr,_=ut;Xr=f,(ut=i)&&!_?Hi(n,a,(a.subtreeFlags&8772)!==0):Jr(n,a),Xr=m,ut=_}u&512&&(a.memoizedProps.mode==="manual"?Zs(a,a.return):_n(a,a.return));break;default:Jr(n,a)}}function wv(n){var i=n.alternate;i!==null&&(n.alternate=null,wv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Cs(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,En=!1;function Zr(n,i,a){for(a=a.child;a!==null;)Sv(n,i,a),a=a.sibling}function Sv(n,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(_i,a)}catch{}switch(a.tag){case 26:ut||_n(a,i),Zr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||_n(a,i);var u=Et,f=En;for(Et=a.stateNode,Zr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Cs(a),Et=u,En=f;break;case 5:ut||_n(a,i);case 6:f=Et;var m=En;if(Et=null,Zr(n,i,a),Et=f,En=m,Et!==null)if(En)try{n=Et,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){Xe(a,i,_)}else try{Et.removeChild(a.stateNode)}catch(_){Xe(a,i,_)}break;case 18:Et!==null&&(En?(i=Et,a=a.stateNode,i.nodeType===8?um(i.parentNode,a):i.nodeType===1&&um(i,a),Fl(i)):um(Et,a.stateNode));break;case 4:u=Et,f=En,Et=a.stateNode.containerInfo,En=!0,Zr(n,i,a),Et=u,En=f;break;case 0:case 11:case 14:case 15:ut||Fi(2,a,i),ut||Fi(4,a,i),Zr(n,i,a);break;case 1:ut||(_n(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&pv(a,i,u)),Zr(n,i,a);break;case 21:Zr(n,i,a);break;case 22:ut||_n(a,i),ut=(u=ut)||a.memoizedState!==null,Zr(n,i,a),ut=u;break;default:Zr(n,i,a)}}function Av(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(a){Xe(i,i.return,a)}}function AA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new _v),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new _v),i;default:throw Error(s(435,n.tag))}}function xd(n,i){var a=AA(n);i.forEach(function(u){var f=LA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Un(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Et=w.stateNode,En=!1;break e;case 3:Et=w.stateNode.containerInfo,En=!0;break e;case 4:Et=w.stateNode.containerInfo,En=!0;break e}w=w.return}if(Et===null)throw Error(s(160));Sv(m,_,f),Et=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bv(i,n),i=i.sibling}var Xn=null;function bv(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(i,n),jn(n),u&4&&(Fi(3,n,n.return),bl(3,n),Fi(5,n,n.return));break;case 1:Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&64&&Xr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Xn;if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ri]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,u,a),m[kt]=n,nt(m),u=m;break e;case"link":var _=g_("link","href",f).get(u+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;case"meta":if(_=g_("meta","content",f).get(u+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[kt]=n,nt(m),u=m}n.stateNode=u}else y_(f,n.type,n.stateNode);else n.stateNode=p_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?y_(f,n.type,n.stateNode):p_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&yv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var L=D.nextSibling,Q=D.nodeName;D[Ri]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=L}for(var re=n.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Ft(f,re,m),f[kt]=n,f[Rt]=m}catch(de){Xe(n,n.return,de)}}case 5:if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(de){Xe(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,yv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Od=!0);break;case 6:if(Un(i,n),jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(de){Xe(n,n.return,de)}}break;case 3:if(qc=null,f=Xn,Xn=zc(i.containerInfo),Un(i,n),Xn=f,jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(de){Xe(n,n.return,de)}Od&&(Od=!1,Rv(n));break;case 4:u=Xn,Xn=zc(n.stateNode.containerInfo),Un(i,n),jn(n),Xn=u;break;case 12:Un(i,n),jn(n);break;case 13:Un(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bd=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,xd(n,u)));break;case 22:if(u&512&&(ut||a===null||_n(a,a.return)),D=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Q=Xr,re=ut,Xr=Q||D,ut=re||L,Un(i,n),ut=re,Xr=Q,jn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Xr||ut,a===null||L||i||to(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(f=L.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=L.stateNode,w=L.memoizedProps.style;var Y=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(de){Xe(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=D?"":L.memoizedProps}catch(de){Xe(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,xd(n,a))));break;case 19:Un(i,n),jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,xd(n,u)));break;case 21:break;default:Un(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(vv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Dd(n);bc(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Dn(_,""),u.flags&=-33);var w=Dd(n);bc(n,w,_);break;case 3:case 4:var D=u.stateNode.containerInfo,L=Dd(n);Nd(n,L,D);break;default:throw Error(s(161))}}}catch(Q){Xe(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Rv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Jr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tv(n,i.alternate,i),i=i.sibling}function to(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),to(i);break;case 1:_n(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&pv(i,i.return,a),to(i);break;case 26:case 27:case 5:_n(i,i.return),to(i);break;case 22:_n(i,i.return),i.memoizedState===null&&to(i);break;default:to(i)}n=n.sibling}}function Hi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Hi(f,m,a),bl(4,m);break;case 1:if(Hi(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Xe(u,u.return,L)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)fv(D[f],w)}catch(L){Xe(u,u.return,L)}}a&&_&64&&mv(m),Zs(m,m.return);break;case 26:case 27:case 5:Hi(f,m,a),a&&u===null&&_&4&&gv(m),Zs(m,m.return);break;case 12:Hi(f,m,a);break;case 13:Hi(f,m,a),a&&_&4&&Av(f,m);break;case 22:m.memoizedState===null&&Hi(f,m,a),Zs(m,m.return);break;default:Hi(f,m,a)}i=i.sibling}}function kd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&pl(a))}function Pd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n))}function Gi(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iv(n,i,a,u),i=i.sibling}function Iv(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Gi(n,i,a,u),f&2048&&bl(9,i);break;case 3:Gi(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n)));break;case 12:if(f&2048){Gi(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else Gi(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Gi(n,i,a,u):Rl(n,i):m._visibility&4?Gi(n,i,a,u):(m._visibility|=4,no(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&kd(i.alternate,i);break;case 24:Gi(n,i,a,u),f&2048&&Pd(i.alternate,i);break;default:Gi(n,i,a,u)}}function no(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,w=a,D=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:no(m,_,w,D,f),bl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&4?no(m,_,w,D,f):Rl(m,_):(Q._visibility|=4,no(m,_,w,D,f)),f&&L&2048&&kd(_.alternate,_);break;case 24:no(m,_,w,D,f),f&&L&2048&&Pd(_.alternate,_);break;default:no(m,_,w,D,f)}i=i.sibling}}function Rl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Rl(a,u),f&2048&&kd(u.alternate,u);break;case 24:Rl(a,u),f&2048&&Pd(u.alternate,u);break;default:Rl(a,u)}i=i.sibling}}var Il=8192;function ro(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)Cv(n),n=n.sibling}function Cv(n){switch(n.tag){case 26:ro(n),n.flags&Il&&n.memoizedState!==null&&fb(Xn,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var i=Xn;Xn=zc(n.stateNode.containerInfo),ro(n),Xn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,ro(n),Il=i):ro(n));break;default:ro(n)}}function Dv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,Ov(u,n)}Dv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nv(n),n=n.sibling}function Nv(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&Fi(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Rc(n)):Cl(n);break;default:Cl(n)}}function Rc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,Ov(u,n)}Dv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Rc(i));break;default:Rc(i)}n=n.sibling}}function Ov(n,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=n;Lt!==null;){u=Lt;var f=u.sibling,m=u.return;if(wv(u),u===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function bA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,i,a,u){return new bA(n,i,a,u)}function Vd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,i){var a=n.alternate;return a===null?(a=zn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function xv(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Ic(n,i,a,u,f,m){var _=0;if(u=n,typeof n=="function")Vd(n)&&(_=1);else if(typeof n=="string")_=cb(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Js(a.children,f,m,i);case g:_=8,f|=24;break;case E:return n=zn(12,a,i,f|2),n.elementType=E,n.lanes=m,n;case W:return n=zn(13,a,i,f),n.elementType=W,n.lanes=m,n;case q:return n=zn(19,a,i,f),n.elementType=q,n.lanes=m,n;case K:return kv(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:_=10;break e;case R:_=9;break e;case H:_=11;break e;case $:_=14;break e;case X:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=zn(_,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function Js(n,i,a,u){return n=zn(7,n,u,i),n.lanes=a,n}function kv(n,i,a,u){n=zn(22,n,u,i),n.elementType=K,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Pi(m,2);_!==null&&(f._pendingVisibility|=2,ln(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Pi(m,2);_!==null&&(f._pendingVisibility&=-3,ln(_,m,2))}}};return n.stateNode=f,n}function Md(n,i,a){return n=zn(6,n,null,i),n.lanes=a,n}function Ld(n,i,a){return i=zn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ei(n){n.flags|=4}function Pv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!v_(i)){if(i=Ln.current,i!==null&&((Ue&4194176)===Ue?yr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==yr))throw fl=qf,Xg;n.flags|=8192}}function Cc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?wi():536870912,n.lanes|=i,so|=i)}function Dl(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function RA(n,i,a){var u=i.pendingProps;switch(zf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Wr(Nt),kr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ll(i)?ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(Gd(Wn),Wn=null))),rt(i),null;case 26:return a=i.memoizedState,n===null?(ei(i),a!==null?(rt(i),Pv(i,a)):(rt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ei(i),rt(i),Pv(i,a)):(rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ei(i),rt(i),i.flags&=-16777217),null;case 27:Aa(i),a=Rn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}n=nn.current,ll(i)?Qg(i):(n=c_(f,u,a),i.stateNode=n,ei(i))}return rt(i),null;case 5:if(Aa(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(n=nn.current,ll(i))Qg(i);else{switch(f=jc(Rn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[kt]=i,n[Rt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Rn.current,ll(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||i_(n.nodeValue,a)),n||Fs(i)}else n=jc(n).createTextNode(u),n[kt]=i,i.stateNode=n}return rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ll(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Wn!==null&&(Gd(Wn),Wn=null),f=!0;if(!f)return i.flags&256?($r(i),i):($r(i),null)}if($r(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),rt(i),null;case 4:return kr(),n===null&&nm(i.stateNode.containerInfo),rt(i),null;case 10:return Wr(i.type),rt(i),null;case 19:if(ot(Dt),f=i.memoizedState,f===null)return rt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Dl(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=hc(n),m!==null){for(i.flags|=128,Dl(f,!1),n=m.updateQueue,i.updateQueue=n,Cc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)xv(a,n),a=a.sibling;return Ye(Dt,Dt.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>Dc&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304)}else{if(!u)if(n=hc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Cc(i,n),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return rt(i),null}else 2*un()-f.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=Dt.current,Ye(Dt,u?n&1|2:n&1),i):(rt(i),null);case 22:case 23:return $r(i),Hf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&ot(Gs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wr(Nt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function IA(n,i){switch(zf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Wr(Nt),kr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Aa(i),null;case 13:if($r(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ul()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ot(Dt),null;case 4:return kr(),null;case 10:return Wr(i.type),null;case 22:case 23:return $r(i),Hf(),n!==null&&ot(Gs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Wr(Nt),null;case 25:return null;default:return null}}function Vv(n,i){switch(zf(i),i.tag){case 3:Wr(Nt),kr();break;case 26:case 27:case 5:Aa(i);break;case 4:kr();break;case 13:$r(i);break;case 19:ot(Dt);break;case 10:Wr(i.type);break;case 22:case 23:$r(i),Hf(),n!==null&&ot(Gs);break;case 24:Wr(Nt)}}var CA={getCacheForType:function(n){var i=Qt(Nt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},DA=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Oe=null,Ue=0,Je=0,Tn=null,ti=!1,io=!1,Ud=!1,ni=0,ct=0,Ki=0,ea=0,jd=0,Bn=0,so=0,Nl=null,_r=null,zd=!1,Bd=0,Dc=1/0,Nc=null,Yi=null,Oc=!1,ta=null,Ol=0,qd=0,Fd=null,xl=0,Hd=null;function wn(){if((it&2)!==0&&Ue!==0)return Ue&-Ue;if(A.T!==null){var n=Wa;return n!==0?n:Zd()}return Lu()}function Mv(){Bn===0&&(Bn=(Ue&536870912)===0||Fe?Ho():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Bn}function ln(n,i,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(ao(n,0),ri(n,Ue,Bn,!1)),mt(n,a),((it&2)===0||n!==Ze)&&(n===Ze&&((it&2)===0&&(ea|=a),ct===4&&ri(n,Ue,Bn,!1)),Er(n))}function Lv(n,i,a){if((it&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||Ti(n,i),f=u?xA(n,i):Yd(n,i,!0),m=u;do{if(f===0){io&&!u&&ri(n,i,0,!1);break}else if(f===6)ri(n,i,0,!ti);else{if(a=n.current.alternate,m&&!NA(a)){f=Yd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=Nl;var D=w.current.memoizedState.isDehydrated;if(D&&(ao(w,_).flags|=256),_=Yd(w,_,!1),_!==2){if(Ud&&!D){w.errorRecoveryDisabledLanes|=m,ea|=m,f=4;break e}m=_r,_r=f,m!==null&&Gd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){ao(n,0),ri(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ri(u,i,Bn,!ti);break e}break;case 2:_r=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=Bd+300-un(),10<m)){if(ri(u,i,Bn,!ti),In(u,0)!==0)break e;u.timeoutHandle=o_(Uv.bind(null,u,a,_r,Nc,zd,i,Bn,ea,so,ti,2,-0,0),m);break e}Uv(u,a,_r,Nc,zd,i,Bn,ea,so,ti,0,-0,0)}}break}while(!0);Er(n)}function Gd(n){_r===null?_r=n:_r.push.apply(_r,n)}function Uv(n,i,a,u,f,m,_,w,D,L,Q,re,F){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:hb},Cv(i),i=db(),i!==null)){n.cancelPendingCommit=i(Gv.bind(null,n,a,u,f,_,w,D,1,re,F)),ri(n,m,_,!L);return}Gv(n,a,u,f,_,w,D,Q,re,F)}function NA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(n,i,a,u){i&=~jd,i&=~ea,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-rn(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&Si(n,a,i)}function xc(){return(it&6)===0?(kl(0),!1):!0}function $d(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,Qr=Ws=null,Zf(n),Ya=null,dl=0,n=Oe;for(;n!==null;)Vv(n.alternate,n),n=n.return;Oe=null}}function ao(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,QA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$d(),Ze=n,Oe=a=$i(n.current,null),Ue=i,Je=0,Tn=null,ti=!1,io=Ti(n,i),Ud=!1,so=Bn=jd=ea=Ki=ct=0,_r=Nl=null,zd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-rn(u),m=1<<f;i|=n[f],u&=~m}return ni=i,nc(),a}function jv(n,i){Ce=null,A.H=vr,i===hl?(i=ey(),Je=3):i===Xg?(i=ey(),Je=4):Je=i===Zy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(ct=1,wc(n,Pn(i,n.current)))}function zv(){var n=A.H;return A.H=vr,n===null?vr:n}function Bv(){var n=A.A;return A.A=CA,n}function Kd(){ct=4,ti||(Ue&4194176)!==Ue&&Ln.current!==null||(io=!0),(Ki&134217727)===0&&(ea&134217727)===0||Ze===null||ri(Ze,Ue,Bn,!1)}function Yd(n,i,a){var u=it;it|=2;var f=zv(),m=Bv();(Ze!==n||Ue!==i)&&(Nc=null,ao(n,i)),i=!1;var _=ct;e:do try{if(Je!==0&&Oe!==null){var w=Oe,D=Tn;switch(Je){case 8:$d(),_=6;break e;case 3:case 2:case 6:Ln.current===null&&(i=!0);var L=Je;if(Je=0,Tn=null,oo(n,w,D,L),a&&io){_=0;break e}break;default:L=Je,Je=0,Tn=null,oo(n,w,D,L)}}OA(),_=ct;break}catch(Q){jv(n,Q)}while(!0);return i&&n.shellSuspendCounter++,Qr=Ws=null,it=u,A.H=f,A.A=m,Oe===null&&(Ze=null,Ue=0,nc()),_}function OA(){for(;Oe!==null;)qv(Oe)}function xA(n,i){var a=it;it|=2;var u=zv(),f=Bv();Ze!==n||Ue!==i?(Nc=null,Dc=un()+500,ao(n,i)):io=Ti(n,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var m=Tn;t:switch(Je){case 1:Je=0,Tn=null,oo(n,i,m,1);break;case 2:if(Zg(m)){Je=0,Tn=null,Fv(i);break}i=function(){Je===2&&Ze===n&&(Je=7),Er(n)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Zg(m)?(Je=0,Tn=null,Fv(i)):(Je=0,Tn=null,oo(n,i,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var w=Oe;if(!_||v_(_)){Je=0,Tn=null;var D=w.sibling;if(D!==null)Oe=D;else{var L=w.return;L!==null?(Oe=L,kc(L)):Oe=null}break t}}Je=0,Tn=null,oo(n,i,m,5);break;case 6:Je=0,Tn=null,oo(n,i,m,6);break;case 8:$d(),ct=6;break e;default:throw Error(s(462))}}kA();break}catch(Q){jv(n,Q)}while(!0);return Qr=Ws=null,A.H=u,A.A=f,it=a,Oe!==null?0:(Ze=null,Ue=0,nc(),ct)}function kA(){for(;Oe!==null&&!wf();)qv(Oe)}function qv(n){var i=cv(n.alternate,n,ni);n.memoizedProps=n.pendingProps,i===null?kc(n):Oe=i}function Fv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=iv(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=iv(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Zf(i);default:Vv(a,i),i=Oe=xv(i,ni),i=cv(a,i,ni)}n.memoizedProps=n.pendingProps,i===null?kc(n):Oe=i}function oo(n,i,a,u){Qr=Ws=null,Zf(i),Ya=null,dl=0;var f=i.return;try{if(TA(n,f,i,a,Ue)){ct=1,wc(n,Pn(a,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ct=1,wc(n,Pn(a,n.current)),Oe=null;return}i.flags&32768?(Fe||u===1?n=!0:io||(Ue&536870912)!==0?n=!1:(ti=n=!0,(u===2||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Hv(i,n)):kc(i)}function kc(n){var i=n;do{if((i.flags&32768)!==0){Hv(i,ti);return}n=i.return;var a=RA(i.alternate,i,ni);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ct===0&&(ct=5)}function Hv(n,i){do{var a=IA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ct=6,Oe=null}function Gv(n,i,a,u,f,m,_,w,D,L){var Q=A.T,re=ce.p;try{ce.p=2,A.T=null,PA(n,i,a,u,re,f,m,_,w,D,L)}finally{A.T=Q,ce.p=re}}function PA(n,i,a,u,f,m,_,w){do lo();while(ta!==null);if((it&6)!==0)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=D.lanes|D.childLanes;if(L|=Lf,Vu(n,u,L,m,_,w),n===Ze&&(Oe=Ze=null,Ue=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Oc||(Oc=!0,qd=L,Fd=a,UA(Pr,function(){return lo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,m=ce.p,ce.p=2,_=it,it|=4,SA(n,D),bv(D,n),iA(am,n.containerInfo),Gc=!!sm,am=sm=null,n.current=D,Tv(n,D.alternate,D),zo(),it=_,ce.p=m,A.T=a):n.current=D,Oc?(Oc=!1,ta=n,Ol=u):$v(n,L),L=n.pendingLanes,L===0&&(Yi=null),qo(D.stateNode),Er(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)L=i[D],f(L.value,{componentStack:L.stack});return(Ol&3)!==0&&lo(),L=n.pendingLanes,(u&4194218)!==0&&(L&42)!==0?n===Hd?xl++:(xl=0,Hd=n):xl=0,kl(0),null}function $v(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,pl(i)))}function lo(){if(ta!==null){var n=ta,i=qd;qd=0;var a=Mu(Ol),u=A.T,f=ce.p;try{if(ce.p=32>a?32:a,A.T=null,ta===null)var m=!1;else{a=Fd,Fd=null;var _=ta,w=Ol;if(ta=null,Ol=0,(it&6)!==0)throw Error(s(331));var D=it;if(it|=4,Nv(_.current),Iv(_,_.current,w,a),it=D,kl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(_i,_)}catch{}m=!0}return m}finally{ce.p=f,A.T=u,$v(n,i)}}return!1}function Kv(n,i,a){i=Pn(a,i),i=fd(n.stateNode,i,2),n=qi(n,i,2),n!==null&&(mt(n,2),Er(n))}function Xe(n,i,a){if(n.tag===3)Kv(n,n,a);else for(;i!==null;){if(i.tag===3){Kv(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yi===null||!Yi.has(u))){n=Pn(a,n),a=Wy(2),u=qi(i,a,2),u!==null&&(Xy(a,u,i,n),mt(u,2),Er(u));break}}i=i.return}}function Qd(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new DA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(Ud=!0,f.add(a),n=VA.bind(null,n,i,a),i.then(n,n))}function VA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>un()-Bd?(it&2)===0&&ao(n,0):jd|=a,so===Ue&&(so=0)),Er(n)}function Yv(n,i){i===0&&(i=wi()),n=Pi(n,i),n!==null&&(mt(n,i),Er(n))}function MA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Yv(n,a)}function LA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Yv(n,a)}function UA(n,i){return bs(n,i)}var Pc=null,uo=null,Wd=!1,Vc=!1,Xd=!1,na=0;function Er(n){n!==uo&&n.next===null&&(uo===null?Pc=uo=n:uo=uo.next=n),Vc=!0,Wd||(Wd=!0,zA(jA))}function kl(n,i){if(!Xd&&Vc){Xd=!0;do for(var a=!1,u=Pc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=f&~(_&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Xv(u,m))}else m=Ue,m=In(u,u===Ze?m:0),(m&3)===0||Ti(u,m)||(a=!0,Xv(u,m));u=u.next}while(a);Xd=!1}}function jA(){Vc=Wd=!1;var n=0;na!==0&&(YA()&&(n=na),na=0);for(var i=un(),a=null,u=Pc;u!==null;){var f=u.next,m=Qv(u,i);m===0?(u.next=null,a===null?Pc=f:a.next=f,f===null&&(uo=a)):(a=u,(n!==0||(m&3)!==0)&&(Vc=!0)),u=f}kl(n)}function Qv(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-rn(m),w=1<<_,D=f[_];D===-1?((w&a)===0||(w&u)!==0)&&(f[_]=Ia(w,i)):D<=i&&(n.expiredLanes|=w),m&=~w}if(i=Ze,a=Ue,a=In(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Je===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ra(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ti(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Ra(u),Mu(a)){case 2:case 8:a=xt;break;case 32:a=Pr;break;case 268435456:a=Bo;break;default:a=Pr}return u=Wv.bind(null,n),a=bs(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Ra(u),n.callbackPriority=2,n.callbackNode=null,2}function Wv(n,i){var a=n.callbackNode;if(lo()&&n.callbackNode!==a)return null;var u=Ue;return u=In(n,n===Ze?u:0),u===0?null:(Lv(n,u,i),Qv(n,un()),n.callbackNode!=null&&n.callbackNode===a?Wv.bind(null,n):null)}function Xv(n,i){if(lo())return null;Lv(n,i,!0)}function zA(n){WA(function(){(it&6)!==0?bs(bt,n):n()})}function Zd(){return na===0&&(na=Ho()),na}function Zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ur(""+n)}function Jv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function BA(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=Zv((f[Rt]||null).action),_=u.submitter;_&&(i=(i=_[Rt]||null)?Zv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Pa("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(na!==0){var D=_?Jv(f,_):new FormData(f);od(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=_?Jv(f,_):new FormData(f),od(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Jd=0;Jd<Gg.length;Jd++){var em=Gg[Jd],qA=em.toLowerCase(),FA=em[0].toUpperCase()+em.slice(1);Qn(qA,"on"+FA)}Qn(zg,"onAnimationEnd"),Qn(Bg,"onAnimationIteration"),Qn(qg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(aA,"onTransitionRun"),Qn(oA,"onTransitionStart"),Qn(lA,"onTransitionCancel"),Qn(Fg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function e_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],D=w.instance,L=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(Q){Tc(Q)}f.currentTarget=null,m=D}else for(_=0;_<u.length;_++){if(w=u[_],D=w.instance,L=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(Q){Tc(Q)}f.currentTarget=null,m=D}}}}function Pe(n,i){var a=i[Is];a===void 0&&(a=i[Is]=new Set);var u=n+"__bubble";a.has(u)||(t_(i,n,2,!1),a.add(u))}function tm(n,i,a){var u=0;i&&(u|=4),t_(a,n,u,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function nm(n){if(!n[Mc]){n[Mc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||tm(a,!1,n),tm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,tm("selectionchange",!1,i))}}function t_(n,i,a,u){switch(A_(i)){case 2:var f=gb;break;case 8:f=yb;break;default:f=pm}a=f.bind(null,i,a,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function rm(n,i,a,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;w!==null;){if(_=Yn(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=m=_;continue e}w=w.parentNode}}u=u.return}Bu(function(){var L=m,Q=ka(a),re=[];e:{var F=Hg.get(n);if(F!==void 0){var Y=Pa,de=n;switch(n){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":Y=za;break;case"focusin":de="focus",Y=La;break;case"focusout":de="blur",Y=La;break;case"beforeblur":case"afterblur":Y=La;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Qu;break;case zg:case Bg:case qg:Y=Ua;break;case Fg:Y=Xu;break;case"scroll":case"scrollend":Y=qu;break;case"wheel":Y=Ba;break;case"copy":case"cut":case"paste":Y=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=il;break;case"toggle":case"beforetoggle":Y=Ju}var Se=(i&4)!==0,ht=!Se&&(n==="scroll"||n==="scrollend"),U=Se?F!==null?F+"Capture":null:F;Se=[];for(var M=L,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=xs(M,U),J!=null&&Se.push(Vl(M,J,B))),ht)break;M=M.return}0<Se.length&&(F=new Y(F,de,null,a,Q),re.push({event:F,listeners:Se}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",F&&a!==Nn&&(de=a.relatedTarget||a.fromElement)&&(Yn(de)||de[Vr]))break e;if((Y||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=L,de=de?Yn(de):null,de!==null&&(ht=ve(de),Se=de.tag,de!==ht||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(Y=null,de=L),Y!==de)){if(Se=xn,J="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Se=il,J="onPointerLeave",U="onPointerEnter",M="pointer"),ht=Y==null?F:Ii(Y),B=de==null?F:Ii(de),F=new Se(J,M+"leave",Y,a,Q),F.target=ht,F.relatedTarget=B,J=null,Yn(Q)===L&&(Se=new Se(U,M+"enter",de,a,Q),Se.target=B,Se.relatedTarget=ht,J=Se),ht=J,Y&&de)t:{for(Se=Y,U=de,M=0,B=Se;B;B=co(B))M++;for(B=0,J=U;J;J=co(J))B++;for(;0<M-B;)Se=co(Se),M--;for(;0<B-M;)U=co(U),B--;for(;M--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=co(Se),U=co(U)}Se=null}else Se=null;Y!==null&&n_(re,F,Y,Se,!1),de!==null&&ht!==null&&n_(re,ht,de,Se,!0)}}e:{if(F=L?Ii(L):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var he=Dg;else if(Ct(F))if(Ng)he=nA;else{he=eA;var Ne=JS}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Xo(L.elementType)&&(he=Dg):he=tA;if(he&&(he=he(n,L))){Fr(re,he,a,Q);break e}Ne&&Ne(n,F,L),n==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&xa(F,"number",F.value)}switch(Ne=L?Ii(L):window,n){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(qa=Ne,Pf=L,ol=null);break;case"focusout":ol=Pf=qa=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Ug(re,a,Q);break;case"selectionchange":if(sA)break;case"keydown":case"keyup":Ug(re,a,Q)}var pe;if(mr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?G(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(pe=Jo()):(cr=Q,ki="value"in cr?cr.value:cr.textContent,Me=!0)),Ne=Lc(L,_e),0<Ne.length&&(_e=new nl(_e,n,null,a,Q),re.push({event:_e,listeners:Ne}),pe?_e.data=pe:(pe=ae(a),pe!==null&&(_e.data=pe)))),(pe=y?It(n,a):Le(n,a))&&(_e=Lc(L,"onBeforeInput"),0<_e.length&&(Ne=new nl("onBeforeInput","beforeinput",null,a,Q),re.push({event:Ne,listeners:_e}),Ne.data=pe)),BA(re,n,L,a,Q)}e_(re,i)})}function Vl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Lc(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=xs(n,a),f!=null&&u.unshift(Vl(n,f,m)),f=xs(n,i),f!=null&&u.push(Vl(n,f,m))),n=n.return}return u}function co(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function n_(n,i,a,u,f){for(var m=i._reactName,_=[];a!==null&&a!==u;){var w=a,D=w.alternate,L=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||L===null||(D=L,f?(L=xs(a,m),L!=null&&_.unshift(Vl(a,L,D))):f||(L=xs(a,m),L!=null&&_.push(Vl(a,L,D)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var GA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function r_(n){return(typeof n=="string"?n:""+n).replace(GA,`
`).replace($A,"")}function i_(n,i){return i=r_(i),r_(n)===i}function Uc(){}function We(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(n,""+u);break;case"className":Ni(n,"class",u);break;case"tabIndex":Ni(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ni(n,a,u);break;case"style":zu(n,u,m);break;case"data":if(i!=="object"){Ni(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ur(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ur(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Uc);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ur(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Di(n,"popover",u);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=If.get(a)||a,Di(n,a,u))}}function im(n,i,a,u,f,m){switch(a){case"style":zu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&Dn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Di(n,a,u)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,m,_,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),u&&We(n,i,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=m=_=f=null,D=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var Q=a[u];if(Q!=null)switch(u){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":L=Q;break;case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(n,i,u,Q,a,null)}}Ns(n,m,w,D,L,_,f,!1),Ds(n);return;case"select":Pe("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":u=w;default:We(n,i,f,w,a,null)}i=m,a=_,n.multiple=!!u,i!=null?qe(n,!!u,i,!1):a!=null&&qe(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,i,_,w,a,null)}xi(n,u,f,m),Ds(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,D,u,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Pl.length;u++)Pe(Pl[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,L,u,a,null)}return;default:if(Xo(i)){for(Q in a)a.hasOwnProperty(Q)&&(u=a[Q],u!==void 0&&im(n,i,Q,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&We(n,i,w,u,a,null))}function KA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,D=null,L=null,Q=null;for(Y in a){var re=a[Y];if(a.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=re;default:u.hasOwnProperty(Y)||We(n,i,Y,null,u,re)}}for(var F in u){var Y=u[F];if(re=a[F],u.hasOwnProperty(F)&&(Y!=null||re!=null))switch(F){case"type":m=Y;break;case"name":f=Y;break;case"checked":L=Y;break;case"defaultChecked":Q=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==re&&We(n,i,F,Y,u,re)}}Oi(n,_,w,D,L,Q,m,f);return;case"select":Y=_=w=F=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Y=D;default:u.hasOwnProperty(m)||We(n,i,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":F=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==D&&We(n,i,f,m,u,D)}i=w,a=_,u=Y,F!=null?qe(n,!!a,F,!1):!!u!=!!a&&(i!=null?qe(n,!!a,i,!0):qe(n,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,i,w,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,i,_,f,u,m)}Os(n,F,Y);return;case"option":for(var de in a)if(F=a[de],a.hasOwnProperty(de)&&F!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:We(n,i,de,null,u,F)}for(D in u)if(F=u[D],Y=a[D],u.hasOwnProperty(D)&&F!==Y&&(F!=null||Y!=null))switch(D){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(n,i,D,F,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!u.hasOwnProperty(Se)&&We(n,i,Se,null,u,F);for(L in u)if(F=u[L],Y=a[L],u.hasOwnProperty(L)&&F!==Y&&(F!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(n,i,L,F,u,Y)}return;default:if(Xo(i)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!u.hasOwnProperty(ht)&&im(n,i,ht,void 0,u,F);for(Q in u)F=u[Q],Y=a[Q],!u.hasOwnProperty(Q)||F===Y||F===void 0&&Y===void 0||im(n,i,Q,F,u,Y);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!u.hasOwnProperty(U)&&We(n,i,U,null,u,F);for(re in u)F=u[re],Y=a[re],!u.hasOwnProperty(re)||F===Y||F==null&&Y==null||We(n,i,re,F,u,Y)}var sm=null,am=null;function jc(n){return n.nodeType===9?n:n.ownerDocument}function s_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function om(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function YA(){var n=window.event;return n&&n.type==="popstate"?n===lm?!1:(lm=n,!0):(lm=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,QA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(n){return l_.resolve(null).then(n).catch(XA)}:o_;function XA(n){setTimeout(function(){throw n})}function um(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Fl(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Fl(i)}function cm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ZA(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ri])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function JA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function u_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function c_(n,i,a){switch(i=jc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var qn=new Map,h_=new Set;function zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ii=ce.d;ce.d={f:eb,r:tb,D:nb,C:rb,L:ib,m:sb,X:ob,S:ab,M:lb};function eb(){var n=ii.f(),i=xc();return n||i}function tb(n){var i=Mr(n);i!==null&&i.tag===5&&i.type==="form"?Uy(i):ii.r(n)}var ho=typeof document>"u"?null:document;function f_(n,i,a){var u=ho;if(u&&typeof i=="string"&&i){var f=lt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),h_.has(f)||(h_.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function nb(n){ii.D(n),f_("dns-prefetch",n,null)}function rb(n,i){ii.C(n,i),f_("preconnect",n,i)}function ib(n,i,a){ii.L(n,i,a);var u=ho;if(u&&n&&i){var f='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var m=f;switch(i){case"style":m=fo(n);break;case"script":m=mo(n)}qn.has(m)||(n=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),qn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ml(m))||i==="script"&&u.querySelector(Ll(m))||(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function sb(n,i){ii.m(n,i);var a=ho;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+lt(u)+'"][href="'+lt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(n)}if(!qn.has(m)&&(n=I({rel:"modulepreload",href:n},i),qn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(m)))return}u=a.createElement("link"),Ft(u,"link",n),nt(u),a.head.appendChild(u)}}}function ab(n,i,a){ii.S(n,i,a);var u=ho;if(u&&n){var f=Ci(u).hoistableStyles,m=fo(n);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=u.querySelector(Ml(m)))w.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":i},a),(a=qn.get(m))&&hm(n,a);var D=_=u.createElement("link");nt(D),Ft(D,"link",n),D._p=new Promise(function(L,Q){D.onload=L,D.onerror=Q}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bc(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function ob(n,i){ii.X(n,i);var a=ho;if(a&&n){var u=Ci(a).hoistableScripts,f=mo(n),m=u.get(f);m||(m=a.querySelector(Ll(f)),m||(n=I({src:n,async:!0},i),(i=qn.get(f))&&fm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function lb(n,i){ii.M(n,i);var a=ho;if(a&&n){var u=Ci(a).hoistableScripts,f=mo(n),m=u.get(f);m||(m=a.querySelector(Ll(f)),m||(n=I({src:n,async:!0,type:"module"},i),(i=qn.get(f))&&fm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function d_(n,i,a,u){var f=(f=Rn.current)?zc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=Ci(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=fo(a.href);var m=Ci(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Ml(n)))&&!m._p&&(_.instance=m,_.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),m||ub(f,n,a,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=Ci(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fo(n){return'href="'+lt(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function m_(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function ub(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ft(i,"link",a),nt(i),n.head.appendChild(i))}function mo(n){return'[src="'+lt(n)+'"]'}function Ll(n){return"script[async]"+n}function p_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),Ft(u,"style",f),Bc(u,a.precedence,n),i.instance=u;case"stylesheet":f=fo(a.href);var m=n.querySelector(Ml(f));if(m)return i.state.loading|=4,i.instance=m,nt(m),m;u=m_(a),(f=qn.get(f))&&hm(u,f),m=(n.ownerDocument||n).createElement("link"),nt(m);var _=m;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Ft(m,"link",u),i.state.loading|=4,Bc(m,a.precedence,n),i.instance=m;case"script":return m=mo(a.src),(f=n.querySelector(Ll(m)))?(i.instance=f,nt(f),f):(u=a,(f=qn.get(m))&&(u=I({},a),fm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),Ft(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Bc(u,a.precedence,n));return i.instance}function Bc(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var w=u[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function hm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function fm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var qc=null;function g_(n,i,a){if(qc===null){var u=new Map,f=qc=new Map;f.set(a,u)}else f=qc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ri]||m[kt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var w=u.get(_);w?w.push(m):u.set(_,[m])}}return u}function y_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function cb(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function v_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function hb(){}function fb(n,i,a){if(Ul===null)throw Error(s(475));var u=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=fo(a.href),m=n.querySelector(Ml(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Fc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,nt(m);return}m=n.ownerDocument||n,a=m_(a),(f=qn.get(f))&&hm(a,f),m=m.createElement("link"),nt(m);var _=m;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Ft(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Fc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function db(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&dm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&dm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hc=null;function dm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hc=new Map,i.forEach(mb,n),Hc=null,Fc.call(n))}function mb(n,i){if(!(i.state.loading&4)){var a=Hc.get(n);if(a)var u=a.get(null);else{a=new Map,Hc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=Fc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var jl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function pb(n,i,a,u,f,m,_,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function __(n,i,a,u,f,m,_,w,D,L,Q,re){return n=new pb(n,i,a,_,w,D,L,re),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),n.current=m,m.stateNode=n,i=Gf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},bd(m),n}function E_(n){return n?(n=Ga,n):Ga}function T_(n,i,a,u,f,m){f=E_(f),u.context===null?u.context=f:u.pendingContext=f,u=Bi(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=qi(n,u,i),a!==null&&(ln(a,n,i),wl(a,n,i))}function w_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function mm(n,i){w_(n,i),(n=n.alternate)&&w_(n,i)}function S_(n){if(n.tag===13){var i=Pi(n,67108864);i!==null&&ln(i,n,67108864),mm(n,67108864)}}var Gc=!0;function gb(n,i,a,u){var f=A.T;A.T=null;var m=ce.p;try{ce.p=2,pm(n,i,a,u)}finally{ce.p=m,A.T=f}}function yb(n,i,a,u){var f=A.T;A.T=null;var m=ce.p;try{ce.p=8,pm(n,i,a,u)}finally{ce.p=m,A.T=f}}function pm(n,i,a,u){if(Gc){var f=gm(u);if(f===null)rm(n,i,u,$c,a),b_(n,u);else if(_b(f,n,i,a,u))u.stopPropagation();else if(b_(n,u),i&4&&-1<vb.indexOf(n)){for(;f!==null;){var m=Mr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Kn(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-rn(_);w.entanglements[1]|=D,_&=~D}Er(m),(it&6)===0&&(Dc=un()+500,kl(0))}}break;case 13:w=Pi(m,2),w!==null&&ln(w,m,2),xc(),mm(m,2)}if(m=gm(u),m===null&&rm(n,i,u,$c,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else rm(n,i,u,null,a)}}function gm(n){return n=ka(n),ym(n)}var $c=null;function ym(n){if($c=null,n=Yn(n),n!==null){var i=ve(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ge(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return $c=n,null}function A_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ou()){case bt:return 2;case xt:return 8;case Pr:case xu:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var vm=!1,Qi=null,Wi=null,Xi=null,zl=new Map,Bl=new Map,Zi=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(n,i){switch(n){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Mr(i),i!==null&&S_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function _b(n,i,a,u,f){switch(i){case"focusin":return Qi=ql(Qi,n,i,a,u,f),!0;case"dragenter":return Wi=ql(Wi,n,i,a,u,f),!0;case"mouseover":return Xi=ql(Xi,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return zl.set(m,ql(zl.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Bl.set(m,ql(Bl.get(m)||null,n,i,a,u,f)),!0}return!1}function R_(n){var i=Yn(n.target);if(i!==null){var a=ve(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){n.blockedOn=i,bi(n.priority,function(){if(a.tag===13){var u=wn(),f=Pi(a,u);f!==null&&ln(f,a,u),mm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=gm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Nn=u,a.target.dispatchEvent(u),Nn=null}else return i=Mr(a),i!==null&&S_(i),n.blockedOn=a,!1;i.shift()}return!0}function I_(n,i,a){Kc(n)&&a.delete(i)}function Eb(){vm=!1,Qi!==null&&Kc(Qi)&&(Qi=null),Wi!==null&&Kc(Wi)&&(Wi=null),Xi!==null&&Kc(Xi)&&(Xi=null),zl.forEach(I_),Bl.forEach(I_)}function Yc(n,i){n.blockedOn===i&&(n.blockedOn=null,vm||(vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eb)))}var Qc=null;function C_(n){Qc!==n&&(Qc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===n&&(Qc=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(ym(u||a)===null)continue;break}var m=Mr(a);m!==null&&(n.splice(i,3),i-=3,od(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Fl(n){function i(D){return Yc(D,n)}Qi!==null&&Yc(Qi,n),Wi!==null&&Yc(Wi,n),Xi!==null&&Yc(Xi,n),zl.forEach(i),Bl.forEach(i);for(var a=0;a<Zi.length;a++){var u=Zi[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Zi.length&&(a=Zi[0],a.blockedOn===null);)R_(a),a.blockedOn===null&&Zi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[Rt]||null;if(typeof m=="function")_||C_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Rt]||null)w=_.formAction;else if(ym(f)!==null)continue}else w=_.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),C_(a)}}}function _m(n){this._internalRoot=n}Wc.prototype.render=_m.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=wn();T_(a,u,n,i,null,null)},Wc.prototype.unmount=_m.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&lo(),T_(n.current,2,null,n,null,null),xc(),i[Vr]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Lu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Zi.length&&i!==0&&i<Zi[a].priority;a++);Zi.splice(a,0,n),a===0&&R_(n)}};var D_=e.version;if(D_!=="19.0.0")throw Error(s(527,D_,"19.0.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ie(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var Tb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{_i=Xc.inject(Tb),Yt=Xc}catch{}}return Gl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=$y,m=Ky,_=Yy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=__(n,1,!1,null,null,a,u,f,m,_,w,null),n[Vr]=i.current,nm(n.nodeType===8?n.parentNode:n),new _m(i)},Gl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=$y,_=Ky,w=Yy,D=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=__(n,1,!0,i,a??null,u,f,m,_,w,D,L),i.context=E_(null),a=i.current,u=wn(),f=Bi(u),f.callback=null,qi(a,f,u),i.current.lanes=u,mt(i,u),Er(i),n[Vr]=i.current,nm(n),new Wc(i)},Gl.version="19.0.0",Gl}var j_;function Ob(){if(j_)return wm.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=Nb(),wm.exports}var xb=Ob();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function kb(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=ya(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Fm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:au(l))}function s(o,l){tr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Vb(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function B_(r,e){return{usr:r.state,key:r.key,idx:e}}function Fm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:t,key:e&&e.key||s||Pb()}}function au({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ya(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Vb(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let q=E(),$=q==null?null:q-g;g=q,p&&p({action:d,location:W.location,delta:$})}function R(q,$){d="PUSH";let X=Fm(W.location,q,$);t&&t(X,q),g=E()+1;let K=B_(X,g),te=W.createHref(X);try{h.pushState(K,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(te)}l&&p&&p({action:d,location:W.location,delta:1})}function k(q,$){d="REPLACE";let X=Fm(W.location,q,$);t&&t(X,q),g=E();let K=B_(X,g),te=W.createHref(X);h.replaceState(K,"",te),l&&p&&p({action:d,location:W.location,delta:0})}function H(q){return Mb(q)}let W={get action(){return d},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,T),p=q,()=>{o.removeEventListener(z_,T),p=null}},createHref(q){return e(o,q)},createURL:H,encodeLocation(q){let $=H(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:k,go(q){return h.go(q)}};return W}function Mb(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:au(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function PT(r,e,t="/"){return Lb(r,e,t,!1)}function Lb(r,e,t,s){let o=typeof e=="string"?ya(e):e,l=hi(o.pathname||"/",t);if(l==null)return null;let h=VT(r);Ub(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=Qb(l);d=Kb(h[p],g,s)}return d}function VT(r,e=[],t=[],s="",o=!1){let l=(h,d,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=li([s,E.relativePath]),R=t.concat(E);h.children&&h.children.length>0&&(st(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VT(h.children,e,R,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Gb(T,h.index),routesMeta:R})};return r.forEach((h,d)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))l(h,d);else for(let g of MT(h.path))l(h,d,!0,g)}),e}function MT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=MT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ub(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:$b(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var jb=/^:[\w-]+$/,zb=3,Bb=2,qb=1,Fb=10,Hb=-2,q_=r=>r==="*";function Gb(r,e){let t=r.split("/"),s=t.length;return t.some(q_)&&(s+=Hb),e&&(s+=Bb),t.filter(o=>!q_(o)).reduce((o,l)=>o+(jb.test(l)?zb:l===""?qb:Fb),s)}function $b(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Kb(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:li([l,T.pathname]),pathnameBase:Jb(li([l,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(l=li([l,T.pathnameBase]))}return h}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Yb(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let H=d[R]||"";h=l.slice(0,l.length-H.length).replace(/(.)\/+$/,"$1")}const k=d[R];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function Yb(r,e=!1,t=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Qb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Wb(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?ya(r):r;return{pathname:t?t.startsWith("/")?t:Xb(t,e):e,search:eR(s),hash:tR(o)}}function Xb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function LT(r){let e=Zb(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function UT(r,e,t,s=!1){let o;typeof r=="string"?o=ya(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}d=T>=0?e[T]:"/"}let p=Wb(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var li=r=>r.join("/").replace(/\/\/+/g,"/"),Jb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),eR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,tR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function nR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var jT=["POST","PUT","PATCH","DELETE"];new Set(jT);var rR=["GET",...jT];new Set(rR);var Oo=z.createContext(null);Oo.displayName="DataRouter";var Gh=z.createContext(null);Gh.displayName="DataRouterState";z.createContext(!1);var zT=z.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var iR=z.createContext(new Map);iR.displayName="Fetchers";var sR=z.createContext(null);sR.displayName="Await";var Nr=z.createContext(null);Nr.displayName="Navigation";var gu=z.createContext(null);gu.displayName="Location";var Or=z.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Tp=z.createContext(null);Tp.displayName="RouteError";function aR(r,{relative:e}={}){st(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Nr),{hash:o,pathname:l,search:h}=vu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:li([t,l])),s.createHref({pathname:d,search:h,hash:o})}function yu(){return z.useContext(gu)!=null}function va(){return st(yu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(gu).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(r){z.useContext(Nr).static||z.useLayoutEffect(r)}function _s(){let{isDataRoute:r}=z.useContext(Or);return r?_R():oR()}function oR(){st(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Oo),{basename:e,navigator:t}=z.useContext(Nr),{matches:s}=z.useContext(Or),{pathname:o}=va(),l=JSON.stringify(LT(s)),h=z.useRef(!1);return qT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(tr(h.current,BT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=UT(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:li([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,r])}z.createContext(null);function FT(){let{matches:r}=z.useContext(Or),e=r[r.length-1];return e?e.params:{}}function vu(r,{relative:e}={}){let{matches:t}=z.useContext(Or),{pathname:s}=va(),o=JSON.stringify(LT(t));return z.useMemo(()=>UT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function lR(r,e){return HT(r,e)}function HT(r,e,t,s,o){var X;st(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(Nr),{matches:h}=z.useContext(Or),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";GT(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=va(),k;if(e){let K=typeof e=="string"?ya(e):e;st(E==="/"||((X=K.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${K.pathname}" was given in the \`location\` prop.`),k=K}else k=R;let H=k.pathname||"/",W=H;if(E!=="/"){let K=E.replace(/^\//,"").split("/");W="/"+H.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=PT(r,{pathname:W});tr(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),tr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=dR(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:li([E,l.encodeLocation?l.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?E:li([E,l.encodeLocation?l.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),h,t,s,o);return e&&$?z.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function uR(){let r=vR(),e=nR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var cR=z.createElement(uR,null),hR=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Or.Provider,{value:this.props.routeContext},z.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fR({routeContext:r,match:e,children:t}){let s=z.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Or.Provider,{value:r},t)}function dR(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let g=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<l.length;g++){let E=l[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:R}=t,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,E,T)=>{let R,k=!1,H=null,W=null;t&&(R=h&&E.route.id?h[E.route.id]:void 0,H=E.route.errorElement||cR,d&&(p<0&&T===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,W=null):p===T&&(k=!0,W=E.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,T+1)),$=()=>{let X;return R?X=H:k?X=W:E.route.Component?X=z.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=g,z.createElement(fR,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:X})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?z.createElement(hR,{location:t.location,revalidation:t.revalidation,component:H,error:R,children:$(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):$()},null)}function wp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mR(r){let e=z.useContext(Oo);return st(e,wp(r)),e}function pR(r){let e=z.useContext(Gh);return st(e,wp(r)),e}function gR(r){let e=z.useContext(Or);return st(e,wp(r)),e}function Sp(r){let e=gR(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function yR(){return Sp("useRouteId")}function vR(){var s;let r=z.useContext(Tp),e=pR("useRouteError"),t=Sp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function _R(){let{router:r}=mR("useNavigate"),e=Sp("useNavigate"),t=z.useRef(!1);return qT(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{tr(t.current,BT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var F_={};function GT(r,e,t){!e&&!F_[r]&&(F_[r]=!0,tr(!1,t))}z.memo(ER);function ER({routes:r,future:e,state:t,unstable_onError:s}){return HT(r,void 0,t,s,e)}function po(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){st(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ya(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:R="default"}=t,k=z.useMemo(()=>{let H=hi(p,h);return H==null?null:{location:{pathname:H,search:g,hash:E,state:T,key:R},navigationType:s}},[h,p,g,E,T,R,s]);return tr(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Nr.Provider,{value:d},z.createElement(gu.Provider,{children:e,value:k}))}function wR({children:r,location:e}){return lR(Hm(r),e)}function Hm(r,e=[]){let t=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let l=[...e,o];if(s.type===z.Fragment){t.push.apply(t,Hm(s.props.children,l));return}st(s.type===po,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Hm(s.props.children,l)),t.push(h)}),t}var sh="get",ah="application/x-www-form-urlencoded";function $h(r){return r!=null&&typeof r.tagName=="string"}function SR(r){return $h(r)&&r.tagName.toLowerCase()==="button"}function AR(r){return $h(r)&&r.tagName.toLowerCase()==="form"}function bR(r){return $h(r)&&r.tagName.toLowerCase()==="input"}function RR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function IR(r,e){return r.button===0&&(!e||e==="_self")&&!RR(r)}var Zc=null;function CR(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var DR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(r){return r!=null&&!DR.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function NR(r,e){let t,s,o,l,h;if(AR(r)){let d=r.getAttribute("action");s=d?hi(d,e):null,t=r.getAttribute("method")||sh,o=Im(r.getAttribute("enctype"))||ah,l=new FormData(r)}else if(SR(r)||bR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?hi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||sh,o=Im(r.getAttribute("formenctype"))||Im(d.getAttribute("enctype"))||ah,l=new FormData(d,r),!CR()){let{name:g,type:E,value:T}=r;if(E==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,T)}}else{if($h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sh,s=null,o=ah,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function OR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&hi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function xR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function PR(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await xR(l,t);return h.links?h.links():[]}return[]}));return UR(s.flat(1).filter(kR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H_(r,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function VR(r,e,{includeHydrateFallback:t}={}){return MR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function MR(r){return[...new Set(r)]}function LR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function UR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(LR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function $T(){let r=z.useContext(Oo);return Ap(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jR(){let r=z.useContext(Gh);return Ap(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bp=z.createContext(void 0);bp.displayName="FrameworkContext";function KT(){let r=z.useContext(bp);return Ap(r,"You must render this element inside a <HydratedRouter> element"),r}function zR(r,e){let t=z.useContext(bp),[s,o]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,R=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let W=$=>{$.forEach(X=>{h(X.isIntersecting)})},q=new IntersectionObserver(W,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),z.useEffect(()=>{if(s){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[s]);let k=()=>{o(!0)},H=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,R,{}]:[l,R,{onFocus:$l(d,k),onBlur:$l(p,H),onMouseEnter:$l(g,k),onMouseLeave:$l(E,H),onTouchStart:$l(T,k)}]:[!1,R,{}]}function $l(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function BR({page:r,...e}){let{router:t}=$T(),s=z.useMemo(()=>PT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(FR,{page:r,matches:s,...e}):null}function qR(r){let{manifest:e,routeModules:t}=KT(),[s,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return PR(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function FR({page:r,matches:e,...t}){let s=va(),{manifest:o,routeModules:l}=KT(),{basename:h}=$T(),{loaderData:d,matches:p}=jR(),g=z.useMemo(()=>H_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=z.useMemo(()=>H_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,W=!1;if(e.forEach($=>{var K;let X=o.routes[$.route.id];!X||!X.hasLoader||(!g.some(te=>te.route.id===$.route.id)&&$.route.id in d&&((K=l[$.route.id])!=null&&K.shouldRevalidate)||X.hasClientLoader?W=!0:H.add($.route.id))}),H.size===0)return[];let q=OR(r,h,"data");return W&&H.size>0&&q.searchParams.set("_routes",e.filter($=>H.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[h,d,s,o,g,e,r,l]),R=z.useMemo(()=>VR(E,o),[E,o]),k=qR(E);return z.createElement(z.Fragment,null,T.map(H=>z.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...t})),R.map(H=>z.createElement("link",{key:H,rel:"modulepreload",href:H,...t})),k.map(({key:H,link:W})=>z.createElement("link",{key:H,nonce:t.nonce,...W})))}function HR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.8.2")}catch{}function GR({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=kb({window:t,v5Compat:!0}));let o=s.current,[l,h]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(TR,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WT=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...R},k){let{basename:H}=z.useContext(Nr),W=typeof g=="string"&&QT.test(g),q,$=!1;if(typeof g=="string"&&W&&(q=g,YT))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),O=hi(I.pathname,H);I.origin===A.origin&&O!=null?g=O+I.search+I.hash:$=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=aR(g,{relative:o}),[K,te,ne]=zR(s,R),fe=QR(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function x(A){e&&e(A),A.defaultPrevented||fe(A)}let b=z.createElement("a",{...R,...ne,href:q||X,onClick:$||l?e:x,ref:HR(k,te),target:p,"data-discover":!W&&t==="render"?"true":void 0});return K&&!W?z.createElement(z.Fragment,null,b,z.createElement(BR,{page:X})):b});WT.displayName="Link";var $R=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let T=vu(h,{relative:g.relative}),R=va(),k=z.useContext(Gh),{navigator:H,basename:W}=z.useContext(Nr),q=k!=null&&e1(T)&&d===!0,$=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,X=R.pathname,K=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(X=X.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&W&&(K=hi(K,W)||K);const te=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ne=X===$||!o&&X.startsWith($)&&X.charAt(te)==="/",fe=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),x={isActive:ne,isPending:fe,isTransitioning:q},b=ne?e:void 0,A;typeof s=="function"?A=s(x):A=[s,ne?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(x):l;return z.createElement(WT,{...g,"aria-current":b,className:A,ref:E,style:I,to:h,viewTransition:d},typeof p=="function"?p(x):p)});$R.displayName="NavLink";var KR=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=sh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...R},k)=>{let H=ZR(),W=JR(d,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&QT.test(d),X=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let te=K.nativeEvent.submitter,ne=(te==null?void 0:te.getAttribute("formmethod"))||h;H(te||K.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:T})};return z.createElement("form",{ref:k,method:q,action:W,onSubmit:s?p:X,...R,"data-discover":!$&&r==="render"?"true":void 0})});KR.displayName="Form";function YR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(r){let e=z.useContext(Oo);return st(e,YR(r)),e}function QR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=_s(),p=va(),g=vu(r,{relative:l});return z.useCallback(E=>{if(IR(E,e)){E.preventDefault();let T=t!==void 0?t:au(p)===au(g);d(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,r,o,l,h])}var WR=0,XR=()=>`__${String(++WR)}__`;function ZR(){let{router:r}=XT("useSubmit"),{basename:e}=z.useContext(Nr),t=yR();return z.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=NR(s,e);if(o.navigate===!1){let E=o.fetcherKey||XR();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function JR(r,{relative:e}={}){let{basename:t}=z.useContext(Nr),s=z.useContext(Or);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...vu(r||".",{relative:e})},h=va();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:li([t,l.pathname])),au(l)}function e1(r,{relative:e}={}){let t=z.useContext(zT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=XT("useViewTransitionState"),o=vu(r,{relative:e});if(!t.isTransitioning)return!1;let l=hi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=hi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vh(o.pathname,h)!=null||vh(o.pathname,l)!=null}const t1=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},n1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,k=g&63;p||(k=64,h||(R=64)),s.push(t[E],t[T],t[R],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ZT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):n1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new r1;const R=l<<2|d>>4;if(s.push(R),g!==64){const k=d<<4&240|g>>2;if(s.push(k),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class r1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i1=function(r){const e=ZT(r);return JT.encodeByteArray(e,!0)},_h=function(r){return i1(r).replace(/\./g,"")},e0=function(r){try{return JT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},l1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&e0(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return t1()||a1()||o1()||l1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},t0=r=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},u1=r=>{const e=t0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},n0=()=>{var r;return(r=Kh())===null||r===void 0?void 0:r.config},r0=r=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_h(JSON.stringify(t)),_h(JSON.stringify(h)),""].join(".")}const Jl={};function f1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function d1(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let $_=!1;function s0(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Jl[r]===e||Jl[r]||$_)return;Jl[r]=e;function t(R){return`__firebase__banner__${R}`}const s="__firebase__banner",l=f1().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function d(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{$_=!0,h()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=d1(s),k=t("text"),H=document.getElementById(k)||document.createElement("span"),W=t("learnmore"),q=document.getElementById(W)||document.createElement("a"),$=t("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const K=R.element;d(K),E(q,W);const te=g();p(X,$),K.append(X,H,q,te),document.body.appendChild(K)}l?(H.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function p1(){var r;const e=(r=Kh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _1(){return!p1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o0(){try{return typeof indexedDB=="object"}catch{return!1}}function l0(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function E1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class ir extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=T1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?w1(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ir(o,d,s)}}function w1(r,e){return r.replace(S1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const S1=/\{\$([^}]+)}/g;function A1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function cs(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(K_(l)&&K_(h)){if(!cs(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function K_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function b1(r,e){const t=new R1(r,e);return t.subscribe.bind(t)}class R1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");I1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e3,D1=2,N1=4*60*60*1e3,O1=.5;function Y_(r,e=C1,t=D1){const s=e*Math.pow(t,r),o=Math.round(O1*s*(Math.random()-.5)*2);return Math.min(N1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r){return r&&r._delegate?r._delegate:r}class nr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new c1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P1(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:k1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(r){return r===ra?void 0:r}function P1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const M1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},L1=xe.INFO,U1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},j1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=U1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=L1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const z1=(r,e)=>e.some(t=>r instanceof t);let Q_,W_;function B1(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q1(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u0=new WeakMap,Gm=new WeakMap,c0=new WeakMap,Dm=new WeakMap,Rp=new WeakMap;function F1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ss(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&u0.set(t,r)}).catch(()=>{}),Rp.set(e,r),e}function H1(r){if(Gm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Gm.set(r,e)}let $m={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function G1(r){$m=r($m)}function $1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Nm(this),e,...t);return c0.set(s,e.sort?e.sort():[e]),ss(s)}:q1().includes(r)?function(...e){return r.apply(Nm(this),e),ss(u0.get(this))}:function(...e){return ss(r.apply(Nm(this),e))}}function K1(r){return typeof r=="function"?$1(r):(r instanceof IDBTransaction&&H1(r),z1(r,B1())?new Proxy(r,$m):r)}function ss(r){if(r instanceof IDBRequest)return F1(r);if(Dm.has(r))return Dm.get(r);const e=K1(r);return e!==r&&(Dm.set(r,e),Rp.set(e,r)),e}const Nm=r=>Rp.get(r);function h0(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Y1=["get","getKey","getAll","getAllKeys","count"],Q1=["put","add","delete","clear"],Om=new Map;function X_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Q1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Om.set(e,l),l}G1(r=>({...r,get:(e,t,s)=>X_(e,t)||r.get(e,t,s),has:(e,t)=>!!X_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function X1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Km="@firebase/app",Z_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Yh("@firebase/app"),Z1="@firebase/app-compat",J1="@firebase/analytics-compat",eI="@firebase/analytics",tI="@firebase/app-check-compat",nI="@firebase/app-check",rI="@firebase/auth",iI="@firebase/auth-compat",sI="@firebase/database",aI="@firebase/data-connect",oI="@firebase/database-compat",lI="@firebase/functions",uI="@firebase/functions-compat",cI="@firebase/installations",hI="@firebase/installations-compat",fI="@firebase/messaging",dI="@firebase/messaging-compat",mI="@firebase/performance",pI="@firebase/performance-compat",gI="@firebase/remote-config",yI="@firebase/remote-config-compat",vI="@firebase/storage",_I="@firebase/storage-compat",EI="@firebase/firestore",TI="@firebase/ai",wI="@firebase/firestore-compat",SI="firebase",AI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",bI={[Km]:"fire-core",[Z1]:"fire-core-compat",[eI]:"fire-analytics",[J1]:"fire-analytics-compat",[nI]:"fire-app-check",[tI]:"fire-app-check-compat",[rI]:"fire-auth",[iI]:"fire-auth-compat",[sI]:"fire-rtdb",[aI]:"fire-data-connect",[oI]:"fire-rtdb-compat",[lI]:"fire-fn",[uI]:"fire-fn-compat",[cI]:"fire-iid",[hI]:"fire-iid-compat",[fI]:"fire-fcm",[dI]:"fire-fcm-compat",[mI]:"fire-perf",[pI]:"fire-perf-compat",[gI]:"fire-rc",[yI]:"fire-rc-compat",[vI]:"fire-gcs",[_I]:"fire-gcs-compat",[EI]:"fire-fst",[wI]:"fire-fst-compat",[TI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,RI=new Map,Qm=new Map;function J_(r,e){try{r.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ir(r){const e=r.name;if(Qm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Qm.set(e,r);for(const t of Eh.values())J_(t,r);for(const t of RI.values())J_(t,r);return!0}function Ea(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new _a("app","Firebase",II);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=AI;function f0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=n0()),!t)throw as.create("no-options");const l=Eh.get(o);if(l){if(cs(t,l.options)&&cs(s,l.config))return l;throw as.create("duplicate-app",{appName:o})}const h=new V1(o);for(const p of Qm.values())h.addComponent(p);const d=new CI(t,s,h);return Eh.set(o,d),d}function Ip(r=Ym){const e=Eh.get(r);if(!e&&r===Ym&&n0())return f0();if(!e)throw as.create("no-app",{appName:r});return e}function Hn(r,e,t){var s;let o=(s=bI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(d.join(" "));return}Ir(new nr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-heartbeat-database",NI=1,ou="firebase-heartbeat-store";let xm=null;function d0(){return xm||(xm=h0(DI,NI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),xm}async function OI(r){try{const t=(await d0()).transaction(ou),s=await t.objectStore(ou).get(m0(r));return await t.done,s}catch(e){if(e instanceof ir)fi.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function eE(r,e){try{const s=(await d0()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,m0(r)),await s.done}catch(t){if(t instanceof ir)fi.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(s.message)}}}function m0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,kI=30;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=tE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>kI){const h=LI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:s,unsentEntries:o}=VI(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fi.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function VI(r,e=xI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),nE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),nE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o0()?l0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function nE(r){return _h(JSON.stringify({version:2,heartbeats:r})).length}function LI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){Ir(new nr("platform-logger",e=>new W1(e),"PRIVATE")),Ir(new nr("heartbeat",e=>new PI(e),"PRIVATE")),Hn(Km,Z_,r),Hn(Km,Z_,"esm2017"),Hn("fire-js","")}UI("");function Cp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function p0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=p0,g0=new _a("auth","Firebase",p0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Yh("@firebase/auth");function zI(r,...e){Th.logLevel<=xe.WARN&&Th.warn(`Auth (${ko}): ${r}`,...e)}function oh(r,...e){Th.logLevel<=xe.ERROR&&Th.error(`Auth (${ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw Np(r,...e)}function er(r,...e){return Np(r,...e)}function Dp(r,e,t){const s=Object.assign(Object.assign({},jI()),{[e]:t});return new _a("auth","Firebase",s).create(e,{appName:r.name})}function ui(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function BI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(r,"argument-error"),Dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Np(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return g0.create(r,...e)}function Ee(r,e,...t){if(!r)throw Np(e,...t)}function ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function di(r,e){r||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function qI(){return rE()==="http:"||rE()==="https:"}function rE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||a0()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=m1()||y1()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){di(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KI=new Eu(3e4,6e4);function Es(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ts(r,e,t,s,o={}){return v0(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=_u(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return g1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(g.credentials="include"),y0.fetch()(await _0(r,r.config.apiHost,t,d),g)})}async function v0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},GI),e);try{const o=new QI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Jc(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Jc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Jc(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);$n(r,E)}}catch(o){if(o instanceof ir)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,t,s,o={}){const l=await Ts(r,e,t,s,o);return"mfaPendingCredential"in l&&$n(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function _0(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?Op(r.config,o):`${r.config.apiScheme}://${o}`;return $I.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function YI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),KI.get())})}}function Jc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=er(r,e,s);return o.customData._tokenResponse=t,o}function iE(r){return r!==void 0&&r.enterprise!==void 0}class WI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XI(r,e){return Ts(r,"GET","/v2/recaptchaConfig",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function wh(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JI(r,e=!1){const t=At(r),s=await t.getIdToken(e),o=xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:eu(km(o.auth_time)),issuedAtTime:eu(km(o.iat)),expirationTime:eu(km(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function km(r){return Number(r)*1e3}function xp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=e0(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function sE(r){const e=xp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ir&&eC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await lu(r,wh(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?E0(l.providerUserInfo):[],d=rC(r.providerData,h),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function nC(r){const e=At(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function E0(r){return r.map(e=>{var{providerId:t}=e,s=Cp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e){const t=await v0(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await _0(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(p.credentials="include"),y0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sC(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=sE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await iC(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new To;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JI(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await lu(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,H=(h=t.photoURL)!==null&&h!==void 0?h:void 0,W=(d=t.tenantId)!==null&&d!==void 0?d:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:te,isAnonymous:ne,providerData:fe,stsTokenManager:x}=t;Ee(K&&x,e,"internal-error");const b=To.fromJSON(this.name,x);Ee(typeof K=="string",e,"internal-error"),es(T,e.name),es(R,e.name),Ee(typeof te=="boolean",e,"internal-error"),Ee(typeof ne=="boolean",e,"internal-error"),es(k,e.name),es(H,e.name),es(W,e.name),es(q,e.name),es($,e.name),es(X,e.name);const A=new Jn({uid:K,auth:e,email:R,emailVerified:te,displayName:T,isAnonymous:ne,photoURL:H,phoneNumber:k,tenantId:W,stsTokenManager:b,createdAt:$,lastLoginAt:X});return fe&&Array.isArray(fe)&&(A.providerData=fe.map(I=>Object.assign({},I))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new To;o.updateFromServerResponse(t);const l=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?E0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new To;d.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function oi(r){di(r instanceof Function,"Expected a class definition");let e=aE.get(r);return e?(di(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,aE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T0.type="NONE";const oE=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,t){return`firebase:${r}:${e}:${t}`}class wo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,l),this.fullPersistenceKey=lh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wh(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new wo(oi(oE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||oi(oE);const h=lh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const R=await wh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await Jn._fromGetAccountInfoResponse(e,R,E)}else T=Jn._fromJSON(e,E);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new wo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new wo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I0(e))return"Blackberry";if(C0(e))return"Webos";if(S0(e))return"Safari";if((e.includes("chrome/")||A0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function w0(r=tn()){return/firefox\//i.test(r)}function S0(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A0(r=tn()){return/crios\//i.test(r)}function b0(r=tn()){return/iemobile/i.test(r)}function R0(r=tn()){return/android/i.test(r)}function I0(r=tn()){return/blackberry/i.test(r)}function C0(r=tn()){return/webos/i.test(r)}function kp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function aC(r=tn()){var e;return kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oC(){return v1()&&document.documentMode===10}function D0(r=tn()){return kp(r)||R0(r)||C0(r)||I0(r)||/windows phone/i.test(r)||b0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,e=[]){let t;switch(r){case"Browser":t=lE(tn());break;case"Worker":t=`${lE(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",Es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=6;class hC{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:cC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ui(this));const t=e?At(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uC(this),t=new hC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _a("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await sC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ws(r){return At(r)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=b1(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(r){Qh=r}function O0(r){return Qh.loadJS(r)}function mC(){return Qh.recaptchaEnterpriseScript}function pC(){return Qh.gapiScript}function gC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new vC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _C="recaptcha-enterprise",x0="NO_RECAPTCHA";class EC{constructor(e){this.type=_C,this.auth=ws(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{XI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new WI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(x0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&iE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=mC();p.length!==0&&(p+=d),O0(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function cE(r,e,t,s=!1,o=!1){const l=new EC(r);let h;if(o)h=x0;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zm(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await cE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await cE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r,e){const t=Ea(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(cs(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function wC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function SC(r,e,t){const s=ws(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=k0(e),{host:h,port:d}=AC(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(cs(g,s.config.emulator)&&cs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(i0(`${l}//${h}${p}`),s0("Auth",!0)):bC()}function k0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AC(r){const e=k0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:hE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:hE(h)}}}function hE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function bC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function RC(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}async function DC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Pp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new uu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,t,"signInWithPassword",IC);case"emailLink":return CC(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",RC);case"emailLink":return DC(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="http://localhost";class ha extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Cp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ha(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,So(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xC(r){const e=Kl(Yl(r)).link,t=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||t||e||r}class Vp{constructor(e){var t,s,o,l,h,d;const p=Kl(Yl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=OC((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=xC(e);try{return new Vp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Vp.parseLink(t);return Ee(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends wu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return si.credential(t,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends wu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends wu{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return rs.credential(t,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){return Tu(r,"POST","/v1/accounts:signUp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Jn._fromIdTokenResponse(e,s,o),h=fE(s);return new fa({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=fE(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function fE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends ir{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ah(e,t,s,o)}}function P0(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,l,e,s):l})}async function PC(r,e,t=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return fa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(ui(s));const o="reauthenticate";try{const l=await lu(r,P0(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=xp(l.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(r.uid===d,s,"user-mismatch"),fa._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(r,e,t=!1){if(Sn(r.app))return Promise.reject(ui(r));const s="signIn",o=await P0(r,s,e),l=await fa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function MC(r,e){return V0(ws(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(r){const e=ws(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LC(r,e,t){if(Sn(r.app))return Promise.reject(ui(r));const s=ws(r),h=await Zm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&M0(r),p}),d=await fa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function UC(r,e,t){return Sn(r.app)?Promise.reject(ui(r)):MC(At(r),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&M0(r),s})}function jC(r,e,t,s){return At(r).onIdTokenChanged(e,t,s)}function zC(r,e,t){return At(r).beforeAuthStateChanged(e,t)}function BC(r,e,t,s){return At(r).onAuthStateChanged(e,t,s)}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,FC=10;class U0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);oC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U0.type="LOCAL";const HC=U0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}j0.type="SESSION";const z0=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await GC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function KC(r){wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function YC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function WC(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",XC=1,Rh="firebaseLocalStorage",F0="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function ZC(){const r=indexedDB.deleteDatabase(q0);return new Su(r).toPromise()}function Jm(){const r=indexedDB.open(q0,XC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:F0})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await ZC(),e(await Jm()))})})}async function dE(r,e,t){const s=Xh(r,!0).put({[F0]:e,value:t});return new Su(s).toPromise()}async function JC(r,e){const t=Xh(r,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function mE(r,e){const t=Xh(r,!0).delete(e);return new Su(t).toPromise()}const eD=800,tD=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>tD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YC(),!this.activeServiceWorker)return;this.sender=new $C(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await dE(e,bh,"1"),await mE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>JC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Xh(o,!1).getAll();return new Su(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const nD=H0;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,e){return e?oi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rD(r){return V0(r.auth,new Up(r),r.bypassAuthState)}function iD(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),VC(t,new Up(r),r.bypassAuthState)}async function sD(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),PC(t,new Up(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:$n(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Eu(2e3,1e4);async function oD(r,e,t){if(Sn(r.app))return Promise.reject(er(r,"operation-not-supported-in-this-environment"));const s=ws(r);BI(r,e,Mp);const o=G0(s,t);return new ia(s,"signInViaPopup",e,o).executeNotNull()}class ia extends $0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aD.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="pendingRedirect",uh=new Map;class uD extends $0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await cD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cD(r,e){const t=dD(e),s=fD(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function hD(r,e){uh.set(r._key(),e)}function fD(r){return oi(r._redirectPersistence)}function dD(r){return lh(lD,r.config.apiKey,r.name)}async function mD(r,e,t=!1){if(Sn(r.app))return Promise.reject(ui(r));const s=ws(r),o=G0(s,e),h=await new uD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=10*60*1e3;class gD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!K0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pD&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function K0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(r,e={}){return Ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ED=/^https?/;async function TD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vD(r);for(const t of e)try{if(wD(t))return}catch{}$n(r,"unauthorized-domain")}function wD(r){const e=Wm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ED.test(t))return!1;if(_D.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Eu(3e4,6e4);function gE(){const r=wr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function AD(r){return new Promise((e,t)=>{var s,o,l;function h(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),t(er(r,"network-request-failed"))},timeout:SD.get()})}if(!((o=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=wr().gapi)===null||l===void 0)&&l.load)h();else{const d=gC("iframefcb");return wr()[d]=()=>{gapi.load?h():t(er(r,"network-request-failed"))},O0(`${pC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function bD(r){return ch=ch||AD(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new Eu(5e3,15e3),ID="__/auth/iframe",CD="emulator/auth/iframe",DD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ND=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Op(e,CD):`https://${r.config.authDomain}/${ID}`,s={apiKey:e.apiKey,appName:r.name,v:ko},o=ND.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${_u(s).slice(1)}`}async function xD(r){const e=await bD(r),t=wr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:OD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DD,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=er(r,"network-request-failed"),d=wr().setTimeout(()=>{l(h)},RD.get());function p(){wr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PD=500,VD=600,MD="_blank",LD="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UD(r,e,t,s=PD,o=VD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},kD),{width:s.toString(),height:o.toString(),top:l,left:h}),g=tn().toLowerCase();t&&(d=A0(g)?MD:t),w0(g)&&(e=e||LD,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[k,H])=>`${R}${k}=${H},`,"");if(aC(g)&&d!=="_self")return jD(e||"",d),new yE(null);const T=window.open(e||"",d,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new yE(T)}function jD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="__/auth/handler",BD="emulator/auth/handler",qD=encodeURIComponent("fac");async function vE(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ko,eventId:o};if(e instanceof Mp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",A1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof wu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${qD}=${encodeURIComponent(p)}`:"";return`${FD(r)}?${_u(d).slice(1)}${g}`}function FD({config:r}){return r.emulator?Op(r,BD):`https://${r.authDomain}/${zD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class HD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=mD,this._overrideRedirectResult=hD}async _openPopup(e,t,s,o){var l;di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await vE(e,t,s,Wm(),o);return UD(e,h,Lp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await vE(e,t,s,Wm(),o);return KC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(di(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xD(e),s=new gD(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Pm];h!==void 0&&t(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D0()||S0()||kp()}}const GD=HD;var _E="@firebase/auth",EE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(r){Ir(new nr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(r)},g=new fC(s,o,l,p);return wC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ir(new nr("auth-internal",e=>{const t=ws(e.getProvider("auth").getImmediate());return(s=>new $D(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(_E,EE,KD(r)),Hn(_E,EE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=5*60,WD=r0("authIdTokenMaxAge")||QD;let TE=null;const XD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>WD)return;const o=t==null?void 0:t.token;TE!==o&&(TE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZD(r=Ip()){const e=Ea(r,"auth");if(e.isInitialized())return e.getImmediate();const t=TC(r,{popupRedirectResolver:GD,persistence:[nD,HC,z0]}),s=r0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=XD(l.toString());zC(t,h,()=>h(t.currentUser)),jC(t,d=>h(d))}}const o=t0("auth");return o&&SC(t,`http://${o}`),t}function JD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}dC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=er("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",JD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YD("Browser");var eN="firebase",tN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(eN,tN,"app");const Y0="@firebase/installations",jp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=1e4,W0=`w:${jp}`,X0="FIS_v2",nN="https://firebaseinstallations.googleapis.com/v1",rN=60*60*1e3,iN="installations",sN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},da=new _a(iN,sN,aN);function Z0(r){return r instanceof ir&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0({projectId:r}){return`${nN}/projects/${r}/installations`}function ew(r){return{token:r.token,requestStatus:2,expiresIn:lN(r.expiresIn),creationTime:Date.now()}}async function tw(r,e){const s=(await e.json()).error;return da.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function nw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function oN(r,{refreshToken:e}){const t=nw(r);return t.append("Authorization",uN(e)),t}async function rw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function lN(r){return Number(r.replace("s","000"))}function uN(r){return`${X0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=J0(r),o=nw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:X0,appId:r.appId,sdkVersion:W0},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await rw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:ew(g.authToken)}}else throw await tw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^[cdef][\w-]{21}$/,ep="";function dN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=mN(r);return fN.test(t)?t:ep}catch{return ep}}function mN(r){return hN(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;function aw(r,e){const t=Zh(r);ow(t,e),pN(t,e)}function ow(r,e){const t=sw.get(r);if(t)for(const s of t)s(e)}function pN(r,e){const t=gN();t&&t.postMessage({key:r,fid:e}),yN()}let sa=null;function gN(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=r=>{ow(r.data.key,r.data.fid)}),sa}function yN(){sw.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-installations-database",_N=1,ma="firebase-installations-store";let Vm=null;function zp(){return Vm||(Vm=h0(vN,_N,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ma)}}})),Vm}async function Ih(r,e){const t=Zh(r),o=(await zp()).transaction(ma,"readwrite"),l=o.objectStore(ma),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&aw(r,e.fid),e}async function lw(r){const e=Zh(r),s=(await zp()).transaction(ma,"readwrite");await s.objectStore(ma).delete(e),await s.done}async function Jh(r,e){const t=Zh(r),o=(await zp()).transaction(ma,"readwrite"),l=o.objectStore(ma),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&aw(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(r){let e;const t=await Jh(r.appConfig,s=>{const o=EN(s),l=TN(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===ep?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function EN(r){const e=r||{fid:dN(),registrationStatus:0};return uw(e)}function TN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(da.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=wN(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:SN(r)}:{installationEntry:e}}async function wN(r,e){try{const t=await cN(r,e);return Ih(r.appConfig,t)}catch(t){throw Z0(t)&&t.customData.serverCode===409?await lw(r.appConfig):await Ih(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function SN(r){let e=await wE(r.appConfig);for(;e.registrationStatus===1;)await iw(100),e=await wE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Bp(r);return s||t}return e}function wE(r){return Jh(r,e=>{if(!e)throw da.create("installation-not-found");return uw(e)})}function uw(r){return AN(r)?{fid:r.fid,registrationStatus:0}:r}function AN(r){return r.registrationStatus===1&&r.registrationTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN({appConfig:r,heartbeatServiceProvider:e},t){const s=RN(r,t),o=oN(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:W0,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await rw(()=>fetch(s,d));if(p.ok){const g=await p.json();return ew(g)}else throw await tw("Generate Auth Token",p)}function RN(r,{fid:e}){return`${J0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(r,e=!1){let t;const s=await Jh(r.appConfig,l=>{if(!cw(l))throw da.create("not-registered");const h=l.authToken;if(!e&&DN(h))return l;if(h.requestStatus===1)return t=IN(r,e),l;{if(!navigator.onLine)throw da.create("app-offline");const d=ON(l);return t=CN(r,d),d}});return t?await t:s.authToken}async function IN(r,e){let t=await SE(r.appConfig);for(;t.authToken.requestStatus===1;)await iw(100),t=await SE(r.appConfig);const s=t.authToken;return s.requestStatus===0?qp(r,e):s}function SE(r){return Jh(r,e=>{if(!cw(e))throw da.create("not-registered");const t=e.authToken;return xN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function CN(r,e){try{const t=await bN(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Ih(r.appConfig,s),t}catch(t){if(Z0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await lw(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ih(r.appConfig,s)}throw t}}function cw(r){return r!==void 0&&r.registrationStatus===2}function DN(r){return r.requestStatus===2&&!NN(r)}function NN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+rN}function ON(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function xN(r){return r.requestStatus===1&&r.requestTime+Q0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(r){const e=r,{installationEntry:t,registrationPromise:s}=await Bp(e);return s?s.catch(console.error):qp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(r,e=!1){const t=r;return await VN(t),(await qp(t,e)).token}async function VN(r){const{registrationPromise:e}=await Bp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(r){if(!r||!r.options)throw Mm("App Configuration");if(!r.name)throw Mm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Mm(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Mm(r){return da.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="installations",LN="installations-internal",UN=r=>{const e=r.getProvider("app").getImmediate(),t=MN(e),s=Ea(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jN=r=>{const e=r.getProvider("app").getImmediate(),t=Ea(e,hw).getImmediate();return{getId:()=>kN(t),getToken:o=>PN(t,o)}};function zN(){Ir(new nr(hw,UN,"PUBLIC")),Ir(new nr(LN,jN,"PRIVATE"))}zN();Hn(Y0,jp);Hn(Y0,jp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="analytics",BN="firebase_id",qN="origin",FN=60*1e3,HN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new _a("analytics","Analytics",GN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){if(!r.startsWith(Fp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function fw(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function KN(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function YN(r,e){const t=KN("firebase-js-sdk-policy",{createScriptURL:$N}),s=document.createElement("script"),o=`${Fp}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function QN(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function WN(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await fw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){mn.error(d)}r("config",o,l)}async function XN(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await fw(t);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){mn.error(l)}}function ZN(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await XN(r,e,t,d,p)}else if(l==="config"){const[d,p]=h;await WN(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;r("consent",d,p)}else if(l==="get"){const[d,p,g]=h;r("get",d,p,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){mn.error(d)}}return o}function JN(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=ZN(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function e2(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Fp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=30,n2=1e3;class r2{constructor(e={},t=n2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dw=new r2;function i2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function s2(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:i2(s)},l=HN.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function a2(r,e=dw,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw bn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw bn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new u2;return setTimeout(async()=>{d.abort()},FN),mw({appId:s,apiKey:o,measurementId:l},h,d,e)}async function mw(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=dw){var l;const{appId:h,measurementId:d}=r;try{await o2(s,e)}catch(p){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await s2(r);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!l2(g)){if(o.deleteThrottleMetadata(h),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?Y_(t,o.intervalMillis,t2):Y_(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,T),mn.debug(`Calling attemptFetch again in ${E} millis`),mw(r,T,s,o)}}function o2(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function l2(r){if(!(r instanceof ir)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class u2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function c2(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(){if(o0())try{await l0()}catch(r){return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f2(r,e,t,s,o,l,h){var d;const p=a2(r);p.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>mn.error(k)),e.push(p);const g=h2().then(k=>{if(k)return s.getId()}),[E,T]=await Promise.all([p,g]);e2(l)||YN(l,E.measurementId),o("js",new Date);const R=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return R[qN]="firebase",R.update=!0,T!=null&&(R[BN]=T),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},AE=[];const bE={};let Lm="dataLayer",m2="gtag",RE,pw,IE=!1;function p2(){const r=[];if(a0()&&r.push("This is a browser extension environment."),E1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function g2(r,e,t){p2();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(tu[s]!=null)throw bn.create("already-exists",{id:s});if(!IE){QN(Lm);const{wrappedGtag:l,gtagCore:h}=JN(tu,AE,bE,Lm,m2);pw=l,RE=h,IE=!0}return tu[s]=f2(r,AE,bE,e,RE,Lm,t),new d2(r)}function y2(r=Ip()){r=At(r);const e=Ea(r,Ch);return e.isInitialized()?e.getImmediate():v2(r)}function v2(r,e={}){const t=Ea(r,Ch);if(t.isInitialized()){const o=t.getImmediate();if(cs(e,t.getOptions()))return o;throw bn.create("already-initialized")}return t.initialize({options:e})}function _2(r,e,t,s){r=At(r),c2(pw,tu[r.app.options.appId],e,t,s).catch(o=>mn.error(o))}const CE="@firebase/analytics",DE="0.10.17";function E2(){Ir(new nr(Ch,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return g2(s,o,t)},"PUBLIC")),Ir(new nr("analytics-internal",r,"PRIVATE")),Hn(CE,DE),Hn(CE,DE,"esm2017");function r(e){try{const t=e.getProvider(Ch).getImmediate();return{logEvent:(s,o,l)=>_2(t,s,o,l)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}}}E2();var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,gw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function A(){}A.prototype=b.prototype,x.D=b.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(I,O,V){for(var N=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)N[Ve-2]=arguments[Ve];return b.prototype[O].apply(I,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,A){A||(A=0);var I=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)I[O]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(O=0;16>O;++O)I[O]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=x.g[0],A=x.g[1],O=x.g[2];var V=x.g[3],N=b+(V^A&(O^V))+I[0]+3614090360&4294967295;b=A+(N<<7&4294967295|N>>>25),N=V+(O^b&(A^O))+I[1]+3905402710&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(A^V&(b^A))+I[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(b^O&(V^b))+I[3]+3250441966&4294967295,A=O+(N<<22&4294967295|N>>>10),N=b+(V^A&(O^V))+I[4]+4118548399&4294967295,b=A+(N<<7&4294967295|N>>>25),N=V+(O^b&(A^O))+I[5]+1200080426&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(A^V&(b^A))+I[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(b^O&(V^b))+I[7]+4249261313&4294967295,A=O+(N<<22&4294967295|N>>>10),N=b+(V^A&(O^V))+I[8]+1770035416&4294967295,b=A+(N<<7&4294967295|N>>>25),N=V+(O^b&(A^O))+I[9]+2336552879&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(A^V&(b^A))+I[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(b^O&(V^b))+I[11]+2304563134&4294967295,A=O+(N<<22&4294967295|N>>>10),N=b+(V^A&(O^V))+I[12]+1804603682&4294967295,b=A+(N<<7&4294967295|N>>>25),N=V+(O^b&(A^O))+I[13]+4254626195&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(A^V&(b^A))+I[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=A+(b^O&(V^b))+I[15]+1236535329&4294967295,A=O+(N<<22&4294967295|N>>>10),N=b+(O^V&(A^O))+I[1]+4129170786&4294967295,b=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(b^A))+I[6]+3225465664&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^A&(V^b))+I[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^b&(O^V))+I[0]+3921069994&4294967295,A=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(A^O))+I[5]+3593408605&4294967295,b=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(b^A))+I[10]+38016083&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^A&(V^b))+I[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^b&(O^V))+I[4]+3889429448&4294967295,A=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(A^O))+I[9]+568446438&4294967295,b=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(b^A))+I[14]+3275163606&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^A&(V^b))+I[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^b&(O^V))+I[8]+1163531501&4294967295,A=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(A^O))+I[13]+2850285829&4294967295,b=A+(N<<5&4294967295|N>>>27),N=V+(A^O&(b^A))+I[2]+4243563512&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^A&(V^b))+I[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=A+(V^b&(O^V))+I[12]+2368359562&4294967295,A=O+(N<<20&4294967295|N>>>12),N=b+(A^O^V)+I[5]+4294588738&4294967295,b=A+(N<<4&4294967295|N>>>28),N=V+(b^A^O)+I[8]+2272392833&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^A)+I[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^b)+I[14]+4259657740&4294967295,A=O+(N<<23&4294967295|N>>>9),N=b+(A^O^V)+I[1]+2763975236&4294967295,b=A+(N<<4&4294967295|N>>>28),N=V+(b^A^O)+I[4]+1272893353&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^A)+I[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^b)+I[10]+3200236656&4294967295,A=O+(N<<23&4294967295|N>>>9),N=b+(A^O^V)+I[13]+681279174&4294967295,b=A+(N<<4&4294967295|N>>>28),N=V+(b^A^O)+I[0]+3936430074&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^A)+I[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^b)+I[6]+76029189&4294967295,A=O+(N<<23&4294967295|N>>>9),N=b+(A^O^V)+I[9]+3654602809&4294967295,b=A+(N<<4&4294967295|N>>>28),N=V+(b^A^O)+I[12]+3873151461&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^A)+I[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=A+(O^V^b)+I[2]+3299628645&4294967295,A=O+(N<<23&4294967295|N>>>9),N=b+(O^(A|~V))+I[0]+4096336452&4294967295,b=A+(N<<6&4294967295|N>>>26),N=V+(A^(b|~O))+I[7]+1126891415&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~A))+I[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~b))+I[5]+4237533241&4294967295,A=O+(N<<21&4294967295|N>>>11),N=b+(O^(A|~V))+I[12]+1700485571&4294967295,b=A+(N<<6&4294967295|N>>>26),N=V+(A^(b|~O))+I[3]+2399980690&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~A))+I[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~b))+I[1]+2240044497&4294967295,A=O+(N<<21&4294967295|N>>>11),N=b+(O^(A|~V))+I[8]+1873313359&4294967295,b=A+(N<<6&4294967295|N>>>26),N=V+(A^(b|~O))+I[15]+4264355552&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~A))+I[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~b))+I[13]+1309151649&4294967295,A=O+(N<<21&4294967295|N>>>11),N=b+(O^(A|~V))+I[4]+4149444226&4294967295,b=A+(N<<6&4294967295|N>>>26),N=V+(A^(b|~O))+I[11]+3174756917&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~A))+I[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=A+(V^(O|~b))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var A=b-this.blockSize,I=this.B,O=this.h,V=0;V<b;){if(O==0)for(;V<=A;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<b;)if(I[O++]=x.charCodeAt(V++),O==this.blockSize){o(this,I),O=0;break}}else for(;V<b;)if(I[O++]=x[V++],O==this.blockSize){o(this,I),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var A=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=A&255,A/=256;for(this.u(x),x=Array(16),b=A=0;4>b;++b)for(var I=0;32>I;I+=8)x[A++]=this.g[b]>>>I&255;return x};function l(x,b){var A=d;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=b(x)}function h(x,b){this.h=b;for(var A=[],I=!0,O=x.length-1;0<=O;O--){var V=x[O]|0;I&&V==b||(A[O]=V,I=!1)}this.g=A}var d={};function p(x){return-128<=x&&128>x?l(x,function(b){return new h([b|0],0>b?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var b=[],A=1,I=0;x>=A;I++)b[I]=x/A|0,A*=4294967296;return new h(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(b,8)),I=T,O=0;O<x.length;O+=8){var V=Math.min(8,x.length-O),N=parseInt(x.substring(O,O+V),b);8>V?(V=g(Math.pow(b,V)),I=I.j(V).add(g(N))):(I=I.j(A),I=I.add(g(N)))}return I}var T=p(0),R=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(W(this))return-q(this).m();for(var x=0,b=1,A=0;A<this.g.length;A++){var I=this.i(A);x+=(0<=I?I:4294967296+I)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(H(this))return"0";if(W(this))return"-"+q(this).toString(x);for(var b=g(Math.pow(x,6)),A=this,I="";;){var O=te(A,b).g;A=$(A,O.j(b));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=O,H(A))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function H(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function W(x){return x.h==-1}r.l=function(x){return x=$(this,x),W(x)?-1:H(x)?0:1};function q(x){for(var b=x.g.length,A=[],I=0;I<b;I++)A[I]=~x.g[I];return new h(A,~x.h).add(R)}r.abs=function(){return W(this)?q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),A=[],I=0,O=0;O<=b;O++){var V=I+(this.i(O)&65535)+(x.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);I=N>>>16,V&=65535,N&=65535,A[O]=N<<16|V}return new h(A,A[A.length-1]&-2147483648?-1:0)};function $(x,b){return x.add(q(b))}r.j=function(x){if(H(this)||H(x))return T;if(W(this))return W(x)?q(this).j(q(x)):q(q(this).j(x));if(W(x))return q(this.j(q(x)));if(0>this.l(k)&&0>x.l(k))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,A=[],I=0;I<2*b;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<x.g.length;O++){var V=this.i(I)>>>16,N=this.i(I)&65535,Ve=x.i(O)>>>16,ze=x.i(O)&65535;A[2*I+2*O]+=N*ze,X(A,2*I+2*O),A[2*I+2*O+1]+=V*ze,X(A,2*I+2*O+1),A[2*I+2*O+1]+=N*Ve,X(A,2*I+2*O+1),A[2*I+2*O+2]+=V*Ve,X(A,2*I+2*O+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new h(A,0)};function X(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function K(x,b){this.g=x,this.h=b}function te(x,b){if(H(b))throw Error("division by zero");if(H(x))return new K(T,T);if(W(x))return b=te(q(x),b),new K(q(b.g),q(b.h));if(W(b))return b=te(x,q(b)),new K(q(b.g),b.h);if(30<x.g.length){if(W(x)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var A=R,I=b;0>=I.l(x);)A=ne(A),I=ne(I);var O=fe(A,1),V=fe(I,1);for(I=fe(I,2),A=fe(A,2);!H(I);){var N=V.add(I);0>=N.l(x)&&(O=O.add(A),V=N),I=fe(I,1),A=fe(A,1)}return b=$(x,O.j(b)),new K(O,b)}for(O=T;0<=x.l(b);){for(A=Math.max(1,Math.floor(x.m()/b.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=g(A),N=V.j(b);W(N)||0<N.l(x);)A-=I,V=g(A),N=V.j(b);H(V)&&(V=R),O=O.add(V),x=$(x,N)}return new K(O,x)}r.A=function(x){return te(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)&x.i(I);return new h(A,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)|x.i(I);return new h(A,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),A=[],I=0;I<b;I++)A[I]=this.i(I)^x.i(I);return new h(A,this.h^x.h)};function ne(x){for(var b=x.g.length+1,A=[],I=0;I<b;I++)A[I]=x.i(I)<<1|x.i(I-1)>>>31;return new h(A,x.h)}function fe(x,b){var A=b>>5;b%=32;for(var I=x.g.length-A,O=[],V=0;V<I;V++)O[V]=0<b?x.i(V+A)>>>b|x.i(V+A+1)<<32-b:x.i(V+A);return new h(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,os=h}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,Ql,vw,hh,tp,_w,Ew,Tw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var G=v++;return{value:y(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function H(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,G){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return y.prototype[j].apply(S,ae)}}function W(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const j=c.length||0,G=S.length||0;c.length=j+G;for(let ae=0;ae<G;ae++)c[j+ae]=S[ae]}else c.push(S)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function te(c){return te[" "](c),c}te[" "]=function(){};var ne=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function O(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const S=ze.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ze=new $(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,Ge=new Ve,P=()=>{const c=d.Promise.resolve(void 0);ye=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ie(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ne){e:{try{te(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}H(Ie,ue);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,S,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=Rn(c,y,S,j);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new ot(y,this.src,G,!!S,j),y.fa=v,c.push(y)),y};function xr(c,y){var v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=j)&&Array.prototype.splice.call(S,j,1),G&&(Ye(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rn(c,y,v,S){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return j}return-1}var yi="closure_lm_"+(1e6*Math.random()|0),vi={};function kr(c,y,v,S,j){if(Array.isArray(y)){for(var G=0;G<y.length;G++)kr(c,y[G],v,S,j);return null}return v=Ou(v),c&&c[yt]?c.K(y,v,g(S)?!!S.capture:!1,j):jo(c,y,v,!1,S,j)}function jo(c,y,v,S,j,G){if(!y)throw Error("Invalid event type");var ae=g(j)?!!j.capture:!!j,Me=zo(c);if(Me||(c[yi]=Me=new nn(c)),v=Me.add(y,v,S,ae,G),v.proxy)return v;if(S=Aa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ce||(j=ae),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(Ra(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Aa(){function c(v){return y.call(c.src,c.listener,v)}const y=wf;return c}function ba(c,y,v,S,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)ba(c,y[G],v,S,j);else S=g(S)?!!S.capture:!!S,v=Ou(v),c&&c[yt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],v=Rn(G,v,S,j),-1<v&&(Ye(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=zo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,v,S,j)),(v=-1<c?y[c]:null)&&bs(v))}function bs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])xr(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Ra(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=zo(y))?(xr(v,c),v.h==0&&(v.src=null,y[yi]=null)):Ye(c)}}}function Ra(c){return c in vi?vi[c]:vi[c]="on"+c}function wf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&bs(c),c=v.call(S,y)}return c}function zo(c){return c=c[yi],c instanceof nn?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function bt(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}H(bt,me),bt.prototype[yt]=!0,bt.prototype.removeEventListener=function(c,y,v,S){ba(this,c,y,v,S)};function xt(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var j=y;y=new ue(S,c),I(y,j)}if(j=!0,v)for(var G=v.length-1;0<=G;G--){var ae=y.g=v[G];j=Pr(ae,S,!0,y)&&j}if(ae=y.g=c,j=Pr(ae,S,!0,y)&&j,j=Pr(ae,S,!1,y)&&j,v)for(G=0;G<v.length;G++)ae=y.g=v[G],j=Pr(ae,S,!1,y)&&j}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Ye(v[S]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},bt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Pr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==v){var Me=ae.listener,It=ae.ha||ae.src;ae.fa&&xr(c.i,ae),j=Me.call(It,S)!==!1&&j}}return j&&!S.defaultPrevented}function xu(c,y,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Bo(c){c.g=xu(()=>{c.g=null,c.i&&(c.i=!1,Bo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sf extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){me.call(this),this.h=c,this.g={}}H(Rs,me);var _i=[];function Yt(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&bs(y)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Yt(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=d.JSON.stringify,sr=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function ku(c){return c.h||(c.h=c.i())}function Pu(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){ue.call(this,"d")}H(Ei,ue);function Kn(){ue.call(this,"c")}H(Kn,ue);var In={},Ti=null;function Ia(){return Ti=Ti||new bt}In.La="serverreachability";function Ho(c){ue.call(this,In.La,c)}H(Ho,ue);function wi(c){const y=Ia();xt(y,new Ho(y))}In.STAT_EVENT="statevent";function Ca(c,y){ue.call(this,In.STAT_EVENT,c),this.stat=y}H(Ca,ue);function mt(c){const y=Ia();xt(y,new Ca(y,c))}In.Ma="timingevent";function Vu(c,y){ue.call(this,In.Ma,c),this.size=y}H(Vu,ue);function Si(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ai(){this.g=!0}Ai.prototype.xa=function(){this.g=!1};function Mu(c,y,v,S,j,G){c.info(function(){if(c.g)if(G)for(var ae="",Me=G.split("&"),It=0;It<Me.length;It++){var Le=Me[It].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(Vt+"="+Le+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+ae})}function Lu(c,y,v,S,j,G,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+ae})}function bi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(c,v)+(S?" "+S:"")})}function or(c,y){c.info(function(){return"TIMEOUT: "+y})}Ai.prototype.info=function(){};function kt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return qo(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Is;function Da(){}H(Da,Fo),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},Is=new Da;function lr(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Ri={},Cs={};function Yn(c,y,v){c.L=1,c.v=Os(lt(y)),c.m=v,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),nt(c),c.A=lt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),jr(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Go,c.g=Xu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Sf(R(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_i[0]=j.toString()),j=_i);for(var G=0;G<j.length;G++){var ae=kr(v,j[G],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wi(),Mu(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const Fr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Fr?wi(3):wi(2)),Na(this);var v=this.g.Z();this.X=v;t:if(Ii(this)){var S=Fu(this.g);c="";var j=S.length,G=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),gn(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(G&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Lu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Me)){var Le=Me;break t}}Le=null}if(v=Le)bi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,mt(12),cn(this),gn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Ci(this,ae),zt==Cs){Ct==4&&(this.s=4,mt(14),v=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ri){this.s=4,mt(15),bi(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else bi(this.i,this.l,zt,null),yn(this,zt);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)bi(this.i,this.l,ae,"[Invalid Chunked Response]"),cn(this),gn(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Us(Vt),Vt.M=!0,mt(11))}}else bi(this.i,this.l,ae,null),yn(this,ae);Ct==4&&cn(this),this.o&&!this.J&&(Ct==4?Yu(this.j,this):(this.o=!1,nt(this)))}else Df(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),cn(this),gn(this)}}}catch{}finally{}};function Ii(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ci(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Cs:(v=Number(y.substring(v,S)),isNaN(v)?Ri:(S+=1,S+v>y.length?Cs:(y=y.slice(S,S+v),c.C=S+v,y)))}lr.prototype.cancel=function(){this.J=!0,cn(this)};function nt(c){c.S=Date.now()+c.I,$o(c,c.I)}function $o(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Si(R(c.ba,c),y)}function Na(c){c.B&&(d.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(or(this.i,this.A),this.L!=2&&(wi(),mt(17)),cn(this),this.s=2,gn(this)):$o(this,this.S-c)};function gn(c){c.j.G==0||c.J||Yu(c.j,c)}function cn(c){Na(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Yt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Di(v.h,c))){if(!c.K&&Di(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)za(v),Ua(v);else break e;rl(v),mt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Si(R(v.Za,v),6e3));if(1>=Uu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((c.K||v.g==c)&&za(v),!X(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Le=j[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Fr=Le[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(S=1.5*Fr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const zt=c.g;if(zt){const pr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var G=S.h;G.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ni(G,G.h),G.h=null))}if(S.D){const sl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,qe(S.I,S.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Wu(S,S.J?S.ia:null,S.W),ae.K){Cn(S.h,ae);var Me=ae,It=S.L;It&&(Me.I=It),Me.B&&(Na(Me),nt(Me)),S.g=ae}else $u(S);0<v.i.length&&ja(v)}else Le[0]!="stop"&&Le[0]!="close"||qr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qr(v,7):tl(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}wi(4)}catch{}}var Af=class{constructor(c,y){this.g=c,this.map=y}};function Ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uu(c){return c.h?1:c.g?c.g.size:0}function Di(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ni(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return W(c.i)}function ju(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function bf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Ds(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=bf(c),S=ju(c),j=S.length,G=0;G<j;G++)y.call(void 0,S[G],v&&v[G],c)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var G=c[v].substring(0,S);j=c[v].substring(S+1)}else G=c[v];y(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,Oi(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var y=c.i,v=new ur;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),xa(this,v),this.m=c.m}else c&&(y=String(c).match(Qo))?(this.h=!1,Oi(this,y[1]||"",!0),this.o=xi(y[2]||""),this.g=xi(y[3]||"",!0),Ns(this,y[4]),this.l=xi(y[5]||"",!0),xa(this,y[6]||"",!0),this.m=xi(y[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Lr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Dn(y,Wo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dn(y,Wo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dn(v,v.charAt(0)=="/"?Xo:zu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dn(v,Cf)),c.join("")};function lt(c){return new Lr(c)}function Oi(c,y,v){c.j=v?xi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xa(c,y,v){y instanceof ur?(c.i=y,Zo(c.i,c.h)):(v||(y=Dn(y,If)),c.i=new ur(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function Os(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Rf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Rf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,zu=/[#\?:]/g,Xo=/[#\?]/g,If=/[#\?@]/g,Cf=/#/g;function ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Oa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(c,y){Nn(this),this.i=null,c=zr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ka(c,y){Nn(c),y=zr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return Nn(c),y=zr(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const j=c[S];for(let G=0;G<j.length;G++)v.push(y[S])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(zr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=zr(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jr(c,y,v){ka(c,y),0<v.length&&(c.i=null,c.g.set(zr(c,y),W(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const G=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var j=G;ae[S]!==""&&(j+="="+encodeURIComponent(String(ae[S]))),c.push(j)}}return this.i=c.join("&")};function zr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zo(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(ka(this,S),jr(this,j,v))},c)),c.j=y}function Bu(c,y){const v=new Ai;if(d.Image){const S=new Image;S.onload=k(On,v,"TestLoadImage: loaded",!0,y,S),S.onerror=k(On,v,"TestLoadImage: error",!1,y,S),S.onabort=k(On,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=k(On,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function xs(c,y){const v=new Ai,S=new AbortController,j=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function ks(){this.g=new rn}function cr(c,y,v){const S=v||"";try{Ds(c,function(j,G){let ae=j;g(j)&&(ae=qo(j)),y.push(S+G+"="+encodeURIComponent(ae))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function ki(c){this.l=c.Ub||null,this.j=c.eb||!1}H(ki,Fo),ki.prototype.g=function(){return new Br(this.l,this.j)},ki.prototype.i=function(c){return function(){return c}}({});function Br(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Br,bt),r=Br.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):fr(this),this.readyState==3&&Jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return fe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H($e,bt);var Pa=/^https?$/i,Ps=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Is.g(),this.v=this.o?ku(this.o):ku(Is),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){qu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ps,y,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){qu(this,G)}};function qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Va(c),dr(c)}function Va(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},r.bb=function(){Ma(this)};function Ma(c){if(c.h&&typeof h<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)xu(c.Ea,0,c);else if(xt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var j=String(c.D).match(Qo)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!Pa.test(j?j.toLowerCase():"")}v=S}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var G=2<xn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Va(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){Vs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Vs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sr(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(X(c[S]))continue;var v=O(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}x(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new Ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Da=new ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){mt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Wu(this,null,this.W),ja(this)};function tl(c){if(Hu(c),c.G==3){var y=c.U++,v=lt(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),Ls(c,v),y=new lr(c,c.j,y),y.L=2,y.v=Os(lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}Qu(c)}function Ua(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function Hu(c){Ua(c),c.u&&(d.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!Yo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.B=0}}function Nf(c,y){return Uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Si(R(c.Ga,c,y),il(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new lr(this,this.j,c);let G=this.o;if(this.S&&(G?(G=b(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Gu(this,j,y),v=lt(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Ls(this,v),G&&(this.O?y="headers="+encodeURIComponent(String(el(G)))+"&"+y:this.m&&Pt(v,this.m,G)),Ni(this.h,j),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),j.T=!0,Yn(j,v,null)):Yn(j,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Yo(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const S=lt(c.I);qe(S,"SID",c.K),qe(S,"RID",v),qe(S,"AID",c.T),Ls(c,S),c.m&&c.o&&Pt(S,c.m,c.o),v=new lr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Gu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ni(c.h,v),Yn(v,S,y)}function Ls(c,y){c.H&&fe(c.H,function(v,S){qe(y,S,v)}),c.l&&Ds({},function(v,S){qe(y,S,v)})}function Gu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ae=["count="+v];G==-1?0<v?(G=j[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let Me=!0;for(let It=0;It<v;It++){let Le=j[It].g;const Vt=j[It].map;if(Le-=G,0>Le)G=Math.max(0,j[It].g-100),Me=!1;else try{cr(Vt,ae,"req"+Le+"_")}catch{S&&S(Vt)}}if(Me){S=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Si(R(c.Fa,c),il(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Si(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Ua(this),Ku(this))};function Us(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),Ls(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Os(lt(y)),v.m=null,v.P=!0,Mr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ua(this),rl(this),mt(19))};function za(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){za(c),Us(c),c.g=null;var S=2}else if(Di(c.h,y))v=y.D,Cn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=Ia(),xt(S,new Vu(S,v)),ja(c)}else $u(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&Nf(c,y)||S==2&&rl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function il(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function qr(c,y){if(c.j.info("Error code "+y),y==2){var v=R(c.fb,c),S=c.Xa;const j=!S;S=new Lr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oi(S,"https"),Os(S),j?Bu(S.toString(),v):xs(S.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,v){var S=v instanceof Lr?lt(v):new Lr(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ns(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var G=new Lr(null);S&&Oi(G,S),y&&(G.g=y),j&&Ns(G,j),v&&(G.l=v),S=G}return v=c.D,y=c.ya,v&&y&&qe(S,v,y),qe(S,"VER",c.la),Ls(c,S),S}function Xu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new ki({eb:v})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ba(){}Ba.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}H(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){tl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qo(c),c=v);y.i.push(new Af(y.Ya++,c)),y.G==3&&ja(y)},an.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,an.aa.N.call(this)};function Ju(c){Ei.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}H(Ju,Ei);function ec(){Kn.call(this),this.status=1}H(ec,Kn);function mr(c){this.g=c}H(mr,Zu),mr.prototype.ua=function(){xt(this.g,"a")},mr.prototype.ta=function(c){xt(this.g,new Ju(c))},mr.prototype.sa=function(c){xt(this.g,new ec)},mr.prototype.ra=function(){xt(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Tw=function(){return new Ba},Ew=function(){return Ia()},_w=In,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,hh=Rt,Vr.COMPLETE="complete",vw=Vr,Pu.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Ql=Pu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,yw=$e}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",xE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new Yh("@firebase/firestore");function go(){return pa.logLevel}function le(r,...e){if(pa.logLevel<=xe.DEBUG){const t=e.map(Hp);pa.debug(`Firestore (${Vo}): ${r}`,...t)}}function mi(r,...e){if(pa.logLevel<=xe.ERROR){const t=e.map(Hp);pa.error(`Firestore (${Vo}): ${r}`,...t)}}function hs(r,...e){if(pa.logLevel<=xe.WARN){const t=e.map(Hp);pa.warn(`Firestore (${Vo}): ${r}`,...t)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ww(r,s,t)}function ww(r,e,t){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw mi(s),new Error(s)}function Ke(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||ww(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class w2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new Sw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class A2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class b2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=I2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function np(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const l=Aw(),h=C2(l.encode(PE(r,t)),l.encode(PE(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(r.length,e.length)}function PE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function C2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return De(r[t],e[t]);return De(r.length,e.length)}function Ro(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="__name__";class Tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Tr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const s=Tr.isNumericId(e),o=Tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class et extends Tr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Tr{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VE}static keyField(){return new $t([VE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new oe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new oe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,e,t){if(!t)throw new oe(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function N2(r,e,t,s){if(e===!0&&s===!0)throw new oe(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ME(r){if(!ge.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function LE(r){if(ge.isDocumentKey(r))throw new oe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ef(r);throw new oe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(r,e){const t={typeString:r};return e&&(t.value=e),t}function Au(r,e){if(!Rw(r))throw new oe(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new oe(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,jE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*jE);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UE)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:St("string",tt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function O2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new fs(o,ge.empty(),e)}function x2(r){return new fs(r.readTime,r.key,cu)}class fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fs(we.min(),ge.empty(),cu)}static max(){return new fs(we.max(),ge.empty(),cu)}}function k2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==P2)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function M2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}tf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function nf(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function L2(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="";function U2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=zE(e)),e=j2(r.get(t),e);return zE(e)}function j2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Iw:t+="";break;default:t+=l}}return t}function zE(r){return r+Iw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Cw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dw("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=z2.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="server_timestamp",Ow="__type__",xw="__previous_value__",kw="__local_write_time__";function Kp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ow])===null||t===void 0?void 0:t.stringValue)===Nw}function rf(r){const e=r.mapValue.fields[xw];return Kp(e)?rf(e):e}function hu(r){const e=ds(r.mapValue.fields[kw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,s,o,l,h,d,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Nh="(default)";class fu{constructor(e,t){this.projectId=e,this.database=t||Nh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__type__",q2="__max__",nh={mapValue:{}},Vw="__vector__",Oh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kp(r)?4:H2(r)?9007199254740991:F2(r)?10:11:Te(28295,{value:r})}function Cr(r,e){if(r===e)return!0;const t=ps(r);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ds(o.timestampValue),d=ds(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return ms(o.bytesValue).isEqual(ms(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=gt(o.doubleValue),d=gt(l.doubleValue);return h===d?Dh(h)===Dh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(BE(h)!==BE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Cr(h[p],d[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function du(r,e){return(r.values||[]).find(t=>Cr(t,e))!==void 0}function Io(r,e){if(r===e)return 0;const t=ps(r),s=ps(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=gt(l.integerValue||l.doubleValue),p=gt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return FE(r.timestampValue,e.timestampValue);case 4:return FE(hu(r),hu(e));case 5:return np(r.stringValue,e.stringValue);case 6:return function(l,h){const d=ms(l),p=ms(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=De(d[g],p[g]);if(E!==0)return E}return De(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=De(gt(l.latitude),gt(h.latitude));return d!==0?d:De(gt(l.longitude),gt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return HE(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const T=l.fields||{},R=h.fields||{},k=(d=T[Oh])===null||d===void 0?void 0:d.arrayValue,H=(p=R[Oh])===null||p===void 0?void 0:p.arrayValue,W=De(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return W!==0?W:HE(k,H)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===nh.mapValue&&h===nh.mapValue)return 0;if(l===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=np(p[T],E[T]);if(R!==0)return R;const k=Io(d[p[T]],g[E[T]]);if(k!==0)return k}return De(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function FE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=ds(r),s=ds(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function HE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Io(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function Co(r){return rp(r)}function rp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ms(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=rp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${rp(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function fh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+fh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ss(s.fields,(l,h)=>{o+=l.length+fh(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function GE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ip(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function $E(r){return!!r&&"nullValue"in r}function KE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function F2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pw])===null||t===void 0?void 0:t.stringValue)===Vw}function nu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=nu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function H2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=nu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ss(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new dn(nu(this.value))}}function Mw(r){const e=[];return Ss(r.fields,(t,s)=>{const o=new $t([t]);if(dh(s)){const l=Mw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.position=e,this.inclusive=t}}function YE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Io(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function QE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function G2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class wt extends Lw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new K2(e,t,s):t==="array-contains"?new W2(e,s):t==="in"?new X2(e,s):t==="not-in"?new Z2(e,s):t==="array-contains-any"?new J2(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Y2(e,s):new Q2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends Lw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new rr(e,t)}matches(e){return Uw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Uw(r){return r.op==="and"}function jw(r){return $2(r)&&Uw(r)}function $2(r){for(const e of r.filters)if(e instanceof rr)return!1;return!0}function sp(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(jw(r))return r.filters.map(e=>sp(e)).join(",");{const e=r.filters.map(t=>sp(t)).join(",");return`${r.op}(${e})`}}function zw(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(r,e):r instanceof rr?function(s,o){return o instanceof rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&zw(h,o.filters[d]),!0):!1}(r,e):void Te(19439)}function Bw(r){return r instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(r):r instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Bw).join(" ,")+"}"}(r):"Filter"}class K2 extends wt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class Y2 extends wt{constructor(e,t){super(e,"in",t),this.keys=qw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q2 extends wt{constructor(e,t){super(e,"not-in",t),this.keys=qw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class W2 extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&du(t.arrayValue,this.value)}}class X2 extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class Z2 extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}}class J2 extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Pe=null}}function WE(r,e=null,t=[],s=[],o=null,l=null,h=null){return new eO(r,e,t,s,o,l,h)}function Qp(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Co(s)).join(",")),e.Pe=t}return e.Pe}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!G2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!zw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!QE(r.startAt,e.startAt)&&QE(r.endAt,e.endAt)}function ap(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tO(r,e,t,s,o,l,h,d){return new bu(r,e,t,s,o,l,h,d)}function sf(r){return new bu(r)}function XE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Fw(r){return r.collectionGroup!==null}function ru(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new kh(l,s))}),t.has($t.keyField().canonicalString())||e.Te.push(new kh($t.keyField(),s))}return e.Te}function Sr(r){const e=Ae(r);return e.Ie||(e.Ie=nO(e,ru(r))),e.Ie}function nO(r,e){if(r.limitType==="F")return WE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new kh(o.field,l)});const t=r.endAt?new xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xh(r.startAt.position,r.startAt.inclusive):null;return WE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function op(r,e){const t=r.filters.concat([e]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,t){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function af(r,e){return Wp(Sr(r),Sr(e))&&r.limitType===e.limitType}function Hw(r){return`${Qp(Sr(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Bw(o)).join(", ")}]`),nf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Sr(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of ru(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=YE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,ru(s),o)||s.endAt&&!function(h,d,p){const g=YE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,ru(s),o))}(r,e)}function rO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Gw(r){return(e,t)=>{let s=!1;for(const o of ru(r)){const l=iO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function iO(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Io(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=new at(ge.comparator);function pi(){return sO}const $w=new at(ge.comparator);function Wl(...r){let e=$w;for(const t of r)e=e.insert(t.key,t);return e}function Kw(r){let e=$w;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function aa(){return iu()}function Yw(){return iu()}function iu(){return new Ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const aO=new at(ge.comparator),oO=new Ot(ge.comparator);function ke(...r){let e=oO;for(const t of r)e=e.add(t);return e}const lO=new Ot(De);function uO(){return lO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Qw(r){return{integerValue:""+r}}function cO(r,e){return L2(e)?Qw(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function hO(r,e,t){return r instanceof Ph?function(o,l){const h={fields:{[Ow]:{stringValue:Nw},[kw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Kp(l)&&(l=rf(l)),l&&(h.fields[xw]=l),{mapValue:h}}(t,e):r instanceof mu?Xw(r,e):r instanceof pu?Zw(r,e):function(o,l){const h=Ww(o,l),d=ZE(h)+ZE(o.Ee);return ip(h)&&ip(o.Ee)?Qw(d):Xp(o.serializer,d)}(r,e)}function fO(r,e,t){return r instanceof mu?Xw(r,e):r instanceof pu?Zw(r,e):t}function Ww(r,e){return r instanceof Vh?function(s){return ip(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ph extends lf{}class mu extends lf{constructor(e){super(),this.elements=e}}function Xw(r,e){const t=Jw(e);for(const s of r.elements)t.some(o=>Cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class pu extends lf{constructor(e){super(),this.elements=e}}function Zw(r,e){let t=Jw(e);for(const s of r.elements)t=t.filter(o=>!Cr(o,s));return{arrayValue:{values:t}}}class Vh extends lf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ZE(r){return gt(r.integerValue||r.doubleValue)}function Jw(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Ro(s.elements,o.elements,Cr):s instanceof Vh&&o instanceof Vh?Cr(s.Ee,o.Ee):s instanceof Ph&&o instanceof Ph}(r.transform,e.transform)}class mO{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function eS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zp(r.key,Gn.none()):new Ru(r.key,r.data,Gn.none());{const t=r.data,s=dn.empty();let o=new Ot($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new As(r.key,s,new An(o.toArray()),Gn.none())}}function pO(r,e,t){r instanceof Ru?function(o,l,h){const d=o.value.clone(),p=eT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof As?function(o,l,h){if(!mh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=eT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(tS(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function su(r,e,t,s){return r instanceof Ru?function(l,h,d,p){if(!mh(l.precondition,h))return d;const g=l.value.clone(),E=tT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof As?function(l,h,d,p){if(!mh(l.precondition,h))return d;const g=tT(l.fieldTransforms,p,h),E=h.data;return E.setAll(tS(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,d){return mh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function gO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Ww(s.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function JE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(l,h)=>dO(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ru extends uf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends uf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function tS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function eT(r,e,t){const s=new Map;Ke(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,fO(h,d,t[o]))}return s}function tT(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,hO(l,h,e))}return s}class Zp extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yO extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Yw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=eS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,s)=>JE(t,s))&&Ro(this.baseMutations,e.baseMutations,(t,s)=>JE(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return aO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function TO(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function nS(r){if(r===void 0)return mi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Tt.OK:return Z.OK;case Tt.CANCELLED:return Z.CANCELLED;case Tt.UNKNOWN:return Z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Z.INTERNAL;case Tt.UNAVAILABLE:return Z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Z.NOT_FOUND;case Tt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Tt.ABORTED:return Z.ABORTED;case Tt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Tt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new os([4294967295,4294967295],0);function nT(r){const e=Aw().encode(r),t=new gw;return t.update(e),new Uint8Array(t.digest())}function rT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new os([t,s],0),new os([o,l],0)]}class eg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=os.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(os.fromNumber(s)));return o.compare(wO)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=nT(e),[s,o]=rT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new eg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=nT(e),[s,o]=rT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new cf(we.min(),o,new at(De),pi(),ke())}}class Iu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Iu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class rS{constructor(e,t){this.targetId=e,this.De=t}}class iS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class iT{constructor(){this.ve=0,this.Ce=sT(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new Iu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=sT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class SO{constructor(e){this.We=e,this.Ge=new Map,this.ze=pi(),this.je=rh(),this.Je=rh(),this.He=new at(De)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(ap(l))if(s===0){const h=new ge(l.path);this.Xe(t,h,Jt.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof Dw)return hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new eg(h,o,l)}catch(p){return hs(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,h)=>{const d=this.st(h);if(d){if(l.current&&ap(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Jt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}});let s=ke();this.Je.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(e));const o=new cf(e,t,this.He,this.ze,s);return this.ze=pi(),this.je=rh(),this.Je=rh(),this.He=new at(De),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new iT,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(De),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new iT),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function rh(){return new at(ge.comparator)}function sT(){return new at(ge.comparator)}const AO={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RO={and:"AND",or:"OR"};class IO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CO(r,e){return Mh(r,e.toTimestamp())}function Ar(r){return Ke(!!r,49232),we.fromTimestamp(function(t){const s=ds(t);return new tt(s.seconds,s.nanos)}(r))}function tg(r,e){return cp(r,e).canonicalString()}function cp(r,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function aS(r){const e=et.fromString(r);return Ke(hS(e),10190,{key:e.toString()}),e}function hp(r,e){return tg(r.databaseId,e.path)}function Um(r,e){const t=aS(e);if(t.get(1)!==r.databaseId.projectId)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new oe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(lS(t))}function oS(r,e){return tg(r.databaseId,e)}function DO(r){const e=aS(r);return e.length===4?et.emptyPath():lS(e)}function fp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lS(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function aT(r,e,t){return{name:hp(r,e),fields:t.value.mapValue.fields}}function NO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?Z.UNKNOWN:nS(g.code);return new oe(E,g.message||"")}(h);t=new iS(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Um(r,s.document.name),l=Ar(s.document.updateTime),h=s.document.createTime?Ar(s.document.createTime):we.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Um(r,s.document),l=s.readTime?Ar(s.readTime):we.min(),h=Jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new ph([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Um(r,s.document),l=s.removedTargetIds||[];t=new ph([],l,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new EO(o,l),d=s.targetId;t=new rS(d,h)}}return t}function OO(r,e){let t;if(e instanceof Ru)t={update:aT(r,e.key,e.value)};else if(e instanceof Zp)t={delete:hp(r,e.key)};else if(e instanceof As)t={update:aT(r,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof yO))return Te(16599,{Rt:e.type});t={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:CO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(r,e.precondition)),t}function xO(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?Ar(o.updateTime):Ar(l);return h.isEqual(we.min())&&(h=Ar(l)),new mO(h,o.transformResults||[])}(t,e))):[]}function kO(r,e){return{documents:[oS(r,e.path)]}}function PO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=oS(r,o);const l=function(g){if(g.length!==0)return cS(rr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:vo(R.field),direction:LO(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=up(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function VO(r){let e=DO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const R=uS(T);return R instanceof rr&&jw(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(R=>function(H){return new kh(_o(H.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(T){let R;return R=typeof T=="object"?T.value:T,nf(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(T){const R=!!T.before,k=T.values||[];return new xh(k,R)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const R=!T.before,k=T.values||[];return new xh(k,R)}(t.endAt)),tO(e,o,h,l,d,"F",p,g)}function MO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=_o(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return wt.create(_o(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(s=>uS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function LO(r){return AO[r]}function UO(r){return bO[r]}function jO(r){return RO[r]}function vo(r){return{fieldPath:r.canonicalString()}}function _o(r){return $t.fromServerFormat(r.fieldPath)}function cS(r){return r instanceof wt?function(t){if(t.op==="=="){if(KE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if($E(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if($E(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:UO(t.op),value:t.value}}}(r):r instanceof rr?function(t){const s=t.getFilters().map(o=>cS(o));return s.length===1?s[0]:{compositeFilter:{op:jO(t.op),filters:s}}}(r):Te(54877,{filter:r})}function zO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,s,o,l=we.min(),h=we.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.gt=e}}function qO(r){const e=VO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.Dn=new HO}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(fs.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class HO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(fS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="LruGarbageCollector",GO=1048576;function uT([r,e],[t,s]){const o=De(r,t);return o===0?De(e,s):o}class $O{constructor(e){this.Tr=e,this.buffer=new Ot(uT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();uT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(lT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?le(lT,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Rr(3e5)})}}class YO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(tf.ue);const s=new $O(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(oT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),go()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function QO(r,e){return new YO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&su(s.mutation,o,An.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=aa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Wl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=aa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=pi();const h=iu(),d=function(){return iu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof As)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),tt.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new XO(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=iu();let o=new at((h,d)=>h-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=Yw();E.forEach(R=>{if(!l.has(R)){const k=eS(t.get(R),s.get(R));k!==null&&T.set(R,k),l=l.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ee.resolve(aa());let d=cu,p=l;return h.next(g=>ee.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:d,changes:Kw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const g=function(T,R){return new bu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,R)=>{h=h.insert(T,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))});let d=Wl();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&su(E.mutation,g,An.empty(),tt.now()),of(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:qO(o.bundledQuery),readTime:Ar(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.overlays=new at(ge.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=aa();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.wt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=aa(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=aa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=aa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ee.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new _O(t,s));let l=this.kr.get(t);l===void 0&&(l=ke(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.qr=new Ot(jt.Qr),this.$r=new Ot(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new jt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1);let l=ke();return this.$r.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(jt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new vO(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?$p:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(De);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],d=>{s=s.add(d.Hr)})}),ee.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new jt(new ge(l),0);let d=new Ot(De);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ee.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ee.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new jt(t,0),o=this.Yr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.ni=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=pi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=pi();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||k2(x2(E),s)<=0||(o.has(E.key)||of(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ix(this)}getSize(e){return ee.resolve(this.size)}}class ix extends WO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.persistence=e,this.ii=new Ta(t=>Qp(t),Wp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new ng,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t){this.ai={},this.overlays={},this.ui=new tf(0),this.ci=!1,this.ci=!0,this.li=new tx,this.referenceDelegate=e(this),this.hi=new sx(this),this.indexManager=new FO,this.remoteDocumentCache=function(o){return new rx(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new BO(t),this.Ti=new JO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ex,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new nx(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){le("MemoryPersistence","Starting transaction:",e);const o=new ax(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return ee.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class ax extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ai=new ng,this.Ri=null}static Vi(e){return new rg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.gi=new Ta(s=>U2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QO(this,t)}static Vi(e,t){return new Lh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}Sr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ig(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _1()?8:M2(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new ox;return this.ws(e,t,h).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>l.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(go()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(go()<=xe.DEBUG&&le("QueryEngine","Query:",yo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(go()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):ee.resolve())}ps(e,t){if(XE(t))return ee.resolve(null);let s=Sr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,lp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return XE(t)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,s).next(l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?ee.resolve(null):(go()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(t)),this.vs(e,h,t,O2(o,cu)).next(d=>d))})}bs(e,t){let s=new Ot(Gw(e));return t.forEach((o,l)=>{of(e,l)&&(s=s.add(l))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return go()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",yo(t)),this.gs.getDocumentsMatchingQuery(e,t,fs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",ux=3e8;class cx{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new at(De),this.Ms=new Ta(l=>Qp(l),Wp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZO(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function hx(r,e,t,s){return new cx(r,e,t,s)}async function mS(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function fx(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,R=T.keys();let k=ee.resolve();return R.forEach(H=>{k=k.next(()=>E.getEntry(p,H)).next(W=>{const q=g.docVersions.get(H);Ke(q!==null,48541),W.version.compareTo(q)<0&&(T.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function pS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function dx(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((E,T)=>{const R=o.get(T);if(!R)return;d.push(t.hi.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,E.addedDocuments,T)));let k=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),function(W,q,$){return W.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=ux?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,k,E)&&d.push(t.hi.updateTargetData(l,k))});let p=pi(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(mx(l,h,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return ee.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=o,l))}function mx(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=pi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):le(sg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function px(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$p),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gx(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(l=>l?(o=l,ee.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function dp(r,e,t){const s=Ae(r),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;le(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function cT(r,e,t){const s=Ae(r);let o=we.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ae(p),R=T.Ms.get(E);return R!==void 0?ee.resolve(T.Fs.get(R)):T.hi.getTargetData(g,E)}(s,h,Sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:ke())).next(d=>(yx(s,rO(e),d),{documents:d,qs:l})))}function yx(r,e,t){let s=r.xs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.xs.set(e,s)}class hT{constructor(){this.activeTargetIds=uO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vx{constructor(){this.Fo=new hT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new hT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="ConnectivityMonitor";class dT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(fT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(fT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function mp(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tx{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=mp(),d=this.Go(e,t.toUriEncodedString());le(jm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:g}=new URL(d),E=xo(g);return this.jo(e,d,p,s,E).then(T=>(le(jm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw hs(jm,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T})}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const s=Ex[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Sx extends Tx{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=mp();return new Promise((d,p)=>{const g=new yw;g.setWithCredentials(!0),g.listenOnce(vw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const T=g.getResponseJson();le(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case hh.TIMEOUT:le(Xt,`RPC '${e}' ${h} timed out`),p(new oe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const R=g.getStatus();if(le(Xt,`RPC '${e}' ${h} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k==null?void 0:k.error;if(H&&H.status&&H.message){const W=function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN}(H.status);p(new oe(W,H.message))}else p(new oe(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{le(Xt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=mp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Tw(),d=Ew(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.T_(T);let R=!1,k=!1;const H=new wx({Ho:q=>{k?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),W=(q,$,X)=>{q.listen($,K=>{try{X(K)}catch(te){setTimeout(()=>{throw te},0)}})};return W(T,Ql.EventType.OPEN,()=>{k||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),H.s_())}),W(T,Ql.EventType.CLOSE,()=>{k||(k=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),H.__(),this.I_(T))}),W(T,Ql.EventType.ERROR,q=>{k||(k=!0,hs(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),H.__(new oe(Z.UNAVAILABLE,"The operation could not be completed")))}),W(T,Ql.EventType.MESSAGE,q=>{var $;if(!k){const X=q.data[0];Ke(!!X,16349);const K=X,te=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(te){le(Xt,`RPC '${e}' stream ${o} received error:`,te);const ne=te.status;let fe=function(A){const I=Tt[A];if(I!==void 0)return nS(I)}(ne),x=te.message;fe===void 0&&(fe=Z.INTERNAL,x="Unknown error status: "+ne+" with message "+te.message),k=!0,H.__(new oe(fe,x)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,X),H.a_(X)}}),W(d,_w.STAT_EVENT,q=>{q.stat===tp.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===tp.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.o_()},0),H}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return new IO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="PersistentStream";class yS{constructor(e,t,s,o,l,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new gS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new oe(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return le(mT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(le(mT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ax extends yS{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=NO(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ar(h.readTime):we.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=ap(p)?{documents:kO(l,p)}:{query:PO(l,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=sS(l,h.resumeToken);const g=up(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Mh(l,h.snapshotVersion.toTimestamp());const g=up(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=MO(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.k_(t)}}class bx extends yS{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=xO(e.writeResults,e.commitTime),s=Ar(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=fp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>OO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{}class Ix extends Rx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,cp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new oe(Z.UNKNOWN,l.toString())})}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,cp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(Z.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Cx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(mi(t),this._a=!1):le("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class Dx{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{wa(this)&&(le(ga,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Cu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await ff(g)}(this))})}),this.Aa=new Cx(s,o)}}async function ff(r){if(wa(r))for(const e of r.da)await e(!0)}async function Cu(r){for(const e of r.da)await e(!1)}function vS(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),ug(t)?lg(t):Uo(t).x_()&&og(t,e))}function ag(r,e){const t=Ae(r),s=Uo(t);t.Ta.delete(e),s.x_()&&_S(t,e),t.Ta.size===0&&(s.x_()?s.B_():wa(t)&&t.Aa.set("Unknown"))}function og(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(r).H_(e)}function _S(r,e){r.Ra.$e(e),Uo(r).Y_(e)}function lg(r){r.Ra=new SO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Aa.aa()}function ug(r){return wa(r)&&!Uo(r).M_()&&r.Ta.size>0}function wa(r){return Ae(r).Ia.size===0}function ES(r){r.Ra=void 0}async function Nx(r){r.Aa.set("Online")}async function Ox(r){r.Ta.forEach((e,t)=>{og(r,e)})}async function xx(r,e){ES(r),ug(r)?(r.Aa.la(e),lg(r)):r.Aa.set("Unknown")}async function kx(r,e,t){if(r.Aa.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){le(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(r,s)}else if(e instanceof ph?r.Ra.Ye(e):e instanceof rS?r.Ra.it(e):r.Ra.et(e),!t.isEqual(we.min()))try{const s=await pS(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ta.get(g);E&&l.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.Ta.get(p);if(!E)return;l.Ta.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),_S(l,p);const T=new is(E.target,p,g,E.sequenceNumber);og(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){le(ga,"Failed to raise snapshot:",s),await Uh(r,s)}}async function Uh(r,e,t){if(!Lo(e))throw e;r.Ia.add(1),await Cu(r),r.Aa.set("Offline"),t||(t=()=>pS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(ga,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await ff(r)})}function TS(r,e){return e().catch(t=>Uh(r,t,e))}async function df(r){const e=Ae(r),t=gs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$p;for(;Px(e);)try{const o=await px(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,Vx(e,o)}catch(o){await Uh(e,o)}wS(e)&&SS(e)}function Px(r){return wa(r)&&r.Pa.length<10}function Vx(r,e){r.Pa.push(e);const t=gs(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function wS(r){return wa(r)&&!gs(r).M_()&&r.Pa.length>0}function SS(r){gs(r).start()}async function Mx(r){gs(r).na()}async function Lx(r){const e=gs(r);for(const t of r.Pa)e.X_(t.mutations)}async function Ux(r,e,t){const s=r.Pa.shift(),o=Jp.from(s,e,t);await TS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await df(r)}async function jx(r,e){e&&gs(r).Z_&&await async function(s,o){if(function(h){return TO(h)&&h!==Z.ABORTED}(o.code)){const l=s.Pa.shift();gs(s).N_(),await TS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await df(s)}}(r,e),wS(r)&&SS(r)}async function pT(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),le(ga,"RemoteStore received new credentials");const s=wa(t);t.Ia.add(3),await Cu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await ff(t)}async function zx(r,e){const t=Ae(r);e?(t.Ia.delete(2),await ff(t)):e||(t.Ia.add(2),await Cu(t),t.Aa.set("Unknown"))}function Uo(r){return r.Va||(r.Va=function(t,s,o){const l=Ae(t);return l.ia(),new Ax(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:Nx.bind(null,r),e_:Ox.bind(null,r),n_:xx.bind(null,r),J_:kx.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),ug(r)?lg(r):r.Aa.set("Unknown")):(await r.Va.stop(),ES(r))})),r.Va}function gs(r){return r.ma||(r.ma=function(t,s,o){const l=Ae(t);return l.ia(),new bx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:Mx.bind(null,r),n_:jx.bind(null,r),ea:Lx.bind(null,r),ta:Ux.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await df(r)):(await r.ma.stop(),r.Pa.length>0&&(le(ga,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new cg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hg(r,e){if(mi("AsyncQueue",`${e}: ${r}`),Lo(r))return new oe(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.fa=new at(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class No{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new No(e,t,Ao.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class qx{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=yT(),l.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new oe(Z.ABORTED,"Firestore shutting down"))}}function yT(){return new Ta(r=>Hw(r),af)}async function fg(r,e){const t=Ae(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new Bx,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=hg(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&mg(t)}async function dg(r,e){const t=Ae(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Fx(r,e){const t=Ae(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&mg(t)}function Hx(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function mg(r){r.Da.forEach(e=>{e.next()})}var pp,vT;(vT=pp||(pp={})).Fa="default",vT.Cache="cache";class pg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class Gx{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=Gw(e),this.eu=new Ao(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new gT,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const R=o.get(E),k=of(this.query,T)?T:null,H=!!R&&this.mutatedKeys.has(R.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;R&&k?R.data.isEqual(k.data)?H!==W&&(s.track({type:3,doc:k}),q=!0):this.iu(R,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(d=!0)):!R&&k?(s.track({type:0,doc:k}),q=!0):R&&!k&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(d=!0)),q&&(k?(h=h.add(k),l=W?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,T)=>function(k,H){const W=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:q})}};return W(k)-W(H)}(E.type,T.type)||this.Xa(E.doc,T.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new No(this.query,e.eu,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new bS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new AS(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return No.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const gg="SyncEngine";class $x{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Kx{constructor(e){this.key=e,this.lu=!1}}class Yx{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ta(d=>Hw(d),af),this.Tu=new Map,this.Iu=new Set,this.du=new at(ge.comparator),this.Eu=new Map,this.Au=new ng,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Qx(r,e,t=!0){const s=OS(r);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await RS(s,e,t,!0),o}async function Wx(r,e){const t=OS(r);await RS(t,e,!0,!1)}async function RS(r,e,t,s){const o=await gx(r.localStore,Sr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Xx(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&vS(r.remoteStore,o),d}async function Xx(r,e,t,s,o){r.gu=(T,R,k)=>async function(W,q,$,X){let K=q.view.nu($);K.Ds&&(K=await cT(W.localStore,q.query,!1).then(({documents:x})=>q.view.nu(x,K)));const te=X&&X.targetChanges.get(q.targetId),ne=X&&X.targetMismatches.get(q.targetId)!=null,fe=q.view.applyChanges(K,W.isPrimaryClient,te,ne);return ET(W,q.targetId,fe._u),fe.snapshot}(r,T,R,k);const l=await cT(r.localStore,e,!0),h=new Gx(e,l.qs),d=h.nu(l.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);ET(r,t,g._u);const E=new $x(e,t,h);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function Zx(r,e,t){const s=Ae(r),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter(h=>!af(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ag(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(Mo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function Jx(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ag(t.remoteStore,s.targetId))}async function ek(r,e,t){const s=ok(r);try{const o=await function(h,d){const p=Ae(h),g=tt.now(),E=d.reduce((k,H)=>k.add(H.key),ke());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let H=pi(),W=ke();return p.Os.getEntries(k,E).next(q=>{H=q,H.forEach(($,X)=>{X.isValidDocument()||(W=W.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,H)).next(q=>{T=q;const $=[];for(const X of d){const K=gO(X,T.get(X.key).overlayedDocument);K!=null&&$.push(new As(X.key,K,Mw(K.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,d)}).next(q=>{R=q;const $=q.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(k,q.batchId,$)})}).then(()=>({batchId:R.batchId,changes:Kw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new at(De)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Du(s,o.changes),await df(s.remoteStore)}catch(o){const l=hg(o,"Failed to persist write");t.reject(l)}}async function IS(r,e){const t=Ae(r);try{const s=await dx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await Du(t,s,e)}catch(s){await Mo(s)}}function _T(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((l,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ae(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const R of T.wa)R.va(d)&&(g=!0)}),g&&mg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tk(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new at(ge.comparator);h=h.insert(l,Jt.newNoDocument(l,we.min()));const d=ke().add(l),p=new cf(we.min(),new Map,new at(De),h,d);await IS(s,p),s.du=s.du.remove(l),s.Eu.delete(e),yg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(Mo)}async function nk(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await fx(t.localStore,e);DS(t,s,null),CS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Du(t,o)}catch(o){await Mo(o)}}async function rk(r,e,t){const s=Ae(r);try{const o=await function(h,d){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);DS(s,e,t),CS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Du(s,o)}catch(o){await Mo(o)}}function CS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function DS(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function gp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||NS(r,s)})}function NS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(ag(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),yg(r))}function ET(r,e,t){for(const s of t)s instanceof AS?(r.Au.addReference(s.key,e),ik(r,s)):s instanceof bS?(le(gg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||NS(r,s.key)):Te(19791,{yu:s})}function ik(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(le(gg,"New document in limbo: "+t),r.Iu.add(s),yg(r))}function yg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(et.fromString(e)),s=r.mu.next();r.Eu.set(s,new Kx(t)),r.du=r.du.insert(t,s),vS(r.remoteStore,new is(Sr(sf(t.path)),s,"TargetPurposeLimboResolution",tf.ue))}}async function Du(r,e,t){const s=Ae(r),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ig.Es(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,R=>ee.forEach(R.Is,k=>E.persistence.referenceDelegate.addReference(T,R.targetId,k)).next(()=>ee.forEach(R.ds,k=>E.persistence.referenceDelegate.removeReference(T,R.targetId,k)))))}catch(T){if(!Lo(T))throw T;le(sg,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const k=E.Fs.get(R),H=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(H);E.Fs=E.Fs.insert(R,W)}}}(s.localStore,l))}async function sk(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){le(gg,"User change. New user:",e.toKey());const s=await mS(t.localStore,e);t.currentUser=e,function(l,h){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new oe(Z.CANCELLED,h))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(t,s.Bs)}}function ak(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function OS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tk.bind(null,e),e.hu.J_=Fx.bind(null,e.eventManager),e.hu.pu=Hx.bind(null,e.eventManager),e}function ok(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return hx(this.persistence,new lx,e.initialUser,this.serializer)}Du(e){return new dS(rg.Vi,this.serializer)}bu(e){return new vx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class lk extends jh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new KO(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new dS(s=>Lh.Vi(s,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_T(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sk.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qx}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),s=function(l){return new Sx(l)}(e.databaseInfo);return function(l,h,d,p){return new Ix(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new Dx(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>_T(this.syncEngine,t,0),function(){return dT.C()?new dT:new _x}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const T=new Yx(o,l,h,d,p,g);return E&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);le(ga,"RemoteStore shutting down."),l.Ia.add(5),await Cu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class uk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{le(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(le(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=hg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ys,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{hs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{hs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function TT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await ck(r);le(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>pT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>pT(e.remoteStore,o)),r._onlineComponents=e}async function ck(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ys,"Using user provided OfflineComponentProvider");try{await Bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;hs("Error using user provided cache. Falling back to memory cache: "+t),await Bm(r,new jh)}}else le(ys,"Using default OfflineComponentProvider"),await Bm(r,new lk(void 0));return r._offlineComponents}async function xS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ys,"Using user provided OnlineComponentProvider"),await TT(r,r._uninitializedComponentsProvider._online)):(le(ys,"Using default OnlineComponentProvider"),await TT(r,new yp))),r._onlineComponents}function hk(r){return xS(r).then(e=>e.syncEngine)}async function zh(r){const e=await xS(r),t=e.eventManager;return t.onListen=Qx.bind(null,e.syncEngine),t.onUnlisten=Zx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Wx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Jx.bind(null,e.syncEngine),t}function fk(r,e,t={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new vg({next:R=>{E.Ou(),h.enqueueAndForget(()=>dg(l,T));const k=R.docs.has(d);!k&&R.fromCache?g.reject(new oe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&p&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new pg(sf(d.path),E,{includeMetadataChanges:!0,ka:!0});return fg(l,T)}(await zh(r),r.asyncQueue,e,t,s)),s.promise}function dk(r,e,t={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new vg({next:R=>{E.Ou(),h.enqueueAndForget(()=>dg(l,T)),R.fromCache&&p.source==="server"?g.reject(new oe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new pg(d,E,{includeMetadataChanges:!0,ka:!0});return fg(l,T)}(await zh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",ST=!0;class AT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=ST}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ST;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GO)throw new oe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new oe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new T2;switch(s.type){case"firstParty":return new b2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=wT.get(t);s&&(le("ComponentProvider","Removing Datastore"),wT.delete(t),s.terminate())}(this),Promise.resolve()}}function mk(r,e,t,s={}){var o;r=pn(r,mf);const l=xo(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(i0(`https://${p}`),s0("Firestore",!0)),h.host!==PS&&h.host!==p&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!cs(g,d)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Zt.MOCK_USER;else{E=h1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new oe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(R)}r._authCredentials=new w2(new Sw(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Au(t,dt._jsonSchema))return new dt(e,s||null,new ge(et.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:St("string",dt._jsonSchemaVersion),referencePath:St("string")};class ls extends Sa{constructor(e,t,s){super(e,t,sf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function oa(r,e,...t){if(r=At(r),bw("collection","path",e),r instanceof mf){const s=et.fromString(e,...t);return LE(s),new ls(r,null,s)}{if(!(r instanceof dt||r instanceof ls))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return LE(s),new ls(r.firestore,null,s)}}function en(r,e,...t){if(r=At(r),arguments.length===1&&(e=Gp.newId()),bw("doc","path",e),r instanceof mf){const s=et.fromString(e,...t);return ME(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof ls))throw new oe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return ME(s),new dt(r.firestore,r instanceof ls?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="AsyncQueue";class RT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new gS(this,"async_queue_retry"),this.oc=()=>{const s=zm();s&&le(bT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ci;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Lo(e))throw e;le(bT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,mi("INTERNAL UNHANDLED ERROR: ",IT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=cg.createAndSchedule(this,e,t,s,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:IT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function IT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class gi extends mf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new RT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function pk(r,e){const t=typeof r=="object"?r:Ip(),s=typeof r=="string"?r:Nh,o=Ea(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=u1("firestore");l&&mk(o,...l)}return o}function pf(r){if(r._terminated)throw new oe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gk(r),r._firestoreClient}function gk(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,E){return new B2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,kS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Kt.fromBase64String(e))}catch(t){throw new oe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:St("string",Fn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Au(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:St("string",br._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Rr(e.vectorValues);throw new oe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:St("string",Rr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}class VS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Eg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(MS(this.Ec)&&yk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class _k{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hf(e)}Dc(e,t,s,o=!1){return new Eg({Ec:e,methodName:t,bc:s,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(r){const e=r._freezeSettings(),t=hf(r._databaseId);return new _k(r._databaseId,!!e.ignoreUndefinedProperties,t)}function LS(r,e,t,s,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);Tg("Data must be an object, but it was:",h,s);const d=US(s,h);let p,g;if(l.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const R=vp(e,T,t);if(!h.contains(R))throw new oe(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);zS(E,R)||E.push(R)}p=new An(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new vk(new dn(d),p,g)}class vf extends _g{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function Ek(r,e,t,s){const o=r.Dc(1,e,t);Tg("Data must be an object, but it was:",o,s);const l=[],h=dn.empty();Ss(s,(p,g)=>{const E=wg(e,p,t);g=At(g);const T=o.gc(E);if(g instanceof vf)l.push(E);else{const R=Nu(g,T);R!=null&&(l.push(E),h.set(E,R))}});const d=new An(l);return new VS(h,d,o.fieldTransforms)}function Tk(r,e,t,s,o,l){const h=r.Dc(1,e,t),d=[vp(e,s,t)],p=[o];if(l.length%2!=0)throw new oe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(vp(e,l[R])),p.push(l[R+1]);const g=[],E=dn.empty();for(let R=d.length-1;R>=0;--R)if(!zS(g,d[R])){const k=d[R];let H=p[R];H=At(H);const W=h.gc(k);if(H instanceof vf)g.push(k);else{const q=Nu(H,W);q!=null&&(g.push(k),E.set(k,q))}}const T=new An(g);return new VS(E,T,h.fieldTransforms)}function wk(r,e,t,s=!1){return Nu(t,r.Dc(s?4:3,e))}function Nu(r,e){if(jS(r=At(r)))return Tg("Unsupported field value:",e,r),US(r,e);if(r instanceof _g)return function(s,o){if(!MS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Nu(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=tt.fromDate(s);return{timestampValue:Mh(o.serializer,l)}}if(s instanceof tt){const l=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,l)}}if(s instanceof br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:sS(o.serializer,s._byteString)};if(s instanceof dt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:tg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rr)return function(h,d){return{mapValue:{fields:{[Pw]:{stringValue:Vw},[Oh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Xp(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${ef(s)}`)}(r,e)}function US(r,e){const t={};return Cw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,(s,o)=>{const l=Nu(o,e.Vc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function jS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof br||r instanceof Fn||r instanceof dt||r instanceof _g||r instanceof Rr)}function Tg(r,e,t){if(!jS(t)||!Rw(t)){const s=ef(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function vp(r,e,t){if((e=At(e))instanceof gf)return e._internalPath;if(typeof e=="string")return wg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Sk=new RegExp("[~\\*/\\[\\]]");function wg(r,e,t){if(e.search(Sk)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Bh(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(Z.INVALID_ARGUMENT,d+r+p)}function zS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ak extends BS{data(){return super.data()}}function Sg(r,e){return typeof e=="string"?wg(r,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class bk extends Ag{}function qh(r,e,...t){let s=[];e instanceof Ag&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof bg).length,d=l.filter(p=>p instanceof _f).length;if(h>1||h>0&&d>0)throw new oe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class _f extends bk{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _f(e,t,s)}_apply(e){const t=this._parse(e);return FS(e._query,t),new Sa(e.firestore,e.converter,op(e._query,t))}_parse(e){const t=yf(e.firestore);return function(l,h,d,p,g,E,T){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){NT(T,E);const H=[];for(const W of T)H.push(DT(p,l,W));R={arrayValue:{values:H}}}else R=DT(p,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||NT(T,E),R=wk(d,h,T,E==="in"||E==="not-in");return wt.create(g,E,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(r,e,t){const s=e,o=Sg("where",r);return _f._create(o,s,t)}class bg extends Ag{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)FS(h,p),h=op(h,p)}(e._query,t),new Sa(e.firestore,e.converter,op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DT(r,e,t){if(typeof(t=At(t))=="string"){if(t==="")throw new oe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(e)&&t.indexOf("/")!==-1)throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return GE(r,new ge(s))}if(t instanceof dt)return GE(r,t._key);throw new oe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(t)}.`)}function NT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Rk{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ss(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Oh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new Rr(l)}convertGeoPoint(e){return new br(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(hS(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||mi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends BS{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=la._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:St("string",la._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class gh extends la{data(e={}){return super.data(e)}}class ua{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new gh(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:Ik(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ua._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ik(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r){r=pn(r,dt);const e=pn(r.firestore,gi);return fk(pf(e),r._key).then(t=>$S(e,r,t))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:St("string",ua._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Rg extends Rk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Fh(r){r=pn(r,Sa);const e=pn(r.firestore,gi),t=pf(e),s=new Rg(e);return qS(r._query),dk(t,r._query).then(o=>new ua(e,s,r,o))}function Ef(r,e,t){r=pn(r,dt);const s=pn(r.firestore,gi),o=HS(r.converter,e,t);return Tf(s,[LS(yf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Gn.none())])}function yh(r,e,t,...s){r=pn(r,dt);const o=pn(r.firestore,gi),l=yf(o);let h;return h=typeof(e=At(e))=="string"||e instanceof gf?Tk(l,"updateDoc",r._key,e,t,s):Ek(l,"updateDoc",r._key,e),Tf(o,[h.toMutation(r._key,Gn.exists(!0))])}function Ck(r){return Tf(pn(r.firestore,gi),[new Zp(r._key,Gn.none())])}function GS(r,e){const t=pn(r.firestore,gi),s=en(r),o=HS(r.converter,e);return Tf(t,[LS(yf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Dk(r,...e){var t,s,o;r=At(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||CT(e[h])||(l=e[h++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(CT(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof dt)g=pn(r.firestore,gi),E=sf(r._key.path),p={next:T=>{e[h]&&e[h]($S(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=pn(r,Sa);g=pn(T.firestore,gi),E=T._query;const R=new Rg(g);p={next:k=>{e[h]&&e[h](new ua(g,R,T,k))},error:e[h+1],complete:e[h+2]},qS(r._query)}return function(R,k,H,W){const q=new vg(W),$=new pg(k,q,H);return R.asyncQueue.enqueueAndForget(async()=>fg(await zh(R),$)),()=>{q.Ou(),R.asyncQueue.enqueueAndForget(async()=>dg(await zh(R),$))}}(pf(g),E,d,p)}function Tf(r,e){return function(s,o){const l=new ci;return s.asyncQueue.enqueueAndForget(async()=>ek(await hk(s),o,l)),l.promise}(pf(r),e)}function $S(r,e,t){const s=t.docs.get(e._key),o=new Rg(r);return new la(r,o,e._key,s,new Zl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Vo=o})(ko),Ir(new nr("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new gi(new S2(s.getProvider("auth-internal")),new R2(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Hn(OE,xE,e),Hn(OE,xE,"esm2017")})();const Nk={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},Ig=f0(Nk);y2(Ig);const vs=ZD(Ig),Ok=new si,ft=pk(Ig),xk=async()=>{const r=await oD(vs,Ok);kk(r);const e=en(ft,"users",r.user.uid);return Ef(e,{name:r.user.displayName,email:r.user.email,uid:r.user.uid},{merge:!0}),r};function kk(r){const e={name:r.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function Pk(){const r=_s();return{handleGoogleSignIn:async()=>{try{await xk(),r("/ListOfUsersPrograms")}catch(t){console.error("Sign in failed:",t)}}}}function Vk(r,e){return UC(vs,r,e)}const Mk=({className:r})=>{const[e,t]=z.useState(""),[s,o]=z.useState(""),l=_s(),h=async d=>{d.preventDefault();try{await Vk(e,s),l("/ListOfUsersPrograms")}catch(p){console.error("Login failed:",p),alert("Login failed: "+p.message)}};return C.jsxs("form",{onSubmit:h,className:r,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Email:"}),C.jsx("input",{type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Password:"}),C.jsx("input",{type:"password",id:"password",required:!0,value:s,onChange:d=>o(d.target.value)})]}),C.jsx("button",{type:"submit",children:"Login"})]})},Lk=(r,e)=>LC(vs,r,e).then(t=>{const s=t.user,o=en(ft,"users",s.uid);Ef(o,{name:s.displayName,email:s.email,uid:s.uid},{merge:!0})}).catch(t=>{t.code,t.message}),Uk=({className:r})=>{const[e,t]=z.useState(""),[s,o]=z.useState(""),l=_s(),h=async d=>{d.preventDefault();try{await Lk(e,s),l("/ListOfUsersPrograms")}catch(p){console.error("Sign up failed:",p),alert("Sign up failed: "+p.message)}};return C.jsxs("form",{className:r,onSubmit:h,children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Email:"}),C.jsx("input",{type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Password:"}),C.jsx("input",{type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0})]}),C.jsx("button",{type:"submit",children:"Sign Up"})]})},jk=()=>{const{handleGoogleSignIn:r}=Pk(),[e,t]=z.useState(!0);return C.jsx("div",{className:"auth-container",children:C.jsxs("div",{className:"auth-card",children:[C.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),C.jsxs("div",{className:"auth-form-wrapper",children:[C.jsx(Mk,{className:`auth-form${e?" active":""}`}),C.jsx(Uk,{className:`auth-form${e?"":" active"}`})]}),C.jsx("button",{className:"auth-btn auth-btn-google",onClick:r,children:"Sign in with Google"}),C.jsx("div",{className:"auth-switch",children:e?C.jsxs(C.Fragment,{children:["Don't have an account?",C.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!1)},children:"Sign Up"})]}):C.jsxs(C.Fragment,{children:["Already have an account?",C.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!0)},children:"Login"})]})})]})})};class Cg{watch(e,t,s){throw new Error("Not implemented")}}class zk extends Cg{watchUserPrograms(e,t,s){throw new Error("Not implemented")}getUserPrograms(e){throw new Error("Not implemented")}getProgram(e){throw new Error("Not implemented")}createProgram(e){throw new Error("Not implemented")}updateProgram(e,t){throw new Error("Not implemented")}deleteProgram(e){throw new Error("Not implemented")}}class Bk extends zk{watchUserPrograms(e,t,s){const o=qh(oa(ft,"programs"),bo("createdBy","==",e));return Dk(o,l=>{const h=[];l.forEach(d=>{h.push({id:d.id,...d.data()})}),t(h)},s)}async getUserPrograms(e){const t=qh(oa(ft,"programs"),bo("createdBy","==",e)),s=await Fh(t),o=[];return s.forEach(l=>{o.push({id:l.id,...l.data()})}),o}async getProgram(e){const t=en(ft,"programs",e),s=await us(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Program not found")}async createProgram(e){return(await GS(oa(ft,"programs"),e)).id}async updateProgram(e,t){const s=en(ft,"programs",e);return await yh(s,t),!0}async deleteProgram(e){return await Ck(en(ft,"programs",e)),!0}}class qk extends Cg{getWorkout(e){throw new Error("Not implemented")}saveWorkoutProgress(e,t){throw new Error("Not implemented")}addWorkout(e,t){throw new Error("Not implemented")}updateWorkoutName(e,t,s){throw new Error("Not implemented")}getPreviousWeekSession(e,t,s){throw new Error("Not implemented")}}class Fk extends qk{async getWorkout(e){const t=en(ft,"workouts",e),s=await us(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Workout not found")}async saveWorkoutProgress(e,t){const s=en(ft,"workouts",e);return await yh(s,{progress:t}),!0}async addWorkoutToProgram(e,t){try{const s=en(ft,"programs",e),o=await us(s);if(!o.exists())throw new Error(`Program with ID ${e} not found`);const l=o.data(),h=l.workouts||[];console.log("Current Program Data:",l);const d=[...h,t];return await yh(s,{workouts:d}),t.id}catch(s){throw console.error("Error adding workout to program:",s),s}}async updateWorkoutName(e,t,s){try{const o=en(ft,"programs",e),l=await us(o);if(!l.exists())throw new Error(`Program with ID ${e} not found`);const d=(l.data().workouts||[]).map(p=>p.id===t?{...p,name:s}:p);return await yh(o,{workouts:d}),!0}catch(o){throw console.error("Error updating workout name:",o),o}}async getPreviousWeekSession(e,t,s){try{const o=s-1;if(o<1)return null;const l=oa(ft,"sessions"),h=qh(l,bo("userId","==",e),bo("workoutTemplateId","==",t),bo("week","==",o)),d=await Fh(h);return d.empty?null:d.docs.map(E=>({id:E.id,...E.data()})).sort((E,T)=>{const R=new Date(E.timestamp).getTime();return new Date(T.timestamp).getTime()-R})[0]}catch(o){return console.error("Error fetching previous week session:",o),null}}}class Hk extends Cg{getTemplate(e,t){throw new Error("Method not implemented")}createTemplate(e,t){throw new Error("Method not implemented")}getOrCreateTemplate(e,t){throw new Error("Method not implemented")}getExerciseTemplates(e){throw new Error("Method not implemented")}getTemplateById(e,t){throw new Error("Method not implemented")}updateTemplate(e,t,s){throw new Error("Method not implemented")}}function OT(r){let e=r.trim().toLowerCase();return e=e.replace(/[^\w\s]/gi,""),e=e.replace(/[-_]/g," "),e=e.replace(/\s+/g," "),console.log("Standardized input:",e),e}class Gk extends Hk{constructor(){super(),this.templateCache=new Map}async getTemplate(e,t){const s=OT(t.name),o=`${e}:${s}`;if(this.templateCache.has(o))return this.templateCache.get(o);if(t.templateId)try{const d=await this.getTemplateById(e,t.templateId);if(d)return this.templateCache.set(o,d),d}catch(d){console.error("Error fetching template:",d)}const l=oa(ft,"users",e,"exerciseTemplates"),h=qh(l,bo("standardizedName","==",s));try{const d=await Fh(h);if(!d.empty){const p=d.docs[0],g={id:p.id,...p.data()};return this.templateCache.set(o,g),g}return null}catch(d){throw console.error("Error in getTemplate:",d),d}}async createTemplate(e,t){const s=OT(t.name),o=await this.getTemplate(e,t);if(o)return o;const l={name:t.name,standardizedName:s,category:t.category||"Other",defaultSets:t.sets?t.sets.map(E=>({reps:E.reps||"",weight:E.weight||null,rir:E.rir||""})):[{reps:"",weight:null,rir:""}],createdAt:new Date,userId:e},h=oa(ft,"users",e,"exerciseTemplates"),p={id:(await GS(h,l)).id,...l},g=`${e}:${s}`;return this.templateCache.set(g,p),p}async getOrCreateTemplate(e,t){const s=await this.getTemplate(e,t);return s||await this.createTemplate(e,t)}async getTemplateById(e,t){try{const s=en(ft,"users",e,"exerciseTemplates",t),o=await us(s);return o.exists()?{id:o.id,...o.data()}:null}catch(s){throw console.error("Error in getTemplateById:",s),s}}async getExerciseTemplates(e){try{const t=oa(ft,"users",e,"exerciseTemplates");return(await Fh(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error in getExerciseTemplates:",t),t}}async updateTemplate(e,t,s){try{const o=en(ft,"users",e,"exerciseTemplates",t);return await Ef(o,s,{merge:!0}),{id:t,...s}}catch(o){throw console.error("Error in updateTemplate:",o),o}}}class $k{constructor(){this._programRepository=new Bk,this._workoutRepository=new Fk,this._exerciseTemplateRepository=new Gk}get programRepository(){return this._programRepository}get workoutRepository(){return this._workoutRepository}get exerciseTemplateRepository(){return this._exerciseTemplateRepository}}const Dr=new $k,Kk=Object.freeze(Object.defineProperty({__proto__:null,repositoryFactory:Dr},Symbol.toStringTag,{value:"Module"})),KS=Dr.programRepository,Yk=async r=>await KS.createProgram(r),Qk=async r=>await KS.deleteProgram(r),Wk=({program:r,setProgram:e})=>C.jsxs("div",{className:"step-content",children:[C.jsx("h2",{children:"Program Details"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Program Name"}),C.jsx("input",{type:"text",value:r.name,onChange:t=>e(s=>({...s,name:t.target.value})),placeholder:"Enter program name"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Description"}),C.jsx("textarea",{value:r.description,onChange:t=>e(s=>({...s,description:t.target.value})),placeholder:"Describe your program",rows:"3"})]}),C.jsxs("div",{className:"form-row",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Duration (weeks)"}),C.jsx("input",{type:"number",value:r.duration,onChange:t=>e(s=>({...s,duration:t.target.value})),placeholder:"e.g., 12"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Difficulty"}),C.jsxs("select",{value:r.difficulty,onChange:t=>e(s=>({...s,difficulty:t.target.value})),children:[C.jsx("option",{value:"beginner",children:"Beginner"}),C.jsx("option",{value:"intermediate",children:"Intermediate"}),C.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),Xk=({exercise:r,setExercise:e,onAddExercise:t})=>{const[s,o]=z.useState([]);return z.useEffect(()=>{(async()=>{const h=vs.currentUser;if(h)try{const d=await Dr.exerciseTemplateRepository.getExerciseTemplates(h.uid);o(d||[])}catch(d){console.error("Error fetching templates:",d)}})()},[]),C.jsxs("div",{className:"exercise-section",children:[C.jsx("h3",{children:"Add Exercise"}),C.jsxs("div",{className:"form-row",children:[C.jsx("input",{type:"text",value:r.name,onChange:l=>e(h=>({...h,name:l.target.value})),placeholder:"Exercise name",list:"exercise-templates"}),C.jsx("datalist",{id:"exercise-templates",children:s.map(l=>C.jsx("option",{value:l.name},l.id))}),C.jsx("input",{type:"number",value:r.sets,onChange:l=>e(h=>({...h,sets:l.target.value})),placeholder:"Sets"}),C.jsx("input",{type:"text",value:r.reps,onChange:l=>e(h=>({...h,reps:l.target.value})),placeholder:"Reps"}),C.jsx("button",{type:"button",onClick:t,className:"btn-add",children:"Add"})]})]})},Zk=({exercises:r,onRemoveExercise:e})=>r.length===0?null:C.jsxs("div",{className:"exercise-list",children:[C.jsx("h4",{children:"Exercises in this workout:"}),r.map(t=>C.jsxs("div",{className:"exercise-item",children:[C.jsxs("span",{children:[t.name," - ",t.sets.length," sets x"," ",t.sets[0].reps," reps"," ",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]}),C.jsx("button",{onClick:()=>e(t.id),className:"btn-remove",children:"Remove"})]},t.id))]}),Jk=({workout:r,onRemoveWorkout:e})=>C.jsxs("div",{className:"workout-preview",children:[C.jsxs("div",{className:"workout-header",children:[C.jsx("h5",{children:r.name}),C.jsx("button",{onClick:()=>e(r.id),className:"btn-remove",children:"Remove"})]}),C.jsx("div",{className:"exercises-preview",children:r.exercises.map(t=>C.jsxs("div",{className:"exercise-preview",children:[C.jsx("span",{className:"exercise-name",children:t.name})," ",C.jsxs("span",{className:"exercise-details",children:[t.sets.length," sets  ",t.sets[0].reps," reps",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]})]},t.id))})]}),eP=({program:r,onRemoveWorkout:e})=>C.jsxs("div",{className:"step-content",children:[C.jsx("h2",{children:"Program Preview"}),C.jsxs("div",{className:"program-preview",children:[C.jsxs("div",{className:"preview-header",children:[C.jsx("h3",{children:r.name||"Untitled Program"}),C.jsxs("div",{className:"program-meta",children:[C.jsxs("span",{className:"duration",children:[r.duration," weeks"]}),C.jsx("span",{className:"difficulty",children:r.difficulty})]}),C.jsx("p",{className:"description",children:r.description})]}),C.jsxs("div",{className:"workouts-preview",children:[C.jsxs("h4",{children:["Workouts (",r.workouts.length,")"]}),r.workouts.map(t=>C.jsx(Jk,{workout:t,onRemoveWorkout:e},t.id))]}),r.workouts.length===0&&C.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),tP=({currentWorkout:r,setCurrentWorkout:e,currentExercise:t,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:l,onAddWorkout:h,program:d})=>C.jsxs("div",{className:"step-content",children:[C.jsx("h2",{children:"Add Workouts"}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{children:"Workout Name"}),C.jsx("input",{type:"text",value:r.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),C.jsx(Xk,{exercise:t,setExercise:s,onAddExercise:o}),C.jsx(Zk,{exercises:r.exercises,onRemoveExercise:l}),r.exercises.length>0&&C.jsx("div",{style:{marginTop:"1rem"},children:C.jsx("button",{onClick:h,className:"btn-primary",children:"Add Workout to Program"})}),C.jsxs("div",{className:"workout-preview",children:[C.jsx("h3",{children:"Workouts in Program"}),d.workouts.length>0?d.workouts.map(p=>C.jsxs("div",{className:"workout-card",children:[C.jsx("h4",{children:p.name}),C.jsx("ul",{children:p.exercises.map(g=>C.jsxs("li",{children:[C.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):C.jsx("p",{children:"No workouts added yet."})]})]}),nP=({currentStep:r,steps:e})=>C.jsx("div",{className:"step-indicator",children:e.map((t,s)=>C.jsx("div",{className:`step ${r>=s+1?"active":""}`,children:t},s))}),Ht=[];for(let r=0;r<256;++r)Ht.push((r+256).toString(16).slice(1));function rP(r,e=0){return(Ht[r[e+0]]+Ht[r[e+1]]+Ht[r[e+2]]+Ht[r[e+3]]+"-"+Ht[r[e+4]]+Ht[r[e+5]]+"-"+Ht[r[e+6]]+Ht[r[e+7]]+"-"+Ht[r[e+8]]+Ht[r[e+9]]+"-"+Ht[r[e+10]]+Ht[r[e+11]]+Ht[r[e+12]]+Ht[r[e+13]]+Ht[r[e+14]]+Ht[r[e+15]]).toLowerCase()}let qm;const iP=new Uint8Array(16);function sP(){if(!qm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qm=crypto.getRandomValues.bind(crypto)}return qm(iP)}const aP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xT={randomUUID:aP};function ca(r,e,t){var o;if(xT.randomUUID&&!r)return xT.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??sP();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,rP(s)}function oP(r,e){const t=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=t;o++)for(const l of r)s.push({...l,week:o,id:ca(),templateId:l.templateId});return s}const lP=()=>{const r=_s(),[e,t]=z.useState(1),[s,o]=z.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[l,h]=z.useState({name:"",exercises:[]}),[d,p]=z.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=async()=>{if(d.name&&d.sets&&d.reps){const $=parseInt(d.sets)||1,X=Array.from({length:$},()=>({reps:d.reps,weight:d.weight||null,complete:!1}));let K={name:d.name,sets:X,id:ca()};const te=vs.currentUser;if(te)try{const ne=await Dr.exerciseTemplateRepository.getOrCreateTemplate(te.uid,K);K={...K,templateId:ne.id},console.log("Created exercise with template ID:",K)}catch(ne){console.error("Error creating exercise template:",ne)}h(ne=>({...ne,exercises:[...ne.exercises,K]})),console.log(K),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},E=()=>{l.name&&l.exercises.length>0&&(o($=>({...$,workouts:[...$.workouts,{...l,id:ca(),templateId:ca()}]})),h({name:"",exercises:[]}))},T=$=>{h(X=>({...X,exercises:X.exercises.filter(K=>K.id!==$)}))},R=$=>{o(X=>({...X,workouts:X.workouts.filter(K=>K.id!==$)}))},k=async($,X)=>{const K=JSON.parse(JSON.stringify($));for(const te of K)if(te.exercises&&te.exercises.length>0)for(let ne=0;ne<te.exercises.length;ne++){const fe=te.exercises[ne];if(!fe.templateId)try{const x=await Dr.exerciseTemplateRepository.getOrCreateTemplate(X,fe);te.exercises[ne]={...fe,templateId:x.id},console.log(`Added template ID ${x.id} to exercise ${fe.name}`)}catch(x){console.error(`Error creating template for ${fe.name}:`,x)}}return K},H=async()=>{const $=vs.currentUser;if(!$){alert("You must be logged in to save a program.");return}try{let X=[...s.workouts];X=await k(X,$.uid);const K=oP(X,s.duration),te={...s,workouts:K,createdBy:$.uid,createdAt:new Date},ne=await Yk(te);alert("Program saved successfully! ID: "+ne),r("/ExecuteProgram")}catch(X){console.error("Error saving program:",X),alert("Failed to save program: "+X.message)}},W=()=>{switch(e){case 1:return C.jsx(Wk,{program:s,setProgram:o});case 2:return C.jsx(tP,{currentWorkout:l,setCurrentWorkout:h,currentExercise:d,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:T,onAddWorkout:E,program:s});case 3:return C.jsx(eP,{program:s,onRemoveWorkout:R});default:return null}},q=["Details","Workouts","Preview"];return C.jsxs("div",{className:"create-program-container",children:[C.jsxs("div",{className:"create-program-header",children:[C.jsx("h1",{children:"Create New Program"}),C.jsx(nP,{currentStep:e,steps:q})]}),C.jsx("div",{className:"create-program-content",children:W()}),C.jsxs("div",{className:"create-program-actions",children:[e>1&&C.jsx("button",{onClick:()=>t(e-1),className:"btn-secondary",children:"Previous"}),e<3?C.jsx("button",{onClick:()=>t(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):C.jsx("button",{onClick:H,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),C.jsx("button",{onClick:()=>r("/ListOfUsersPrograms"),className:"btn-cancel",children:"Cancel"})]})]})};function Hh({actions:r,trigger:e}){const[t,s]=z.useState(!1),o=z.useRef();return z.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),C.jsxs("div",{className:"dropdown",ref:o,children:[C.jsx("button",{className:"dropdown-trigger",onClick:l=>{l.stopPropagation(),s(h=>!h)},children:e||""}),t&&C.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>C.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const uP=()=>{const r=_s(),{programId:e}=FT(),[t,s]=z.useState(null),[o,l]=z.useState(1),[h,d]=z.useState(!0),[p,g]=z.useState(""),[E,T]=z.useState(!1),[R,k]=z.useState(null),H=async(te,ne)=>{try{await Dr.workoutRepository.updateWorkoutName(e,te,ne),s(fe=>({...fe,workouts:fe.workouts.map(x=>x.id===te?{...x,name:ne}:x)}))}catch(fe){console.error(" Test failed:",fe),alert(` Test failed: ${fe.message}`)}console.log(t)},W=te=>{k(te),T(!0)},q=async()=>{R&&p.trim()&&await H(R,p.trim()),T(!1),k(null),g("")},$=async()=>{const te={id:ca(),templateId:ca(),name:"New Workout - double click to edit name",week:o,exercises:[],createdAt:new Date};try{await Dr.workoutRepository.addWorkoutToProgram(e,te),s(ne=>({...ne,workouts:[...ne.workouts,te]})),console.log("Updated userProgram state:",{...t,workouts:[...t.workouts,te]}),alert(" Successful! Added workout")}catch(ne){console.error(" Test failed:",ne),alert(` Test failed: ${ne.message}`)}};z.useEffect(()=>{(async()=>{try{const ne=en(ft,"programs",e),fe=await us(ne);if(console.log(fe),fe.exists()){const x=fe.data();console.log(x.workouts),s(x),l(1)}else s(null);d(!1)}catch(ne){console.error("Failed to fetch program:",ne),d(!1)}})()},[e]);const X=t?t.workouts.filter(te=>te.week===o):[],K=te=>{l(te)};return h?C.jsx("div",{className:"execute-program-container",children:C.jsx("div",{className:"loading",children:"Loading your program..."})}):t?C.jsxs("div",{className:"execute-program-container",children:[C.jsxs("div",{className:"execute-program-header",children:[C.jsx("nav",{className:"breadcrumb",children:C.jsx(Hh,{actions:[{label:"Home",onClick:te=>{te.stopPropagation(),r("/ListOfUsersPrograms")}},{label:"Create Program",onClick:te=>{te.stopPropagation(),r("/CreateProgram")}},{label:"Sign Out",onClick:te=>{te.stopPropagation(),r("/ListOfUsersPrograms")}}],trigger:C.jsx("span",{children:""})})}),C.jsx("h1",{children:t.name}),C.jsxs("div",{className:"program-info",children:[C.jsxs("span",{children:["Week ",o," of ",t.duration]}),C.jsx("span",{children:t.difficulty})]})]}),C.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(t.duration,10)},(te,ne)=>ne+1).map(te=>C.jsxs("button",{className:`week-btn ${o===te?"active":""}`,onClick:()=>K(te),children:["Week ",te]},te))}),C.jsxs("div",{className:"week-content",children:[C.jsxs("h2",{children:["Week ",o," Workouts"]}),C.jsx("nav",{className:"add-workout-menu",children:C.jsx(Hh,{actions:[{label:"Add Workout",onClick:te=>{te.stopPropagation(),$()}}],trigger:C.jsx("span",{children:"+"})})}),X.length===0?C.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):C.jsx("div",{className:"workouts-grid",children:X.map(te=>C.jsxs("div",{className:"workout-card",children:[C.jsx("div",{className:"workout-card-header",children:E&&R===te.id?C.jsx("input",{type:"text",value:p,onChange:ne=>g(ne.target.value),onBlur:q,onKeyDown:ne=>{ne.key==="Enter"&&q(),ne.key==="Escape"&&(T(!1),k(null),g(""))},autoFocus:!0}):C.jsx("h3",{onDoubleClick:()=>W(te.id,te.name),children:te.name})}),C.jsx("div",{className:"workout-exercises",children:te.exercises.map(ne=>C.jsxs("div",{className:"exercise-summary",children:[C.jsx("span",{className:"exercise-name",children:ne.name}),C.jsxs("span",{className:"exercise-target",children:[ne.sets.length,"  ",ne.sets[0].reps]})]},ne.id))}),C.jsx("div",{className:"workout-actions",children:C.jsx("button",{onClick:()=>r(`/CurrentSession/${e}/${te.id}`),className:"btn-primary",children:"Start Workout"})})]},te.id))})]})]}):C.jsx("div",{className:"execute-program-container",children:C.jsx("div",{className:"error",children:"Failed to load program"})})},cP=({setWorkout:r,handleSaveSession:e})=>{const t=s=>{r(o=>({...o,notes:s.target.value}))};return C.jsxs("div",{className:"session-actions",children:[C.jsx("textarea",{className:"session-notes",placeholder:"Add notes for this session...",onChange:t}),C.jsx("div",{className:"session-action-buttons",children:C.jsx("button",{className:"btn-save",onClick:e,children:"Save Session"})})]})},hP=({workout:r})=>C.jsxs("div",{className:"session-header",children:[C.jsxs("h1",{className:"session-title",children:[r.name," "]}),C.jsx("div",{className:"session-meta",children:C.jsxs("span",{children:["Week ",r.week," "]})})]});function YS({actions:r,trigger:e}){const[t,s]=z.useState(!1),o=z.useRef();return z.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),C.jsxs("div",{className:"dropdown",ref:o,children:[C.jsx("button",{className:"dropdown-trigger",onClick:()=>s(l=>!l),children:e||""}),t&&C.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>C.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const fP=({exercise:r,onExpand:e,dragHandleProps:t})=>C.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:C.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[C.jsx("div",{className:"drag-handle",...t,children:""}),C.jsx("h2",{className:"exercise-name",children:r.name})]})}),dP=({exercises:r,setWorkout:e,handleDeleteExercise:t})=>{const[s,o]=z.useState(null),[l,h]=z.useState(null),[d,p]=z.useState(null),[g,E]=z.useState(null),T=b=>{h(A=>A===b?null:b)},R=(b,A)=>{e(I=>({...I,exercises:I.exercises.map((O,V)=>V===b?{...O,name:A}:O)}))},k=(b,A)=>{e(I=>{const O=I.exercises.map((V,N)=>{if(N!==b)return V;const Ve=V.sets.filter((ze,se)=>se!==A);return{...V,sets:Ve}});return{...I,exercises:O}})},H=(b,A,I)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((se,ye)=>ye!==A?se:{...se,reps:I});return{...N,sets:ze}});return{...O,exercises:V}})},W=(b,A,I)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((se,ye)=>ye!==A?se:{...se,weight:I});return{...N,sets:ze}});return{...O,exercises:V}})},q=(b,A,I)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((se,ye)=>ye!==A?se:{...se,rir:I});return{...N,sets:ze}});return{...O,exercises:V}})},$=(b,A)=>{e(I=>{const O=I.exercises.map((V,N)=>N!==b?V:{...V,sets:V.sets.map((Ve,ze)=>ze!==A?Ve:{...Ve,complete:!Ve.complete})});return{...I,exercises:O}})},X=b=>{e(A=>{const I=A.exercises.map((O,V)=>V!==b?O:{...O,sets:[...O.sets,{reps:"",weight:"",complete:!1}]});return{...A,exercises:I}})},K=z.useRef(0),te=z.useRef(0),ne=()=>{if(!(K.current===null||te.current===null)){if(K.current!==te.current){const b=[...r],A=b[K.current];b[K.current]=b[te.current],b[te.current]=A,e(I=>({...I,exercises:b}))}K.current=null,te.current=null}},[fe,x]=z.useState([]);return z.useEffect(()=>{(async()=>{const A=vs.currentUser;if(A)try{const I=await Dr.exerciseTemplateRepository.getExerciseTemplates(A.uid);x(I||[])}catch(I){console.error("Error fetching templates:",I)}})()},[]),C.jsx("div",{className:"exercise-list-session",children:r.map((b,A)=>C.jsx("div",{className:`exercise-card 
            ${l===b.id?"expanded":"collapsed"} 
            ${d===b.id?"dragging":""} 
            ${g===b.id?"drag-over":""}
          `,onDragOver:I=>I.preventDefault(),onDragEnter:()=>{te.current=A,E(b.id)},onDragLeave:()=>{g===b.id&&E(null)},"data-id":b.id,children:l===b.id?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"exercise-header",children:s===b.id?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"name-container edit-mode",children:[C.jsx("input",{type:"text",value:b.name,onChange:I=>R(A,I.target.value),className:"edit-exercise-name",list:"exercise-templates"}),C.jsx("datalist",{id:"exercise-templates",children:fe.map(I=>C.jsx("option",{value:I.name},I.id))})]}),C.jsxs("div",{className:"edit-actions",children:[C.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),C.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"X"})]})]}):C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"drag-handle",draggable:!0,onDragStart:I=>{K.current=A,p(b.id);const O=I.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();I.dataTransfer.setDragImage(O,I.clientX-V.left,I.clientY-V.top)}},onDragEnd:()=>{ne(),p(null),E(null);const I=document.querySelector(`.exercise-card[data-id="${b.id}"]`);I&&(I.classList.add("dropped"),setTimeout(()=>{I.classList.remove("dropped")},300))},children:""}),C.jsx("div",{className:"name-container",children:C.jsx("h2",{className:"exercise-name",children:b.name})}),C.jsx(YS,{actions:[{label:"Edit",onClick:I=>{I.stopPropagation(),o(b.id)}},{label:"Delete",onClick:I=>{I.stopPropagation(),t(b.id)}}],trigger:C.jsx("span",{children:""})})]})}),C.jsx("div",{className:"sets-list",children:Array.from({length:Number(b.sets.length)}).map((I,O)=>{var V,N,Ve,ze;return C.jsxs("div",{className:"set-row",children:[C.jsx("input",{type:"number",className:"input-weight",placeholder:"Weight",value:((V=b.sets[O])==null?void 0:V.weight)||"",onChange:se=>W(A,O,se.target.value)}),C.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((N=b.sets[O])==null?void 0:N.reps)||"",onChange:se=>H(A,O,se.target.value)}),C.jsx("input",{type:"number",className:"input-rir",placeholder:"RIR",value:((Ve=b.sets[O])==null?void 0:Ve.rir)||"",onChange:se=>q(A,O,se.target.value)}),s===b.id?C.jsx("button",{className:"btn-delete-set",onClick:()=>k(A,O),children:"X"}):C.jsx("div",{className:"set-complete-checkbox",children:C.jsx("input",{type:"checkbox",checked:((ze=b.sets[O])==null?void 0:ze.complete)||!1,onChange:()=>$(A,O)})})]},O)})}),C.jsx("button",{className:"btn-add-set",onClick:()=>X(A),children:"Add Set"})]}):C.jsx(fP,{exercise:b,onExpand:()=>T(b.id),dragHandleProps:{draggable:!0,onDragStart:I=>{K.current=A,p(b.id);const O=I.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();I.dataTransfer.setDragImage(O,I.clientX-V.left,I.clientY-V.top)}},onDragEnd:()=>{ne(),p(null),E(null);const I=document.querySelector(`.exercise-card[data-id="${b.id}"]`);I&&(I.classList.add("dropped"),setTimeout(()=>{I.classList.remove("dropped")},300))}}})},b.id))})},mP=({previousSession:r,isLoading:e})=>{const[t,s]=z.useState(!1);if(e)return C.jsx("div",{className:"previous-week-summary loading",children:C.jsx("div",{className:"summary-header",children:C.jsx("span",{children:"Loading previous week data..."})})});if(!r)return C.jsx("div",{className:"previous-week-summary no-data",children:C.jsx("div",{className:"summary-header",children:C.jsx("span",{children:"No previous week data available"})})});const o=()=>{s(!t)},l=h=>{const d=h.weight?`${h.weight}lbs`:"BW",p=h.reps||"0";return`${d}  ${p}`};return C.jsxs("div",{className:"previous-week-summary",children:[C.jsxs("div",{className:"summary-header",onClick:o,children:[C.jsxs("div",{className:"header-content",children:[C.jsx("h3",{children:"Last Week's Performance"}),C.jsxs("span",{className:"week-info",children:["Week ",r.week]})]}),C.jsx("button",{className:"toggle-btn",children:t?"":""})]}),t&&C.jsxs("div",{className:"summary-content",children:[C.jsx("div",{className:"session-date",children:new Date(r.timestamp).toLocaleDateString()}),C.jsx("div",{className:"exercises-list",children:r.exercises.map((h,d)=>C.jsxs("div",{className:"exercise-item",children:[C.jsx("div",{className:"exercise-name-previous-week",children:h.name}),C.jsx("div",{className:"sets-display",children:h.sets&&h.sets.map((p,g)=>C.jsx("span",{className:"set-item",children:l(p)},g))})]},h.id||d))})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pP(r,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(E){try{g(s.next(E))}catch(T){h(T)}}function p(E){try{g(s.throw(E))}catch(T){h(T)}}function g(E){E.done?l(E.value):o(E.value).then(d,p)}g((s=s.apply(r,[])).next())})}function gP(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eo=function(){return Eo=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Eo.apply(this,arguments)},QS=function(r){return{loading:r==null,value:r}},yP=function(){return function(r,e){switch(e.type){case"error":return Eo(Eo({},r),{error:e.error,loading:!1,value:void 0});case"reset":return QS(e.defaultValue);case"value":return Eo(Eo({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},vP=function(r){var e=r?r():void 0,t=z.useReducer(yP(),QS(e)),s=t[0],o=t[1],l=z.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=z.useCallback(function(p){o({type:"error",error:p})},[]),d=z.useCallback(function(p){o({type:"value",value:p})},[]);return z.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:d,value:s.value}},[s.error,s.loading,l,h,d,s.value])},_P=function(r,e){var t=vP(function(){return r.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return z.useEffect(function(){var p=BC(r,function(g){return pP(void 0,void 0,void 0,function(){var E;return gP(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),l(E),[3,4];case 4:return h(g),[2]}})})},l);return function(){p()}},[r]),[d,o,s]};const WS=z.createContext();function EP({children:r}){const[e,t,s]=_P(vs);return C.jsx(WS.Provider,{value:{user:e,loading:t,error:s},children:r})}function XS(){return z.useContext(WS)}const TP="modulepreload",wP=function(r){return"/my-workout-tracker/"+r},kT={},SP=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=wP(p),p in kT)return;kT[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":TP,g||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),g)return new Promise((R,k)=>{T.addEventListener("load",R),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};class AP{constructor(){this.templateRepository=Dr.exerciseTemplateRepository}async processExercisesForSession(e,t,s=!0){return!t||!t.length?[]:await Promise.all(t.map(async o=>{if(o.templateId)try{if(await this.templateRepository.getTemplateById(e,o.templateId))return{...o}}catch(l){console.error("Error verifying template:",l)}try{const l=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);return l?{...o,templateId:l.id}:o}catch(l){return console.error("Error processing exercise template:",l),o}}))}async copyExercisesWithTemplates(e,t,s=!1){return!t||!t.length?[]:await Promise.all(t.map(async o=>{let l=o.templateId;if(!l)try{const h=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);h&&(l=h.id)}catch(h){console.error("Error getting template for copy:",h)}return{id:Date.now()+Math.random().toString(36).substr(2,9),name:o.name,templateId:l,sets:o.sets?[...o.sets]:[],notes:o.notes||"",category:o.category||"Other"}}))}async getTemplatesByCategory(e){try{return(await this.templateRepository.getExerciseTemplates(e)).reduce((s,o)=>{const l=o.category||"Other";return s[l]||(s[l]=[]),s[l].push(o),s},{})}catch(t){return console.error("Error getting templates by category:",t),{}}}async updateTemplateData(e,t,s){try{return await this.templateRepository.updateTemplate(e,t,s)}catch(o){throw console.error("Error updating template:",o),o}}}const _p=new AP;async function bP(r){const{userId:e,programId:t,workoutId:s,week:o}=r,l=ZS(e,t,s,o);try{return r.exercises&&r.exercises.length>0&&(r.exercises=await _p.processExercisesForSession(e,r.exercises,!0)),await Ef(en(ft,"sessions",l),r,{merge:!0}),console.log("Session saved:",r,"Document ID:",l),l}catch(h){throw console.error("Error saving session:",h,"Session data:",r),h}}async function RP(r,e,t,s,o){const l=ZS(r,e,t,s);try{const h=en(ft,"sessions",l),d=await us(h);if(d.exists()){console.log(" Found existing session data:",d.data());const p=d.data();return p.exercises&&p.exercises.length>0&&(p.exercises=await _p.processExercisesForSession(r,p.exercises,!1)),p}else return console.log(" No session found, will use program data"),o&&o.exercises&&o.exercises.length>0&&(o.exercises=await _p.processExercisesForSession(r,o.exercises,!1)),o}catch(h){return console.error("Error fetching session data:",h),o}}function ZS(r,e,t,s){return`${r}_${e}_${t}_${s}`}async function IP(r,e,t){try{const{repositoryFactory:s}=await SP(async()=>{const{repositoryFactory:l}=await Promise.resolve().then(()=>Kk);return{repositoryFactory:l}},[]),o=await s.workoutRepository.getPreviousWeekSession(r,e,t);return o?{week:o.week,name:o.name,exercises:o.exercises||[],timestamp:o.timestamp}:null}catch(s){return console.error("Error fetching previous session data:",s),null}}const CP=()=>{const{workoutId:r,programId:e,week:t}=FT(),[s,o]=z.useState(null),[l,h]=z.useState(!0),[d,p]=z.useState(null),[g,E]=z.useState(!0),T=_s(),{user:R}=XS(),k=()=>{T(`/ExecuteProgram/${e}`)},H=()=>{o($=>({...$,exercises:[...$.exercises,{id:ca(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},W=$=>{console.log("delete"),o(X=>({...X,exercises:X.exercises.filter(K=>K.id!==$)}))},q=()=>{console.log("Save session clicked"),console.log("Current workout state:",s);const $={userId:R.uid,programId:e,workoutId:r,workoutTemplateId:s.templateId,name:s.name,week:t||s.week,exercises:s.exercises,notes:s.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",$),bP($)};return z.useEffect(()=>{if(!R)return;(async()=>{try{const X=en(ft,"programs",e),ne=(await us(X)).data().workouts.find(x=>x.id===r),fe=await RP(R.uid,e,r,t||ne.week,ne);if(o(fe),h(!1),ne.templateId)try{const x=parseInt(t)||ne.week,b=await IP(R.uid,ne.templateId,x);p(b)}catch(x){console.error("Error fetching previous session:",x)}E(!1)}catch(X){console.error("Error fetching workout:",X),h(!1),E(!1)}})()},[r,e,t,R]),l?C.jsx("div",{className:"current-session-container",children:C.jsx("div",{className:"loading",children:"Loading workout..."})}):s?(console.log("Loaded workout:",s),C.jsxs("div",{className:"current-session-container",children:[C.jsx("nav",{className:"breadcrumb",children:C.jsx(YS,{actions:[{label:"Home",onClick:$=>{$.stopPropagation(),T(`/ExecuteProgram/${e}`)}},{label:"Program Overview",onClick:$=>{$.stopPropagation(),T(`/ExecuteProgram/${e}`)}},{label:"All Programs",onClick:$=>{$.stopPropagation(),T("/ListOfUsersPrograms")}}],trigger:C.jsx("span",{children:""})})}),C.jsx(hP,{workout:s,onBack:k}),C.jsx(mP,{previousSession:d,isLoading:g}),C.jsxs("div",{className:"current-session-content",children:[C.jsx(dP,{exercises:s.exercises,setWorkout:o,handleDeleteExercise:W}),C.jsx("button",{className:"btn-add-exercise",onClick:H,children:"Add Exercise"}),C.jsx(cP,{handleSaveSession:q,setWorkout:o})]})]})):C.jsx("div",{className:"current-session-container",children:C.jsx("div",{className:"error",children:"Workout not found"})})};function DP(){const[r,e]=z.useState([]),[t,s]=z.useState(!0),[o,l]=z.useState(null),{user:h,loading:d}=XS(),p=Dr.programRepository,g=z.useCallback(async()=>{if(h){s(!0);try{const E=await p.getUserPrograms(h.uid);e(E)}catch(E){l(E.message||String(E))}finally{s(!1)}}},[h,p]);return z.useEffect(()=>{if(d)return;if(!h){l("Not logged in"),s(!1);return}const E=p.watchUserPrograms(h.uid,T=>{e(T),s(!1)},T=>{l(T.message),s(!1)});return g(),()=>E()},[g,d,h,p]),{userPrograms:r,loading:t||d,error:o,refetchPrograms:g}}const NP=()=>{const{userPrograms:r,loading:e,error:t,refetchPrograms:s}=DP(),o=_s();return z.useEffect(()=>{!e&&r.length===0&&o("/CreateProgram")},[e,r,o]),e?C.jsx("div",{children:"Loading..."}):t?C.jsxs("div",{children:["Error: ",t]}):C.jsxs("div",{className:"user-programs-container",children:[C.jsx("nav",{className:"breadcrumb",children:C.jsx(Hh,{actions:[{label:"Home",onClick:l=>{l.stopPropagation(),o("/ListOfUsersPrograms")}},{label:"Create Program",onClick:l=>{l.stopPropagation(),o("/CreateProgram")}},{label:"Sign Out",onClick:l=>{l.stopPropagation(),o("/ListOfUsersPrograms")}}],trigger:C.jsx("span",{children:""})})}),C.jsx("h1",{children:"Your Programs"}),C.jsx("section",{className:"user-programs-list",children:r.map(l=>C.jsxs("div",{className:"user-program-card",onClick:()=>o(`/ExecuteProgram/${l.id}`),children:[C.jsx(Hh,{actions:[{label:"Delete Program",onClick:async h=>{h.stopPropagation();try{await Qk(l.id),s&&await s()}catch(d){console.error("Failed to delete program:",d)}}}],trigger:C.jsx("span",{children:""})}),C.jsx("h2",{children:l.name}),C.jsx("p",{children:l.description}),C.jsxs("span",{children:[l.duration," weeks"]})]},l.id))})]})};function OP(){return C.jsx(EP,{children:C.jsxs(wR,{children:[C.jsx(po,{path:"/",element:C.jsx(jk,{})}),C.jsx(po,{path:"/CreateProgram",element:C.jsx(lP,{})}),C.jsx(po,{path:"/ExecuteProgram/:programId",element:C.jsx(uP,{})}),C.jsx(po,{path:"/CurrentSession/:programId/:workoutId",element:C.jsx(CP,{})}),C.jsx(po,{path:"/ListOfUsersPrograms",element:C.jsx(NP,{})})]})})}xb.createRoot(document.getElementById("root")).render(C.jsx(z.StrictMode,{children:C.jsx(GR,{children:C.jsx(OP,{})})}));
