(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Tm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function Ab(){if(O_)return Hl;O_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var x_;function bb(){return x_||(x_=1,Tm.exports=Ab()),Tm.exports}var R=bb(),wm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Rb(){if(k_)return Re;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function I(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Y={};function q(P,ne,me){this.props=P,this.context=ne,this.refs=Y,this.updater=me||k}q.prototype.isReactComponent={},q.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=q.prototype;function W(P,ne,me){this.props=P,this.context=ne,this.refs=Y,this.updater=me||k}var G=W.prototype=new Z;G.constructor=W,F(G,q.prototype),G.isPureReactComponent=!0;var oe=Array.isArray,ae={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function x(P,ne,me,ce,he,Ie){return me=Ie.ref,{$$typeof:r,type:P,key:ne,ref:me!==void 0?me:null,props:Ie}}function b(P,ne){return x(P.type,ne,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function C(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return ne[me]})}var O=/\/+/g;function V(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?C(""+P.key):ne.toString(36)}function N(){}function Ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ze(P,ne,me,ce,he){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case r:case e:be=!0;break;case E:return be=P._init,ze(be(P._payload),ne,me,ce,he)}}if(be)return he=he(P),be=ce===""?"."+V(P,0):ce,oe(he)?(me="",be!=null&&(me=be.replace(O,"$&/")+"/"),ze(he,ne,me,"",function(ot){return ot})):he!=null&&(S(he)&&(he=b(he,me+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(O,"$&/")+"/")+be)),ne.push(he)),1;be=0;var vt=ce===""?".":ce+":";if(oe(P))for(var Be=0;Be<P.length;Be++)ce=P[Be],Ie=vt+V(ce,Be),be+=ze(ce,ne,me,Ie,he);else if(Be=I(P),typeof Be=="function")for(P=Be.call(P),Be=0;!(ce=P.next()).done;)ce=ce.value,Ie=vt+V(ce,Be++),be+=ze(ce,ne,me,Ie,he);else if(Ie==="object"){if(typeof P.then=="function")return ze(Ve(P),ne,me,ce,he);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(P,ne,me){if(P==null)return P;var ce=[],he=0;return ze(P,ce,"","",function(Ie){return ne.call(me,Ie,he++)}),ce}function ye(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ge(){}return Re.Children={map:re,forEach:function(P,ne,me){re(P,function(){ne.apply(this,arguments)},me)},count:function(P){var ne=0;return re(P,function(){ne++}),ne},toArray:function(P){return re(P,function(ne){return ne})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=W,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ne,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=F({},P.props),he=P.key,Ie=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(he=""+ne.key),ne)!ie.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ce[be]=ne[be]);var be=arguments.length-2;if(be===1)ce.children=me;else if(1<be){for(var vt=Array(be),Be=0;Be<be;Be++)vt[Be]=arguments[Be+2];ce.children=vt}return x(P.type,he,void 0,void 0,Ie,ce)},Re.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Re.createElement=function(P,ne,me){var ce,he={},Ie=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ie=""+ne.key),ne)ie.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=ne[ce]);var be=arguments.length-2;if(be===1)he.children=me;else if(1<be){for(var vt=Array(be),Be=0;Be<be;Be++)vt[Be]=arguments[Be+2];he.children=vt}if(P&&P.defaultProps)for(ce in be=P.defaultProps,be)he[ce]===void 0&&(he[ce]=be[ce]);return x(P,Ie,void 0,void 0,null,he)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:d,render:P}},Re.isValidElement=S,Re.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ye}},Re.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Re.startTransition=function(P){var ne=ae.T,me={};ae.T=me;try{var ce=P(),he=ae.S;he!==null&&he(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ge,ve)}catch(Ie){ve(Ie)}finally{ae.T=ne}},Re.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Re.use=function(P){return ae.H.use(P)},Re.useActionState=function(P,ne,me){return ae.H.useActionState(P,ne,me)},Re.useCallback=function(P,ne){return ae.H.useCallback(P,ne)},Re.useContext=function(P){return ae.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ne){return ae.H.useDeferredValue(P,ne)},Re.useEffect=function(P,ne){return ae.H.useEffect(P,ne)},Re.useId=function(){return ae.H.useId()},Re.useImperativeHandle=function(P,ne,me){return ae.H.useImperativeHandle(P,ne,me)},Re.useInsertionEffect=function(P,ne){return ae.H.useInsertionEffect(P,ne)},Re.useLayoutEffect=function(P,ne){return ae.H.useLayoutEffect(P,ne)},Re.useMemo=function(P,ne){return ae.H.useMemo(P,ne)},Re.useOptimistic=function(P,ne){return ae.H.useOptimistic(P,ne)},Re.useReducer=function(P,ne,me){return ae.H.useReducer(P,ne,me)},Re.useRef=function(P){return ae.H.useRef(P)},Re.useState=function(P){return ae.H.useState(P)},Re.useSyncExternalStore=function(P,ne,me){return ae.H.useSyncExternalStore(P,ne,me)},Re.useTransition=function(){return ae.H.useTransition()},Re.version="19.0.0",Re}var P_;function Tp(){return P_||(P_=1,wm.exports=Rb()),wm.exports}var z=Tp(),Sm={exports:{}},Gl={},Am={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Ib(){return V_||(V_=1,function(r){function e(re,ye){var ve=re.length;re.push(ye);e:for(;0<ve;){var Ge=ve-1>>>1,P=re[Ge];if(0<o(P,ye))re[Ge]=ye,re[ve]=P,ve=Ge;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ye=re[0],ve=re.pop();if(ve!==ye){re[0]=ve;e:for(var Ge=0,P=re.length,ne=P>>>1;Ge<ne;){var me=2*(Ge+1)-1,ce=re[me],he=me+1,Ie=re[he];if(0>o(ce,ve))he<P&&0>o(Ie,ce)?(re[Ge]=Ie,re[he]=ve,Ge=he):(re[Ge]=ce,re[me]=ve,Ge=me);else if(he<P&&0>o(Ie,ve))re[Ge]=Ie,re[he]=ve,Ge=he;else break e}}return ye}function o(re,ye){var ve=re.sortIndex-ye.sortIndex;return ve!==0?ve:re.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,I=3,k=!1,F=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function G(re){for(var ye=t(g);ye!==null;){if(ye.callback===null)s(g);else if(ye.startTime<=re)s(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function oe(re){if(Y=!1,G(re),!F)if(t(p)!==null)F=!0,Ve();else{var ye=t(g);ye!==null&&ze(oe,ye.startTime-re)}}var ae=!1,ie=-1,x=5,b=-1;function S(){return!(r.unstable_now()-b<x)}function C(){if(ae){var re=r.unstable_now();b=re;var ye=!0;try{e:{F=!1,Y&&(Y=!1,Z(ie),ie=-1),k=!0;var ve=I;try{t:{for(G(re),T=t(p);T!==null&&!(T.expirationTime>re&&S());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,I=T.priorityLevel;var P=Ge(T.expirationTime<=re);if(re=r.unstable_now(),typeof P=="function"){T.callback=P,G(re),ye=!0;break t}T===t(p)&&s(p),G(re)}else s(p);T=t(p)}if(T!==null)ye=!0;else{var ne=t(g);ne!==null&&ze(oe,ne.startTime-re),ye=!1}}break e}finally{T=null,I=ve,k=!1}ye=void 0}}finally{ye?O():ae=!1}}}var O;if(typeof W=="function")O=function(){W(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,N=V.port2;V.port1.onmessage=C,O=function(){N.postMessage(null)}}else O=function(){q(C,0)};function Ve(){ae||(ae=!0,O())}function ze(re,ye){ie=q(function(){re(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){F||k||(F=!0,Ve())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ve=I;I=ye;try{return re()}finally{I=ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ve=I;I=re;try{return ye()}finally{I=ve}},r.unstable_scheduleCallback=function(re,ye,ve){var Ge=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,re){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ve+P,re={id:E++,callback:ye,priorityLevel:re,startTime:ve,expirationTime:P,sortIndex:-1},ve>Ge?(re.sortIndex=ve,e(g,re),t(p)===null&&re===t(g)&&(Y?(Z(ie),ie=-1):Y=!0,ze(oe,ve-Ge))):(re.sortIndex=P,e(p,re),F||k||(F=!0,Ve())),re},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(re){var ye=I;return function(){var ve=I;I=ye;try{return re.apply(this,arguments)}finally{I=ve}}}}(bm)),bm}var M_;function Cb(){return M_||(M_=1,Am.exports=Ib()),Am.exports}var Rm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Db(){if(L_)return Wt;L_=1;var r=Tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:I,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var U_;function Nb(){if(U_)return Rm.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=Db(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function Ob(){if(j_)return Gl;j_=1;var r=Cb(),e=Tp(),t=Nb();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function b(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Z:return i=n.displayName||null,i!==null?i:b(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return b(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,O,V;function N(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+V}var Ve=!1;function ze(n,i){if(!n||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){H=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var D=_.split(`
`),L=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===L.length)for(u=D.length-1,f=L.length-1;1<=u&&0<=f&&D[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==L[f]){var Q=`
`+D[u].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=u&&0<=f);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=ze(n.type,!1),n;case 11:return n=ze(n.type.render,!1),n;case 1:return n=ze(n.type,!0),n;default:return""}}function ye(n){try{var i="";do i+=re(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ge(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function P(n){if(ve(n)!==n)throw Error(s(188))}function ne(n){var i=n.alternate;if(!i){if(i=ve(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return P(f),n;if(m===u)return P(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,u=m;break}if(w===u){_=!0,u=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,u=f;break}if(w===u){_=!0,u=m,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var ce=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},be=[],vt=-1;function Be(n){return{current:n}}function ot(n){0>vt||(n.current=be[vt],be[vt]=null,vt--)}function Qe(n,i){vt++,be[vt]=n.current,n.current=i}var nn=Be(null),xr=Be(null),Rn=Be(null),_i=Be(null);function Ei(n,i){switch(Qe(Rn,i),Qe(xr,n),Qe(nn,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?a_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=a_(n),i=o_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(nn),Qe(nn,i)}function kr(){ot(nn),ot(xr),ot(Rn)}function jo(n){n.memoizedState!==null&&Qe(_i,n);var i=nn.current,a=o_(i,n.type);i!==a&&(Qe(xr,n),Qe(nn,a))}function ba(n){xr.current===n&&(ot(nn),ot(xr)),_i.current===n&&(ot(_i),jl._currentValue=Ie)}var Ra=Object.prototype.hasOwnProperty,Rs=r.unstable_scheduleCallback,Ia=r.unstable_cancelCallback,Sf=r.unstable_shouldYield,zo=r.unstable_requestPaint,un=r.unstable_now,xu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Pr=r.unstable_NormalPriority,ku=r.unstable_LowPriority,Bo=r.unstable_IdlePriority,Af=r.log,Is=r.unstable_setDisableYieldValue,Ti=null,Qt=null;function qo(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}}function sr(n){if(typeof Af=="function"&&Is(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Ti,n)}catch{}}var rn=Math.clz32?Math.clz32:Vu,Fo=Math.log,Pu=Math.LN2;function Vu(n){return n>>>=0,n===0?32:31-(Fo(n)/Pu|0)|0}var ar=128,wi=4194304;function Kn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?u=Kn(a):(m&=w,m!==0?u=Kn(m):n||(_=w&~_,_!==0&&(u=Kn(_))))):(w=a&~f,w!==0?u=Kn(w):m!==0?u=Kn(m):n||(_=a&~_,_!==0&&(u=Kn(_)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:u}function Si(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ca(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=ar;return ar<<=1,(ar&4194176)===0&&(ar=128),n}function Ai(){var n=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),n}function Da(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mu(n,i,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,D=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-rn(a),te=1<<Q;w[Q]=0,D[Q]=-1;var H=L[Q];if(H!==null)for(L[Q]=null,Q=0;Q<H.length;Q++){var K=H[Q];K!==null&&(K.lane&=-536870913)}a&=~te}u!==0&&bi(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function bi(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-rn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ri(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-rn(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Lu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Uu(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:b_(n.type))}function Ii(n,i){var a=he.p;try{return he.p=n,i()}finally{he.p=a}}var or=Math.random().toString(36).slice(2),kt="__reactFiber$"+or,Rt="__reactProps$"+or,Vr="__reactContainer$"+or,Cs="__reactEvents$"+or,Na="__reactListeners$"+or,lr="__reactHandles$"+or,Go="__reactResources$"+or,Ci="__reactMarker$"+or;function Ds(n){delete n[kt],delete n[Rt],delete n[Cs],delete n[Na],delete n[lr]}function Qn(n){var i=n[kt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Vr]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=c_(n);n!==null;){if(a=n[kt])return a;n=c_(n)}return i}n=a,a=n.parentNode}return null}function Mr(n){if(n=n[kt]||n[Vr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Di(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Ni(n){var i=n[Go];return i||(i=n[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ci]=!0}var $o=new Set,Oa={};function gn(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(Oa[n]=i,n=0;n<i.length;n++)$o.add(i[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function ju(n){return Ra.call(Qo,n)?!0:Ra.call(Ko,n)?!1:bf.test(n)?Qo[n]=!0:(Ko[n]=!0,!1)}function Oi(n,i,a){if(ju(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function xi(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Rf(n){var i=zu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ns(n){n._valueTracker||(n._valueTracker=Rf(n))}function Yo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=zu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lr=/[\n"\\]/g;function lt(n){return n.replace(Lr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ki(n,i,a,u,f,m,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?ka(n,_,sn(i)):a!=null?ka(n,_,sn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function Os(n,i,a,u,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function ka(n,i,a){i==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qe(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function xs(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function Pi(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Dn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||If.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Bu(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Wo(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Wo(n,m,i[m])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ur(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nn=null;function Pa(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ur=null,jr=null;function zr(n){var i=Mr(n);if(i&&(n=i.stateNode)){var a=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(ki(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(s(90));ki(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Yo(u)}break e;case"textarea":xs(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qe(n,!!a.multiple,i,!1)}}}var Zo=!1;function qu(n,i,a){if(Zo)return n(i,a);Zo=!0;try{var u=n(i);return u}finally{if(Zo=!1,(Ur!==null||jr!==null)&&(kc(),Ur&&(i=Ur,n=jr,jr=Ur=null,zr(i),n)))for(i=0;i<n.length;i++)zr(n[i])}}function ks(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Rt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(yn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{On=!1}var cr=null,Vi=null,Br=null;function Jo(){if(Br)return Br;var n,i=Vi,a=i.length,u,f="value"in cr?cr.value:cr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&i[a-u]===f[m-u];u++);return Br=f.slice(n,1<u?1-u:void 0)}function hr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function fr(){return!0}function el(){return!1}function Pt(n){function i(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fr:el,this.isPropagationStopped=el,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Pt($e),Vs=C({},$e,{view:0,detail:0}),Fu=Pt(Vs),Ma,La,dr,Ms=C({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==dr&&(dr&&n.type==="mousemove"?(Ma=n.screenX-dr.screenX,La=n.screenY-dr.screenY):La=Ma=0,dr=n),Ma)},movementY:function(n){return"movementY"in n?n.movementY:La}}),xn=Pt(Ms),Hu=C({},Ms,{dataTransfer:0}),Nf=Pt(Hu),Ls=C({},Vs,{relatedTarget:0}),Ua=Pt(Ls),tl=C({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Pt(tl),Gu=C({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),za=Pt(Gu),Of=C({},$e,{data:0}),nl=Pt(Of),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ku[n])?!!i[n]:!1}function js(){return rl}var Qu=C({},Vs,{key:function(n){if(n.key){var i=Us[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$u[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ba=Pt(Qu),Yu=C({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Pt(Yu),qr=C({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),Wu=Pt(qr),Xu=C({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Pt(Xu),Ju=C({},Ms,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Pt(Ju),an=C({},$e,{newState:0,oldState:0}),ec=Pt(an),tc=[9,13,27,32],mr=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,v=yn&&(!mr||c&&8<c&&11>=c),A=" ",j=!1;function $(n,i){switch(n){case"keyup":return tc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function It(n,i){switch(n){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return n=i.data,n===A&&j?null:n;default:return null}}function Le(n,i){if(Me)return n==="compositionend"||!mr&&$(n,i)?(n=Jo(),Br=Vi=cr=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Fr(n,i,a,u){Ur?jr?jr.push(u):jr=[u]:Ur=u,i=Uc(i,"onChange"),0<i.length&&(a=new Va("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var zt=null,pr=null;function sl(n){t_(n,0)}function nc(n){var i=Di(n);if(Yo(i))return n}function Ng(n,i){if(n==="change")return i}var Og=!1;if(yn){var xf;if(yn){var kf="oninput"in document;if(!kf){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),kf=typeof xg.oninput=="function"}xf=kf}else xf=!1;Og=xf&&(!document.documentMode||9<document.documentMode)}function kg(){zt&&(zt.detachEvent("onpropertychange",Pg),pr=zt=null)}function Pg(n){if(n.propertyName==="value"&&nc(pr)){var i=[];Fr(i,pr,n,Pa(n)),qu(sl,i)}}function eA(n,i,a){n==="focusin"?(kg(),zt=i,pr=a,zt.attachEvent("onpropertychange",Pg)):n==="focusout"&&kg()}function tA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nc(pr)}function nA(n,i){if(n==="click")return nc(i)}function rA(n,i){if(n==="input"||n==="change")return nc(i)}function iA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:iA;function al(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Ra.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mg(n,i){var a=Vg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Lg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ug(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=xa(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xa(n.document)}return i}function Pf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function sA(n,i){var a=Ug(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Lg(i.ownerDocument.documentElement,i)){if(u!==null&&Pf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=Mg(i,m);var _=Mg(i,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var aA=yn&&"documentMode"in document&&11>=document.documentMode,Fa=null,Vf=null,ol=null,Mf=!1;function jg(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Fa==null||Fa!==xa(u)||(u=Fa,"selectionStart"in u&&Pf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ol&&al(ol,u)||(ol=u,u=Uc(Vf,"onSelect"),0<u.length&&(i=new Va("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=Fa)))}function zs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ha={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Lf={},zg={};yn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Bs(n){if(Lf[n])return Lf[n];if(!Ha[n])return n;var i=Ha[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in zg)return Lf[n]=i[a];return n}var Bg=Bs("animationend"),qg=Bs("animationiteration"),Fg=Bs("animationstart"),oA=Bs("transitionrun"),lA=Bs("transitionstart"),uA=Bs("transitioncancel"),Hg=Bs("transitionend"),Gg=new Map,$g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yn(n,i){Gg.set(n,i),gn(i,[n])}var kn=[],Ga=0,Uf=0;function rc(){for(var n=Ga,i=Uf=Ga=0;i<n;){var a=kn[i];kn[i++]=null;var u=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Kg(a,f,m)}}function ic(n,i,a,u){kn[Ga++]=n,kn[Ga++]=i,kn[Ga++]=a,kn[Ga++]=u,Uf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function jf(n,i,a,u){return ic(n,i,a,u),sc(n)}function Mi(n,i){return ic(n,null,null,i),sc(n)}function Kg(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-rn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function sc(n){if(50<xl)throw xl=0,Gd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var $a={},Qg=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var a=Qg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ye(i)},Qg.set(n,i),i)}return{value:n,source:i,stack:ye(i)}}var Ka=[],Qa=0,ac=null,oc=0,Vn=[],Mn=0,qs=null,Hr=1,Gr="";function Fs(n,i){Ka[Qa++]=oc,Ka[Qa++]=ac,ac=n,oc=i}function Yg(n,i,a){Vn[Mn++]=Hr,Vn[Mn++]=Gr,Vn[Mn++]=qs,qs=n;var u=Hr;n=Gr;var f=32-rn(u)-1;u&=~(1<<f),a+=1;var m=32-rn(i)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Hr=1<<32-rn(i)+f|a<<f|u,Gr=m+n}else Hr=1<<m|a<<f|u,Gr=n}function zf(n){n.return!==null&&(Fs(n,1),Yg(n,1,0))}function Bf(n){for(;n===ac;)ac=Ka[--Qa],Ka[Qa]=null,oc=Ka[--Qa],Ka[Qa]=null;for(;n===qs;)qs=Vn[--Mn],Vn[Mn]=null,Gr=Vn[--Mn],Vn[Mn]=null,Hr=Vn[--Mn],Vn[Mn]=null}var on=null,Bt=null,Fe=!1,Wn=null,gr=!1,qf=Error(s(519));function Hs(n){var i=Error(s(418,""));throw cl(Pn(i,n)),qf}function Wg(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[kt]=n,i[Rt]=u,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Pe(Pl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Os(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ns(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Pi(i,u.value,u.defaultValue,u.children),Ns(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||s_(i.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=jc),i=!0):i=!1,i||Hs(n)}function Xg(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:gr=!0;return;case 5:case 13:gr=!1;return;default:on=on.return}}function ll(n){if(n!==on)return!1;if(!Fe)return Xg(n),Fe=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Hs(n),Xg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Bt=Zn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Bt=null}}else Bt=on?Zn(n.stateNode.nextSibling):null;return!0}function ul(){Bt=on=null,Fe=!1}function cl(n){Wn===null?Wn=[n]:Wn.push(n)}var hl=Error(s(460)),Zg=Error(s(474)),Ff={then:function(){}};function Jg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function ey(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(lc,lc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===hl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(lc,lc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===hl?Error(s(483)):n}throw fl=i,hl}}var fl=null;function ty(){if(fl===null)throw Error(s(459));var n=fl;return fl=null,n}var Ya=null,dl=0;function uc(n){var i=dl;return dl+=1,Ya===null&&(Ya=[]),ey(Ya,n,i)}function ml(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function cc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ny(n){var i=n._init;return i(n._payload)}function ry(n){function i(U,M){if(n){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!n)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Qi(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function _(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function w(U,M,B,J){return M===null||M.tag!==6?(M=Ld(B,U.mode,J),M.return=U,M):(M=f(M,B),M.return=U,M)}function D(U,M,B,J){var fe=B.type;return fe===p?Q(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===W&&ny(fe)===M.type)?(M=f(M,B.props),ml(M,B),M.return=U,M):(M=Cc(B.type,B.key,B.props,null,U.mode,J),ml(M,B),M.return=U,M)}function L(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Ud(B,U.mode,J),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function Q(U,M,B,J,fe){return M===null||M.tag!==7?(M=ea(B,U.mode,J,fe),M.return=U,M):(M=f(M,B),M.return=U,M)}function te(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ld(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return B=Cc(M.type,M.key,M.props,null,U.mode,B),ml(B,M),B.return=U,B;case d:return M=Ud(M,U.mode,B),M.return=U,M;case W:var J=M._init;return M=J(M._payload),te(U,M,B)}if(ce(M)||ie(M))return M=ea(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return te(U,uc(M),B);if(M.$$typeof===k)return te(U,bc(U,M),B);cc(U,M)}return null}function H(U,M,B,J){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:w(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===fe?D(U,M,B,J):null;case d:return B.key===fe?L(U,M,B,J):null;case W:return fe=B._init,B=fe(B._payload),H(U,M,B,J)}if(ce(B)||ie(B))return fe!==null?null:Q(U,M,B,J,null);if(typeof B.then=="function")return H(U,M,uc(B),J);if(B.$$typeof===k)return H(U,M,bc(U,B),J);cc(U,B)}return null}function K(U,M,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(M,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return U=U.get(J.key===null?B:J.key)||null,D(M,U,J,fe);case d:return U=U.get(J.key===null?B:J.key)||null,L(M,U,J,fe);case W:var Ne=J._init;return J=Ne(J._payload),K(U,M,B,J,fe)}if(ce(J)||ie(J))return U=U.get(B)||null,Q(M,U,J,fe,null);if(typeof J.then=="function")return K(U,M,B,uc(J),fe);if(J.$$typeof===k)return K(U,M,B,bc(M,J),fe);cc(M,J)}return null}function de(U,M,B,J){for(var fe=null,Ne=null,pe=M,_e=M=0,Ut=null;pe!==null&&_e<B.length;_e++){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var He=H(U,pe,B[_e],J);if(He===null){pe===null&&(pe=Ut);break}n&&pe&&He.alternate===null&&i(U,pe),M=m(He,M,_e),Ne===null?fe=He:Ne.sibling=He,Ne=He,pe=Ut}if(_e===B.length)return a(U,pe),Fe&&Fs(U,_e),fe;if(pe===null){for(;_e<B.length;_e++)pe=te(U,B[_e],J),pe!==null&&(M=m(pe,M,_e),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return Fe&&Fs(U,_e),fe}for(pe=u(pe);_e<B.length;_e++)Ut=K(pe,U,_e,B[_e],J),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?_e:Ut.key),M=m(Ut,M,_e),Ne===null?fe=Ut:Ne.sibling=Ut,Ne=Ut);return n&&pe.forEach(function(ts){return i(U,ts)}),Fe&&Fs(U,_e),fe}function Se(U,M,B,J){if(B==null)throw Error(s(151));for(var fe=null,Ne=null,pe=M,_e=M=0,Ut=null,He=B.next();pe!==null&&!He.done;_e++,He=B.next()){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var ts=H(U,pe,He.value,J);if(ts===null){pe===null&&(pe=Ut);break}n&&pe&&ts.alternate===null&&i(U,pe),M=m(ts,M,_e),Ne===null?fe=ts:Ne.sibling=ts,Ne=ts,pe=Ut}if(He.done)return a(U,pe),Fe&&Fs(U,_e),fe;if(pe===null){for(;!He.done;_e++,He=B.next())He=te(U,He.value,J),He!==null&&(M=m(He,M,_e),Ne===null?fe=He:Ne.sibling=He,Ne=He);return Fe&&Fs(U,_e),fe}for(pe=u(pe);!He.done;_e++,He=B.next())He=K(pe,U,_e,He.value,J),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?_e:He.key),M=m(He,M,_e),Ne===null?fe=He:Ne.sibling=He,Ne=He);return n&&pe.forEach(function(Sb){return i(U,Sb)}),Fe&&Fs(U,_e),fe}function ht(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===p){if(M.tag===7){a(U,M.sibling),J=f(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===W&&ny(fe)===M.type){a(U,M.sibling),J=f(M,B.props),ml(J,B),J.return=U,U=J;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(J=ea(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Cc(B.type,B.key,B.props,null,U.mode,J),ml(J,B),J.return=U,U=J)}return _(U);case d:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),J=f(M,B.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else i(U,M);M=M.sibling}J=Ud(B,U.mode,J),J.return=U,U=J}return _(U);case W:return fe=B._init,B=fe(B._payload),ht(U,M,B,J)}if(ce(B))return de(U,M,B,J);if(ie(B)){if(fe=ie(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),Se(U,M,B,J)}if(typeof B.then=="function")return ht(U,M,uc(B),J);if(B.$$typeof===k)return ht(U,M,bc(U,B),J);cc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,B),J.return=U,U=J):(a(U,M),J=Ld(B,U.mode,J),J.return=U,U=J),_(U)):a(U,M)}return function(U,M,B,J){try{dl=0;var fe=ht(U,M,B,J);return Ya=null,fe}catch(pe){if(pe===hl)throw pe;var Ne=zn(29,pe,null,U.mode);return Ne.lanes=J,Ne.return=U,Ne}finally{}}}var Gs=ry(!0),iy=ry(!1),Wa=Be(null),hc=Be(0);function sy(n,i){n=ni,Qe(hc,n),Qe(Wa,i),ni=n|i.baseLanes}function Hf(){Qe(hc,ni),Qe(Wa,Wa.current)}function Gf(){ni=hc.current,ot(Wa),ot(hc)}var Ln=Be(null),yr=null;function Li(n){var i=n.alternate;Qe(Dt,Dt.current&1),Qe(Ln,n),yr===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(yr=n)}function ay(n){if(n.tag===22){if(Qe(Dt,Dt.current),Qe(Ln,n),yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(yr=n)}}else Ui()}function Ui(){Qe(Dt,Dt.current),Qe(Ln,Ln.current)}function $r(n){ot(Ln),yr===n&&(yr=null),ot(Dt)}var Dt=Be(0);function fc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},hA=r.unstable_scheduleCallback,fA=r.unstable_NormalPriority,Nt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new cA,data:new Map,refCount:0}}function pl(n){n.refCount--,n.refCount===0&&hA(fA,function(){n.controller.abort()})}var gl=null,Kf=0,Xa=0,Za=null;function dA(n,i){if(gl===null){var a=gl=[];Kf=0,Xa=Jd(),Za={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Kf++,i.then(oy,oy),i}function oy(){if(--Kf===0&&gl!==null){Za!==null&&(Za.status="fulfilled");var n=gl;gl=null,Xa=0,Za=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function mA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var ly=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dA(n,i),ly!==null&&ly(n,i)};var $s=Be(null);function Qf(){var n=$s.current;return n!==null?n:Ze.pooledCache}function dc(n,i){i===null?Qe($s,$s.current):Qe($s,i.pool)}function uy(){var n=Qf();return n===null?null:{parent:Nt._currentValue,pool:n}}var ji=0,Ce=null,Ye=null,_t=null,mc=!1,Ja=!1,Ks=!1,pc=0,yl=0,eo=null,pA=0;function pt(){throw Error(s(321))}function Yf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function Wf(n,i,a,u,f,m){return ji=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?Qs:zi,Ks=!1,m=a(u,f),Ks=!1,Ja&&(m=hy(i,a,u,f)),cy(n),m}function cy(n){S.H=vr;var i=Ye!==null&&Ye.next!==null;if(ji=0,_t=Ye=Ce=null,mc=!1,yl=0,eo=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Ac(n)&&(Mt=!0))}function hy(n,i,a,u){Ce=n;var f=0;do{if(Ja&&(eo=null),yl=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,_t=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=Ys,m=i(a,u)}while(Ja);return m}function gA(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?vl(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Xf(){var n=pc!==0;return pc=0,n}function Zf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Jf(n){if(mc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mc=!1}ji=0,_t=Ye=Ce=null,Ja=!1,yl=pc=0,eo=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=_t===null?Ce.memoizedState:_t.next;if(i!==null)_t=i,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}var gc;gc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(n){var i=yl;return yl+=1,eo===null&&(eo=[]),n=ey(eo,n,i),i=Ce,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Qs:zi),n}function yc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vl(n);if(n.$$typeof===k)return Yt(n)}throw Error(s(438,String(n)))}function ed(n){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=oe;return i.index++,a}function Kr(n,i){return typeof i=="function"?i(n):i}function vc(n){var i=Et();return td(i,Ye,n)}function td(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=_=null,D=null,L=i,Q=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Ue&te)===te:(ji&te)===te){var H=L.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===Xa&&(Q=!0);else if((ji&H)===H){L=L.next,H===Xa&&(Q=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=te,_=m):D=D.next=te,Ce.lanes|=H,Yi|=H;te=L.action,Ks&&a(m,te),m=L.hasEagerState?L.eagerState:a(m,te)}else H={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},D===null?(w=D=H,_=m):D=D.next=H,Ce.lanes|=te,Yi|=te;L=L.next}while(L!==null&&L!==i);if(D===null?_=m:D.next=w,!vn(m,n.memoizedState)&&(Mt=!0,Q&&(a=Za,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function nd(n){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);vn(m,i.memoizedState)||(Mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function fy(n,i,a){var u=Ce,f=Et(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Ye||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,sd(py.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,to(9,my.bind(null,u,f,a,i),{destroy:void 0},null),Ze===null)throw Error(s(349));m||(ji&60)!==0||dy(u,i,a)}return a}function dy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=gc(),Ce.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function my(n,i,a,u){i.value=a,i.getSnapshot=u,gy(i)&&yy(n)}function py(n,i,a){return a(function(){gy(i)&&yy(n)})}function gy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function yy(n){var i=Mi(n,2);i!==null&&ln(i,n,2)}function rd(n){var i=hn();if(typeof n=="function"){var a=n;if(n=a(),Ks){sr(!0);try{a()}finally{sr(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:n},i}function vy(n,i,a,u){return n.baseState=a,td(n,Ye,typeof u=="function"?u:Kr)}function yA(n,i,a,u,f){if(Tc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,_y(i,m)):(m.next=a.next,i.pending=a.next=m)}}function _y(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=S.T,_={};S.T=_;try{var w=a(f,u),D=S.S;D!==null&&D(_,w),Ey(n,i,w)}catch(L){id(n,i,L)}finally{S.T=m}}else try{m=a(f,u),Ey(n,i,m)}catch(L){id(n,i,L)}}function Ey(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ty(n,i,u)},function(u){return id(n,i,u)}):Ty(n,i,a)}function Ty(n,i,a){i.status="fulfilled",i.value=a,wy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,_y(n,a)))}function id(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==u)}n.action=null}function wy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Sy(n,i){return i}function Ay(n,i){if(Fe){var a=Ze.formState;if(a!==null){e:{var u=Ce;if(Fe){if(Bt){t:{for(var f=Bt,m=gr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Bt=Zn(f.nextSibling),u=f.data==="F!";break e}}Hs(u)}u=!1}u&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:i},a.queue=u,a=qy.bind(null,Ce,u),u.dispatch=a,u=rd(!1),m=cd.bind(null,Ce,!1,u.queue),u=hn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=yA.bind(null,Ce,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function by(n){var i=Et();return Ry(i,Ye,n)}function Ry(n,i,a){i=td(n,i,Sy)[0],n=vc(Kr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?vl(i):i;var u=Et(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ce.flags|=2048,to(9,vA.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function vA(n,i){n.action=i}function Iy(n){var i=Et(),a=Ye;if(a!==null)return Ry(i,a,n);Et(),i=i.memoizedState,a=Et();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function to(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=Ce.updateQueue,i===null&&(i=gc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Cy(){return Et().memoizedState}function _c(n,i,a,u){var f=hn();Ce.flags|=n,f.memoizedState=to(1|i,a,{destroy:void 0},u===void 0?null:u)}function Ec(n,i,a,u){var f=Et();u=u===void 0?null:u;var m=f.memoizedState.inst;Ye!==null&&u!==null&&Yf(u,Ye.memoizedState.deps)?f.memoizedState=to(i,a,m,u):(Ce.flags|=n,f.memoizedState=to(1|i,a,m,u))}function Dy(n,i){_c(8390656,8,n,i)}function sd(n,i){Ec(2048,8,n,i)}function Ny(n,i){return Ec(4,2,n,i)}function Oy(n,i){return Ec(4,4,n,i)}function xy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ky(n,i,a){a=a!=null?a.concat([n]):null,Ec(4,4,xy.bind(null,i,n),a)}function ad(){}function Py(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Yf(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function Vy(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Yf(i,u[1]))return u[0];if(u=n(),Ks){sr(!0);try{n()}finally{sr(!1)}}return a.memoizedState=[u,i],u}function od(n,i,a){return a===void 0||(ji&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Lv(),Ce.lanes|=n,Yi|=n,a)}function My(n,i,a,u){return vn(a,i)?a:Wa.current!==null?(n=od(n,a,u),vn(n,i)||(Mt=!0),n):(ji&42)===0?(Mt=!0,n.memoizedState=a):(n=Lv(),Ce.lanes|=n,Yi|=n,i)}function Ly(n,i,a,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var _=S.T,w={};S.T=w,cd(n,!1,i,a);try{var D=f(),L=S.S;if(L!==null&&L(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=mA(D,u);_l(n,i,Q,wn(n))}else _l(n,i,u,wn(n))}catch(te){_l(n,i,{then:function(){},status:"rejected",reason:te},wn())}finally{he.p=m,S.T=_}}function _A(){}function ld(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=Uy(n).queue;Ly(n,f,i,Ie,a===null?_A:function(){return jy(n),a(u)})}function Uy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function jy(n){var i=Uy(n).next.queue;_l(n,i,{},wn())}function ud(){return Yt(jl)}function zy(){return Et().memoizedState}function By(){return Et().memoizedState}function EA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Fi(a);var u=Hi(i,n,a);u!==null&&(ln(u,i,a),wl(u,i,a)),i={cache:$f()},n.payload=i;return}i=i.return}}function TA(n,i,a){var u=wn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(n)?Fy(i,a):(a=jf(n,i,a,u),a!==null&&(ln(a,n,u),Hy(a,i,u)))}function qy(n,i,a){var u=wn();_l(n,i,a,u)}function _l(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(n))Fy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,_))return ic(n,i,f,0),Ze===null&&rc(),!1}catch{}finally{}if(a=jf(n,i,f,u),a!==null)return ln(a,n,u),Hy(a,i,u),!0}return!1}function cd(n,i,a,u){if(u={lane:2,revertLane:Jd(),action:u,hasEagerState:!1,eagerState:null,next:null},Tc(n)){if(i)throw Error(s(479))}else i=jf(n,a,u,2),i!==null&&ln(i,n,2)}function Tc(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Fy(n,i){Ja=mc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Hy(n,i,a){if((a&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ri(n,a)}}var vr={readContext:Yt,use:yc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};vr.useCacheRefresh=pt,vr.useMemoCache=pt,vr.useHostTransitionStatus=pt,vr.useFormState=pt,vr.useActionState=pt,vr.useOptimistic=pt;var Qs={readContext:Yt,use:yc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:Dy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,_c(4194308,4,xy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return _c(4194308,4,n,i)},useInsertionEffect:function(n,i){_c(4,2,n,i)},useMemo:function(n,i){var a=hn();i=i===void 0?null:i;var u=n();if(Ks){sr(!0);try{n()}finally{sr(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=hn();if(a!==void 0){var f=a(i);if(Ks){sr(!0);try{a(i)}finally{sr(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=TA.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=rd(n);var i=n.queue,a=qy.bind(null,Ce,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(n,i){var a=hn();return od(a,n,i)},useTransition:function(){var n=rd(!1);return n=Ly.bind(null,Ce,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ce,f=hn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Ue&60)!==0||dy(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Dy(py.bind(null,u,m,n),[n]),u.flags|=2048,to(9,my.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=hn(),i=Ze.identifierPrefix;if(Fe){var a=Gr,u=Hr;a=(u&~(1<<32-rn(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=pc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=pA++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=EA.bind(null,Ce)}};Qs.useMemoCache=ed,Qs.useHostTransitionStatus=ud,Qs.useFormState=Ay,Qs.useActionState=Ay,Qs.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Ce,!0,a),a.dispatch=i,[n,i]};var zi={readContext:Yt,use:yc,useCallback:Py,useContext:Yt,useEffect:sd,useImperativeHandle:ky,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Vy,useReducer:vc,useRef:Cy,useState:function(){return vc(Kr)},useDebugValue:ad,useDeferredValue:function(n,i){var a=Et();return My(a,Ye.memoizedState,n,i)},useTransition:function(){var n=vc(Kr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:fy,useId:zy};zi.useCacheRefresh=By,zi.useMemoCache=ed,zi.useHostTransitionStatus=ud,zi.useFormState=by,zi.useActionState=by,zi.useOptimistic=function(n,i){var a=Et();return vy(a,Ye,n,i)};var Ys={readContext:Yt,use:yc,useCallback:Py,useContext:Yt,useEffect:sd,useImperativeHandle:ky,useInsertionEffect:Ny,useLayoutEffect:Oy,useMemo:Vy,useReducer:nd,useRef:Cy,useState:function(){return nd(Kr)},useDebugValue:ad,useDeferredValue:function(n,i){var a=Et();return Ye===null?od(a,n,i):My(a,Ye.memoizedState,n,i)},useTransition:function(){var n=nd(Kr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:vl(n),i]},useSyncExternalStore:fy,useId:zy};Ys.useCacheRefresh=By,Ys.useMemoCache=ed,Ys.useHostTransitionStatus=ud,Ys.useFormState=Iy,Ys.useActionState=Iy,Ys.useOptimistic=function(n,i){var a=Et();return Ye!==null?vy(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])};function hd(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:C({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fd={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Fi(u);f.payload=i,a!=null&&(f.callback=a),i=Hi(n,f,u),i!==null&&(ln(i,n,u),wl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Fi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Hi(n,f,u),i!==null&&(ln(i,n,u),wl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),u=Fi(a);u.tag=2,i!=null&&(u.callback=i),i=Hi(n,u,a),i!==null&&(ln(i,n,a),wl(i,n,a))}};function Gy(n,i,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):i.prototype&&i.prototype.isPureReactComponent?!al(a,u)||!al(f,m):!0}function $y(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&fd.enqueueReplaceState(i,i.state,null)}function Ws(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=C({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ky(n){wc(n)}function Qy(n){console.error(n)}function Yy(n){wc(n)}function Sc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Wy(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(n,i,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(n,i)},a}function Xy(n){return n=Fi(n),n.tag=3,n}function Zy(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Wy(i,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Wy(i,a,u),typeof f!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function wA(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Tl(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return yr===null?Qd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Ff?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Wd(n,u,f)),!1;case 22:return a.flags|=65536,u===Ff?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Wd(n,u,f)),!1}throw Error(s(435,a.tag))}return Wd(n,u,f),Qd(),!1}if(Fe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==qf&&(n=Error(s(422),{cause:u}),cl(Pn(n,a)))):(u!==qf&&(i=Error(s(423),{cause:u}),cl(Pn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,a),f=dd(n.stateNode,u,f),Cd(n,f),ct!==4&&(ct=2)),!1;var m=Error(s(520),{cause:u});if(m=Pn(m,a),Nl===null?Nl=[m]:Nl.push(m),ct!==4&&(ct=2),i===null)return!0;u=Pn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=dd(a.stateNode,u,n),Cd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Wi===null||!Wi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Xy(f),Zy(f,n,a,u),Cd(a,f),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),Mt=!1;function qt(n,i,a,u){i.child=n===null?iy(i,null,a,u):Gs(i,n.child,a,u)}function ev(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var _={};for(var w in u)w!=="ref"&&(_[w]=u[w])}else _=u;return Zs(i),u=Wf(n,i,a,_,m,f),w=Xf(),n!==null&&!Mt?(Zf(n,i,f),Qr(n,i,f)):(Fe&&w&&zf(i),i.flags|=1,qt(n,i,u,f),i.child)}function tv(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Md(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,nv(n,i,m,u,f)):(n=Cc(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!wd(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,u)&&n.ref===i.ref)return Qr(n,i,f)}return i.flags|=1,n=Qi(m,u),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(al(m,u)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=u=m,wd(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Qr(n,i,f)}return md(n,i,a,u,f)}function rv(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(El(n,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return iv(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(i,_!==null?_.cachePool:null),_!==null?sy(i,_):Hf(),ay(i);else return i.lanes=i.childLanes=536870912,iv(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(dc(i,_.cachePool),sy(i,_),Ui(),i.memoizedState=null):(n!==null&&dc(i,null),Hf(),Ui());return qt(n,i,f,a),i.child}function iv(n,i,a,u){var f=Qf();return f=f===null?null:{parent:Nt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(i,null),Hf(),ay(i),n!==null&&Tl(n,i,u,!0),null}function El(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function md(n,i,a,u,f){return Zs(i),a=Wf(n,i,a,u,void 0,f),u=Xf(),n!==null&&!Mt?(Zf(n,i,f),Qr(n,i,f)):(Fe&&u&&zf(i),i.flags|=1,qt(n,i,a,f),i.child)}function sv(n,i,a,u,f,m){return Zs(i),i.updateQueue=null,a=hy(i,u,a,f),cy(n),u=Xf(),n!==null&&!Mt?(Zf(n,i,m),Qr(n,i,m)):(Fe&&u&&zf(i),i.flags|=1,qt(n,i,a,m),i.child)}function av(n,i,a,u,f){if(Zs(i),i.stateNode===null){var m=$a,_=a.contextType;typeof _=="object"&&_!==null&&(m=Yt(_)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Rd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Yt(_):$a,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&fd.enqueueReplaceState(m,m.state,null),Al(i,u,m,f),Sl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,D=Ws(a,w);m.props=D;var L=m.context,Q=a.contextType;_=$a,typeof Q=="object"&&Q!==null&&(_=Yt(Q));var te=a.getDerivedStateFromProps;Q=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||L!==_)&&$y(i,m,u,_),qi=!1;var H=i.memoizedState;m.state=H,Al(i,u,m,f),Sl(),L=i.memoizedState,w||H!==L||qi?(typeof te=="function"&&(hd(i,a,te,u),L=i.memoizedState),(D=qi||Gy(i,a,D,u,H,L,_))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=L),m.props=u,m.state=L,m.context=_,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Id(n,i),_=i.memoizedProps,Q=Ws(a,_),m.props=Q,te=i.pendingProps,H=m.context,L=a.contextType,D=$a,typeof L=="object"&&L!==null&&(D=Yt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||H!==D)&&$y(i,m,u,D),qi=!1,H=i.memoizedState,m.state=H,Al(i,u,m,f),Sl();var K=i.memoizedState;_!==te||H!==K||qi||n!==null&&n.dependencies!==null&&Ac(n.dependencies)?(typeof w=="function"&&(hd(i,a,w,u),K=i.memoizedState),(Q=qi||Gy(i,a,Q,u,H,K,D)||n!==null&&n.dependencies!==null&&Ac(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),m.props=u,m.state=K,m.context=D,u=Q):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,El(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=Gs(i,n.child,null,f),i.child=Gs(i,null,a,f)):qt(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Qr(n,i,f),n}function ov(n,i,a,u){return ul(),i.flags|=256,qt(n,i,a,u),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function gd(n){return{baseLanes:n,cachePool:uy()}}function yd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bn),n}function lv(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Dt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Li(i):Ui(),Fe){var w=Bt,D;if(D=w){e:{for(D=w,w=gr;D.nodeType!==8;){if(!w){w=null;break e}if(D=Zn(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:qs!==null?{id:Hr,overflow:Gr}:null,retryLane:536870912},D=zn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,on=i,Bt=null,D=!0):D=!1}D||Hs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;$r(i)}return w=u.children,u=u.fallback,f?(Ui(),f=i.mode,w=_d({mode:"hidden",children:w},f),u=ea(u,f,a,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=gd(a),f.childLanes=yd(n,_,a),i.memoizedState=pd,u):(Li(i),vd(i,w))}if(D=n.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(Li(i),i.flags&=-257,i=Ed(n,i,a)):i.memoizedState!==null?(Ui(),i.child=n.child,i.flags|=128,i=null):(Ui(),f=u.fallback,w=i.mode,u=_d({mode:"visible",children:u.children},w),f=ea(f,w,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Gs(i,n.child,null,a),u=i.child,u.memoizedState=gd(a),u.childLanes=yd(n,_,a),i.memoizedState=pd,i=f);else if(Li(i),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var L=_.dgst;_=L,u=Error(s(419)),u.stack="",u.digest=_,cl({value:u,source:null,stack:null}),i=Ed(n,i,a)}else if(Mt||Tl(n,i,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=Ze,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane)throw D.retryLane=u,Mi(n,u),ln(_,n,u),Jy}w.data==="$?"||Qd(),i=Ed(n,i,a)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=LA.bind(null,n),w._reactRetry=i,i=null):(n=D.treeContext,Bt=Zn(w.nextSibling),on=i,Fe=!0,Wn=null,gr=!1,n!==null&&(Vn[Mn++]=Hr,Vn[Mn++]=Gr,Vn[Mn++]=qs,Hr=n.id,Gr=n.overflow,qs=i),i=vd(i,u.children),i.flags|=4096);return i}return f?(Ui(),f=u.fallback,w=i.mode,D=n.child,L=D.sibling,u=Qi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&31457280,L!==null?f=Qi(L,f):(f=ea(f,w,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=n.child.memoizedState,w===null?w=gd(a):(D=w.cachePool,D!==null?(L=Nt._currentValue,D=D.parent!==L?{parent:L,pool:L}:D):D=uy(),w={baseLanes:w.baseLanes|a,cachePool:D}),f.memoizedState=w,f.childLanes=yd(n,_,a),i.memoizedState=pd,u):(Li(i),a=n.child,n=a.sibling,a=Qi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function vd(n,i){return i=_d({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function _d(n,i){return Pv(n,i,0,null)}function Ed(n,i,a){return Gs(i,n.child,null,a),n=vd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function uv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Ad(n.return,i,a)}function Td(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function cv(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(qt(n,i,u.children,a),u=Dt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uv(n,a,i);else if(n.tag===19)uv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Qe(Dt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&fc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Td(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&fc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Td(i,!0,a,null,m);break;case"together":Td(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Yi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Tl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Qi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Qi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ac(n)))}function SA(n,i,a){switch(i.tag){case 3:Ei(i,i.stateNode.containerInfo),Bi(i,Nt,n.memoizedState.cache),ul();break;case 27:case 5:jo(i);break;case 4:Ei(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(i),i.flags|=128,null):(a&i.child.childLanes)!==0?lv(n,i,a):(Li(i),n=Qr(n,i,a),n!==null?n.sibling:null);Li(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Tl(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return cv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Dt,Dt.current),u)break;return null;case 22:case 23:return i.lanes=0,rv(n,i,a);case 24:Bi(i,Nt,n.memoizedState.cache)}return Qr(n,i,a)}function hv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!wd(n,a)&&(i.flags&128)===0)return Mt=!1,SA(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&Yg(i,oc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Md(u)?(n=Ws(u,n),i.tag=1,i=av(null,i,u,n,a)):(i.tag=0,i=md(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===F){i.tag=11,i=ev(null,i,u,n,a);break e}else if(f===Z){i.tag=14,i=tv(null,i,u,n,a);break e}}throw i=b(u)||u,Error(s(306,i,""))}}return i;case 0:return md(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Ws(u,i.pendingProps),av(n,i,u,f,a);case 3:e:{if(Ei(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,Id(n,i),Al(i,m,null,a);var _=i.memoizedState;if(m=_.cache,Bi(i,Nt,m),m!==f.cache&&bd(i,[Nt],a,!0),Sl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=ov(n,i,m,a);break e}else if(m!==u){u=Pn(Error(s(424)),i),cl(u),i=ov(n,i,m,a);break e}else for(Bt=Zn(i.stateNode.containerInfo.firstChild),on=i,Fe=!0,Wn=null,gr=!0,a=iy(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),m===u){i=Qr(n,i,a);break e}qt(n,i,m,a)}i=i.child}return i;case 26:return El(n,i),n===null?(a=m_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,u=zc(Rn.current).createElement(a),u[kt]=i,u[Rt]=n,Ft(u,a,n),nt(u),i.stateNode=u):i.memoizedState=m_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return jo(i),n===null&&Fe&&(u=i.stateNode=h_(i.type,i.pendingProps,Rn.current),on=i,gr=!0,Bt=Zn(u.firstChild)),u=i.pendingProps.children,n!==null||Fe?qt(n,i,u,a):i.child=Gs(i,null,u,a),El(n,i),i.child;case 5:return n===null&&Fe&&((f=u=Bt)&&(u=JA(u,i.type,i.pendingProps,gr),u!==null?(i.stateNode=u,on=i,Bt=Zn(u.firstChild),gr=!1,f=!0):f=!1),f||Hs(i)),jo(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,lm(f,m)?u=null:_!==null&&lm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Wf(n,i,gA,null,null,a),jl._currentValue=f),El(n,i),qt(n,i,u,a),i.child;case 6:return n===null&&Fe&&((n=a=Bt)&&(a=eb(a,i.pendingProps,gr),a!==null?(i.stateNode=a,on=i,Bt=null,n=!0):n=!1),n||Hs(i)),null;case 13:return lv(n,i,a);case 4:return Ei(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Gs(i,null,u,a):qt(n,i,u,a),i.child;case 11:return ev(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Bi(i,i.type,u.value),qt(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Zs(i),f=Yt(f),u=u(f),i.flags|=1,qt(n,i,u,a),i.child;case 14:return tv(n,i,i.type,i.pendingProps,a);case 15:return nv(n,i,i.type,i.pendingProps,a);case 19:return cv(n,i,a);case 22:return rv(n,i,a);case 24:return Zs(i),u=Yt(Nt),n===null?(f=Qf(),f===null&&(f=Ze,m=$f(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},Rd(i),Bi(i,Nt,f)):((n.lanes&a)!==0&&(Id(n,i),Al(i,null,null,a),Sl()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,Nt,u)):(u=m.cache,Bi(i,Nt,u),u!==f.cache&&bd(i,[Nt],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Sd=Be(null),Xs=null,Yr=null;function Bi(n,i,a){Qe(Sd,i._currentValue),i._currentValue=a}function Wr(n){n._currentValue=Sd.current,ot(Sd)}function Ad(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function bd(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Ad(m.return,a,n),u||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Ad(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Tl(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;vn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===_i.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(jl):n=[jl])}f=f.return}n!==null&&bd(i,n,a,u),i.flags|=262144}function Ac(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){Xs=n,Yr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return fv(Xs,n)}function bc(n,i){return Xs===null&&Zs(n),fv(n,i)}function fv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yr===null){if(n===null)throw Error(s(308));Yr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Yr=Yr.next=i;return a}var qi=!1;function Rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Fi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hi(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=sc(n),Kg(n,null,a),i}return ic(n,u,i,a),sc(n)}function wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ri(n,a)}}function Cd(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Dd=!1;function Sl(){if(Dd){var n=Za;if(n!==null)throw n}}function Al(n,i,a,u){Dd=!1;var f=n.updateQueue;qi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,L=D.next;D.next=null,_===null?m=L:_.next=L,_=D;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==_&&(w===null?Q.firstBaseUpdate=L:w.next=L,Q.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;_=0,Q=L=D=null,w=m;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Ue&H)===H:(u&H)===H){H!==0&&H===Xa&&(Dd=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=n,Se=w;H=i;var ht=a;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){te=de.call(ht,te,H);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,H=typeof de=="function"?de.call(ht,te,H):de,H==null)break e;te=C({},te,H);break e;case 2:qi=!0}}H=w.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(L=Q=K,D=te):Q=Q.next=K,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Q===null&&(D=te),f.baseState=D,f.firstBaseUpdate=L,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),Yi|=_,n.lanes=_,n.memoizedState=te}}function dv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function mv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)dv(a[n],i)}function bl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(w){Xe(i,i.return,w)}}function Gi(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var D=a;try{w()}catch(L){Xe(f,D,L)}}}u=u.next}while(u!==m)}}catch(L){Xe(i,i.return,L)}}function pv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{mv(i,a)}catch(u){Xe(n,n.return,u)}}}function gv(n,i,a){a.props=Ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,i,u)}}function Js(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Xe(n,i,m)}}function _n(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,i,f)}else a.current=null}function yv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function vv(n,i,a){try{var u=n.stateNode;QA(u,n.type,a,i),u[Rt]=i}catch(f){Xe(n,n.return,f)}}function _v(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Nd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_v(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Od(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Od(n,i,a),n=n.sibling;n!==null;)Od(n,i,a),n=n.sibling}function Rc(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Rc(n,i,a),n=n.sibling;n!==null;)Rc(n,i,a),n=n.sibling}var Xr=!1,ut=!1,xd=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,Lt=null,Tv=!1;function AA(n,i){if(n=n.containerInfo,am=$c,n=Ug(n),Pf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,D=-1,L=0,Q=0,te=n,H=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(w=_+f),te!==m||u!==0&&te.nodeType!==3||(D=_+u),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===n)break t;if(H===a&&++L===f&&(w=_),H===m&&++Q===u&&(D=_),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},$c=!1,Lt=i;Lt!==null;)if(i=Lt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Lt=n;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var de=Ws(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(de,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Xe(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)hm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Lt=n;break}Lt=i.return}return de=Tv,Tv=!1,de}function wv(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Jr(n,a),u&4&&bl(5,a);break;case 1:if(Jr(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){Xe(a,a.return,w)}else{var f=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(a,a.return,w)}}u&64&&pv(a),u&512&&Js(a,a.return);break;case 3:if(Jr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mv(u,n)}catch(w){Xe(a,a.return,w)}}break;case 26:Jr(n,a),u&512&&Js(a,a.return);break;case 27:case 5:Jr(n,a),i===null&&u&4&&yv(a),u&512&&Js(a,a.return);break;case 12:Jr(n,a);break;case 13:Jr(n,a),u&4&&bv(n,a);break;case 22:if(f=a.memoizedState!==null||Xr,!f){i=i!==null&&i.memoizedState!==null||ut;var m=Xr,_=ut;Xr=f,(ut=i)&&!_?$i(n,a,(a.subtreeFlags&8772)!==0):Jr(n,a),Xr=m,ut=_}u&512&&(a.memoizedProps.mode==="manual"?Js(a,a.return):_n(a,a.return));break;default:Jr(n,a)}}function Sv(n){var i=n.alternate;i!==null&&(n.alternate=null,Sv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ds(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,En=!1;function Zr(n,i,a){for(a=a.child;a!==null;)Av(n,i,a),a=a.sibling}function Av(n,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ti,a)}catch{}switch(a.tag){case 26:ut||_n(a,i),Zr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||_n(a,i);var u=Tt,f=En;for(Tt=a.stateNode,Zr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ds(a),Tt=u,En=f;break;case 5:ut||_n(a,i);case 6:f=Tt;var m=En;if(Tt=null,Zr(n,i,a),Tt=f,En=m,Tt!==null)if(En)try{n=Tt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){Xe(a,i,_)}else try{Tt.removeChild(a.stateNode)}catch(_){Xe(a,i,_)}break;case 18:Tt!==null&&(En?(i=Tt,a=a.stateNode,i.nodeType===8?cm(i.parentNode,a):i.nodeType===1&&cm(i,a),Fl(i)):cm(Tt,a.stateNode));break;case 4:u=Tt,f=En,Tt=a.stateNode.containerInfo,En=!0,Zr(n,i,a),Tt=u,En=f;break;case 0:case 11:case 14:case 15:ut||Gi(2,a,i),ut||Gi(4,a,i),Zr(n,i,a);break;case 1:ut||(_n(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&gv(a,i,u)),Zr(n,i,a);break;case 21:Zr(n,i,a);break;case 22:ut||_n(a,i),ut=(u=ut)||a.memoizedState!==null,Zr(n,i,a),ut=u;break;default:Zr(n,i,a)}}function bv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(a){Xe(i,i.return,a)}}function bA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Ev),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Ev),i;default:throw Error(s(435,n.tag))}}function kd(n,i){var a=bA(n);i.forEach(function(u){var f=UA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Un(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Tt=w.stateNode,En=!1;break e;case 3:Tt=w.stateNode.containerInfo,En=!0;break e;case 4:Tt=w.stateNode.containerInfo,En=!0;break e}w=w.return}if(Tt===null)throw Error(s(160));Av(m,_,f),Tt=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Rv(i,n),i=i.sibling}var Xn=null;function Rv(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(i,n),jn(n),u&4&&(Gi(3,n,n.return),bl(3,n),Gi(5,n,n.return));break;case 1:Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&64&&Xr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Xn;if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ci]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,u,a),m[kt]=n,nt(m),u=m;break e;case"link":var _=y_("link","href",f).get(u+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;case"meta":if(_=y_("meta","content",f).get(u+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[kt]=n,nt(m),u=m}n.stateNode=u}else v_(f,n.type,n.stateNode);else n.stateNode=g_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?v_(f,n.type,n.stateNode):g_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&vv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var D=f.firstChild;D;){var L=D.nextSibling,Q=D.nodeName;D[Ci]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&D.rel.toLowerCase()==="stylesheet"||f.removeChild(D),D=L}for(var te=n.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ft(f,te,m),f[kt]=n,f[Rt]=m}catch(de){Xe(n,n.return,de)}}case 5:if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(de){Xe(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,vv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(xd=!0);break;case 6:if(Un(i,n),jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(de){Xe(n,n.return,de)}}break;case 3:if(Fc=null,f=Xn,Xn=Bc(i.containerInfo),Un(i,n),Xn=f,jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(i.containerInfo)}catch(de){Xe(n,n.return,de)}xd&&(xd=!1,Iv(n));break;case 4:u=Xn,Xn=Bc(n.stateNode.containerInfo),Un(i,n),jn(n),Xn=u;break;case 12:Un(i,n),jn(n);break;case 13:Un(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kd(n,u)));break;case 22:if(u&512&&(ut||a===null||_n(a,a.return)),D=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Q=Xr,te=ut,Xr=Q||D,ut=te||L,Un(i,n),ut=te,Xr=Q,jn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=D?i._visibility&-2:i._visibility|1,D&&(i=Xr||ut,a===null||L||i||no(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(f=L.stateNode,D)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=L.stateNode,w=L.memoizedProps.style;var K=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){Xe(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=D?"":L.memoizedProps}catch(de){Xe(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,kd(n,a))));break;case 19:Un(i,n),jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kd(n,u)));break;case 21:break;default:Un(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(_v(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Nd(n);Rc(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Dn(_,""),u.flags&=-33);var w=Nd(n);Rc(n,w,_);break;case 3:case 4:var D=u.stateNode.containerInfo,L=Nd(n);Od(n,L,D);break;default:throw Error(s(161))}}}catch(Q){Xe(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Iv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Jr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)wv(n,i.alternate,i),i=i.sibling}function no(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Gi(4,i,i.return),no(i);break;case 1:_n(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gv(i,i.return,a),no(i);break;case 26:case 27:case 5:_n(i,i.return),no(i);break;case 22:_n(i,i.return),i.memoizedState===null&&no(i);break;default:no(i)}n=n.sibling}}function $i(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:$i(f,m,a),bl(4,m);break;case 1:if($i(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Xe(u,u.return,L)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)dv(D[f],w)}catch(L){Xe(u,u.return,L)}}a&&_&64&&pv(m),Js(m,m.return);break;case 26:case 27:case 5:$i(f,m,a),a&&u===null&&_&4&&yv(m),Js(m,m.return);break;case 12:$i(f,m,a);break;case 13:$i(f,m,a),a&&_&4&&bv(f,m);break;case 22:m.memoizedState===null&&$i(f,m,a),Js(m,m.return);break;default:$i(f,m,a)}i=i.sibling}}function Pd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&pl(a))}function Vd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n))}function Ki(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cv(n,i,a,u),i=i.sibling}function Cv(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ki(n,i,a,u),f&2048&&bl(9,i);break;case 3:Ki(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&pl(n)));break;case 12:if(f&2048){Ki(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xe(i,i.return,D)}}else Ki(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Ki(n,i,a,u):Rl(n,i):m._visibility&4?Ki(n,i,a,u):(m._visibility|=4,ro(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&Pd(i.alternate,i);break;case 24:Ki(n,i,a,u),f&2048&&Vd(i.alternate,i);break;default:Ki(n,i,a,u)}}function ro(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,w=a,D=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:ro(m,_,w,D,f),bl(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&4?ro(m,_,w,D,f):Rl(m,_):(Q._visibility|=4,ro(m,_,w,D,f)),f&&L&2048&&Pd(_.alternate,_);break;case 24:ro(m,_,w,D,f),f&&L&2048&&Vd(_.alternate,_);break;default:ro(m,_,w,D,f)}i=i.sibling}}function Rl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Rl(a,u),f&2048&&Pd(u.alternate,u);break;case 24:Rl(a,u),f&2048&&Vd(u.alternate,u);break;default:Rl(a,u)}i=i.sibling}}var Il=8192;function io(n){if(n.subtreeFlags&Il)for(n=n.child;n!==null;)Dv(n),n=n.sibling}function Dv(n){switch(n.tag){case 26:io(n),n.flags&Il&&n.memoizedState!==null&&db(Xn,n.memoizedState,n.memoizedProps);break;case 5:io(n);break;case 3:case 4:var i=Xn;Xn=Bc(n.stateNode.containerInfo),io(n),Xn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,io(n),Il=i):io(n));break;default:io(n)}}function Nv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Cl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,xv(u,n)}Nv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ov(n),n=n.sibling}function Ov(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&Gi(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Ic(n)):Cl(n);break;default:Cl(n)}}function Ic(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,xv(u,n)}Nv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Gi(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Ic(i));break;default:Ic(i)}n=n.sibling}}function xv(n,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Gi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=n;Lt!==null;){u=Lt;var f=u.sibling,m=u.return;if(Sv(u),u===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function RA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,i,a,u){return new RA(n,i,a,u)}function Md(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qi(n,i){var a=n.alternate;return a===null?(a=zn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function kv(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Cc(n,i,a,u,f,m){var _=0;if(u=n,typeof n=="function")Md(n)&&(_=1);else if(typeof n=="string")_=hb(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ea(a.children,f,m,i);case g:_=8,f|=24;break;case E:return n=zn(12,a,i,f|2),n.elementType=E,n.lanes=m,n;case Y:return n=zn(13,a,i,f),n.elementType=Y,n.lanes=m,n;case q:return n=zn(19,a,i,f),n.elementType=q,n.lanes=m,n;case G:return Pv(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:_=10;break e;case I:_=9;break e;case F:_=11;break e;case Z:_=14;break e;case W:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=zn(_,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function ea(n,i,a,u){return n=zn(7,n,u,i),n.lanes=a,n}function Pv(n,i,a,u){n=zn(22,n,u,i),n.elementType=G,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Mi(m,2);_!==null&&(f._pendingVisibility|=2,ln(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Mi(m,2);_!==null&&(f._pendingVisibility&=-3,ln(_,m,2))}}};return n.stateNode=f,n}function Ld(n,i,a){return n=zn(6,n,null,i),n.lanes=a,n}function Ud(n,i,a){return i=zn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ei(n){n.flags|=4}function Vv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!__(i)){if(i=Ln.current,i!==null&&((Ue&4194176)===Ue?yr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==yr))throw fl=Ff,Zg;n.flags|=8192}}function Dc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ai():536870912,n.lanes|=i,ao|=i)}function Dl(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function IA(n,i,a){var u=i.pendingProps;switch(Bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Wr(Nt),kr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ll(i)?ei(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&($d(Wn),Wn=null))),rt(i),null;case 26:return a=i.memoizedState,n===null?(ei(i),a!==null?(rt(i),Vv(i,a)):(rt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ei(i),rt(i),Vv(i,a)):(rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ei(i),rt(i),i.flags&=-16777217),null;case 27:ba(i),a=Rn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}n=nn.current,ll(i)?Wg(i):(n=h_(f,u,a),i.stateNode=n,ei(i))}return rt(i),null;case 5:if(ba(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(n=nn.current,ll(i))Wg(i);else{switch(f=zc(Rn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[kt]=i,n[Rt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ei(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Rn.current,ll(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||s_(n.nodeValue,a)),n||Hs(i)}else n=zc(n).createTextNode(u),n[kt]=i,i.stateNode=n}return rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ll(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Wn!==null&&($d(Wn),Wn=null),f=!0;if(!f)return i.flags&256?($r(i),i):($r(i),null)}if($r(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),rt(i),null;case 4:return kr(),n===null&&rm(i.stateNode.containerInfo),rt(i),null;case 10:return Wr(i.type),rt(i),null;case 19:if(ot(Dt),f=i.memoizedState,f===null)return rt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Dl(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=fc(n),m!==null){for(i.flags|=128,Dl(f,!1),n=m.updateQueue,i.updateQueue=n,Dc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)kv(a,n),a=a.sibling;return Qe(Dt,Dt.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>Nc&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304)}else{if(!u)if(n=fc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Dc(i,n),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return rt(i),null}else 2*un()-f.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=Dt.current,Qe(Dt,u?n&1|2:n&1),i):(rt(i),null);case 22:case 23:return $r(i),Gf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&ot($s),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wr(Nt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function CA(n,i){switch(Bf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Wr(Nt),kr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ba(i),null;case 13:if($r(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ul()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ot(Dt),null;case 4:return kr(),null;case 10:return Wr(i.type),null;case 22:case 23:return $r(i),Gf(),n!==null&&ot($s),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Wr(Nt),null;case 25:return null;default:return null}}function Mv(n,i){switch(Bf(i),i.tag){case 3:Wr(Nt),kr();break;case 26:case 27:case 5:ba(i);break;case 4:kr();break;case 13:$r(i);break;case 19:ot(Dt);break;case 10:Wr(i.type);break;case 22:case 23:$r(i),Gf(),n!==null&&ot($s);break;case 24:Wr(Nt)}}var DA={getCacheForType:function(n){var i=Yt(Nt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},NA=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Oe=null,Ue=0,Je=0,Tn=null,ti=!1,so=!1,jd=!1,ni=0,ct=0,Yi=0,ta=0,zd=0,Bn=0,ao=0,Nl=null,_r=null,Bd=!1,qd=0,Nc=1/0,Oc=null,Wi=null,xc=!1,na=null,Ol=0,Fd=0,Hd=null,xl=0,Gd=null;function wn(){if((it&2)!==0&&Ue!==0)return Ue&-Ue;if(S.T!==null){var n=Xa;return n!==0?n:Jd()}return Uu()}function Lv(){Bn===0&&(Bn=(Ue&536870912)===0||Fe?Ho():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Bn}function ln(n,i,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(oo(n,0),ri(n,Ue,Bn,!1)),mt(n,a),((it&2)===0||n!==Ze)&&(n===Ze&&((it&2)===0&&(ta|=a),ct===4&&ri(n,Ue,Bn,!1)),Er(n))}function Uv(n,i,a){if((it&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||Si(n,i),f=u?kA(n,i):Yd(n,i,!0),m=u;do{if(f===0){so&&!u&&ri(n,i,0,!1);break}else if(f===6)ri(n,i,0,!ti);else{if(a=n.current.alternate,m&&!OA(a)){f=Yd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=Nl;var D=w.current.memoizedState.isDehydrated;if(D&&(oo(w,_).flags|=256),_=Yd(w,_,!1),_!==2){if(jd&&!D){w.errorRecoveryDisabledLanes|=m,ta|=m,f=4;break e}m=_r,_r=f,m!==null&&$d(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){oo(n,0),ri(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ri(u,i,Bn,!ti);break e}break;case 2:_r=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=qd+300-un(),10<m)){if(ri(u,i,Bn,!ti),In(u,0)!==0)break e;u.timeoutHandle=l_(jv.bind(null,u,a,_r,Oc,Bd,i,Bn,ta,ao,ti,2,-0,0),m);break e}jv(u,a,_r,Oc,Bd,i,Bn,ta,ao,ti,0,-0,0)}}break}while(!0);Er(n)}function $d(n){_r===null?_r=n:_r.push.apply(_r,n)}function jv(n,i,a,u,f,m,_,w,D,L,Q,te,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:fb},Dv(i),i=mb(),i!==null)){n.cancelPendingCommit=i($v.bind(null,n,a,u,f,_,w,D,1,te,H)),ri(n,m,_,!L);return}$v(n,a,u,f,_,w,D,Q,te,H)}function OA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ri(n,i,a,u){i&=~zd,i&=~ta,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-rn(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&bi(n,a,i)}function kc(){return(it&6)===0?(kl(0),!1):!0}function Kd(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,Yr=Xs=null,Jf(n),Ya=null,dl=0,n=Oe;for(;n!==null;)Mv(n.alternate,n),n=n.return;Oe=null}}function oo(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,WA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Kd(),Ze=n,Oe=a=Qi(n.current,null),Ue=i,Je=0,Tn=null,ti=!1,so=Si(n,i),jd=!1,ao=Bn=zd=ta=Yi=ct=0,_r=Nl=null,Bd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-rn(u),m=1<<f;i|=n[f],u&=~m}return ni=i,rc(),a}function zv(n,i){Ce=null,S.H=vr,i===hl?(i=ty(),Je=3):i===Zg?(i=ty(),Je=4):Je=i===Jy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(ct=1,Sc(n,Pn(i,n.current)))}function Bv(){var n=S.H;return S.H=vr,n===null?vr:n}function qv(){var n=S.A;return S.A=DA,n}function Qd(){ct=4,ti||(Ue&4194176)!==Ue&&Ln.current!==null||(so=!0),(Yi&134217727)===0&&(ta&134217727)===0||Ze===null||ri(Ze,Ue,Bn,!1)}function Yd(n,i,a){var u=it;it|=2;var f=Bv(),m=qv();(Ze!==n||Ue!==i)&&(Oc=null,oo(n,i)),i=!1;var _=ct;e:do try{if(Je!==0&&Oe!==null){var w=Oe,D=Tn;switch(Je){case 8:Kd(),_=6;break e;case 3:case 2:case 6:Ln.current===null&&(i=!0);var L=Je;if(Je=0,Tn=null,lo(n,w,D,L),a&&so){_=0;break e}break;default:L=Je,Je=0,Tn=null,lo(n,w,D,L)}}xA(),_=ct;break}catch(Q){zv(n,Q)}while(!0);return i&&n.shellSuspendCounter++,Yr=Xs=null,it=u,S.H=f,S.A=m,Oe===null&&(Ze=null,Ue=0,rc()),_}function xA(){for(;Oe!==null;)Fv(Oe)}function kA(n,i){var a=it;it|=2;var u=Bv(),f=qv();Ze!==n||Ue!==i?(Oc=null,Nc=un()+500,oo(n,i)):so=Si(n,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var m=Tn;t:switch(Je){case 1:Je=0,Tn=null,lo(n,i,m,1);break;case 2:if(Jg(m)){Je=0,Tn=null,Hv(i);break}i=function(){Je===2&&Ze===n&&(Je=7),Er(n)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Jg(m)?(Je=0,Tn=null,Hv(i)):(Je=0,Tn=null,lo(n,i,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var w=Oe;if(!_||__(_)){Je=0,Tn=null;var D=w.sibling;if(D!==null)Oe=D;else{var L=w.return;L!==null?(Oe=L,Pc(L)):Oe=null}break t}}Je=0,Tn=null,lo(n,i,m,5);break;case 6:Je=0,Tn=null,lo(n,i,m,6);break;case 8:Kd(),ct=6;break e;default:throw Error(s(462))}}PA();break}catch(Q){zv(n,Q)}while(!0);return Yr=Xs=null,S.H=u,S.A=f,it=a,Oe!==null?0:(Ze=null,Ue=0,rc(),ct)}function PA(){for(;Oe!==null&&!Sf();)Fv(Oe)}function Fv(n){var i=hv(n.alternate,n,ni);n.memoizedProps=n.pendingProps,i===null?Pc(n):Oe=i}function Hv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=sv(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=sv(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Jf(i);default:Mv(a,i),i=Oe=kv(i,ni),i=hv(a,i,ni)}n.memoizedProps=n.pendingProps,i===null?Pc(n):Oe=i}function lo(n,i,a,u){Yr=Xs=null,Jf(i),Ya=null,dl=0;var f=i.return;try{if(wA(n,f,i,a,Ue)){ct=1,Sc(n,Pn(a,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ct=1,Sc(n,Pn(a,n.current)),Oe=null;return}i.flags&32768?(Fe||u===1?n=!0:so||(Ue&536870912)!==0?n=!1:(ti=n=!0,(u===2||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gv(i,n)):Pc(i)}function Pc(n){var i=n;do{if((i.flags&32768)!==0){Gv(i,ti);return}n=i.return;var a=IA(i.alternate,i,ni);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ct===0&&(ct=5)}function Gv(n,i){do{var a=CA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ct=6,Oe=null}function $v(n,i,a,u,f,m,_,w,D,L){var Q=S.T,te=he.p;try{he.p=2,S.T=null,VA(n,i,a,u,te,f,m,_,w,D,L)}finally{S.T=Q,he.p=te}}function VA(n,i,a,u,f,m,_,w){do uo();while(na!==null);if((it&6)!==0)throw Error(s(327));var D=n.finishedWork;if(u=n.finishedLanes,D===null)return null;if(n.finishedWork=null,n.finishedLanes=0,D===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=D.lanes|D.childLanes;if(L|=Uf,Mu(n,u,L,m,_,w),n===Ze&&(Oe=Ze=null,Ue=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||xc||(xc=!0,Fd=L,Hd=a,jA(Pr,function(){return uo(),null})),a=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=he.p,he.p=2,_=it,it|=4,AA(n,D),Rv(D,n),sA(om,n.containerInfo),$c=!!am,om=am=null,n.current=D,wv(n,D.alternate,D),zo(),it=_,he.p=m,S.T=a):n.current=D,xc?(xc=!1,na=n,Ol=u):Kv(n,L),L=n.pendingLanes,L===0&&(Wi=null),qo(D.stateNode),Er(n),i!==null)for(f=n.onRecoverableError,D=0;D<i.length;D++)L=i[D],f(L.value,{componentStack:L.stack});return(Ol&3)!==0&&uo(),L=n.pendingLanes,(u&4194218)!==0&&(L&42)!==0?n===Gd?xl++:(xl=0,Gd=n):xl=0,kl(0),null}function Kv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,pl(i)))}function uo(){if(na!==null){var n=na,i=Fd;Fd=0;var a=Lu(Ol),u=S.T,f=he.p;try{if(he.p=32>a?32:a,S.T=null,na===null)var m=!1;else{a=Hd,Hd=null;var _=na,w=Ol;if(na=null,Ol=0,(it&6)!==0)throw Error(s(331));var D=it;if(it|=4,Ov(_.current),Cv(_,_.current,w,a),it=D,kl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ti,_)}catch{}m=!0}return m}finally{he.p=f,S.T=u,Kv(n,i)}}return!1}function Qv(n,i,a){i=Pn(a,i),i=dd(n.stateNode,i,2),n=Hi(n,i,2),n!==null&&(mt(n,2),Er(n))}function Xe(n,i,a){if(n.tag===3)Qv(n,n,a);else for(;i!==null;){if(i.tag===3){Qv(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wi===null||!Wi.has(u))){n=Pn(a,n),a=Xy(2),u=Hi(i,a,2),u!==null&&(Zy(a,u,i,n),mt(u,2),Er(u));break}}i=i.return}}function Wd(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new NA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(jd=!0,f.add(a),n=MA.bind(null,n,i,a),i.then(n,n))}function MA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>un()-qd?(it&2)===0&&oo(n,0):zd|=a,ao===Ue&&(ao=0)),Er(n)}function Yv(n,i){i===0&&(i=Ai()),n=Mi(n,i),n!==null&&(mt(n,i),Er(n))}function LA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Yv(n,a)}function UA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Yv(n,a)}function jA(n,i){return Rs(n,i)}var Vc=null,co=null,Xd=!1,Mc=!1,Zd=!1,ra=0;function Er(n){n!==co&&n.next===null&&(co===null?Vc=co=n:co=co.next=n),Mc=!0,Xd||(Xd=!0,BA(zA))}function kl(n,i){if(!Zd&&Mc){Zd=!0;do for(var a=!1,u=Vc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=f&~(_&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Zv(u,m))}else m=Ue,m=In(u,u===Ze?m:0),(m&3)===0||Si(u,m)||(a=!0,Zv(u,m));u=u.next}while(a);Zd=!1}}function zA(){Mc=Xd=!1;var n=0;ra!==0&&(YA()&&(n=ra),ra=0);for(var i=un(),a=null,u=Vc;u!==null;){var f=u.next,m=Wv(u,i);m===0?(u.next=null,a===null?Vc=f:a.next=f,f===null&&(co=a)):(a=u,(n!==0||(m&3)!==0)&&(Mc=!0)),u=f}kl(n)}function Wv(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-rn(m),w=1<<_,D=f[_];D===-1?((w&a)===0||(w&u)!==0)&&(f[_]=Ca(w,i)):D<=i&&(n.expiredLanes|=w),m&=~w}if(i=Ze,a=Ue,a=In(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Je===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ia(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Si(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Ia(u),Lu(a)){case 2:case 8:a=xt;break;case 32:a=Pr;break;case 268435456:a=Bo;break;default:a=Pr}return u=Xv.bind(null,n),a=Rs(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Ia(u),n.callbackPriority=2,n.callbackNode=null,2}function Xv(n,i){var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var u=Ue;return u=In(n,n===Ze?u:0),u===0?null:(Uv(n,u,i),Wv(n,un()),n.callbackNode!=null&&n.callbackNode===a?Xv.bind(null,n):null)}function Zv(n,i){if(uo())return null;Uv(n,i,!0)}function BA(n){XA(function(){(it&6)!==0?Rs(bt,n):n()})}function Jd(){return ra===0&&(ra=Ho()),ra}function Jv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ur(""+n)}function e_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function qA(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=Jv((f[Rt]||null).action),_=u.submitter;_&&(i=(i=_[Rt]||null)?Jv(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Va("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var D=_?e_(f,_):new FormData(f);ld(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=_?e_(f,_):new FormData(f),ld(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var em=0;em<$g.length;em++){var tm=$g[em],FA=tm.toLowerCase(),HA=tm[0].toUpperCase()+tm.slice(1);Yn(FA,"on"+HA)}Yn(Bg,"onAnimationEnd"),Yn(qg,"onAnimationIteration"),Yn(Fg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(oA,"onTransitionRun"),Yn(lA,"onTransitionStart"),Yn(uA,"onTransitionCancel"),Yn(Hg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function t_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],D=w.instance,L=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(Q){wc(Q)}f.currentTarget=null,m=D}else for(_=0;_<u.length;_++){if(w=u[_],D=w.instance,L=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(Q){wc(Q)}f.currentTarget=null,m=D}}}}function Pe(n,i){var a=i[Cs];a===void 0&&(a=i[Cs]=new Set);var u=n+"__bubble";a.has(u)||(n_(i,n,2,!1),a.add(u))}function nm(n,i,a){var u=0;i&&(u|=4),n_(a,n,u,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function rm(n){if(!n[Lc]){n[Lc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(GA.has(a)||nm(a,!1,n),nm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,nm("selectionchange",!1,i))}}function n_(n,i,a,u){switch(b_(i)){case 2:var f=yb;break;case 8:f=vb;break;default:f=gm}a=f.bind(null,i,a,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function im(n,i,a,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&(D=_.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;_=_.return}for(;w!==null;){if(_=Qn(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=m=_;continue e}w=w.parentNode}}u=u.return}qu(function(){var L=m,Q=Pa(a),te=[];e:{var H=Gg.get(n);if(H!==void 0){var K=Va,de=n;switch(n){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":K=Ba;break;case"focusin":de="focus",K=Ua;break;case"focusout":de="blur",K=Ua;break;case"beforeblur":case"afterblur":K=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Wu;break;case Bg:case qg:case Fg:K=ja;break;case Hg:K=Zu;break;case"scroll":case"scrollend":K=Fu;break;case"wheel":K=qa;break;case"copy":case"cut":case"paste":K=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=il;break;case"toggle":case"beforetoggle":K=ec}var Se=(i&4)!==0,ht=!Se&&(n==="scroll"||n==="scrollend"),U=Se?H!==null?H+"Capture":null:H;Se=[];for(var M=L,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=ks(M,U),J!=null&&Se.push(Vl(M,J,B))),ht)break;M=M.return}0<Se.length&&(H=new K(H,de,null,a,Q),te.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==Nn&&(de=a.relatedTarget||a.fromElement)&&(Qn(de)||de[Vr]))break e;if((K||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=L,de=de?Qn(de):null,de!==null&&(ht=ve(de),Se=de.tag,de!==ht||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(K=null,de=L),K!==de)){if(Se=xn,J="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Se=il,J="onPointerLeave",U="onPointerEnter",M="pointer"),ht=K==null?H:Di(K),B=de==null?H:Di(de),H=new Se(J,M+"leave",K,a,Q),H.target=ht,H.relatedTarget=B,J=null,Qn(Q)===L&&(Se=new Se(U,M+"enter",de,a,Q),Se.target=B,Se.relatedTarget=ht,J=Se),ht=J,K&&de)t:{for(Se=K,U=de,M=0,B=Se;B;B=ho(B))M++;for(B=0,J=U;J;J=ho(J))B++;for(;0<M-B;)Se=ho(Se),M--;for(;0<B-M;)U=ho(U),B--;for(;M--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=ho(Se),U=ho(U)}Se=null}else Se=null;K!==null&&r_(te,H,K,Se,!1),de!==null&&ht!==null&&r_(te,ht,de,Se,!0)}}e:{if(H=L?Di(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var fe=Ng;else if(Ct(H))if(Og)fe=rA;else{fe=tA;var Ne=eA}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Xo(L.elementType)&&(fe=Ng):fe=nA;if(fe&&(fe=fe(n,L))){Fr(te,fe,a,Q);break e}Ne&&Ne(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&ka(H,"number",H.value)}switch(Ne=L?Di(L):window,n){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Fa=Ne,Vf=L,ol=null);break;case"focusout":ol=Vf=Fa=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,jg(te,a,Q);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":jg(te,a,Q)}var pe;if(mr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(pe=Jo()):(cr=Q,Vi="value"in cr?cr.value:cr.textContent,Me=!0)),Ne=Uc(L,_e),0<Ne.length&&(_e=new nl(_e,n,null,a,Q),te.push({event:_e,listeners:Ne}),pe?_e.data=pe:(pe=se(a),pe!==null&&(_e.data=pe)))),(pe=y?It(n,a):Le(n,a))&&(_e=Uc(L,"onBeforeInput"),0<_e.length&&(Ne=new nl("onBeforeInput","beforeinput",null,a,Q),te.push({event:Ne,listeners:_e}),Ne.data=pe)),qA(te,n,L,a,Q)}t_(te,i)})}function Vl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Uc(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ks(n,a),f!=null&&u.unshift(Vl(n,f,m)),f=ks(n,i),f!=null&&u.push(Vl(n,f,m))),n=n.return}return u}function ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function r_(n,i,a,u,f){for(var m=i._reactName,_=[];a!==null&&a!==u;){var w=a,D=w.alternate,L=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||L===null||(D=L,f?(L=ks(a,m),L!=null&&_.unshift(Vl(a,L,D))):f||(L=ks(a,m),L!=null&&_.push(Vl(a,L,D)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var $A=/\r\n?/g,KA=/\u0000|\uFFFD/g;function i_(n){return(typeof n=="string"?n:""+n).replace($A,`
`).replace(KA,"")}function s_(n,i){return i=i_(i),i_(n)===i}function jc(){}function We(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Dn(n,""+u);break;case"className":xi(n,"class",u);break;case"tabIndex":xi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(n,a,u);break;case"style":Bu(n,u,m);break;case"data":if(i!=="object"){xi(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ur(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ur(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=jc);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ur(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Oi(n,"popover",u);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Oi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cf.get(a)||a,Oi(n,a,u))}}function sm(n,i,a,u,f,m){switch(a){case"style":Bu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&Dn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Oi(n,a,u)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,m,_,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),u&&We(n,i,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=m=_=f=null,D=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var Q=a[u];if(Q!=null)switch(u){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":L=Q;break;case"value":m=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(n,i,u,Q,a,null)}}Os(n,m,w,D,L,_,f,!1),Ns(n);return;case"select":Pe("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":u=w;default:We(n,i,f,w,a,null)}i=m,a=_,n.multiple=!!u,i!=null?qe(n,!!u,i,!1):a!=null&&qe(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,i,_,w,a,null)}Pi(n,u,f,m),Ns(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,D,u,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Pl.length;u++)Pe(Pl[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,L,u,a,null)}return;default:if(Xo(i)){for(Q in a)a.hasOwnProperty(Q)&&(u=a[Q],u!==void 0&&sm(n,i,Q,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&We(n,i,w,u,a,null))}function QA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,D=null,L=null,Q=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:u.hasOwnProperty(K)||We(n,i,K,null,u,te)}}for(var H in u){var K=u[H];if(te=a[H],u.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":m=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":Q=K;break;case"value":_=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==te&&We(n,i,H,K,u,te)}}ki(n,_,w,D,L,Q,m,f);return;case"select":K=_=w=H=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":K=D;default:u.hasOwnProperty(m)||We(n,i,m,null,u,D)}for(f in u)if(m=u[f],D=a[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==D&&We(n,i,f,m,u,D)}i=w,a=_,u=K,H!=null?qe(n,!!a,H,!1):!!u!=!!a&&(i!=null?qe(n,!!a,i,!0):qe(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,i,w,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,i,_,f,u,m)}xs(n,H,K);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:We(n,i,de,null,u,H)}for(D in u)if(H=u[D],K=a[D],u.hasOwnProperty(D)&&H!==K&&(H!=null||K!=null))switch(D){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(n,i,D,H,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!u.hasOwnProperty(Se)&&We(n,i,Se,null,u,H);for(L in u)if(H=u[L],K=a[L],u.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(n,i,L,H,u,K)}return;default:if(Xo(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!u.hasOwnProperty(ht)&&sm(n,i,ht,void 0,u,H);for(Q in u)H=u[Q],K=a[Q],!u.hasOwnProperty(Q)||H===K||H===void 0&&K===void 0||sm(n,i,Q,H,u,K);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!u.hasOwnProperty(U)&&We(n,i,U,null,u,H);for(te in u)H=u[te],K=a[te],!u.hasOwnProperty(te)||H===K||H==null&&K==null||We(n,i,te,H,u,K)}var am=null,om=null;function zc(n){return n.nodeType===9?n:n.ownerDocument}function a_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function lm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function YA(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(n){return u_.resolve(null).then(n).catch(ZA)}:l_;function ZA(n){setTimeout(function(){throw n})}function cm(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Fl(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Fl(i)}function hm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function JA(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ci])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function eb(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function c_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function h_(n,i,a){switch(i=zc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var qn=new Map,f_=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ii=he.d;he.d={f:tb,r:nb,D:rb,C:ib,L:sb,m:ab,X:lb,S:ob,M:ub};function tb(){var n=ii.f(),i=kc();return n||i}function nb(n){var i=Mr(n);i!==null&&i.tag===5&&i.type==="form"?jy(i):ii.r(n)}var fo=typeof document>"u"?null:document;function d_(n,i,a){var u=fo;if(u&&typeof i=="string"&&i){var f=lt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),f_.has(f)||(f_.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function rb(n){ii.D(n),d_("dns-prefetch",n,null)}function ib(n,i){ii.C(n,i),d_("preconnect",n,i)}function sb(n,i,a){ii.L(n,i,a);var u=fo;if(u&&n&&i){var f='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var m=f;switch(i){case"style":m=mo(n);break;case"script":m=po(n)}qn.has(m)||(n=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),qn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ml(m))||i==="script"&&u.querySelector(Ll(m))||(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function ab(n,i){ii.m(n,i);var a=fo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+lt(u)+'"][href="'+lt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=po(n)}if(!qn.has(m)&&(n=C({rel:"modulepreload",href:n},i),qn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(m)))return}u=a.createElement("link"),Ft(u,"link",n),nt(u),a.head.appendChild(u)}}}function ob(n,i,a){ii.S(n,i,a);var u=fo;if(u&&n){var f=Ni(u).hoistableStyles,m=mo(n);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=u.querySelector(Ml(m)))w.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":i},a),(a=qn.get(m))&&fm(n,a);var D=_=u.createElement("link");nt(D),Ft(D,"link",n),D._p=new Promise(function(L,Q){D.onload=L,D.onerror=Q}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,qc(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function lb(n,i){ii.X(n,i);var a=fo;if(a&&n){var u=Ni(a).hoistableScripts,f=po(n),m=u.get(f);m||(m=a.querySelector(Ll(f)),m||(n=C({src:n,async:!0},i),(i=qn.get(f))&&dm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function ub(n,i){ii.M(n,i);var a=fo;if(a&&n){var u=Ni(a).hoistableScripts,f=po(n),m=u.get(f);m||(m=a.querySelector(Ll(f)),m||(n=C({src:n,async:!0,type:"module"},i),(i=qn.get(f))&&dm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function m_(n,i,a,u){var f=(f=Rn.current)?Bc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=mo(a.href),a=Ni(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var m=Ni(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Ml(n)))&&!m._p&&(_.instance=m,_.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),m||cb(f,n,a,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(a),a=Ni(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function mo(n){return'href="'+lt(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function p_(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function cb(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ft(i,"link",a),nt(i),n.head.appendChild(i))}function po(n){return'[src="'+lt(n)+'"]'}function Ll(n){return"script[async]"+n}function g_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),Ft(u,"style",f),qc(u,a.precedence,n),i.instance=u;case"stylesheet":f=mo(a.href);var m=n.querySelector(Ml(f));if(m)return i.state.loading|=4,i.instance=m,nt(m),m;u=p_(a),(f=qn.get(f))&&fm(u,f),m=(n.ownerDocument||n).createElement("link"),nt(m);var _=m;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Ft(m,"link",u),i.state.loading|=4,qc(m,a.precedence,n),i.instance=m;case"script":return m=po(a.src),(f=n.querySelector(Ll(m)))?(i.instance=f,nt(f),f):(u=a,(f=qn.get(m))&&(u=C({},a),dm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),Ft(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,qc(u,a.precedence,n));return i.instance}function qc(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var w=u[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function fm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fc=null;function y_(n,i,a){if(Fc===null){var u=new Map,f=Fc=new Map;f.set(a,u)}else f=Fc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ci]||m[kt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var w=u.get(_);w?w.push(m):u.set(_,[m])}}return u}function v_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function hb(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function __(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ul=null;function fb(){}function db(n,i,a){if(Ul===null)throw Error(s(475));var u=Ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=mo(a.href),m=n.querySelector(Ml(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Hc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,nt(m);return}m=n.ownerDocument||n,a=p_(a),(f=qn.get(f))&&fm(a,f),m=m.createElement("link"),nt(m);var _=m;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Ft(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Hc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function mb(){if(Ul===null)throw Error(s(475));var n=Ul;return n.stylesheets&&n.count===0&&mm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&mm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gc=null;function mm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gc=new Map,i.forEach(pb,n),Gc=null,Hc.call(n))}function pb(n,i){if(!(i.state.loading&4)){var a=Gc.get(n);if(a)var u=a.get(null);else{a=new Map,Gc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=Hc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var jl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function gb(n,i,a,u,f,m,_,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function E_(n,i,a,u,f,m,_,w,D,L,Q,te){return n=new gb(n,i,a,_,w,D,L,te),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),n.current=m,m.stateNode=n,i=$f(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},Rd(m),n}function T_(n){return n?(n=$a,n):$a}function w_(n,i,a,u,f,m){f=T_(f),u.context===null?u.context=f:u.pendingContext=f,u=Fi(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Hi(n,u,i),a!==null&&(ln(a,n,i),wl(a,n,i))}function S_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function pm(n,i){S_(n,i),(n=n.alternate)&&S_(n,i)}function A_(n){if(n.tag===13){var i=Mi(n,67108864);i!==null&&ln(i,n,67108864),pm(n,67108864)}}var $c=!0;function yb(n,i,a,u){var f=S.T;S.T=null;var m=he.p;try{he.p=2,gm(n,i,a,u)}finally{he.p=m,S.T=f}}function vb(n,i,a,u){var f=S.T;S.T=null;var m=he.p;try{he.p=8,gm(n,i,a,u)}finally{he.p=m,S.T=f}}function gm(n,i,a,u){if($c){var f=ym(u);if(f===null)im(n,i,u,Kc,a),R_(n,u);else if(Eb(f,n,i,a,u))u.stopPropagation();else if(R_(n,u),i&4&&-1<_b.indexOf(n)){for(;f!==null;){var m=Mr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Kn(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-rn(_);w.entanglements[1]|=D,_&=~D}Er(m),(it&6)===0&&(Nc=un()+500,kl(0))}}break;case 13:w=Mi(m,2),w!==null&&ln(w,m,2),kc(),pm(m,2)}if(m=ym(u),m===null&&im(n,i,u,Kc,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else im(n,i,u,null,a)}}function ym(n){return n=Pa(n),vm(n)}var Kc=null;function vm(n){if(Kc=null,n=Qn(n),n!==null){var i=ve(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ge(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Kc=n,null}function b_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xu()){case bt:return 2;case xt:return 8;case Pr:case ku:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var _m=!1,Xi=null,Zi=null,Ji=null,zl=new Map,Bl=new Map,es=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(n,i){switch(n){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Mr(i),i!==null&&A_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Eb(n,i,a,u,f){switch(i){case"focusin":return Xi=ql(Xi,n,i,a,u,f),!0;case"dragenter":return Zi=ql(Zi,n,i,a,u,f),!0;case"mouseover":return Ji=ql(Ji,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return zl.set(m,ql(zl.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Bl.set(m,ql(Bl.get(m)||null,n,i,a,u,f)),!0}return!1}function I_(n){var i=Qn(n.target);if(i!==null){var a=ve(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){n.blockedOn=i,Ii(n.priority,function(){if(a.tag===13){var u=wn(),f=Mi(a,u);f!==null&&ln(f,a,u),pm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ym(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Nn=u,a.target.dispatchEvent(u),Nn=null}else return i=Mr(a),i!==null&&A_(i),n.blockedOn=a,!1;i.shift()}return!0}function C_(n,i,a){Qc(n)&&a.delete(i)}function Tb(){_m=!1,Xi!==null&&Qc(Xi)&&(Xi=null),Zi!==null&&Qc(Zi)&&(Zi=null),Ji!==null&&Qc(Ji)&&(Ji=null),zl.forEach(C_),Bl.forEach(C_)}function Yc(n,i){n.blockedOn===i&&(n.blockedOn=null,_m||(_m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Wc=null;function D_(n){Wc!==n&&(Wc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===n&&(Wc=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(vm(u||a)===null)continue;break}var m=Mr(a);m!==null&&(n.splice(i,3),i-=3,ld(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Fl(n){function i(D){return Yc(D,n)}Xi!==null&&Yc(Xi,n),Zi!==null&&Yc(Zi,n),Ji!==null&&Yc(Ji,n),zl.forEach(i),Bl.forEach(i);for(var a=0;a<es.length;a++){var u=es[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&es.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[Rt]||null;if(typeof m=="function")_||D_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Rt]||null)w=_.formAction;else if(vm(f)!==null)continue}else w=_.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),D_(a)}}}function Em(n){this._internalRoot=n}Xc.prototype.render=Em.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=wn();w_(a,u,n,i,null,null)},Xc.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&uo(),w_(n.current,2,null,n,null,null),kc(),i[Vr]=null}};function Xc(n){this._internalRoot=n}Xc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Uu();n={blockedOn:null,target:n,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,n),a===0&&I_(n)}};var N_=e.version;if(N_!=="19.0.0")throw Error(s(527,N_,"19.0.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var wb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Ti=Zc.inject(wb),Qt=Zc}catch{}}return Gl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=Ky,m=Qy,_=Yy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=E_(n,1,!1,null,null,a,u,f,m,_,w,null),n[Vr]=i.current,rm(n.nodeType===8?n.parentNode:n),new Em(i)},Gl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Ky,_=Qy,w=Yy,D=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=E_(n,1,!0,i,a??null,u,f,m,_,w,D,L),i.context=T_(null),a=i.current,u=wn(),f=Fi(u),f.callback=null,Hi(a,f,u),i.current.lanes=u,mt(i,u),Er(i),n[Vr]=i.current,rm(n),new Xc(i)},Gl.version="19.0.0",Gl}var z_;function xb(){if(z_)return Sm.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=Ob(),Sm.exports}var kb=xb();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B_="popstate";function Pb(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=va(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Hm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:au(l))}function s(o,l){tr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Mb(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vb(){return Math.random().toString(36).substring(2,10)}function q_(r,e){return{usr:r.state,key:r.key,idx:e}}function Hm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:t,key:e&&e.key||s||Vb()}}function au({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function va(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Mb(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let q=E(),Z=q==null?null:q-g;g=q,p&&p({action:d,location:Y.location,delta:Z})}function I(q,Z){d="PUSH";let W=Hm(Y.location,q,Z);t&&t(W,q),g=E()+1;let G=q_(W,g),oe=Y.createHref(W);try{h.pushState(G,"",oe)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(oe)}l&&p&&p({action:d,location:Y.location,delta:1})}function k(q,Z){d="REPLACE";let W=Hm(Y.location,q,Z);t&&t(W,q),g=E();let G=q_(W,g),oe=Y.createHref(W);h.replaceState(G,"",oe),l&&p&&p({action:d,location:Y.location,delta:0})}function F(q){return Lb(q)}let Y={get action(){return d},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(B_,T),p=q,()=>{o.removeEventListener(B_,T),p=null}},createHref(q){return e(o,q)},createURL:F,encodeLocation(q){let Z=F(q);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:I,replace:k,go(q){return h.go(q)}};return Y}function Lb(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:au(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function MT(r,e,t="/"){return Ub(r,e,t,!1)}function Ub(r,e,t,s){let o=typeof e=="string"?va(e):e,l=hi(o.pathname||"/",t);if(l==null)return null;let h=LT(r);jb(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=Wb(l);d=Qb(h[p],g,s)}return d}function LT(r,e=[],t=[],s="",o=!1){let l=(h,d,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=li([s,E.relativePath]),I=t.concat(E);h.children&&h.children.length>0&&(st(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),LT(h.children,e,I,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:$b(T,h.index),routesMeta:I})};return r.forEach((h,d)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))l(h,d);else for(let g of UT(h.path))l(h,d,!0,g)}),e}function UT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=UT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function jb(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Kb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var zb=/^:[\w-]+$/,Bb=3,qb=2,Fb=1,Hb=10,Gb=-2,F_=r=>r==="*";function $b(r,e){let t=r.split("/"),s=t.length;return t.some(F_)&&(s+=Gb),e&&(s+=qb),t.filter(o=>!F_(o)).reduce((o,l)=>o+(zb.test(l)?Bb:l===""?Fb:Hb),s)}function Kb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Qb(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),I=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:li([l,T.pathname]),pathnameBase:eR(li([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=li([l,T.pathnameBase]))}return h}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Yb(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},I)=>{if(E==="*"){let F=d[I]||"";h=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const k=d[I];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function Yb(r,e=!1,t=!0){tr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Wb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function Xb(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?va(r):r;return{pathname:t?t.startsWith("/")?t:Zb(t,e):e,search:tR(s),hash:nR(o)}}function Zb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Im(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jb(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jT(r){let e=Jb(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zT(r,e,t,s=!1){let o;typeof r=="string"?o=va(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let p=Xb(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var li=r=>r.join("/").replace(/\/\/+/g,"/"),eR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var BT=["POST","PUT","PATCH","DELETE"];new Set(BT);var iR=["GET",...BT];new Set(iR);var Oo=z.createContext(null);Oo.displayName="DataRouter";var $h=z.createContext(null);$h.displayName="DataRouterState";z.createContext(!1);var qT=z.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var sR=z.createContext(new Map);sR.displayName="Fetchers";var aR=z.createContext(null);aR.displayName="Await";var Nr=z.createContext(null);Nr.displayName="Navigation";var gu=z.createContext(null);gu.displayName="Location";var Or=z.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var wp=z.createContext(null);wp.displayName="RouteError";function oR(r,{relative:e}={}){st(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Nr),{hash:o,pathname:l,search:h}=vu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:li([t,l])),s.createHref({pathname:d,search:h,hash:o})}function yu(){return z.useContext(gu)!=null}function _a(){return st(yu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(gu).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HT(r){z.useContext(Nr).static||z.useLayoutEffect(r)}function vi(){let{isDataRoute:r}=z.useContext(Or);return r?ER():lR()}function lR(){st(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Oo),{basename:e,navigator:t}=z.useContext(Nr),{matches:s}=z.useContext(Or),{pathname:o}=_a(),l=JSON.stringify(jT(s)),h=z.useRef(!1);return HT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(tr(h.current,FT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=zT(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:li([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,r])}z.createContext(null);function GT(){let{matches:r}=z.useContext(Or),e=r[r.length-1];return e?e.params:{}}function vu(r,{relative:e}={}){let{matches:t}=z.useContext(Or),{pathname:s}=_a(),o=JSON.stringify(jT(t));return z.useMemo(()=>zT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function uR(r,e){return $T(r,e)}function $T(r,e,t,s,o){var W;st(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(Nr),{matches:h}=z.useContext(Or),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let G=T&&T.path||"";KT(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let I=_a(),k;if(e){let G=typeof e=="string"?va(e):e;st(E==="/"||((W=G.pathname)==null?void 0:W.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),k=G}else k=I;let F=k.pathname||"/",Y=F;if(E!=="/"){let G=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(G.length).join("/")}let q=MT(r,{pathname:Y});tr(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),tr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=mR(q&&q.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:li([E,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:li([E,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,t,s,o);return e&&Z?z.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function cR(){let r=_R(),e=rR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var hR=z.createElement(cR,null),fR=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Or.Provider,{value:this.props.routeContext},z.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dR({routeContext:r,match:e,children:t}){let s=z.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Or.Provider,{value:r},t)}function mR(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let g=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<l.length;g++){let E=l[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:I}=t,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,E,T)=>{let I,k=!1,F=null,Y=null;t&&(I=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||hR,d&&(p<0&&T===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):p===T&&(k=!0,Y=E.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,T+1)),Z=()=>{let W;return I?W=F:k?W=Y:E.route.Component?W=z.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=g,z.createElement(dR,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:W})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?z.createElement(fR,{location:t.location,revalidation:t.revalidation,component:F,error:I,children:Z(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):Z()},null)}function Sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pR(r){let e=z.useContext(Oo);return st(e,Sp(r)),e}function gR(r){let e=z.useContext($h);return st(e,Sp(r)),e}function yR(r){let e=z.useContext(Or);return st(e,Sp(r)),e}function Ap(r){let e=yR(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vR(){return Ap("useRouteId")}function _R(){var s;let r=z.useContext(wp),e=gR("useRouteError"),t=Ap("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function ER(){let{router:r}=pR("useNavigate"),e=Ap("useNavigate"),t=z.useRef(!1);return HT(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{tr(t.current,FT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var H_={};function KT(r,e,t){!e&&!H_[r]&&(H_[r]=!0,tr(!1,t))}z.memo(TR);function TR({routes:r,future:e,state:t,unstable_onError:s}){return $T(r,void 0,t,s,e)}function rs(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){st(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=va(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:I="default"}=t,k=z.useMemo(()=>{let F=hi(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:T,key:I},navigationType:s}},[h,p,g,E,T,I,s]);return tr(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:z.createElement(Nr.Provider,{value:d},z.createElement(gu.Provider,{children:e,value:k}))}function SR({children:r,location:e}){return uR(Gm(r),e)}function Gm(r,e=[]){let t=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let l=[...e,o];if(s.type===z.Fragment){t.push.apply(t,Gm(s.props.children,l));return}st(s.type===rs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,l)),t.push(h)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Kh(r){return r!=null&&typeof r.tagName=="string"}function AR(r){return Kh(r)&&r.tagName.toLowerCase()==="button"}function bR(r){return Kh(r)&&r.tagName.toLowerCase()==="form"}function RR(r){return Kh(r)&&r.tagName.toLowerCase()==="input"}function IR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CR(r,e){return r.button===0&&(!e||e==="_self")&&!IR(r)}var Jc=null;function DR(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var NR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(r){return r!=null&&!NR.has(r)?(tr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function OR(r,e){let t,s,o,l,h;if(bR(r)){let d=r.getAttribute("action");s=d?hi(d,e):null,t=r.getAttribute("method")||ah,o=Cm(r.getAttribute("enctype"))||oh,l=new FormData(r)}else if(AR(r)||RR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?hi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||ah,o=Cm(r.getAttribute("formenctype"))||Cm(d.getAttribute("enctype"))||oh,l=new FormData(d,r),!DR()){let{name:g,type:E,value:T}=r;if(E==="image"){let I=g?`${g}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else g&&l.append(g,T)}}else{if(Kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,o=oh,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&hi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function kR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function VR(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await kR(l,t);return h.links?h.links():[]}return[]}));return jR(s.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(r,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function MR(r,e,{includeHydrateFallback:t}={}){return LR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function LR(r){return[...new Set(r)]}function UR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function jR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(UR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function QT(){let r=z.useContext(Oo);return bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zR(){let r=z.useContext($h);return bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Rp=z.createContext(void 0);Rp.displayName="FrameworkContext";function YT(){let r=z.useContext(Rp);return bp(r,"You must render this element inside a <HydratedRouter> element"),r}function BR(r,e){let t=z.useContext(Rp),[s,o]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,I=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=Z=>{Z.forEach(W=>{h(W.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return I.current&&q.observe(I.current),()=>{q.disconnect()}}},[r]),z.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:$l(d,k),onBlur:$l(p,F),onMouseEnter:$l(g,k),onMouseLeave:$l(E,F),onTouchStart:$l(T,k)}]:[!1,I,{}]}function $l(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function qR({page:r,...e}){let{router:t}=QT(),s=z.useMemo(()=>MT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?z.createElement(HR,{page:r,matches:s,...e}):null}function FR(r){let{manifest:e,routeModules:t}=YT(),[s,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return VR(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function HR({page:r,matches:e,...t}){let s=_a(),{manifest:o,routeModules:l}=YT(),{basename:h}=QT(),{loaderData:d,matches:p}=zR(),g=z.useMemo(()=>G_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=z.useMemo(()=>G_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach(Z=>{var G;let W=o.routes[Z.route.id];!W||!W.hasLoader||(!g.some(oe=>oe.route.id===Z.route.id)&&Z.route.id in d&&((G=l[Z.route.id])!=null&&G.shouldRevalidate)||W.hasClientLoader?Y=!0:F.add(Z.route.id))}),F.size===0)return[];let q=xR(r,h,"data");return Y&&F.size>0&&q.searchParams.set("_routes",e.filter(Z=>F.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[q.pathname+q.search]},[h,d,s,o,g,e,r,l]),I=z.useMemo(()=>MR(E,o),[E,o]),k=FR(E);return z.createElement(z.Fragment,null,T.map(F=>z.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),I.map(F=>z.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),k.map(({key:F,link:Y})=>z.createElement("link",{key:F,nonce:t.nonce,...Y})))}function GR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.8.2")}catch{}function $R({basename:r,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=Pb({window:t,v5Compat:!0}));let o=s.current,[l,h]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(wR,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZT=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...I},k){let{basename:F}=z.useContext(Nr),Y=typeof g=="string"&&XT.test(g),q,Z=!1;if(typeof g=="string"&&Y&&(q=g,WT))try{let S=new URL(window.location.href),C=g.startsWith("//")?new URL(S.protocol+g):new URL(g),O=hi(C.pathname,F);C.origin===S.origin&&O!=null?g=O+C.search+C.hash:Z=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=oR(g,{relative:o}),[G,oe,ae]=BR(s,I),ie=WR(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function x(S){e&&e(S),S.defaultPrevented||ie(S)}let b=z.createElement("a",{...I,...ae,href:q||W,onClick:Z||l?e:x,ref:GR(k,oe),target:p,"data-discover":!Y&&t==="render"?"true":void 0});return G&&!Y?z.createElement(z.Fragment,null,b,z.createElement(qR,{page:W})):b});ZT.displayName="Link";var KR=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let T=vu(h,{relative:g.relative}),I=_a(),k=z.useContext($h),{navigator:F,basename:Y}=z.useContext(Nr),q=k!=null&&t1(T)&&d===!0,Z=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,W=I.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(W=W.toLowerCase(),G=G?G.toLowerCase():null,Z=Z.toLowerCase()),G&&Y&&(G=hi(G,Y)||G);const oe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ae=W===Z||!o&&W.startsWith(Z)&&W.charAt(oe)==="/",ie=G!=null&&(G===Z||!o&&G.startsWith(Z)&&G.charAt(Z.length)==="/"),x={isActive:ae,isPending:ie,isTransitioning:q},b=ae?e:void 0,S;typeof s=="function"?S=s(x):S=[s,ae?"active":null,ie?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(x):l;return z.createElement(ZT,{...g,"aria-current":b,className:S,ref:E,style:C,to:h,viewTransition:d},typeof p=="function"?p(x):p)});KR.displayName="NavLink";var QR=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=ah,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...I},k)=>{let F=JR(),Y=e1(d,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",Z=typeof d=="string"&&XT.test(d),W=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let oe=G.nativeEvent.submitter,ae=(oe==null?void 0:oe.getAttribute("formmethod"))||h;F(oe||G.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:T})};return z.createElement("form",{ref:k,method:q,action:Y,onSubmit:s?p:W,...I,"data-discover":!Z&&r==="render"?"true":void 0})});QR.displayName="Form";function YR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(r){let e=z.useContext(Oo);return st(e,YR(r)),e}function WR(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=vi(),p=_a(),g=vu(r,{relative:l});return z.useCallback(E=>{if(CR(E,e)){E.preventDefault();let T=t!==void 0?t:au(p)===au(g);d(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,r,o,l,h])}var XR=0,ZR=()=>`__${String(++XR)}__`;function JR(){let{router:r}=JT("useSubmit"),{basename:e}=z.useContext(Nr),t=vR();return z.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=OR(s,e);if(o.navigate===!1){let E=o.fetcherKey||ZR();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function e1(r,{relative:e}={}){let{basename:t}=z.useContext(Nr),s=z.useContext(Or);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...vu(r||".",{relative:e})},h=_a();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:li([t,l.pathname])),au(l)}function t1(r,{relative:e}={}){let t=z.useContext(qT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JT("useViewTransitionState"),o=vu(r,{relative:e});if(!t.isTransitioning)return!1;let l=hi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=hi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _h(o.pathname,h)!=null||_h(o.pathname,l)!=null}const n1=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},r1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let I=(d&15)<<2|g>>6,k=g&63;p||(k=64,h||(I=64)),s.push(t[E],t[T],t[I],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(e0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):r1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new i1;const I=l<<2|d>>4;if(s.push(I),g!==64){const k=d<<4&240|g>>2;if(s.push(k),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s1=function(r){const e=e0(r);return t0.encodeByteArray(e,!0)},Eh=function(r){return s1(r).replace(/\./g,"")},n0=function(r){try{return t0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=()=>a1().__FIREBASE_DEFAULTS__,l1=()=>{if(typeof process>"u"||typeof $_>"u")return;const r=$_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},u1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&n0(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return n1()||o1()||l1()||u1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r0=r=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},c1=r=>{const e=r0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},i0=()=>{var r;return(r=Qh())===null||r===void 0?void 0:r.config},s0=r=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eh(JSON.stringify(t)),Eh(JSON.stringify(h)),""].join(".")}const Jl={};function d1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function m1(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let K_=!1;function o0(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Jl[r]===e||Jl[r]||K_)return;Jl[r]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=d1().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{K_=!0,h()},I}function E(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=m1(s),k=t("text"),F=document.getElementById(k)||document.createElement("span"),Y=t("learnmore"),q=document.getElementById(Y)||document.createElement("a"),Z=t("preprendIcon"),W=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const G=I.element;d(G),E(q,Y);const oe=g();p(W,Z),G.append(W,F,q,oe),document.body.appendChild(G)}l?(F.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function g1(){var r;const e=(r=Qh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function v1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function E1(){return!g1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u0(){try{return typeof indexedDB=="object"}catch{return!1}}function c0(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function T1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FirebaseError";class ir extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=w1,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ea.prototype.create)}}class Ea{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?S1(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ir(o,d,s)}}function S1(r,e){return r.replace(A1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const A1=/\{\$([^}]+)}/g;function b1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ds(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Q_(l)&&Q_(h)){if(!ds(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ql(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function R1(r,e){const t=new I1(r,e);return t.subscribe.bind(t)}class I1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");C1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1e3,N1=2,O1=4*60*60*1e3,x1=.5;function Y_(r,e=D1,t=N1){const s=e*Math.pow(t,r),o=Math.round(x1*s*(Math.random()-.5)*2);return Math.min(O1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r){return r&&r._delegate?r._delegate:r}class nr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new h1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V1(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:P1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P1(r){return r===ia?void 0:r}function V1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new k1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const L1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},U1=xe.INFO,j1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},z1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=j1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=U1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const B1=(r,e)=>e.some(t=>r instanceof t);let W_,X_;function q1(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F1(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h0=new WeakMap,$m=new WeakMap,f0=new WeakMap,Nm=new WeakMap,Ip=new WeakMap;function H1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(ls(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&h0.set(t,r)}).catch(()=>{}),Ip.set(e,r),e}function G1(r){if($m.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});$m.set(r,e)}let Km={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||f0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $1(r){Km=r(Km)}function K1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Om(this),e,...t);return f0.set(s,e.sort?e.sort():[e]),ls(s)}:F1().includes(r)?function(...e){return r.apply(Om(this),e),ls(h0.get(this))}:function(...e){return ls(r.apply(Om(this),e))}}function Q1(r){return typeof r=="function"?K1(r):(r instanceof IDBTransaction&&G1(r),B1(r,q1())?new Proxy(r,Km):r)}function ls(r){if(r instanceof IDBRequest)return H1(r);if(Nm.has(r))return Nm.get(r);const e=Q1(r);return e!==r&&(Nm.set(r,e),Ip.set(e,r)),e}const Om=r=>Ip.get(r);function d0(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=ls(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ls(h.result),p.oldVersion,p.newVersion,ls(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Y1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],xm=new Map;function Z_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=W1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Y1.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return xm.set(e,l),l}$1(r=>({...r,get:(e,t,s)=>Z_(e,t)||r.get(e,t,s),has:(e,t)=>!!Z_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Z1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",J_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Yh("@firebase/app"),J1="@firebase/app-compat",eI="@firebase/analytics-compat",tI="@firebase/analytics",nI="@firebase/app-check-compat",rI="@firebase/app-check",iI="@firebase/auth",sI="@firebase/auth-compat",aI="@firebase/database",oI="@firebase/data-connect",lI="@firebase/database-compat",uI="@firebase/functions",cI="@firebase/functions-compat",hI="@firebase/installations",fI="@firebase/installations-compat",dI="@firebase/messaging",mI="@firebase/messaging-compat",pI="@firebase/performance",gI="@firebase/performance-compat",yI="@firebase/remote-config",vI="@firebase/remote-config-compat",_I="@firebase/storage",EI="@firebase/storage-compat",TI="@firebase/firestore",wI="@firebase/ai",SI="@firebase/firestore-compat",AI="firebase",bI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",RI={[Qm]:"fire-core",[J1]:"fire-core-compat",[tI]:"fire-analytics",[eI]:"fire-analytics-compat",[rI]:"fire-app-check",[nI]:"fire-app-check-compat",[iI]:"fire-auth",[sI]:"fire-auth-compat",[aI]:"fire-rtdb",[oI]:"fire-data-connect",[lI]:"fire-rtdb-compat",[uI]:"fire-fn",[cI]:"fire-fn-compat",[hI]:"fire-iid",[fI]:"fire-iid-compat",[dI]:"fire-fcm",[mI]:"fire-fcm-compat",[pI]:"fire-perf",[gI]:"fire-perf-compat",[yI]:"fire-rc",[vI]:"fire-rc-compat",[_I]:"fire-gcs",[EI]:"fire-gcs-compat",[TI]:"fire-fst",[SI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[AI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,II=new Map,Wm=new Map;function eE(r,e){try{r.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ir(r){const e=r.name;if(Wm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const t of Th.values())eE(t,r);for(const t of II.values())eE(t,r);return!0}function Ta(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new Ea("app","Firebase",CI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=bI;function m0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(t||(t=i0()),!t)throw us.create("no-options");const l=Th.get(o);if(l){if(ds(t,l.options)&&ds(s,l.config))return l;throw us.create("duplicate-app",{appName:o})}const h=new M1(o);for(const p of Wm.values())h.addComponent(p);const d=new DI(t,s,h);return Th.set(o,d),d}function Cp(r=Ym){const e=Th.get(r);if(!e&&r===Ym&&i0())return m0();if(!e)throw us.create("no-app",{appName:r});return e}function Hn(r,e,t){var s;let o=(s=RI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(d.join(" "));return}Ir(new nr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firebase-heartbeat-database",OI=1,ou="firebase-heartbeat-store";let km=null;function p0(){return km||(km=d0(NI,OI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),km}async function xI(r){try{const t=(await p0()).transaction(ou),s=await t.objectStore(ou).get(g0(r));return await t.done,s}catch(e){if(e instanceof ir)fi.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function tE(r,e){try{const s=(await p0()).transaction(ou,"readwrite");await s.objectStore(ou).put(e,g0(r)),await s.done}catch(t){if(t instanceof ir)fi.warn(t.message);else{const s=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(s.message)}}}function g0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,PI=30;class VI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=nE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>PI){const h=UI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nE(),{heartbeatsToSend:s,unsentEntries:o}=MI(this._heartbeatsCache.heartbeats),l=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fi.warn(t),""}}}function nE(){return new Date().toISOString().substring(0,10)}function MI(r,e=kI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),rE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),rE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class LI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u0()?c0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return tE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function rE(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function UI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){Ir(new nr("platform-logger",e=>new X1(e),"PRIVATE")),Ir(new nr("heartbeat",e=>new VI(e),"PRIVATE")),Hn(Qm,J_,r),Hn(Qm,J_,"esm2017"),Hn("fire-js","")}jI("");function Dp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zI=y0,v0=new Ea("auth","Firebase",y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Yh("@firebase/auth");function BI(r,...e){wh.logLevel<=xe.WARN&&wh.warn(`Auth (${ko}): ${r}`,...e)}function lh(r,...e){wh.logLevel<=xe.ERROR&&wh.error(`Auth (${ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw Op(r,...e)}function er(r,...e){return Op(r,...e)}function Np(r,e,t){const s=Object.assign(Object.assign({},zI()),{[e]:t});return new Ea("auth","Firebase",s).create(e,{appName:r.name})}function ui(r){return Np(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(r,"argument-error"),Np(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return v0.create(r,...e)}function Ee(r,e,...t){if(!r)throw Op(e,...t)}function ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function di(r,e){r||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function FI(){return iE()==="http:"||iE()==="https:"}function iE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||l0()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=p1()||v1()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r,e){di(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QI=new Eu(3e4,6e4);function Ts(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ws(r,e,t,s,o={}){return E0(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=_u(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return y1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(g.credentials="include"),_0.fetch()(await T0(r,r.config.apiHost,t,d),g)})}async function E0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},$I),e);try{const o=new WI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw eh(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Np(r,E,g);$n(r,E)}}catch(o){if(o instanceof ir)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,t,s,o={}){const l=await ws(r,e,t,s,o);return"mfaPendingCredential"in l&&$n(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function T0(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?xp(r.config,o):`${r.config.apiScheme}://${o}`;return KI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function YI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(er(this.auth,"network-request-failed")),QI.get())})}}function eh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=er(r,e,s);return o.customData._tokenResponse=t,o}function sE(r){return r!==void 0&&r.enterprise!==void 0}class XI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return YI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZI(r,e){return ws(r,"GET","/v2/recaptchaConfig",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){return ws(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return ws(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eC(r,e=!1){const t=yt(r),s=await t.getIdToken(e),o=kp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:eu(Pm(o.auth_time)),issuedAtTime:eu(Pm(o.iat)),expirationTime:eu(Pm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pm(r){return Number(r)*1e3}function kp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=n0(t);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function aE(r){const e=kp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ir&&tC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function tC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){var e;const t=r.auth,s=await r.getIdToken(),o=await lu(r,Sh(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?w0(l.providerUserInfo):[],d=iC(r.providerData,h),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Zm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function rC(r){const e=yt(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function w0(r){return r.map(e=>{var{providerId:t}=e,s=Dp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,e){const t=await E0(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await T0(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(p.credentials="include"),_0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aC(r,e){return ws(r,"POST","/v2/accounts:revokeToken",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=aE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await sC(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new To;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eC(this,e)}reload(){return rC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await lu(this,JI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(h=t.photoURL)!==null&&h!==void 0?h:void 0,Y=(d=t.tenantId)!==null&&d!==void 0?d:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:oe,isAnonymous:ae,providerData:ie,stsTokenManager:x}=t;Ee(G&&x,e,"internal-error");const b=To.fromJSON(this.name,x);Ee(typeof G=="string",e,"internal-error"),ns(T,e.name),ns(I,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),ns(k,e.name),ns(F,e.name),ns(Y,e.name),ns(q,e.name),ns(Z,e.name),ns(W,e.name);const S=new Jn({uid:G,auth:e,email:I,emailVerified:oe,displayName:T,isAnonymous:ae,photoURL:F,phoneNumber:k,tenantId:Y,stsTokenManager:b,createdAt:Z,lastLoginAt:W});return ie&&Array.isArray(ie)&&(S.providerData=ie.map(C=>Object.assign({},C))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new To;o.updateFromServerResponse(t);const l=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new To;d.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function oi(r){di(r instanceof Function,"Expected a class definition");let e=oE.get(r);return e?(di(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,oE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S0.type="NONE";const lE=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(r,e,t){return`firebase:${r}:${e}:${t}`}class wo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,l),this.fullPersistenceKey=uh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sh(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new wo(oi(lE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||oi(lE);const h=uh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const I=await Sh(e,{idToken:E}).catch(()=>{});if(!I)break;T=await Jn._fromGetAccountInfoResponse(e,I,E)}else T=Jn._fromJSON(e,E);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new wo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new wo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D0(e))return"Blackberry";if(N0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||R0(e))&&!e.includes("edge/"))return"Chrome";if(C0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function A0(r=tn()){return/firefox\//i.test(r)}function b0(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R0(r=tn()){return/crios\//i.test(r)}function I0(r=tn()){return/iemobile/i.test(r)}function C0(r=tn()){return/android/i.test(r)}function D0(r=tn()){return/blackberry/i.test(r)}function N0(r=tn()){return/webos/i.test(r)}function Pp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oC(r=tn()){var e;return Pp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lC(){return _1()&&document.documentMode===10}function O0(r=tn()){return Pp(r)||C0(r)||N0(r)||D0(r)||/windows phone/i.test(r)||I0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r,e=[]){let t;switch(r){case"Browser":t=uE(tn());break;case"Worker":t=`${uE(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,e={}){return ws(r,"GET","/v2/passwordPolicy",Ts(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=6;class fC{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:hC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cE(this),this.idTokenSubscription=new cE(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sh(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ui(this));const t=e?yt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cC(this),t=new fC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ea("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await aC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ss(r){return yt(r)}class cE{constructor(e){this.auth=e,this.observer=null,this.addObserver=R1(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(r){Wh=r}function k0(r){return Wh.loadJS(r)}function pC(){return Wh.recaptchaEnterpriseScript}function gC(){return Wh.gapiScript}function yC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class vC{constructor(){this.enterprise=new _C}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _C{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EC="recaptcha-enterprise",P0="NO_RECAPTCHA";class TC{constructor(e){this.type=EC,this.auth=Ss(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{ZI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new XI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;sE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(P0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vC().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&sE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pC();p.length!==0&&(p+=d),k0(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function hE(r,e,t,s=!1,o=!1){const l=new TC(r);let h;if(o)h=P0;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Jm(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await hE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await hE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r,e){const t=Ta(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ds(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function SC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AC(r,e,t){const s=Ss(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=V0(e),{host:h,port:d}=bC(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ds(g,s.config.emulator)&&ds(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(a0(`${l}//${h}${p}`),o0("Auth",!0)):RC()}function V0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bC(r){const e=V0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:fE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:fE(h)}}}function fE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function RC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function IC(r,e){return ws(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}async function NC(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Vp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new uu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,t,"signInWithPassword",CC);case"emailLink":return DC(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",IC);case"emailLink":return NC(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="http://localhost";class fa extends Vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Dp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new fa(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return So(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,So(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,So(e,t)}buildRequest(){const e={requestUri:OC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_u(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kC(r){const e=Kl(Ql(r)).link,t=e?Kl(Ql(e)).deep_link_id:null,s=Kl(Ql(r)).deep_link_id;return(s?Kl(Ql(s)).link:null)||s||t||e||r}class Mp{constructor(e){var t,s,o,l,h,d;const p=Kl(Ql(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=xC((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=kC(e);try{return new Mp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Mp.parseLink(t);return Ee(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends wu{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return si.credential(t,s)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends wu{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends wu{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return as.credential(t,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(r,e){return Tu(r,"POST","/v1/accounts:signUp",Ts(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Jn._fromIdTokenResponse(e,s,o),h=dE(s);return new da({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=dE(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function dE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ir{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new bh(e,t,s,o)}}function M0(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,l,e,s):l})}async function VC(r,e,t=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return da._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(ui(s));const o="reauthenticate";try{const l=await lu(r,M0(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=kp(l.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(r.uid===d,s,"user-mismatch"),da._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(r,e,t=!1){if(Sn(r.app))return Promise.reject(ui(r));const s="signIn",o=await M0(r,s,e),l=await da._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function LC(r,e){return L0(Ss(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(r){const e=Ss(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UC(r,e,t){if(Sn(r.app))return Promise.reject(ui(r));const s=Ss(r),h=await Jm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&U0(r),p}),d=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function jC(r,e,t){return Sn(r.app)?Promise.reject(ui(r)):LC(yt(r),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&U0(r),s})}function zC(r,e,t,s){return yt(r).onIdTokenChanged(e,t,s)}function BC(r,e,t){return yt(r).beforeAuthStateChanged(e,t)}function qC(r,e,t,s){return yt(r).onAuthStateChanged(e,t,s)}function FC(r){return yt(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1e3,GC=10;class z0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);lC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,GC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z0.type="LOCAL";const $C=z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B0.type="SESSION";const q0=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await KC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Up("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function YC(r){wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function WC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZC(){return F0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firebaseLocalStorageDb",JC=1,Ih="firebaseLocalStorage",G0="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function eD(){const r=indexedDB.deleteDatabase(H0);return new Su(r).toPromise()}function ep(){const r=indexedDB.open(H0,JC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:G0})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await eD(),e(await ep()))})})}async function mE(r,e,t){const s=Zh(r,!0).put({[G0]:e,value:t});return new Su(s).toPromise()}async function tD(r,e){const t=Zh(r,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function pE(r,e){const t=Zh(r,!0).delete(e);return new Su(t).toPromise()}const nD=800,rD=3;class $0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>rD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await mE(e,Rh,"1"),await pE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>mE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>tD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Zh(o,!1).getAll();return new Su(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$0.type="LOCAL";const iD=$0;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r,e){return e?oi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,t){return So(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sD(r){return L0(r.auth,new jp(r),r.bypassAuthState)}function aD(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),MC(t,new jp(r),r.bypassAuthState)}async function oD(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),VC(t,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sD;case"linkViaPopup":case"linkViaRedirect":return oD;case"reauthViaPopup":case"reauthViaRedirect":return aD;default:$n(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new Eu(2e3,1e4);async function uD(r,e,t){if(Sn(r.app))return Promise.reject(er(r,"operation-not-supported-in-this-environment"));const s=Ss(r);qI(r,e,Lp);const o=K0(s,t);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends Q0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lD.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="pendingRedirect",ch=new Map;class hD extends Q0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await fD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fD(r,e){const t=pD(e),s=mD(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function dD(r,e){ch.set(r._key(),e)}function mD(r){return oi(r._redirectPersistence)}function pD(r){return uh(cD,r.config.apiKey,r.name)}async function gD(r,e,t=!1){if(Sn(r.app))return Promise.reject(ui(r));const s=Ss(r),o=K0(s,e),h=await new hD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=10*60*1e3;class vD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_D(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Y0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(er(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yD&&this.cachedEventUids.clear(),this.cachedEventUids.has(gE(e))}saveEventToCache(e){this.cachedEventUids.add(gE(e)),this.lastProcessedEventTime=Date.now()}}function gE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Y0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _D(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e={}){return ws(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wD=/^https?/;async function SD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ED(r);for(const t of e)try{if(AD(t))return}catch{}$n(r,"unauthorized-domain")}function AD(r){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!wD.test(t))return!1;if(TD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new Eu(3e4,6e4);function yE(){const r=wr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function RD(r){return new Promise((e,t)=>{var s,o,l;function h(){yE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yE(),t(er(r,"network-request-failed"))},timeout:bD.get()})}if(!((o=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=wr().gapi)===null||l===void 0)&&l.load)h();else{const d=yC("iframefcb");return wr()[d]=()=>{gapi.load?h():t(er(r,"network-request-failed"))},k0(`${gC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw hh=null,e})}let hh=null;function ID(r){return hh=hh||RD(r),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Eu(5e3,15e3),DD="__/auth/iframe",ND="emulator/auth/iframe",OD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?xp(e,ND):`https://${r.config.authDomain}/${DD}`,s={apiKey:e.apiKey,appName:r.name,v:ko},o=xD.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${_u(s).slice(1)}`}async function PD(r){const e=await ID(r),t=wr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:kD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OD,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=er(r,"network-request-failed"),d=wr().setTimeout(()=>{l(h)},CD.get());function p(){wr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,LD=600,UD="_blank",jD="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zD(r,e,t,s=MD,o=LD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},VD),{width:s.toString(),height:o.toString(),top:l,left:h}),g=tn().toLowerCase();t&&(d=R0(g)?UD:t),A0(g)&&(e=e||jD,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[k,F])=>`${I}${k}=${F},`,"");if(oC(g)&&d!=="_self")return BD(e||"",d),new vE(null);const T=window.open(e||"",d,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new vE(T)}function BD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__/auth/handler",FD="emulator/auth/handler",HD=encodeURIComponent("fac");async function _E(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ko,eventId:o};if(e instanceof Lp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",b1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof wu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${HD}=${encodeURIComponent(p)}`:"";return`${GD(r)}?${_u(d).slice(1)}${g}`}function GD({config:r}){return r.emulator?xp(r,FD):`https://${r.authDomain}/${qD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class $D{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q0,this._completeRedirectFn=gD,this._overrideRedirectResult=dD}async _openPopup(e,t,s,o){var l;di((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await _E(e,t,s,Xm(),o);return zD(e,h,Up())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await _E(e,t,s,Xm(),o);return YC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(di(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await PD(e),s=new vD(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Vm];h!==void 0&&t(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O0()||b0()||Pp()}}const KD=$D;var EE="@firebase/auth",TE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WD(r){Ir(new nr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x0(r)},g=new dC(s,o,l,p);return SC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ir(new nr("auth-internal",e=>{const t=Ss(e.getProvider("auth").getImmediate());return(s=>new QD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(EE,TE,YD(r)),Hn(EE,TE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=5*60,ZD=s0("authIdTokenMaxAge")||XD;let wE=null;const JD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ZD)return;const o=t==null?void 0:t.token;wE!==o&&(wE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eN(r=Cp()){const e=Ta(r,"auth");if(e.isInitialized())return e.getImmediate();const t=wC(r,{popupRedirectResolver:KD,persistence:[iD,$C,q0]}),s=s0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=JD(l.toString());BC(t,h,()=>h(t.currentUser)),zC(t,d=>h(d))}}const o=r0("auth");return o&&AC(t,`http://${o}`),t}function tN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}mC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=er("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",tN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WD("Browser");var nN="firebase",rN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(nN,rN,"app");const W0="@firebase/installations",zp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=1e4,Z0=`w:${zp}`,J0="FIS_v2",iN="https://firebaseinstallations.googleapis.com/v1",sN=60*60*1e3,aN="installations",oN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ma=new Ea(aN,oN,lN);function ew(r){return r instanceof ir&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw({projectId:r}){return`${iN}/projects/${r}/installations`}function nw(r){return{token:r.token,requestStatus:2,expiresIn:cN(r.expiresIn),creationTime:Date.now()}}async function rw(r,e){const s=(await e.json()).error;return ma.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function uN(r,{refreshToken:e}){const t=iw(r);return t.append("Authorization",hN(e)),t}async function sw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function cN(r){return Number(r.replace("s","000"))}function hN(r){return`${J0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=tw(r),o=iw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:J0,appId:r.appId,sdkVersion:Z0},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await sw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:nw(g.authToken)}}else throw await rw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^[cdef][\w-]{21}$/,tp="";function pN(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=gN(r);return mN.test(t)?t:tp}catch{return tp}}function gN(r){return dN(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function lw(r,e){const t=Jh(r);uw(t,e),yN(t,e)}function uw(r,e){const t=ow.get(r);if(t)for(const s of t)s(e)}function yN(r,e){const t=vN();t&&t.postMessage({key:r,fid:e}),_N()}let aa=null;function vN(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=r=>{uw(r.data.key,r.data.fid)}),aa}function _N(){ow.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-installations-database",TN=1,pa="firebase-installations-store";let Mm=null;function Bp(){return Mm||(Mm=d0(EN,TN,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(pa)}}})),Mm}async function Ch(r,e){const t=Jh(r),o=(await Bp()).transaction(pa,"readwrite"),l=o.objectStore(pa),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&lw(r,e.fid),e}async function cw(r){const e=Jh(r),s=(await Bp()).transaction(pa,"readwrite");await s.objectStore(pa).delete(e),await s.done}async function ef(r,e){const t=Jh(r),o=(await Bp()).transaction(pa,"readwrite"),l=o.objectStore(pa),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&lw(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(r){let e;const t=await ef(r.appConfig,s=>{const o=wN(s),l=SN(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===tp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function wN(r){const e=r||{fid:pN(),registrationStatus:0};return hw(e)}function SN(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ma.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AN(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bN(r)}:{installationEntry:e}}async function AN(r,e){try{const t=await fN(r,e);return Ch(r.appConfig,t)}catch(t){throw ew(t)&&t.customData.serverCode===409?await cw(r.appConfig):await Ch(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function bN(r){let e=await SE(r.appConfig);for(;e.registrationStatus===1;)await aw(100),e=await SE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await qp(r);return s||t}return e}function SE(r){return ef(r,e=>{if(!e)throw ma.create("installation-not-found");return hw(e)})}function hw(r){return RN(r)?{fid:r.fid,registrationStatus:0}:r}function RN(r){return r.registrationStatus===1&&r.registrationTime+X0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN({appConfig:r,heartbeatServiceProvider:e},t){const s=CN(r,t),o=uN(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Z0,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await sw(()=>fetch(s,d));if(p.ok){const g=await p.json();return nw(g)}else throw await rw("Generate Auth Token",p)}function CN(r,{fid:e}){return`${tw(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(r,e=!1){let t;const s=await ef(r.appConfig,l=>{if(!fw(l))throw ma.create("not-registered");const h=l.authToken;if(!e&&ON(h))return l;if(h.requestStatus===1)return t=DN(r,e),l;{if(!navigator.onLine)throw ma.create("app-offline");const d=kN(l);return t=NN(r,d),d}});return t?await t:s.authToken}async function DN(r,e){let t=await AE(r.appConfig);for(;t.authToken.requestStatus===1;)await aw(100),t=await AE(r.appConfig);const s=t.authToken;return s.requestStatus===0?Fp(r,e):s}function AE(r){return ef(r,e=>{if(!fw(e))throw ma.create("not-registered");const t=e.authToken;return PN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function NN(r,e){try{const t=await IN(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Ch(r.appConfig,s),t}catch(t){if(ew(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await cw(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ch(r.appConfig,s)}throw t}}function fw(r){return r!==void 0&&r.registrationStatus===2}function ON(r){return r.requestStatus===2&&!xN(r)}function xN(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+sN}function kN(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function PN(r){return r.requestStatus===1&&r.requestTime+X0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(r){const e=r,{installationEntry:t,registrationPromise:s}=await qp(e);return s?s.catch(console.error):Fp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r,e=!1){const t=r;return await LN(t),(await Fp(t,e)).token}async function LN(r){const{registrationPromise:e}=await qp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){if(!r||!r.options)throw Lm("App Configuration");if(!r.name)throw Lm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Lm(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Lm(r){return ma.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="installations",jN="installations-internal",zN=r=>{const e=r.getProvider("app").getImmediate(),t=UN(e),s=Ta(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},BN=r=>{const e=r.getProvider("app").getImmediate(),t=Ta(e,dw).getImmediate();return{getId:()=>VN(t),getToken:o=>MN(t,o)}};function qN(){Ir(new nr(dw,zN,"PUBLIC")),Ir(new nr(jN,BN,"PRIVATE"))}qN();Hn(W0,zp);Hn(W0,zp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",FN="firebase_id",HN="origin",GN=60*1e3,$N="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Ea("analytics","Analytics",KN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r){if(!r.startsWith(Hp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function mw(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function YN(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function WN(r,e){const t=YN("firebase-js-sdk-policy",{createScriptURL:QN}),s=document.createElement("script"),o=`${Hp}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function XN(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function ZN(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await mw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){mn.error(d)}r("config",o,l)}async function JN(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await mw(t);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){mn.error(l)}}function e2(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await JN(r,e,t,d,p)}else if(l==="config"){const[d,p]=h;await ZN(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;r("consent",d,p)}else if(l==="get"){const[d,p,g]=h;r("get",d,p,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){mn.error(d)}}return o}function t2(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=e2(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function n2(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Hp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=30,i2=1e3;class s2{constructor(e={},t=i2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const pw=new s2;function a2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function o2(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:a2(s)},l=$N.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function l2(r,e=pw,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw bn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw bn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new h2;return setTimeout(async()=>{d.abort()},GN),gw({appId:s,apiKey:o,measurementId:l},h,d,e)}async function gw(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=pw){var l;const{appId:h,measurementId:d}=r;try{await u2(s,e)}catch(p){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await o2(r);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!c2(g)){if(o.deleteThrottleMetadata(h),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?Y_(t,o.intervalMillis,r2):Y_(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,T),mn.debug(`Calling attemptFetch again in ${E} millis`),gw(r,T,s,o)}}function u2(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function c2(r){if(!(r instanceof ir)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class h2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f2(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(){if(u0())try{await c0()}catch(r){return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function m2(r,e,t,s,o,l,h){var d;const p=l2(r);p.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>mn.error(k)),e.push(p);const g=d2().then(k=>{if(k)return s.getId()}),[E,T]=await Promise.all([p,g]);n2(l)||WN(l,E.measurementId),o("js",new Date);const I=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return I[HN]="firebase",I.update=!0,T!=null&&(I[FN]=T),o("config",E.measurementId,I),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.app=e}_delete(){return delete tu[this.app.options.appId],Promise.resolve()}}let tu={},bE=[];const RE={};let Um="dataLayer",g2="gtag",IE,yw,CE=!1;function y2(){const r=[];if(l0()&&r.push("This is a browser extension environment."),T1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function v2(r,e,t){y2();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(tu[s]!=null)throw bn.create("already-exists",{id:s});if(!CE){XN(Um);const{wrappedGtag:l,gtagCore:h}=t2(tu,bE,RE,Um,g2);yw=l,IE=h,CE=!0}return tu[s]=m2(r,bE,RE,e,IE,Um,t),new p2(r)}function _2(r=Cp()){r=yt(r);const e=Ta(r,Dh);return e.isInitialized()?e.getImmediate():E2(r)}function E2(r,e={}){const t=Ta(r,Dh);if(t.isInitialized()){const o=t.getImmediate();if(ds(e,t.getOptions()))return o;throw bn.create("already-initialized")}return t.initialize({options:e})}function T2(r,e,t,s){r=yt(r),f2(yw,tu[r.app.options.appId],e,t,s).catch(o=>mn.error(o))}const DE="@firebase/analytics",NE="0.10.17";function w2(){Ir(new nr(Dh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return v2(s,o,t)},"PUBLIC")),Ir(new nr("analytics-internal",r,"PRIVATE")),Hn(DE,NE),Hn(DE,NE,"esm2017");function r(e){try{const t=e.getProvider(Dh).getImmediate();return{logEvent:(s,o,l)=>T2(t,s,o,l)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}}}w2();var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,vw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function S(){}S.prototype=b.prototype,x.D=b.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(C,O,V){for(var N=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)N[Ve-2]=arguments[Ve];return b.prototype[O].apply(C,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,S){S||(S=0);var C=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)C[O]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(O=0;16>O;++O)C[O]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=x.g[0],S=x.g[1],O=x.g[2];var V=x.g[3],N=b+(V^S&(O^V))+C[0]+3614090360&4294967295;b=S+(N<<7&4294967295|N>>>25),N=V+(O^b&(S^O))+C[1]+3905402710&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(S^V&(b^S))+C[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(b^O&(V^b))+C[3]+3250441966&4294967295,S=O+(N<<22&4294967295|N>>>10),N=b+(V^S&(O^V))+C[4]+4118548399&4294967295,b=S+(N<<7&4294967295|N>>>25),N=V+(O^b&(S^O))+C[5]+1200080426&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(S^V&(b^S))+C[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(b^O&(V^b))+C[7]+4249261313&4294967295,S=O+(N<<22&4294967295|N>>>10),N=b+(V^S&(O^V))+C[8]+1770035416&4294967295,b=S+(N<<7&4294967295|N>>>25),N=V+(O^b&(S^O))+C[9]+2336552879&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(S^V&(b^S))+C[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(b^O&(V^b))+C[11]+2304563134&4294967295,S=O+(N<<22&4294967295|N>>>10),N=b+(V^S&(O^V))+C[12]+1804603682&4294967295,b=S+(N<<7&4294967295|N>>>25),N=V+(O^b&(S^O))+C[13]+4254626195&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(S^V&(b^S))+C[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=S+(b^O&(V^b))+C[15]+1236535329&4294967295,S=O+(N<<22&4294967295|N>>>10),N=b+(O^V&(S^O))+C[1]+4129170786&4294967295,b=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(b^S))+C[6]+3225465664&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^S&(V^b))+C[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^b&(O^V))+C[0]+3921069994&4294967295,S=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(S^O))+C[5]+3593408605&4294967295,b=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(b^S))+C[10]+38016083&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^S&(V^b))+C[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^b&(O^V))+C[4]+3889429448&4294967295,S=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(S^O))+C[9]+568446438&4294967295,b=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(b^S))+C[14]+3275163606&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^S&(V^b))+C[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^b&(O^V))+C[8]+1163531501&4294967295,S=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(S^O))+C[13]+2850285829&4294967295,b=S+(N<<5&4294967295|N>>>27),N=V+(S^O&(b^S))+C[2]+4243563512&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^S&(V^b))+C[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=S+(V^b&(O^V))+C[12]+2368359562&4294967295,S=O+(N<<20&4294967295|N>>>12),N=b+(S^O^V)+C[5]+4294588738&4294967295,b=S+(N<<4&4294967295|N>>>28),N=V+(b^S^O)+C[8]+2272392833&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^S)+C[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^b)+C[14]+4259657740&4294967295,S=O+(N<<23&4294967295|N>>>9),N=b+(S^O^V)+C[1]+2763975236&4294967295,b=S+(N<<4&4294967295|N>>>28),N=V+(b^S^O)+C[4]+1272893353&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^S)+C[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^b)+C[10]+3200236656&4294967295,S=O+(N<<23&4294967295|N>>>9),N=b+(S^O^V)+C[13]+681279174&4294967295,b=S+(N<<4&4294967295|N>>>28),N=V+(b^S^O)+C[0]+3936430074&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^S)+C[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^b)+C[6]+76029189&4294967295,S=O+(N<<23&4294967295|N>>>9),N=b+(S^O^V)+C[9]+3654602809&4294967295,b=S+(N<<4&4294967295|N>>>28),N=V+(b^S^O)+C[12]+3873151461&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^S)+C[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=S+(O^V^b)+C[2]+3299628645&4294967295,S=O+(N<<23&4294967295|N>>>9),N=b+(O^(S|~V))+C[0]+4096336452&4294967295,b=S+(N<<6&4294967295|N>>>26),N=V+(S^(b|~O))+C[7]+1126891415&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~S))+C[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~b))+C[5]+4237533241&4294967295,S=O+(N<<21&4294967295|N>>>11),N=b+(O^(S|~V))+C[12]+1700485571&4294967295,b=S+(N<<6&4294967295|N>>>26),N=V+(S^(b|~O))+C[3]+2399980690&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~S))+C[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~b))+C[1]+2240044497&4294967295,S=O+(N<<21&4294967295|N>>>11),N=b+(O^(S|~V))+C[8]+1873313359&4294967295,b=S+(N<<6&4294967295|N>>>26),N=V+(S^(b|~O))+C[15]+4264355552&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~S))+C[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~b))+C[13]+1309151649&4294967295,S=O+(N<<21&4294967295|N>>>11),N=b+(O^(S|~V))+C[4]+4149444226&4294967295,b=S+(N<<6&4294967295|N>>>26),N=V+(S^(b|~O))+C[11]+3174756917&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~S))+C[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=S+(V^(O|~b))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var S=b-this.blockSize,C=this.B,O=this.h,V=0;V<b;){if(O==0)for(;V<=S;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<b;)if(C[O++]=x.charCodeAt(V++),O==this.blockSize){o(this,C),O=0;break}}else for(;V<b;)if(C[O++]=x[V++],O==this.blockSize){o(this,C),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var S=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=S&255,S/=256;for(this.u(x),x=Array(16),b=S=0;4>b;++b)for(var C=0;32>C;C+=8)x[S++]=this.g[b]>>>C&255;return x};function l(x,b){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=b(x)}function h(x,b){this.h=b;for(var S=[],C=!0,O=x.length-1;0<=O;O--){var V=x[O]|0;C&&V==b||(S[O]=V,C=!1)}this.g=S}var d={};function p(x){return-128<=x&&128>x?l(x,function(b){return new h([b|0],0>b?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var b=[],S=1,C=0;x>=S;C++)b[C]=x/S|0,S*=4294967296;return new h(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(b,8)),C=T,O=0;O<x.length;O+=8){var V=Math.min(8,x.length-O),N=parseInt(x.substring(O,O+V),b);8>V?(V=g(Math.pow(b,V)),C=C.j(V).add(g(N))):(C=C.j(S),C=C.add(g(N)))}return C}var T=p(0),I=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var x=0,b=1,S=0;S<this.g.length;S++){var C=this.i(S);x+=(0<=C?C:4294967296+C)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Y(this))return"-"+q(this).toString(x);for(var b=g(Math.pow(x,6)),S=this,C="";;){var O=oe(S,b).g;S=Z(S,O.j(b));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,F(S))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=Z(this,x),Y(x)?-1:F(x)?0:1};function q(x){for(var b=x.g.length,S=[],C=0;C<b;C++)S[C]=~x.g[C];return new h(S,~x.h).add(I)}r.abs=function(){return Y(this)?q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0,O=0;O<=b;O++){var V=C+(this.i(O)&65535)+(x.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);C=N>>>16,V&=65535,N&=65535,S[O]=N<<16|V}return new h(S,S[S.length-1]&-2147483648?-1:0)};function Z(x,b){return x.add(q(b))}r.j=function(x){if(F(this)||F(x))return T;if(Y(this))return Y(x)?q(this).j(q(x)):q(q(this).j(x));if(Y(x))return q(this.j(q(x)));if(0>this.l(k)&&0>x.l(k))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,S=[],C=0;C<2*b;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<x.g.length;O++){var V=this.i(C)>>>16,N=this.i(C)&65535,Ve=x.i(O)>>>16,ze=x.i(O)&65535;S[2*C+2*O]+=N*ze,W(S,2*C+2*O),S[2*C+2*O+1]+=V*ze,W(S,2*C+2*O+1),S[2*C+2*O+1]+=N*Ve,W(S,2*C+2*O+1),S[2*C+2*O+2]+=V*Ve,W(S,2*C+2*O+2)}for(C=0;C<b;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=b;C<2*b;C++)S[C]=0;return new h(S,0)};function W(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function G(x,b){this.g=x,this.h=b}function oe(x,b){if(F(b))throw Error("division by zero");if(F(x))return new G(T,T);if(Y(x))return b=oe(q(x),b),new G(q(b.g),q(b.h));if(Y(b))return b=oe(x,q(b)),new G(q(b.g),b.h);if(30<x.g.length){if(Y(x)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var S=I,C=b;0>=C.l(x);)S=ae(S),C=ae(C);var O=ie(S,1),V=ie(C,1);for(C=ie(C,2),S=ie(S,2);!F(C);){var N=V.add(C);0>=N.l(x)&&(O=O.add(S),V=N),C=ie(C,1),S=ie(S,1)}return b=Z(x,O.j(b)),new G(O,b)}for(O=T;0<=x.l(b);){for(S=Math.max(1,Math.floor(x.m()/b.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(S),N=V.j(b);Y(N)||0<N.l(x);)S-=C,V=g(S),N=V.j(b);F(V)&&(V=I),O=O.add(V),x=Z(x,N)}return new G(O,x)}r.A=function(x){return oe(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)&x.i(C);return new h(S,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)|x.i(C);return new h(S,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)^x.i(C);return new h(S,this.h^x.h)};function ae(x){for(var b=x.g.length+1,S=[],C=0;C<b;C++)S[C]=x.i(C)<<1|x.i(C-1)>>>31;return new h(S,x.h)}function ie(x,b){var S=b>>5;b%=32;for(var C=x.g.length-S,O=[],V=0;V<C;V++)O[V]=0<b?x.i(V+S)>>>b|x.i(V+S+1)<<32-b:x.i(V+S);return new h(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,cs=h}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _w,Yl,Ew,fh,np,Tw,ww,Sw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function I(c,y,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,I.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function F(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,$){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return y.prototype[j].apply(A,se)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,$=A.length||0;c.length=j+$;for(let se=0;se<$;se++)c[j+se]=A[se]}else c.push(A)}}class Z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ae=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ie(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let $=0;$<S.length;$++)v=S[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function O(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){d.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const A=ze.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new Z(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,Ge=new Ve,P=()=>{const c=d.Promise.resolve(void 0);ye=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ie(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{oe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}F(Ie,ce);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,A,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var se=Rn(c,y,A,j);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new ot(y,this.src,$,!!A,j),y.fa=v,c.push(y)),y};function xr(c,y){var v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=j)&&Array.prototype.splice.call(A,j,1),$&&(Qe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rn(c,y,v,A){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==A)return j}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),Ei={};function kr(c,y,v,A,j){if(Array.isArray(y)){for(var $=0;$<y.length;$++)kr(c,y[$],v,A,j);return null}return v=xu(v),c&&c[vt]?c.K(y,v,g(A)?!!A.capture:!1,j):jo(c,y,v,!1,A,j)}function jo(c,y,v,A,j,$){if(!y)throw Error("Invalid event type");var se=g(j)?!!j.capture:!!j,Me=zo(c);if(Me||(c[_i]=Me=new nn(c)),v=Me.add(y,v,A,se,$),v.proxy)return v;if(A=ba(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)he||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Ia(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ba(){function c(v){return y.call(c.src,c.listener,v)}const y=Sf;return c}function Ra(c,y,v,A,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ra(c,y[$],v,A,j);else A=g(A)?!!A.capture:!!A,v=xu(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=Rn($,v,A,j),-1<v&&(Qe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=zo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,v,A,j)),(v=-1<c?y[c]:null)&&Rs(v))}function Rs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])xr(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Ia(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=zo(y))?(xr(v,c),v.h==0&&(v.src=null,y[_i]=null)):Qe(c)}}}function Ia(c){return c in Ei?Ei[c]:Ei[c]="on"+c}function Sf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Rs(c),c=v.call(A,y)}return c}function zo(c){return c=c[_i],c instanceof nn?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function xu(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function bt(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}F(bt,me),bt.prototype[vt]=!0,bt.prototype.removeEventListener=function(c,y,v,A){Ra(this,c,y,v,A)};function xt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var j=y;y=new ce(A,c),C(y,j)}if(j=!0,v)for(var $=v.length-1;0<=$;$--){var se=y.g=v[$];j=Pr(se,A,!0,y)&&j}if(se=y.g=c,j=Pr(se,A,!0,y)&&j,j=Pr(se,A,!1,y)&&j,v)for($=0;$<v.length;$++)se=y.g=v[$],j=Pr(se,A,!1,y)&&j}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Qe(v[A]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},bt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Pr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,$=0;$<y.length;++$){var se=y[$];if(se&&!se.da&&se.capture==v){var Me=se.listener,It=se.ha||se.src;se.fa&&xr(c.i,se),j=Me.call(It,A)!==!1&&j}}return j&&!A.defaultPrevented}function ku(c,y,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Bo(c){c.g=ku(()=>{c.g=null,c.i&&(c.i=!1,Bo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Af extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){me.call(this),this.h=c,this.g={}}F(Is,me);var Ti=[];function Qt(c){ie(c.g,function(y,v){this.g.hasOwnProperty(v)&&Rs(y)},c),c.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Qt(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=d.JSON.stringify,sr=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Fo(){}Fo.prototype.h=null;function Pu(c){return c.h||(c.h=c.i())}function Vu(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){ce.call(this,"d")}F(wi,ce);function Kn(){ce.call(this,"c")}F(Kn,ce);var In={},Si=null;function Ca(){return Si=Si||new bt}In.La="serverreachability";function Ho(c){ce.call(this,In.La,c)}F(Ho,ce);function Ai(c){const y=Ca();xt(y,new Ho(y))}In.STAT_EVENT="statevent";function Da(c,y){ce.call(this,In.STAT_EVENT,c),this.stat=y}F(Da,ce);function mt(c){const y=Ca();xt(y,new Da(y,c))}In.Ma="timingevent";function Mu(c,y){ce.call(this,In.Ma,c),this.size=y}F(Mu,ce);function bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Lu(c,y,v,A,j,$){c.info(function(){if(c.g)if($)for(var se="",Me=$.split("&"),It=0;It<Me.length;It++){var Le=Me[It].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Vt+"="+Le+"&"):se+(Vt+"=redacted&")}}else se=null;else se=$;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+se})}function Uu(c,y,v,A,j,$,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+se})}function Ii(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(c,v)+(A?" "+A:"")})}function or(c,y){c.info(function(){return"TIMEOUT: "+y})}Ri.prototype.info=function(){};function kt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return qo(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cs;function Na(){}F(Na,Fo),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},Cs=new Na;function lr(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Ci={},Ds={};function Qn(c,y,v){c.L=1,c.v=xs(lt(y)),c.m=v,c.P=!0,Mr(c,null)}function Mr(c,y){c.F=Date.now(),nt(c),c.A=lt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),jr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Go,c.g=Zu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Af(I(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ti[0]=j.toString()),j=Ti);for(var $=0;$<j.length;$++){var se=kr(v,j[$],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ai(),Lu(c.i,c.u,c.A,c.l,c.R,c.m)}lr.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},lr.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const Fr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Fr?Ai(3):Ai(2)),Oa(this);var v=this.g.Z();this.X=v;t:if(Di(this)){var A=Hu(this.g);c="";var j=A.length,$=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),gn(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Uu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Me)){var Le=Me;break t}}Le=null}if(v=Le)Ii(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,mt(12),cn(this),gn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=Ni(this,se),zt==Ds){Ct==4&&(this.s=4,mt(14),v=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ci){this.s=4,mt(15),Ii(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Ii(this.i,this.l,zt,null),yn(this,zt);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Ii(this.i,this.l,se,"[Invalid Chunked Response]"),cn(this),gn(this);else if(0<se.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),js(Vt),Vt.M=!0,mt(11))}}else Ii(this.i,this.l,se,null),yn(this,se);Ct==4&&cn(this),this.o&&!this.J&&(Ct==4?Yu(this.j,this):(this.o=!1,nt(this)))}else Nf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),cn(this),gn(this)}}}catch{}finally{}};function Di(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ni(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ds:(v=Number(y.substring(v,A)),isNaN(v)?Ci:(A+=1,A+v>y.length?Ds:(y=y.slice(A,A+v),c.C=A+v,y)))}lr.prototype.cancel=function(){this.J=!0,cn(this)};function nt(c){c.S=Date.now()+c.I,$o(c,c.I)}function $o(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=bi(I(c.ba,c),y)}function Oa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}lr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(or(this.i,this.A),this.L!=2&&(Ai(),mt(17)),cn(this),this.s=2,gn(this)):$o(this,this.S-c)};function gn(c){c.j.G==0||c.J||Yu(c.j,c)}function cn(c){Oa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Oi(v.h,c))){if(!c.K&&Oi(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ba(v),ja(v);else break e;rl(v),mt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=bi(I(v.Za,v),6e3));if(1>=ju(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qr(v,11)}else if((c.K||v.g==c)&&Ba(v),!W(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Le=j[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Fr=Le[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(A=1.5*Fr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const pr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var $=A.h;$.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(xi($,$.h),$.h=null))}if(A.D){const sl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(A.ya=sl,qe(A.I,A.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=Xu(A,A.J?A.ia:null,A.W),se.K){Cn(A.h,se);var Me=se,It=A.L;It&&(Me.I=It),Me.B&&(Oa(Me),nt(Me)),A.g=se}else Ku(A);0<v.i.length&&za(v)}else Le[0]!="stop"&&Le[0]!="close"||qr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qr(v,7):tl(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Ai(4)}catch{}}var bf=class{constructor(c,y){this.g=c,this.map=y}};function Ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ju(c){return c.h?1:c.g?c.g.size:0}function Oi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function xi(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function zu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Ns(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Rf(c),A=zu(c),j=A.length,$=0;$<j;$++)y.call(void 0,A[$],v&&v[$],c)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var $=c[v].substring(0,A);j=c[v].substring(A+1)}else $=c[v];y($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Lr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lr){this.h=c.h,ki(this,c.j),this.o=c.o,this.g=c.g,Os(this,c.s),this.l=c.l;var y=c.i,v=new ur;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ka(this,v),this.m=c.m}else c&&(y=String(c).match(Yo))?(this.h=!1,ki(this,y[1]||"",!0),this.o=Pi(y[2]||""),this.g=Pi(y[3]||"",!0),Os(this,y[4]),this.l=Pi(y[5]||"",!0),ka(this,y[6]||"",!0),this.m=Pi(y[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Lr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Dn(y,Wo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dn(y,Wo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Dn(v,v.charAt(0)=="/"?Xo:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Dn(v,Df)),c.join("")};function lt(c){return new Lr(c)}function ki(c,y,v){c.j=v?Pi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Os(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ka(c,y,v){y instanceof ur?(c.i=y,Zo(c.i,c.h)):(v||(y=Dn(y,Cf)),c.i=new ur(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function xs(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Pi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,If),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function If(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wo=/[#\/\?@]/g,Bu=/[#\?:]/g,Xo=/[#\?]/g,Cf=/[#\?@]/g,Df=/#/g;function ur(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(c,y){Nn(this),this.i=null,c=zr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pa(c,y){Nn(c),y=zr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ur(c,y){return Nn(c),y=zr(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const j=c[A];for(let $=0;$<j.length;$++)v.push(y[A])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Ur(this,c)&&(y=y.concat(this.g.get(zr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=zr(this,c),Ur(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function jr(c,y,v){Pa(c,y),0<v.length&&(c.i=null,c.g.set(zr(c,y),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const $=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var j=$;se[A]!==""&&(j+="="+encodeURIComponent(String(se[A]))),c.push(j)}}return this.i=c.join("&")};function zr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zo(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(Pa(this,A),jr(this,j,v))},c)),c.j=y}function qu(c,y){const v=new Ri;if(d.Image){const A=new Image;A.onload=k(On,v,"TestLoadImage: loaded",!0,y,A),A.onerror=k(On,v,"TestLoadImage: error",!1,y,A),A.onabort=k(On,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(On,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function ks(c,y){const v=new Ri,A=new AbortController,j=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(j),$.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Ps(){this.g=new rn}function cr(c,y,v){const A=v||"";try{Ns(c,function(j,$){let se=j;g(j)&&(se=qo(j)),y.push(A+$+"="+encodeURIComponent(se))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Vi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Vi,Fo),Vi.prototype.g=function(){return new Br(this.l,this.j)},Vi.prototype.i=function(c){return function(){return c}}({});function Br(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Br,bt),r=Br.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,fr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?hr(this):fr(this),this.readyState==3&&Jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function fr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return ie(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F($e,bt);var Va=/^https?$/i,Vs=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cs.g(),this.v=this.o?Pu(this.o):Pu(Cs),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Fu(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vs,y,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,se]of v)this.g.setRequestHeader($,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Fu(this,$)}};function Fu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ma(c),dr(c)}function Ma(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),dr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},r.bb=function(){La(this)};function La(c){if(c.h&&typeof h<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)ku(c.Ea,0,c);else if(xt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=se===0){var j=String(c.D).match(Yo)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),A=!Va.test(j?j.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var $=2<xn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ma(c)}}finally{dr(c)}}}}function dr(c,y){if(c.g){Ms(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ms(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sr(y)}};function Hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Nf(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(W(c[A]))continue;var v=O(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ua(c){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ua.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){mt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Xu(this,null,this.W),za(this)};function tl(c){if(Gu(c),c.G==3){var y=c.U++,v=lt(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),Us(c,v),y=new lr(c,c.j,y),y.L=2,y.v=xs(lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}Wu(c)}function ja(c){c.g&&(js(c),c.g.cancel(),c.g=null)}function Gu(c){ja(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function za(c){if(!Qo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.B=0}}function Of(c,y){return ju(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=bi(I(c.Ga,c,y),il(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new lr(this,this.j,c);let $=this.o;if(this.S&&($?($=b($),C($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,j,y),v=lt(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Us(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(el($)))+"&"+y:this.m&&Pt(v,this.m,$)),xi(this.h,j),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),j.T=!0,Qn(j,v,null)):Qn(j,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Qo(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const A=lt(c.I);qe(A,"SID",c.K),qe(A,"RID",v),qe(A,"AID",c.T),Us(c,A),c.m&&c.o&&Pt(A,c.m,c.o),v=new lr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xi(c.h,v),Qn(v,A,y)}function Us(c,y){c.H&&ie(c.H,function(v,A){qe(y,A,v)}),c.l&&Ns({},function(v,A){qe(y,A,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var A=c.l?I(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const se=["count="+v];$==-1?0<v?($=j[0].g,se.push("ofs="+$)):$=0:se.push("ofs="+$);let Me=!0;for(let It=0;It<v;It++){let Le=j[It].g;const Vt=j[It].map;if(Le-=$,0>Le)$=Math.max(0,j[It].g-100),Me=!1;else try{cr(Vt,se,"req"+Le+"_")}catch{A&&A(Vt)}}if(Me){A=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=bi(I(c.Fa,c),il(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=bi(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),ja(this),Qu(this))};function js(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new lr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),Us(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=xs(lt(y)),v.m=null,v.P=!0,Mr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ja(this),rl(this),mt(19))};function Ba(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){Ba(c),js(c),c.g=null;var A=2}else if(Oi(c.h,y))v=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=Ca(),xt(A,new Mu(A,v)),za(c)}else Ku(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Of(c,y)||A==2&&rl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:qr(c,5);break;case 4:qr(c,10);break;case 3:qr(c,6);break;default:qr(c,2)}}}function il(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function qr(c,y){if(c.j.info("Error code "+y),y==2){var v=I(c.fb,c),A=c.Xa;const j=!A;A=new Lr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ki(A,"https"),xs(A),j?qu(A.toString(),v):ks(A.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(y),Wu(c),Gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,v){var A=v instanceof Lr?lt(v):new Lr(v);if(A.g!="")y&&(A.g=y+"."+A.g),Os(A,A.s);else{var j=d.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var $=new Lr(null);A&&ki($,A),y&&($.g=y),j&&Os($,j),v&&($.l=v),A=$}return v=c.D,y=c.ya,v&&y&&qe(A,v,y),qe(A,"VER",c.la),Us(c,A),A}function Zu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Vi({eb:v})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qa(){}qa.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new Ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mr(this)}F(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){tl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qo(c),c=v);y.i.push(new bf(y.Ya++,c)),y.G==3&&za(y)},an.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,an.aa.N.call(this)};function ec(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}F(ec,wi);function tc(){Kn.call(this),this.status=1}F(tc,Kn);function mr(c){this.g=c}F(mr,Ju),mr.prototype.ua=function(){xt(this.g,"a")},mr.prototype.ta=function(c){xt(this.g,new ec(c))},mr.prototype.sa=function(c){xt(this.g,new tc)},mr.prototype.ra=function(){xt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Sw=function(){return new qa},ww=function(){return Ca()},Tw=In,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,fh=Rt,Vr.COMPLETE="complete",Ew=Vr,Vu.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Yl=Vu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,_w=$e}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",kE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Yh("@firebase/firestore");function go(){return ga.logLevel}function ue(r,...e){if(ga.logLevel<=xe.DEBUG){const t=e.map(Gp);ga.debug(`Firestore (${Vo}): ${r}`,...t)}}function mi(r,...e){if(ga.logLevel<=xe.ERROR){const t=e.map(Gp);ga.error(`Firestore (${Vo}): ${r}`,...t)}}function ms(r,...e){if(ga.logLevel<=xe.WARN){const t=e.map(Gp);ga.warn(`Firestore (${Vo}): ${r}`,...t)}}function Gp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Aw(r,s,t)}function Aw(r,e,t){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw mi(s),new Error(s)}function Ke(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Aw(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class A2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class b2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ci,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ci)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new bw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class R2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new PE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=D2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function rp(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const l=Rw(),h=N2(l.encode(VE(r,t)),l.encode(VE(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(r.length,e.length)}function VE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function N2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return De(r[t],e[t]);return De(r.length,e.length)}function Ro(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class Tr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Tr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const s=Tr.isNumericId(e),o=Tr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Tr.extractNumericId(e).compare(Tr.extractNumericId(t)):rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class et extends Tr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Tr{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return O2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new $t([ME])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r,e,t){if(!t)throw new le(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function x2(r,e,t,s){if(e===!0&&s===!0)throw new le(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function LE(r){if(!ge.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UE(r){if(ge.isDocumentKey(r))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tf(r);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const t={typeString:r};return e&&(t.value=e),t}function Au(r,e){if(!Cw(r))throw new le(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new le(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,zE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*zE);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:At("string",tt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function k2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new ps(o,ge.empty(),e)}function P2(r){return new ps(r.readTime,r.key,cu)}class ps{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ps(we.min(),ge.empty(),cu)}static max(){return new ps(we.max(),ge.empty(),cu)}}function V2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==M2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function U2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function rf(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function j2(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="";function z2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=BE(e)),e=B2(r.get(t),e);return BE(e)}function B2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case Dw:t+="";break;default:t+=l}}return t}function BE(r){return r+Dw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function As(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Nw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ow("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=q2.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="server_timestamp",kw="__type__",Pw="__previous_value__",Vw="__local_write_time__";function Qp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||t===void 0?void 0:t.stringValue)===xw}function sf(r){const e=r.mapValue.fields[Pw];return Qp(e)?sf(e):e}function hu(r){const e=gs(r.mapValue.fields[Vw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t,s,o,l,h,d,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Oh="(default)";class fu{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",H2="__max__",rh={mapValue:{}},Lw="__vector__",xh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:$2(r)?9007199254740991:G2(r)?10:11:Te(28295,{value:r})}function Cr(r,e){if(r===e)return!0;const t=vs(r);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=gs(o.timestampValue),d=gs(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return ys(o.bytesValue).isEqual(ys(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=gt(o.doubleValue),d=gt(l.doubleValue);return h===d?Nh(h)===Nh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Ro(r.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(qE(h)!==qE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Cr(h[p],d[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function du(r,e){return(r.values||[]).find(t=>Cr(t,e))!==void 0}function Io(r,e){if(r===e)return 0;const t=vs(r),s=vs(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=gt(l.integerValue||l.doubleValue),p=gt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return HE(r.timestampValue,e.timestampValue);case 4:return HE(hu(r),hu(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return function(l,h){const d=ys(l),p=ys(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=De(d[g],p[g]);if(E!==0)return E}return De(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=De(gt(l.latitude),gt(h.latitude));return d!==0?d:De(gt(l.longitude),gt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return GE(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const T=l.fields||{},I=h.fields||{},k=(d=T[xh])===null||d===void 0?void 0:d.arrayValue,F=(p=I[xh])===null||p===void 0?void 0:p.arrayValue,Y=De(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=F==null?void 0:F.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:GE(k,F)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===rh.mapValue&&h===rh.mapValue)return 0;if(l===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const I=rp(p[T],E[T]);if(I!==0)return I;const k=Io(d[p[T]],g[E[T]]);if(k!==0)return k}return De(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function HE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=gs(r),s=gs(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function GE(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Io(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function Co(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=gs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ys(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ip(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${ip(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function dh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+dh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return As(s.fields,(l,h)=>{o+=l.length+dh(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function $E(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function sp(r){return!!r&&"integerValue"in r}function Yp(r){return!!r&&"arrayValue"in r}function KE(r){return!!r&&"nullValue"in r}function QE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function G2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mw])===null||t===void 0?void 0:t.stringValue)===Lw}function nu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=nu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=nu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){As(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new dn(nu(this.value))}}function Uw(r){const e=[];return As(r.fields,(t,s)=>{const o=new $t([t]);if(mh(s)){const l=Uw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function YE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Io(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function WE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function K2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{}class St extends jw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new Y2(e,t,s):t==="array-contains"?new Z2(e,s):t==="in"?new J2(e,s):t==="not-in"?new eO(e,s):t==="array-contains-any"?new tO(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new W2(e,s):new X2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends jw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new rr(e,t)}matches(e){return zw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function zw(r){return r.op==="and"}function Bw(r){return Q2(r)&&zw(r)}function Q2(r){for(const e of r.filters)if(e instanceof rr)return!1;return!0}function ap(r){if(r instanceof St)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(Bw(r))return r.filters.map(e=>ap(e)).join(",");{const e=r.filters.map(t=>ap(t)).join(",");return`${r.op}(${e})`}}function qw(r,e){return r instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Cr(s.value,o.value)}(r,e):r instanceof rr?function(s,o){return o instanceof rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&qw(h,o.filters[d]),!0):!1}(r,e):void Te(19439)}function Fw(r){return r instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(r):r instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Fw).join(" ,")+"}"}(r):"Filter"}class Y2 extends St{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class W2 extends St{constructor(e,t){super(e,"in",t),this.keys=Hw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X2 extends St{constructor(e,t){super(e,"not-in",t),this.keys=Hw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Z2 extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&du(t.arrayValue,this.value)}}class J2 extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class eO extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}}class tO extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>du(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Pe=null}}function XE(r,e=null,t=[],s=[],o=null,l=null,h=null){return new nO(r,e,t,s,o,l,h)}function Wp(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ap(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Co(s)).join(",")),e.Pe=t}return e.Pe}function Xp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!K2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!qw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!WE(r.startAt,e.startAt)&&WE(r.endAt,e.endAt)}function op(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rO(r,e,t,s,o,l,h,d){return new bu(r,e,t,s,o,l,h,d)}function af(r){return new bu(r)}function ZE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Gw(r){return r.collectionGroup!==null}function ru(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Ph(l,s))}),t.has($t.keyField().canonicalString())||e.Te.push(new Ph($t.keyField(),s))}return e.Te}function Sr(r){const e=Ae(r);return e.Ie||(e.Ie=iO(e,ru(r))),e.Ie}function iO(r,e){if(r.limitType==="F")return XE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Ph(o.field,l)});const t=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return XE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function lp(r,e){const t=r.filters.concat([e]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function up(r,e,t){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function of(r,e){return Xp(Sr(r),Sr(e))&&r.limitType===e.limitType}function $w(r){return`${Wp(Sr(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Fw(o)).join(", ")}]`),rf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Sr(r))}; limitType=${r.limitType})`}function lf(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of ru(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=YE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,ru(s),o)||s.endAt&&!function(h,d,p){const g=YE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,ru(s),o))}(r,e)}function sO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Kw(r){return(e,t)=>{let s=!1;for(const o of ru(r)){const l=aO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function aO(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Io(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new at(ge.comparator);function pi(){return oO}const Qw=new at(ge.comparator);function Wl(...r){let e=Qw;for(const t of r)e=e.insert(t.key,t);return e}function Yw(r){let e=Qw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function oa(){return iu()}function Ww(){return iu()}function iu(){return new wa(r=>r.toString(),(r,e)=>r.isEqual(e))}const lO=new at(ge.comparator),uO=new Ot(ge.comparator);function ke(...r){let e=uO;for(const t of r)e=e.add(t);return e}const cO=new Ot(De);function hO(){return cO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function Xw(r){return{integerValue:""+r}}function fO(r,e){return j2(e)?Xw(e):Zp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function dO(r,e,t){return r instanceof Vh?function(o,l){const h={fields:{[kw]:{stringValue:xw},[Vw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Qp(l)&&(l=sf(l)),l&&(h.fields[Pw]=l),{mapValue:h}}(t,e):r instanceof mu?Jw(r,e):r instanceof pu?eS(r,e):function(o,l){const h=Zw(o,l),d=JE(h)+JE(o.Ee);return sp(h)&&sp(o.Ee)?Xw(d):Zp(o.serializer,d)}(r,e)}function mO(r,e,t){return r instanceof mu?Jw(r,e):r instanceof pu?eS(r,e):t}function Zw(r,e){return r instanceof Mh?function(s){return sp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Vh extends uf{}class mu extends uf{constructor(e){super(),this.elements=e}}function Jw(r,e){const t=tS(e);for(const s of r.elements)t.some(o=>Cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class pu extends uf{constructor(e){super(),this.elements=e}}function eS(r,e){let t=tS(e);for(const s of r.elements)t=t.filter(o=>!Cr(o,s));return{arrayValue:{values:t}}}class Mh extends uf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function JE(r){return gt(r.integerValue||r.doubleValue)}function tS(r){return Yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?Ro(s.elements,o.elements,Cr):s instanceof Mh&&o instanceof Mh?Cr(s.Ee,o.Ee):s instanceof Vh&&o instanceof Vh}(r.transform,e.transform)}class gO{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function nS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jp(r.key,Gn.none()):new Ru(r.key,r.data,Gn.none());{const t=r.data,s=dn.empty();let o=new Ot($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new bs(r.key,s,new An(o.toArray()),Gn.none())}}function yO(r,e,t){r instanceof Ru?function(o,l,h){const d=o.value.clone(),p=tT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof bs?function(o,l,h){if(!ph(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=tT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(rS(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function su(r,e,t,s){return r instanceof Ru?function(l,h,d,p){if(!ph(l.precondition,h))return d;const g=l.value.clone(),E=nT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof bs?function(l,h,d,p){if(!ph(l.precondition,h))return d;const g=nT(l.fieldTransforms,p,h),E=h.data;return E.setAll(rS(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,d){return ph(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function vO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Zw(s.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function eT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ro(s,o,(l,h)=>pO(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ru extends cf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends cf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function tT(r,e,t){const s=new Map;Ke(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,mO(h,d,t[o]))}return s}function nT(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,dO(l,h,e))}return s}class Jp extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _O extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&yO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ww();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=nS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(t,s)=>eT(t,s))&&Ro(this.baseMutations,e.baseMutations,(t,s)=>eT(t,s))}}class eg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return lO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new eg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,je;function SO(r){switch(r){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function iS(r){if(r===void 0)return mi("GRPC error has no .code"),X.UNKNOWN;switch(r){case wt.OK:return X.OK;case wt.CANCELLED:return X.CANCELLED;case wt.UNKNOWN:return X.UNKNOWN;case wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wt.INTERNAL:return X.INTERNAL;case wt.UNAVAILABLE:return X.UNAVAILABLE;case wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wt.NOT_FOUND:return X.NOT_FOUND;case wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wt.ABORTED:return X.ABORTED;case wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:r})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new cs([4294967295,4294967295],0);function rT(r){const e=Rw().encode(r),t=new vw;return t.update(e),new Uint8Array(t.digest())}function iT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cs([t,s],0),new cs([o,l],0)]}class tg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=cs.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(cs.fromNumber(s)));return o.compare(AO)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=rT(e),[s,o]=iT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new tg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=rT(e),[s,o]=iT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new hf(we.min(),o,new at(De),pi(),ke())}}class Iu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Iu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class sS{constructor(e,t){this.targetId=e,this.De=t}}class aS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class sT{constructor(){this.ve=0,this.Ce=aT(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new Iu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=aT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class bO{constructor(e){this.We=e,this.Ge=new Map,this.ze=pi(),this.je=ih(),this.Je=ih(),this.He=new at(De)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(op(l))if(s===0){const h=new ge(l.path);this.Xe(t,h,Jt.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=ys(s).toUint8Array()}catch(p){if(p instanceof Ow)return ms("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new tg(h,o,l)}catch(p){return ms(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,h)=>{const d=this.st(h);if(d){if(l.current&&op(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Jt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}});let s=ke();this.Je.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(e));const o=new hf(e,t,this.He,this.ze,s);return this.ze=pi(),this.je=ih(),this.Je=ih(),this.He=new at(De),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new sT,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(De),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new sT),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function ih(){return new at(ge.comparator)}function aT(){return new at(ge.comparator)}const RO={asc:"ASCENDING",desc:"DESCENDING"},IO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CO={and:"AND",or:"OR"};class DO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cp(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NO(r,e){return Lh(r,e.toTimestamp())}function Ar(r){return Ke(!!r,49232),we.fromTimestamp(function(t){const s=gs(t);return new tt(s.seconds,s.nanos)}(r))}function ng(r,e){return hp(r,e).canonicalString()}function hp(r,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function lS(r){const e=et.fromString(r);return Ke(dS(e),10190,{key:e.toString()}),e}function fp(r,e){return ng(r.databaseId,e.path)}function jm(r,e){const t=lS(e);if(t.get(1)!==r.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(cS(t))}function uS(r,e){return ng(r.databaseId,e)}function OO(r){const e=lS(r);return e.length===4?et.emptyPath():cS(e)}function dp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cS(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function oT(r,e,t){return{name:fp(r,e),fields:t.value.mapValue.fields}}function xO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?X.UNKNOWN:iS(g.code);return new le(E,g.message||"")}(h);t=new aS(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=jm(r,s.document.name),l=Ar(s.document.updateTime),h=s.document.createTime?Ar(s.document.createTime):we.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=jm(r,s.document),l=s.readTime?Ar(s.readTime):we.min(),h=Jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new gh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=jm(r,s.document),l=s.removedTargetIds||[];t=new gh([],l,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new wO(o,l),d=s.targetId;t=new sS(d,h)}}return t}function kO(r,e){let t;if(e instanceof Ru)t={update:oT(r,e.key,e.value)};else if(e instanceof Jp)t={delete:fp(r,e.key)};else if(e instanceof bs)t={update:oT(r,e.key,e.data),updateMask:qO(e.fieldMask)};else{if(!(e instanceof _O))return Te(16599,{Rt:e.type});t={verify:fp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:NO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(r,e.precondition)),t}function PO(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?Ar(o.updateTime):Ar(l);return h.isEqual(we.min())&&(h=Ar(l)),new gO(h,o.transformResults||[])}(t,e))):[]}function VO(r,e){return{documents:[uS(r,e.path)]}}function MO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=uS(r,o);const l=function(g){if(g.length!==0)return fS(rr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:vo(I.field),direction:jO(I.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=cp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function LO(r){let e=OO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const I=hS(T);return I instanceof rr&&Bw(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(F){return new Ph(_o(F.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,rf(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,k=T.values||[];return new kh(k,I)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const I=!T.before,k=T.values||[];return new kh(k,I)}(t.endAt)),rO(e,o,h,l,d,"F",p,g)}function UO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=_o(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=_o(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return St.create(_o(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(s=>hS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function jO(r){return RO[r]}function zO(r){return IO[r]}function BO(r){return CO[r]}function vo(r){return{fieldPath:r.canonicalString()}}function _o(r){return $t.fromServerFormat(r.fieldPath)}function fS(r){return r instanceof St?function(t){if(t.op==="=="){if(QE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NAN"}};if(KE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NAN"}};if(KE(t.value))return{unaryFilter:{field:vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(t.field),op:zO(t.op),value:t.value}}}(r):r instanceof rr?function(t){const s=t.getFilters().map(o=>fS(o));return s.length===1?s[0]:{compositeFilter:{op:BO(t.op),filters:s}}}(r):Te(54877,{filter:r})}function qO(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,s,o,l=we.min(),h=we.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.gt=e}}function HO(r){const e=LO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.Dn=new $O}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ps.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class $O{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(mS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",KO=1048576;function cT([r,e],[t,s]){const o=De(r,t);return o===0?De(e,s):o}class QO{constructor(e){this.Tr=e,this.buffer=new Ot(cT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(uT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?ue(uT,"Ignoring IndexedDB error during garbage collection: ",t):await Mo(t)}await this.Rr(3e5)})}}class WO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(nf.ue);const s=new QO(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(lT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),go()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function XO(r,e){return new WO(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&su(s.mutation,o,An.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=oa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Wl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=oa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=pi();const h=iu(),d=function(){return iu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof bs)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),su(E.mutation,g,E.mutation.getFieldMask(),tt.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new JO(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=iu();let o=new at((h,d)=>h-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=Ww();E.forEach(I=>{if(!l.has(I)){const k=nS(t.get(I),s.get(I));k!==null&&T.set(I,k),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ee.resolve(oa());let d=cu,p=l;return h.next(g=>ee.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:d,changes:Yw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const g=function(T,I){return new bu(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))});let d=Wl();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&su(E.mutation,g,An.empty(),tt.now()),lf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ar(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:HO(o.bundledQuery),readTime:Ar(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.overlays=new at(ge.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=oa();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.wt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=oa(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=oa(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=oa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ee.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new TO(t,s));let l=this.kr.get(t);l===void 0&&(l=ke(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.qr=new Ot(jt.Qr),this.$r=new Ot(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new jt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1);let l=ke();return this.$r.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(jt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new EO(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Kp:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(De);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],d=>{s=s.add(d.Hr)})}),ee.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new jt(new ge(l),0);let d=new Ot(De);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ee.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ee.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new jt(t,0),o=this.Yr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.ni=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=pi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=pi();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||V2(P2(E),s)<=0||(o.has(E.key)||lf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new ax(this)}getSize(e){return ee.resolve(this.size)}}class ax extends ZO{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.persistence=e,this.ii=new wa(t=>Wp(t),Xp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new rg,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t){this.ai={},this.overlays={},this.ui=new nf(0),this.ci=!1,this.ci=!0,this.li=new rx,this.referenceDelegate=e(this),this.hi=new ox(this),this.indexManager=new GO,this.remoteDocumentCache=function(o){return new sx(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new FO(t),this.Ti=new tx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new ix(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new lx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return ee.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class lx extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ai=new rg,this.Ri=null}static Vi(e){return new ig(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.gi=new wa(s=>z2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=XO(this,t)}static Vi(e,t){return new Uh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dh(e.data.value)),t}Sr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new sg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return E1()?8:U2(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new ux;return this.ws(e,t,h).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>l.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(go()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(go()<=xe.DEBUG&&ue("QueryEngine","Query:",yo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(go()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):ee.resolve())}ps(e,t){if(ZE(t))return ee.resolve(null);let s=Sr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=up(t,null,"F"),s=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,up(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return ZE(t)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,s).next(l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?ee.resolve(null):(go()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yo(t)),this.vs(e,h,t,k2(o,cu)).next(d=>d))})}bs(e,t){let s=new Ot(Kw(e));return t.forEach((o,l)=>{lf(e,l)&&(s=s.add(l))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return go()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",yo(t)),this.gs.getDocumentsMatchingQuery(e,t,ps.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",hx=3e8;class fx{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new at(De),this.Ms=new wa(l=>Wp(l),Xp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ex(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function dx(r,e,t,s){return new fx(r,e,t,s)}async function gS(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function mx(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,I=T.keys();let k=ee.resolve();return I.forEach(F=>{k=k.next(()=>E.getEntry(p,F)).next(Y=>{const q=g.docVersions.get(F);Ke(q!==null,48541),Y.version.compareTo(q)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function yS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function px(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((E,T)=>{const I=o.get(T);if(!I)return;d.push(t.hi.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,E.addedDocuments,T)));let k=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),function(Y,q,Z){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=hx?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(I,k,E)&&d.push(t.hi.updateTargetData(l,k))});let p=pi(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(gx(l,h,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return ee.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=o,l))}function gx(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=pi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue(ag,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function yx(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vx(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(l=>l?(o=l,ee.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new os(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function mp(r,e,t){const s=Ae(r),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;ue(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function hT(r,e,t){const s=Ae(r);let o=we.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ae(p),I=T.Ms.get(E);return I!==void 0?ee.resolve(T.Fs.get(I)):T.hi.getTargetData(g,E)}(s,h,Sr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:ke())).next(d=>(_x(s,sO(e),d),{documents:d,qs:l})))}function _x(r,e,t){let s=r.xs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.xs.set(e,s)}class fT{constructor(){this.activeTargetIds=hO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ex{constructor(){this.Fo=new fT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new fT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="ConnectivityMonitor";class mT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(dT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(dT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function pp(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sx{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=pp(),d=this.Go(e,t.toUriEncodedString());ue(zm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:g}=new URL(d),E=xo(g);return this.jo(e,d,p,s,E).then(T=>(ue(zm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw ms(zm,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T})}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const s=wx[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class bx extends Sx{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=pp();return new Promise((d,p)=>{const g=new _w;g.setWithCredentials(!0),g.listenOnce(Ew.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const T=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case fh.TIMEOUT:ue(Xt,`RPC '${e}' ${h} timed out`),p(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const I=g.getStatus();if(ue(Xt,`RPC '${e}' ${h} failed with status:`,I,"response text:",g.getResponseText()),I>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const Y=function(Z){const W=Z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN}(F.status);p(new le(Y,F.message))}else p(new le(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=pp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Sw(),d=ww(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.T_(T);let I=!1,k=!1;const F=new Ax({Ho:q=>{k?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(I||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),Y=(q,Z,W)=>{q.listen(Z,G=>{try{W(G)}catch(oe){setTimeout(()=>{throw oe},0)}})};return Y(T,Yl.EventType.OPEN,()=>{k||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),F.s_())}),Y(T,Yl.EventType.CLOSE,()=>{k||(k=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),F.__(),this.I_(T))}),Y(T,Yl.EventType.ERROR,q=>{k||(k=!0,ms(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),F.__(new le(X.UNAVAILABLE,"The operation could not be completed")))}),Y(T,Yl.EventType.MESSAGE,q=>{var Z;if(!k){const W=q.data[0];Ke(!!W,16349);const G=W,oe=(G==null?void 0:G.error)||((Z=G[0])===null||Z===void 0?void 0:Z.error);if(oe){ue(Xt,`RPC '${e}' stream ${o} received error:`,oe);const ae=oe.status;let ie=function(S){const C=wt[S];if(C!==void 0)return iS(C)}(ae),x=oe.message;ie===void 0&&(ie=X.INTERNAL,x="Unknown error status: "+ae+" with message "+oe.message),k=!0,F.__(new le(ie,x)),T.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,W),F.a_(W)}}),Y(d,Tw.STAT_EVENT,q=>{q.stat===np.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===np.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.o_()},0),F}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r){return new DO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class _S{constructor(e,t,s,o,l,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new vS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new le(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rx extends _S{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=xO(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ar(h.readTime):we.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=dp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=op(p)?{documents:VO(l,p)}:{query:MO(l,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=oS(l,h.resumeToken);const g=cp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Lh(l,h.snapshotVersion.toTimestamp());const g=cp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=UO(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=dp(this.serializer),t.removeTarget=e,this.k_(t)}}class Ix extends _S{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=PO(e.writeResults,e.commitTime),s=Ar(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=dp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>kO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{}class Dx extends Cx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,hp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(X.UNKNOWN,l.toString())})}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,hp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(X.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Nx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(mi(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class Ox{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Sa(this)&&(ue(ya,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Cu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await df(g)}(this))})}),this.Aa=new Nx(s,o)}}async function df(r){if(Sa(r))for(const e of r.da)await e(!0)}async function Cu(r){for(const e of r.da)await e(!1)}function ES(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),cg(t)?ug(t):Uo(t).x_()&&lg(t,e))}function og(r,e){const t=Ae(r),s=Uo(t);t.Ta.delete(e),s.x_()&&TS(t,e),t.Ta.size===0&&(s.x_()?s.B_():Sa(t)&&t.Aa.set("Unknown"))}function lg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(r).H_(e)}function TS(r,e){r.Ra.$e(e),Uo(r).Y_(e)}function ug(r){r.Ra=new bO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Aa.aa()}function cg(r){return Sa(r)&&!Uo(r).M_()&&r.Ta.size>0}function Sa(r){return Ae(r).Ia.size===0}function wS(r){r.Ra=void 0}async function xx(r){r.Aa.set("Online")}async function kx(r){r.Ta.forEach((e,t)=>{lg(r,e)})}async function Px(r,e){wS(r),cg(r)?(r.Aa.la(e),ug(r)):r.Aa.set("Unknown")}async function Vx(r,e,t){if(r.Aa.set("Online"),e instanceof aS&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){ue(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof gh?r.Ra.Ye(e):e instanceof sS?r.Ra.it(e):r.Ra.et(e),!t.isEqual(we.min()))try{const s=await yS(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ta.get(g);E&&l.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.Ta.get(p);if(!E)return;l.Ta.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),TS(l,p);const T=new os(E.target,p,g,E.sequenceNumber);lg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue(ya,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,t){if(!Lo(e))throw e;r.Ia.add(1),await Cu(r),r.Aa.set("Offline"),t||(t=()=>yS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ya,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await df(r)})}function SS(r,e){return e().catch(t=>jh(r,t,e))}async function mf(r){const e=Ae(r),t=_s(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Kp;for(;Mx(e);)try{const o=await yx(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,Lx(e,o)}catch(o){await jh(e,o)}AS(e)&&bS(e)}function Mx(r){return Sa(r)&&r.Pa.length<10}function Lx(r,e){r.Pa.push(e);const t=_s(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function AS(r){return Sa(r)&&!_s(r).M_()&&r.Pa.length>0}function bS(r){_s(r).start()}async function Ux(r){_s(r).na()}async function jx(r){const e=_s(r);for(const t of r.Pa)e.X_(t.mutations)}async function zx(r,e,t){const s=r.Pa.shift(),o=eg.from(s,e,t);await SS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await mf(r)}async function Bx(r,e){e&&_s(r).Z_&&await async function(s,o){if(function(h){return SO(h)&&h!==X.ABORTED}(o.code)){const l=s.Pa.shift();_s(s).N_(),await SS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await mf(s)}}(r,e),AS(r)&&bS(r)}async function gT(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ue(ya,"RemoteStore received new credentials");const s=Sa(t);t.Ia.add(3),await Cu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await df(t)}async function qx(r,e){const t=Ae(r);e?(t.Ia.delete(2),await df(t)):e||(t.Ia.add(2),await Cu(t),t.Aa.set("Unknown"))}function Uo(r){return r.Va||(r.Va=function(t,s,o){const l=Ae(t);return l.ia(),new Rx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:xx.bind(null,r),e_:kx.bind(null,r),n_:Px.bind(null,r),J_:Vx.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),cg(r)?ug(r):r.Aa.set("Unknown")):(await r.Va.stop(),wS(r))})),r.Va}function _s(r){return r.ma||(r.ma=function(t,s,o){const l=Ae(t);return l.ia(),new Ix(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:Ux.bind(null,r),n_:Bx.bind(null,r),ea:jx.bind(null,r),ta:zx.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await mf(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(ya,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new hg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(mi("AsyncQueue",`${e}: ${r}`),Lo(r))return new le(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.fa=new at(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class No{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new No(e,t,Ao.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Hx{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=vT(),l.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function vT(){return new wa(r=>$w(r),of)}async function dg(r,e){const t=Ae(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new Fx,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=fg(h,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&pg(t)}async function mg(r,e){const t=Ae(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Gx(r,e){const t=Ae(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&pg(t)}function $x(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function pg(r){r.Da.forEach(e=>{e.next()})}var gp,_T;(_T=gp||(gp={})).Fa="default",_T.Cache="cache";class gg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new No(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class Kx{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=Kw(e),this.eu=new Ao(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new yT,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const I=o.get(E),k=lf(this.query,T)?T:null,F=!!I&&this.mutatedKeys.has(I.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;I&&k?I.data.isEqual(k.data)?F!==Y&&(s.track({type:3,doc:k}),q=!0):this.iu(I,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(d=!0)):!I&&k?(s.track({type:0,doc:k}),q=!0):I&&!k&&(s.track({type:1,doc:I}),q=!0,(p||g)&&(d=!0)),q&&(k?(h=h.add(k),l=Y?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,T)=>function(k,F){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:q})}};return Y(k)-Y(F)}(E.type,T.type)||this.Xa(E.doc,T.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new No(this.query,e.eu,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new yT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new IS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new RS(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return No.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const yg="SyncEngine";class Qx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Yx{constructor(e){this.key=e,this.lu=!1}}class Wx{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new wa(d=>$w(d),of),this.Tu=new Map,this.Iu=new Set,this.du=new at(ge.comparator),this.Eu=new Map,this.Au=new rg,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Xx(r,e,t=!0){const s=kS(r);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await CS(s,e,t,!0),o}async function Zx(r,e){const t=kS(r);await CS(t,e,!0,!1)}async function CS(r,e,t,s){const o=await vx(r.localStore,Sr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await Jx(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&ES(r.remoteStore,o),d}async function Jx(r,e,t,s,o){r.gu=(T,I,k)=>async function(Y,q,Z,W){let G=q.view.nu(Z);G.Ds&&(G=await hT(Y.localStore,q.query,!1).then(({documents:x})=>q.view.nu(x,G)));const oe=W&&W.targetChanges.get(q.targetId),ae=W&&W.targetMismatches.get(q.targetId)!=null,ie=q.view.applyChanges(G,Y.isPrimaryClient,oe,ae);return TT(Y,q.targetId,ie._u),ie.snapshot}(r,T,I,k);const l=await hT(r.localStore,e,!0),h=new Kx(e,l.qs),d=h.nu(l.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);TT(r,t,g._u);const E=new Qx(e,t,h);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function ek(r,e,t){const s=Ae(r),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter(h=>!of(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&og(s.remoteStore,o.targetId),yp(s,o.targetId)}).catch(Mo)):(yp(s,o.targetId),await mp(s.localStore,o.targetId,!0))}async function tk(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),og(t.remoteStore,s.targetId))}async function nk(r,e,t){const s=uk(r);try{const o=await function(h,d){const p=Ae(h),g=tt.now(),E=d.reduce((k,F)=>k.add(F.key),ke());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=pi(),Y=ke();return p.Os.getEntries(k,E).next(q=>{F=q,F.forEach((Z,W)=>{W.isValidDocument()||(Y=Y.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,F)).next(q=>{T=q;const Z=[];for(const W of d){const G=vO(W,T.get(W.key).overlayedDocument);G!=null&&Z.push(new bs(W.key,G,Uw(G.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Z,d)}).next(q=>{I=q;const Z=q.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(k,q.batchId,Z)})}).then(()=>({batchId:I.batchId,changes:Yw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new at(De)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Du(s,o.changes),await mf(s.remoteStore)}catch(o){const l=fg(o,"Failed to persist write");t.reject(l)}}async function DS(r,e){const t=Ae(r);try{const s=await px(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await Du(t,s,e)}catch(s){await Mo(s)}}function ET(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((l,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ae(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const I of T.wa)I.va(d)&&(g=!0)}),g&&pg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rk(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new at(ge.comparator);h=h.insert(l,Jt.newNoDocument(l,we.min()));const d=ke().add(l),p=new hf(we.min(),new Map,new at(De),h,d);await DS(s,p),s.du=s.du.remove(l),s.Eu.delete(e),vg(s)}else await mp(s.localStore,e,!1).then(()=>yp(s,e,t)).catch(Mo)}async function ik(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await mx(t.localStore,e);OS(t,s,null),NS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Du(t,o)}catch(o){await Mo(o)}}async function sk(r,e,t){const s=Ae(r);try{const o=await function(h,d){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);OS(s,e,t),NS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Du(s,o)}catch(o){await Mo(o)}}function NS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function OS(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function yp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||xS(r,s)})}function xS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(og(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),vg(r))}function TT(r,e,t){for(const s of t)s instanceof RS?(r.Au.addReference(s.key,e),ak(r,s)):s instanceof IS?(ue(yg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||xS(r,s.key)):Te(19791,{yu:s})}function ak(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ue(yg,"New document in limbo: "+t),r.Iu.add(s),vg(r))}function vg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(et.fromString(e)),s=r.mu.next();r.Eu.set(s,new Yx(t)),r.du=r.du.insert(t,s),ES(r.remoteStore,new os(Sr(af(t.path)),s,"TargetPurposeLimboResolution",nf.ue))}}async function Du(r,e,t){const s=Ae(r),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=sg.Es(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,I=>ee.forEach(I.Is,k=>E.persistence.referenceDelegate.addReference(T,I.targetId,k)).next(()=>ee.forEach(I.ds,k=>E.persistence.referenceDelegate.removeReference(T,I.targetId,k)))))}catch(T){if(!Lo(T))throw T;ue(ag,"Failed to update sequence numbers: "+T)}for(const T of g){const I=T.targetId;if(!T.fromCache){const k=E.Fs.get(I),F=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(F);E.Fs=E.Fs.insert(I,Y)}}}(s.localStore,l))}async function ok(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ue(yg,"User change. New user:",e.toKey());const s=await gS(t.localStore,e);t.currentUser=e,function(l,h){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new le(X.CANCELLED,h))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(t,s.Bs)}}function lk(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function kS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=DS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rk.bind(null,e),e.hu.J_=Gx.bind(null,e.eventManager),e.hu.pu=$x.bind(null,e.eventManager),e}function uk(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return dx(this.persistence,new cx,e.initialUser,this.serializer)}Du(e){return new pS(ig.Vi,this.serializer)}bu(e){return new Ex}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class ck extends zh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YO(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new pS(s=>Uh.Vi(s,t),this.serializer)}}class vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ET(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hx}()}createDatastore(e){const t=ff(e.databaseInfo.databaseId),s=function(l){return new bx(l)}(e.databaseInfo);return function(l,h,d,p){return new Dx(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new Ox(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>ET(this.syncEngine,t,0),function(){return mT.C()?new mT:new Tx}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const T=new Wx(o,l,h,d,p,g);return E&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);ue(ya,"RemoteStore shutting down."),l.Ia.add(5),await Cu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class hk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=$p.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ue(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=fg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Es,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ms("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ms("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function wT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await fk(r);ue(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>gT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>gT(e.remoteStore,o)),r._onlineComponents=e}async function fk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Es,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ms("Error using user provided cache. Falling back to memory cache: "+t),await qm(r,new zh)}}else ue(Es,"Using default OfflineComponentProvider"),await qm(r,new ck(void 0));return r._offlineComponents}async function PS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Es,"Using user provided OnlineComponentProvider"),await wT(r,r._uninitializedComponentsProvider._online)):(ue(Es,"Using default OnlineComponentProvider"),await wT(r,new vp))),r._onlineComponents}function dk(r){return PS(r).then(e=>e.syncEngine)}async function Bh(r){const e=await PS(r),t=e.eventManager;return t.onListen=Xx.bind(null,e.syncEngine),t.onUnlisten=ek.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Zx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),t}function mk(r,e,t={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new _g({next:I=>{E.Ou(),h.enqueueAndForget(()=>mg(l,T));const k=I.docs.has(d);!k&&I.fromCache?g.reject(new le(X.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&p&&p.source==="server"?g.reject(new le(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new gg(af(d.path),E,{includeMetadataChanges:!0,ka:!0});return dg(l,T)}(await Bh(r),r.asyncQueue,e,t,s)),s.promise}function pk(r,e,t={}){const s=new ci;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new _g({next:I=>{E.Ou(),h.enqueueAndForget(()=>mg(l,T)),I.fromCache&&p.source==="server"?g.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new gg(d,E,{includeMetadataChanges:!0,ka:!0});return dg(l,T)}(await Bh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firestore.googleapis.com",AT=!0;class bT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MS,this.ssl=AT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KO)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new S2;switch(s.type){case"firstParty":return new I2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=ST.get(t);s&&(ue("ComponentProvider","Removing Datastore"),ST.delete(t),s.terminate())}(this),Promise.resolve()}}function gk(r,e,t,s={}){var o;r=pn(r,pf);const l=xo(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(a0(`https://${p}`),o0("Firestore",!0)),h.host!==MS&&h.host!==p&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!ds(g,d)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Zt.MOCK_USER;else{E=f1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(I)}r._authCredentials=new A2(new bw(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Aa(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Au(t,dt._jsonSchema))return new dt(e,s||null,new ge(et.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:At("string",dt._jsonSchemaVersion),referencePath:At("string")};class hs extends Aa{constructor(e,t,s){super(e,t,af(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function la(r,e,...t){if(r=yt(r),Iw("collection","path",e),r instanceof pf){const s=et.fromString(e,...t);return UE(s),new hs(r,null,s)}{if(!(r instanceof dt||r instanceof hs))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return UE(s),new hs(r.firestore,null,s)}}function en(r,e,...t){if(r=yt(r),arguments.length===1&&(e=$p.newId()),Iw("doc","path",e),r instanceof pf){const s=et.fromString(e,...t);return LE(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof hs))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return LE(s),new dt(r.firestore,r instanceof hs?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="AsyncQueue";class IT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vS(this,"async_queue_retry"),this.oc=()=>{const s=Bm();s&&ue(RT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Bm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Bm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ci;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Lo(e))throw e;ue(RT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,mi("INTERNAL UNHANDLED ERROR: ",CT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=hg.createAndSchedule(this,e,t,s,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:CT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function CT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class gi extends pf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new IT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IT(e),this._firestoreClient=void 0,await e}}}function yk(r,e){const t=typeof r=="object"?r:Cp(),s=typeof r=="string"?r:Oh,o=Ta(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=c1("firestore");l&&gk(o,...l)}return o}function gf(r){if(r._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vk(r),r._firestoreClient}function vk(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,E){return new F2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,VS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new hk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Kt.fromBase64String(e))}catch(t){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:At("string",Fn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Au(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:At("string",br._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Rr(e.vectorValues);throw new le(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:At("string",Rr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/^__.*__$/;class Ek{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ru(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function US(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class Tg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return qh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(US(this.Ec)&&_k.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Tk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ff(e)}Dc(e,t,s,o=!1){return new Tg({Ec:e,methodName:t,bc:s,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(r){const e=r._freezeSettings(),t=ff(r._databaseId);return new Tk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function jS(r,e,t,s,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);wg("Data must be an object, but it was:",h,s);const d=zS(s,h);let p,g;if(l.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const I=_p(e,T,t);if(!h.contains(I))throw new le(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);qS(E,I)||E.push(I)}p=new An(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new Ek(new dn(d),p,g)}class _f extends Eg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function wk(r,e,t,s){const o=r.Dc(1,e,t);wg("Data must be an object, but it was:",o,s);const l=[],h=dn.empty();As(s,(p,g)=>{const E=Sg(e,p,t);g=yt(g);const T=o.gc(E);if(g instanceof _f)l.push(E);else{const I=Nu(g,T);I!=null&&(l.push(E),h.set(E,I))}});const d=new An(l);return new LS(h,d,o.fieldTransforms)}function Sk(r,e,t,s,o,l){const h=r.Dc(1,e,t),d=[_p(e,s,t)],p=[o];if(l.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(_p(e,l[I])),p.push(l[I+1]);const g=[],E=dn.empty();for(let I=d.length-1;I>=0;--I)if(!qS(g,d[I])){const k=d[I];let F=p[I];F=yt(F);const Y=h.gc(k);if(F instanceof _f)g.push(k);else{const q=Nu(F,Y);q!=null&&(g.push(k),E.set(k,q))}}const T=new An(g);return new LS(E,T,h.fieldTransforms)}function Ak(r,e,t,s=!1){return Nu(t,r.Dc(s?4:3,e))}function Nu(r,e){if(BS(r=yt(r)))return wg("Unsupported field value:",e,r),zS(r,e);if(r instanceof Eg)return function(s,o){if(!US(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Nu(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=tt.fromDate(s);return{timestampValue:Lh(o.serializer,l)}}if(s instanceof tt){const l=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,l)}}if(s instanceof br)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:oS(o.serializer,s._byteString)};if(s instanceof dt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rr)return function(h,d){return{mapValue:{fields:{[Mw]:{stringValue:Lw},[xh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Zp(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${tf(s)}`)}(r,e)}function zS(r,e){const t={};return Nw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,(s,o)=>{const l=Nu(o,e.Vc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function BS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof br||r instanceof Fn||r instanceof dt||r instanceof Eg||r instanceof Rr)}function wg(r,e,t){if(!BS(t)||!Cw(t)){const s=tf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function _p(r,e,t){if((e=yt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Sg(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,t)}const bk=new RegExp("[~\\*/\\[\\]]");function Sg(r,e,t){if(e.search(bk)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function qh(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(X.INVALID_ARGUMENT,d+r+p)}function qS(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ag("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rk extends FS{data(){return super.data()}}function Ag(r,e){return typeof e=="string"?Sg(r,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class Ik extends bg{}function Fh(r,e,...t){let s=[];e instanceof bg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Rg).length,d=l.filter(p=>p instanceof Ef).length;if(h>1||h>0&&d>0)throw new le(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Ef extends Ik{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ef(e,t,s)}_apply(e){const t=this._parse(e);return GS(e._query,t),new Aa(e.firestore,e.converter,lp(e._query,t))}_parse(e){const t=vf(e.firestore);return function(l,h,d,p,g,E,T){let I;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){OT(T,E);const F=[];for(const Y of T)F.push(NT(p,l,Y));I={arrayValue:{values:F}}}else I=NT(p,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||OT(T,E),I=Ak(d,h,T,E==="in"||E==="not-in");return St.create(g,E,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bo(r,e,t){const s=e,o=Ag("where",r);return Ef._create(o,s,t)}class Rg extends bg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)GS(h,p),h=lp(h,p)}(e._query,t),new Aa(e.firestore,e.converter,lp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function NT(r,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new le(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&t.indexOf("/")!==-1)throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $E(r,new ge(s))}if(t instanceof dt)return $E(r,t._key);throw new le(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(t)}.`)}function OT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Ck{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return As(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new Rr(l)}convertGeoPoint(e){return new br(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=gs(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(dS(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||mi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends FS{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ua._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:At("string",ua._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class yh extends ua{data(e={}){return super.data(e)}}class ca{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new yh(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Zl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:Dk(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$p.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(r){r=pn(r,dt);const e=pn(r.firestore,gi);return mk(gf(e),r._key).then(t=>QS(e,r,t))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:At("string",ca._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class Ig extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Hh(r){r=pn(r,Aa);const e=pn(r.firestore,gi),t=gf(e),s=new Ig(e);return HS(r._query),pk(t,r._query).then(o=>new ca(e,s,r,o))}function Tf(r,e,t){r=pn(r,dt);const s=pn(r.firestore,gi),o=$S(r.converter,e,t);return wf(s,[jS(vf(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Gn.none())])}function vh(r,e,t,...s){r=pn(r,dt);const o=pn(r.firestore,gi),l=vf(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof yf?Sk(l,"updateDoc",r._key,e,t,s):wk(l,"updateDoc",r._key,e),wf(o,[h.toMutation(r._key,Gn.exists(!0))])}function Nk(r){return wf(pn(r.firestore,gi),[new Jp(r._key,Gn.none())])}function KS(r,e){const t=pn(r.firestore,gi),s=en(r),o=$S(r.converter,e);return wf(t,[jS(vf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Ok(r,...e){var t,s,o;r=yt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||DT(e[h])||(l=e[h++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(DT(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof dt)g=pn(r.firestore,gi),E=af(r._key.path),p={next:T=>{e[h]&&e[h](QS(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=pn(r,Aa);g=pn(T.firestore,gi),E=T._query;const I=new Ig(g);p={next:k=>{e[h]&&e[h](new ca(g,I,T,k))},error:e[h+1],complete:e[h+2]},HS(r._query)}return function(I,k,F,Y){const q=new _g(Y),Z=new gg(k,q,F);return I.asyncQueue.enqueueAndForget(async()=>dg(await Bh(I),Z)),()=>{q.Ou(),I.asyncQueue.enqueueAndForget(async()=>mg(await Bh(I),Z))}}(gf(g),E,d,p)}function wf(r,e){return function(s,o){const l=new ci;return s.asyncQueue.enqueueAndForget(async()=>nk(await dk(s),o,l)),l.promise}(gf(r),e)}function QS(r,e,t){const s=t.docs.get(e._key),o=new Ig(r);return new ua(r,o,e._key,s,new Zl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Vo=o})(ko),Ir(new nr("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new gi(new b2(s.getProvider("auth-internal")),new C2(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Hn(xE,kE,e),Hn(xE,kE,"esm2017")})();const xk={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},Cg=m0(xk);_2(Cg);const yi=eN(Cg),kk=new si,ft=yk(Cg),Pk=async()=>{const r=await uD(yi,kk);Vk(r);const e=en(ft,"users",r.user.uid);return Tf(e,{name:r.user.displayName,email:r.user.email,uid:r.user.uid},{merge:!0}),r};function Vk(r){const e={name:r.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function Mk(){const r=vi();return{handleGoogleSignIn:async()=>{try{await Pk(),r("/dashboard")}catch(t){console.error("Sign in failed:",t)}}}}function Lk(r,e){return jC(yi,r,e)}const Uk=({className:r})=>{const[e,t]=z.useState(""),[s,o]=z.useState(""),l=vi(),h=async d=>{d.preventDefault();try{await Lk(e,s),l("/dashboard")}catch(p){console.error("Login failed:",p),alert("Login failed: "+p.message)}};return R.jsxs("form",{onSubmit:h,className:r,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email:"}),R.jsx("input",{type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password:"}),R.jsx("input",{type:"password",id:"password",required:!0,value:s,onChange:d=>o(d.target.value)})]}),R.jsx("button",{type:"submit",children:"Login"})]})},jk=(r,e)=>UC(yi,r,e).then(t=>{const s=t.user,o=en(ft,"users",s.uid);Tf(o,{name:s.displayName,email:s.email,uid:s.uid},{merge:!0})}).catch(t=>{t.code,t.message}),zk=({className:r})=>{const[e,t]=z.useState(""),[s,o]=z.useState(""),l=vi(),h=async d=>{d.preventDefault();try{await jk(e,s),l("/dashboard")}catch(p){console.error("Sign up failed:",p),alert("Sign up failed: "+p.message)}};return R.jsxs("form",{className:r,onSubmit:h,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email:"}),R.jsx("input",{type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password:"}),R.jsx("input",{type:"password",id:"password",value:s,onChange:d=>o(d.target.value),required:!0})]}),R.jsx("button",{type:"submit",children:"Sign Up"})]})},Bk=()=>{const{handleGoogleSignIn:r}=Mk(),[e,t]=z.useState(!0);return R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),R.jsxs("div",{className:"auth-form-wrapper",children:[R.jsx(Uk,{className:`auth-form${e?" active":""}`}),R.jsx(zk,{className:`auth-form${e?"":" active"}`})]}),R.jsx("button",{className:"auth-btn auth-btn-google",onClick:r,children:"Sign in with Google"}),R.jsx("div",{className:"auth-switch",children:e?R.jsxs(R.Fragment,{children:["Don't have an account?",R.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!1)},children:"Sign Up"})]}):R.jsxs(R.Fragment,{children:["Already have an account?",R.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!0)},children:"Login"})]})})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qk(r,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(E){try{g(s.next(E))}catch(T){h(T)}}function p(E){try{g(s.throw(E))}catch(T){h(T)}}function g(E){E.done?l(E.value):o(E.value).then(d,p)}g((s=s.apply(r,[])).next())})}function Fk(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eo=function(){return Eo=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Eo.apply(this,arguments)},YS=function(r){return{loading:r==null,value:r}},Hk=function(){return function(r,e){switch(e.type){case"error":return Eo(Eo({},r),{error:e.error,loading:!1,value:void 0});case"reset":return YS(e.defaultValue);case"value":return Eo(Eo({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},Gk=function(r){var e=r?r():void 0,t=z.useReducer(Hk(),YS(e)),s=t[0],o=t[1],l=z.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=z.useCallback(function(p){o({type:"error",error:p})},[]),d=z.useCallback(function(p){o({type:"value",value:p})},[]);return z.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:d,value:s.value}},[s.error,s.loading,l,h,d,s.value])},$k=function(r,e){var t=Gk(function(){return r.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return z.useEffect(function(){var p=qC(r,function(g){return qk(void 0,void 0,void 0,function(){var E;return Fk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),l(E),[3,4];case 4:return h(g),[2]}})})},l);return function(){p()}},[r]),[d,o,s]};const WS=z.createContext();function Kk({children:r}){const[e,t,s]=$k(yi),o=async()=>{try{await FC(yi),console.log("User signed out successfully")}catch(l){throw console.error("Error signing out:",l),l}};return R.jsx(WS.Provider,{value:{user:e,loading:t,error:s,logout:o},children:r})}function Ou(){return z.useContext(WS)}const Qk=()=>{const r=vi(),{user:e,logout:t}=Ou(),s=async()=>{try{await t(),r("/")}catch(o){console.error("Failed to sign out:",o),alert("Failed to sign out. Please try again.")}};return R.jsxs("div",{className:"dashboard-container",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsx("h1",{className:"dashboard-title",children:"Workout Tracker"}),R.jsx("button",{className:"btn-sign-out",onClick:s,children:"Sign Out"})]}),R.jsx("div",{className:"welcome-section",children:R.jsx("h2",{children:"Welcome!"})}),R.jsxs("div",{className:"nav-cards",children:[R.jsxs("div",{className:"nav-card create-program-card",onClick:()=>r("/CreateProgram"),children:[R.jsx("div",{className:"card-icon",children:""}),R.jsx("h3",{children:"Create New Program"}),R.jsx("p",{children:"Build a custom workout program tailored to your goals"}),R.jsx("div",{className:"card-action",children:"Get Started "})]}),R.jsxs("div",{className:"nav-card view-programs-card",onClick:()=>r("/ListOfUsersPrograms"),children:[R.jsx("div",{className:"card-icon",children:""}),R.jsx("h3",{children:"My Programs"}),R.jsx("p",{children:"View and manage your existing workout programs"}),R.jsx("div",{className:"card-action",children:"View Programs "})]})]}),R.jsxs("div",{className:"quick-stats",children:[R.jsx("h3",{children:"Quick Stats"}),R.jsxs("div",{className:"stats-grid",children:[R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]}),R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]}),R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]})]}),R.jsx("p",{className:"stats-note",children:" Stats coming soon in future updates!"})]}),R.jsx("div",{className:"dashboard-footer",children:R.jsx("p",{children:"Thanks for testing my workout tracker! "})})]})};class Dg{watch(e,t,s){throw new Error("Not implemented")}}class Yk extends Dg{watchUserPrograms(e,t,s){throw new Error("Not implemented")}getUserPrograms(e){throw new Error("Not implemented")}getProgram(e){throw new Error("Not implemented")}createProgram(e){throw new Error("Not implemented")}updateProgram(e,t){throw new Error("Not implemented")}deleteProgram(e){throw new Error("Not implemented")}}class Wk extends Yk{watchUserPrograms(e,t,s){const o=Fh(la(ft,"programs"),bo("createdBy","==",e));return Ok(o,l=>{const h=[];l.forEach(d=>{h.push({id:d.id,...d.data()})}),t(h)},s)}async getUserPrograms(e){const t=Fh(la(ft,"programs"),bo("createdBy","==",e)),s=await Hh(t),o=[];return s.forEach(l=>{o.push({id:l.id,...l.data()})}),o}async getProgram(e){const t=en(ft,"programs",e),s=await fs(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Program not found")}async createProgram(e){return(await KS(la(ft,"programs"),e)).id}async updateProgram(e,t){const s=en(ft,"programs",e);return await vh(s,t),!0}async deleteProgram(e){return await Nk(en(ft,"programs",e)),!0}}class Xk extends Dg{getWorkout(e){throw new Error("Not implemented")}saveWorkoutProgress(e,t){throw new Error("Not implemented")}addWorkout(e,t){throw new Error("Not implemented")}updateWorkoutName(e,t,s){throw new Error("Not implemented")}getPreviousWeekSession(e,t,s){throw new Error("Not implemented")}}class Zk extends Xk{async getWorkout(e){const t=en(ft,"workouts",e),s=await fs(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Workout not found")}async saveWorkoutProgress(e,t){const s=en(ft,"workouts",e);return await vh(s,{progress:t}),!0}async addWorkoutToProgram(e,t){try{const s=en(ft,"programs",e),o=await fs(s);if(!o.exists())throw new Error(`Program with ID ${e} not found`);const l=o.data(),h=l.workouts||[];console.log("Current Program Data:",l);const d=[...h,t];return await vh(s,{workouts:d}),t.id}catch(s){throw console.error("Error adding workout to program:",s),s}}async updateWorkoutName(e,t,s){try{const o=en(ft,"programs",e),l=await fs(o);if(!l.exists())throw new Error(`Program with ID ${e} not found`);const d=(l.data().workouts||[]).map(p=>p.id===t?{...p,name:s}:p);return await vh(o,{workouts:d}),!0}catch(o){throw console.error("Error updating workout name:",o),o}}async getPreviousWeekSession(e,t,s){try{const o=s-1;if(o<1)return null;const l=la(ft,"sessions"),h=Fh(l,bo("userId","==",e),bo("workoutTemplateId","==",t),bo("week","==",o)),d=await Hh(h);return d.empty?null:d.docs.map(E=>({id:E.id,...E.data()})).sort((E,T)=>{const I=new Date(E.timestamp).getTime();return new Date(T.timestamp).getTime()-I})[0]}catch(o){return console.error("Error fetching previous week session:",o),null}}}class Jk extends Dg{getTemplate(e,t){throw new Error("Method not implemented")}createTemplate(e,t){throw new Error("Method not implemented")}getOrCreateTemplate(e,t){throw new Error("Method not implemented")}getExerciseTemplates(e){throw new Error("Method not implemented")}getTemplateById(e,t){throw new Error("Method not implemented")}updateTemplate(e,t,s){throw new Error("Method not implemented")}}function xT(r){let e=r.trim().toLowerCase();return e=e.replace(/[^\w\s]/gi,""),e=e.replace(/[-_]/g," "),e=e.replace(/\s+/g," "),console.log("Standardized input:",e),e}class eP extends Jk{constructor(){super(),this.templateCache=new Map}async getTemplate(e,t){const s=xT(t.name),o=`${e}:${s}`;if(this.templateCache.has(o))return this.templateCache.get(o);if(t.templateId)try{const d=await this.getTemplateById(e,t.templateId);if(d)return this.templateCache.set(o,d),d}catch(d){console.error("Error fetching template:",d)}const l=la(ft,"users",e,"exerciseTemplates"),h=Fh(l,bo("standardizedName","==",s));try{const d=await Hh(h);if(!d.empty){const p=d.docs[0],g={id:p.id,...p.data()};return this.templateCache.set(o,g),g}return null}catch(d){throw console.error("Error in getTemplate:",d),d}}async createTemplate(e,t){const s=xT(t.name),o=await this.getTemplate(e,t);if(o)return o;const l={name:t.name,standardizedName:s,category:t.category||"Other",defaultSets:t.sets?t.sets.map(E=>({reps:E.reps||"",weight:E.weight||null,rir:E.rir||""})):[{reps:"",weight:null,rir:""}],createdAt:new Date,userId:e},h=la(ft,"users",e,"exerciseTemplates"),p={id:(await KS(h,l)).id,...l},g=`${e}:${s}`;return this.templateCache.set(g,p),p}async getOrCreateTemplate(e,t){const s=await this.getTemplate(e,t);return s||await this.createTemplate(e,t)}async getTemplateById(e,t){try{const s=en(ft,"users",e,"exerciseTemplates",t),o=await fs(s);return o.exists()?{id:o.id,...o.data()}:null}catch(s){throw console.error("Error in getTemplateById:",s),s}}async getExerciseTemplates(e){try{const t=la(ft,"users",e,"exerciseTemplates");return(await Hh(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error in getExerciseTemplates:",t),t}}async updateTemplate(e,t,s){try{const o=en(ft,"users",e,"exerciseTemplates",t);return await Tf(o,s,{merge:!0}),{id:t,...s}}catch(o){throw console.error("Error in updateTemplate:",o),o}}}class tP{constructor(){this._programRepository=new Wk,this._workoutRepository=new Zk,this._exerciseTemplateRepository=new eP}get programRepository(){return this._programRepository}get workoutRepository(){return this._workoutRepository}get exerciseTemplateRepository(){return this._exerciseTemplateRepository}}const Dr=new tP,nP=Object.freeze(Object.defineProperty({__proto__:null,repositoryFactory:Dr},Symbol.toStringTag,{value:"Module"})),XS=Dr.programRepository,rP=async r=>await XS.createProgram(r),iP=async r=>await XS.deleteProgram(r),sP=({program:r,setProgram:e})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Program Details"}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Program Name"}),R.jsx("input",{type:"text",value:r.name,onChange:t=>e(s=>({...s,name:t.target.value})),placeholder:"Enter program name"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Description"}),R.jsx("textarea",{value:r.description,onChange:t=>e(s=>({...s,description:t.target.value})),placeholder:"Describe your program",rows:"3"})]}),R.jsxs("div",{className:"form-row",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Duration (weeks)"}),R.jsx("input",{type:"number",value:r.duration,onChange:t=>e(s=>({...s,duration:t.target.value})),placeholder:"e.g., 12"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Difficulty"}),R.jsxs("select",{value:r.difficulty,onChange:t=>e(s=>({...s,difficulty:t.target.value})),children:[R.jsx("option",{value:"beginner",children:"Beginner"}),R.jsx("option",{value:"intermediate",children:"Intermediate"}),R.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),aP=({exercise:r,setExercise:e,onAddExercise:t})=>{const[s,o]=z.useState([]);return z.useEffect(()=>{(async()=>{const h=yi.currentUser;if(h)try{const d=await Dr.exerciseTemplateRepository.getExerciseTemplates(h.uid);o(d||[])}catch(d){console.error("Error fetching templates:",d)}})()},[]),R.jsxs("div",{className:"exercise-section",children:[R.jsx("h3",{children:"Add Exercise"}),R.jsxs("div",{className:"form-row",children:[R.jsx("input",{type:"text",value:r.name,onChange:l=>e(h=>({...h,name:l.target.value})),placeholder:"Exercise name",list:"exercise-templates"}),R.jsx("datalist",{id:"exercise-templates",children:s.map(l=>R.jsx("option",{value:l.name},l.id))}),R.jsx("input",{type:"number",value:r.sets,onChange:l=>e(h=>({...h,sets:l.target.value})),placeholder:"Sets"}),R.jsx("input",{type:"text",value:r.reps,onChange:l=>e(h=>({...h,reps:l.target.value})),placeholder:"Reps"}),R.jsx("button",{type:"button",onClick:t,className:"btn-add",children:"Add"})]})]})},oP=({exercises:r,onRemoveExercise:e})=>r.length===0?null:R.jsxs("div",{className:"exercise-list",children:[R.jsx("h4",{children:"Exercises in this workout:"}),r.map(t=>R.jsxs("div",{className:"exercise-item",children:[R.jsxs("span",{children:[t.name," - ",t.sets.length," sets x"," ",t.sets[0].reps," reps"," ",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]}),R.jsx("button",{onClick:()=>e(t.id),className:"btn-remove",children:"Remove"})]},t.id))]}),lP=({workout:r,onRemoveWorkout:e})=>R.jsxs("div",{className:"workout-preview",children:[R.jsxs("div",{className:"workout-header",children:[R.jsx("h5",{children:r.name}),R.jsx("button",{onClick:()=>e(r.id),className:"btn-remove",children:"Remove"})]}),R.jsx("div",{className:"exercises-preview",children:r.exercises.map(t=>R.jsxs("div",{className:"exercise-preview",children:[R.jsx("span",{className:"exercise-name",children:t.name})," ",R.jsxs("span",{className:"exercise-details",children:[t.sets.length," sets  ",t.sets[0].reps," reps",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]})]},t.id))})]}),uP=({program:r,onRemoveWorkout:e})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Program Preview"}),R.jsxs("div",{className:"program-preview",children:[R.jsxs("div",{className:"preview-header",children:[R.jsx("h3",{children:r.name||"Untitled Program"}),R.jsxs("div",{className:"program-meta",children:[R.jsxs("span",{className:"duration",children:[r.duration," weeks"]}),R.jsx("span",{className:"difficulty",children:r.difficulty})]}),R.jsx("p",{className:"description",children:r.description})]}),R.jsxs("div",{className:"workouts-preview",children:[R.jsxs("h4",{children:["Workouts (",r.workouts.length,")"]}),r.workouts.map(t=>R.jsx(lP,{workout:t,onRemoveWorkout:e},t.id))]}),r.workouts.length===0&&R.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),cP=({currentWorkout:r,setCurrentWorkout:e,currentExercise:t,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:l,onAddWorkout:h,program:d})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Add Workouts"}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Workout Name"}),R.jsx("input",{type:"text",value:r.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),R.jsx(aP,{exercise:t,setExercise:s,onAddExercise:o}),R.jsx(oP,{exercises:r.exercises,onRemoveExercise:l}),r.exercises.length>0&&R.jsx("div",{style:{marginTop:"1rem"},children:R.jsx("button",{onClick:h,className:"btn-primary",children:"Add Workout to Program"})}),R.jsxs("div",{className:"workout-preview",children:[R.jsx("h3",{children:"Workouts in Program"}),d.workouts.length>0?d.workouts.map(p=>R.jsxs("div",{className:"workout-card",children:[R.jsx("h4",{children:p.name}),R.jsx("ul",{children:p.exercises.map(g=>R.jsxs("li",{children:[R.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):R.jsx("p",{children:"No workouts added yet."})]})]}),hP=({currentStep:r,steps:e})=>R.jsx("div",{className:"step-indicator",children:e.map((t,s)=>R.jsx("div",{className:`step ${r>=s+1?"active":""}`,children:t},s))}),Ht=[];for(let r=0;r<256;++r)Ht.push((r+256).toString(16).slice(1));function fP(r,e=0){return(Ht[r[e+0]]+Ht[r[e+1]]+Ht[r[e+2]]+Ht[r[e+3]]+"-"+Ht[r[e+4]]+Ht[r[e+5]]+"-"+Ht[r[e+6]]+Ht[r[e+7]]+"-"+Ht[r[e+8]]+Ht[r[e+9]]+"-"+Ht[r[e+10]]+Ht[r[e+11]]+Ht[r[e+12]]+Ht[r[e+13]]+Ht[r[e+14]]+Ht[r[e+15]]).toLowerCase()}let Fm;const dP=new Uint8Array(16);function mP(){if(!Fm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Fm=crypto.getRandomValues.bind(crypto)}return Fm(dP)}const pP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kT={randomUUID:pP};function ha(r,e,t){var o;if(kT.randomUUID&&!r)return kT.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??mP();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,fP(s)}function gP(r,e){const t=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=t;o++)for(const l of r)s.push({...l,week:o,id:ha(),templateId:l.templateId});return s}const yP=()=>{const r=vi(),[e,t]=z.useState(1),[s,o]=z.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[l,h]=z.useState({name:"",exercises:[]}),[d,p]=z.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=async()=>{if(d.name&&d.sets&&d.reps){const Z=parseInt(d.sets)||1,W=Array.from({length:Z},()=>({reps:d.reps,weight:d.weight||null,complete:!1}));let G={name:d.name,sets:W,id:ha()};const oe=yi.currentUser;if(oe)try{const ae=await Dr.exerciseTemplateRepository.getOrCreateTemplate(oe.uid,G);G={...G,templateId:ae.id},console.log("Created exercise with template ID:",G)}catch(ae){console.error("Error creating exercise template:",ae)}h(ae=>({...ae,exercises:[...ae.exercises,G]})),console.log(G),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},E=()=>{l.name&&l.exercises.length>0&&(o(Z=>({...Z,workouts:[...Z.workouts,{...l,id:ha(),templateId:ha()}]})),h({name:"",exercises:[]}))},T=Z=>{h(W=>({...W,exercises:W.exercises.filter(G=>G.id!==Z)}))},I=Z=>{o(W=>({...W,workouts:W.workouts.filter(G=>G.id!==Z)}))},k=async(Z,W)=>{const G=JSON.parse(JSON.stringify(Z));for(const oe of G)if(oe.exercises&&oe.exercises.length>0)for(let ae=0;ae<oe.exercises.length;ae++){const ie=oe.exercises[ae];if(!ie.templateId)try{const x=await Dr.exerciseTemplateRepository.getOrCreateTemplate(W,ie);oe.exercises[ae]={...ie,templateId:x.id},console.log(`Added template ID ${x.id} to exercise ${ie.name}`)}catch(x){console.error(`Error creating template for ${ie.name}:`,x)}}return G},F=async()=>{const Z=yi.currentUser;if(!Z){alert("You must be logged in to save a program.");return}try{let W=[...s.workouts];W=await k(W,Z.uid);const G=gP(W,s.duration),oe={...s,workouts:G,createdBy:Z.uid,createdAt:new Date},ae=await rP(oe);alert("Program saved successfully! ID: "+ae),r(`/ExecuteProgram/${ae}`)}catch(W){console.error("Error saving program:",W),alert("Failed to save program: "+W.message)}},Y=()=>{switch(e){case 1:return R.jsx(sP,{program:s,setProgram:o});case 2:return R.jsx(cP,{currentWorkout:l,setCurrentWorkout:h,currentExercise:d,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:T,onAddWorkout:E,program:s});case 3:return R.jsx(uP,{program:s,onRemoveWorkout:I});default:return null}},q=["Details","Workouts","Preview"];return R.jsxs("div",{className:"create-program-container",children:[R.jsxs("div",{className:"create-program-header",children:[R.jsx("h1",{children:"Create New Program"}),R.jsx(hP,{currentStep:e,steps:q})]}),R.jsx("div",{className:"create-program-content",children:Y()}),R.jsxs("div",{className:"create-program-actions",children:[e>1&&R.jsx("button",{onClick:()=>t(e-1),className:"btn-secondary",children:"Previous"}),e<3?R.jsx("button",{onClick:()=>t(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):R.jsx("button",{onClick:F,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),R.jsx("button",{onClick:()=>r("/ListOfUsersPrograms"),className:"btn-cancel",children:"Cancel"})]})]})};function Gh({actions:r,trigger:e}){const[t,s]=z.useState(!1),o=z.useRef();return z.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),R.jsxs("div",{className:"dropdown",ref:o,children:[R.jsx("button",{className:"dropdown-trigger",onClick:l=>{l.stopPropagation(),s(h=>!h)},children:e||""}),t&&R.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>R.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const vP=()=>{const r=vi(),{programId:e}=GT(),{logout:t}=Ou(),[s,o]=z.useState(null),[l,h]=z.useState(1),[d,p]=z.useState(!0),[g,E]=z.useState(""),[T,I]=z.useState(!1),[k,F]=z.useState(null),Y=async()=>{try{await t(),r("/")}catch(ie){console.error("Failed to sign out:",ie),alert("Failed to sign out. Please try again.")}},q=async(ie,x)=>{try{await Dr.workoutRepository.updateWorkoutName(e,ie,x),o(b=>({...b,workouts:b.workouts.map(S=>S.id===ie?{...S,name:x}:S)}))}catch(b){console.error(" Test failed:",b),alert(` Test failed: ${b.message}`)}console.log(s)},Z=ie=>{F(ie),I(!0)},W=async()=>{k&&g.trim()&&await q(k,g.trim()),I(!1),F(null),E("")},G=async()=>{const ie={id:ha(),templateId:ha(),name:"New Workout - double click to edit name",week:l,exercises:[],createdAt:new Date};try{await Dr.workoutRepository.addWorkoutToProgram(e,ie),o(x=>({...x,workouts:[...x.workouts,ie]})),console.log("Updated userProgram state:",{...s,workouts:[...s.workouts,ie]}),alert(" Successful! Added workout")}catch(x){console.error(" Test failed:",x),alert(` Test failed: ${x.message}`)}};z.useEffect(()=>{(async()=>{try{const x=en(ft,"programs",e),b=await fs(x);if(console.log(b),b.exists()){const S=b.data();console.log(S.workouts),o(S),h(1)}else o(null);p(!1)}catch(x){console.error("Failed to fetch program:",x),p(!1)}})()},[e]);const oe=s?s.workouts.filter(ie=>ie.week===l):[],ae=ie=>{h(ie)};return d?R.jsx("div",{className:"execute-program-container",children:R.jsx("div",{className:"loading",children:"Loading your program..."})}):s?R.jsxs("div",{className:"execute-program-container",children:[R.jsxs("div",{className:"execute-program-header",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx(Gh,{actions:[{label:"Home",onClick:ie=>{ie.stopPropagation(),r("/dashboard")}},{label:"Create Program",onClick:ie=>{ie.stopPropagation(),r("/CreateProgram")}},{label:"Sign Out",onClick:ie=>{ie.stopPropagation(),Y()}}],trigger:R.jsx("span",{children:""})})}),R.jsx("h1",{children:s.name}),R.jsxs("div",{className:"program-info",children:[R.jsxs("span",{children:["Week ",l," of ",s.duration]}),R.jsx("span",{children:s.difficulty})]})]}),R.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(s.duration,10)},(ie,x)=>x+1).map(ie=>R.jsxs("button",{className:`week-btn ${l===ie?"active":""}`,onClick:()=>ae(ie),children:["Week ",ie]},ie))}),R.jsxs("div",{className:"week-content",children:[R.jsxs("h2",{children:["Week ",l," Workouts"]}),R.jsx("nav",{className:"add-workout-menu",children:R.jsx(Gh,{actions:[{label:"Add Workout",onClick:ie=>{ie.stopPropagation(),G()}}],trigger:R.jsx("span",{children:"+"})})}),oe.length===0?R.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):R.jsx("div",{className:"workouts-grid",children:oe.map(ie=>R.jsxs("div",{className:"workout-card",children:[R.jsx("div",{className:"workout-card-header",children:T&&k===ie.id?R.jsx("input",{type:"text",value:g,onChange:x=>E(x.target.value),onBlur:W,onKeyDown:x=>{x.key==="Enter"&&W(),x.key==="Escape"&&(I(!1),F(null),E(""))},autoFocus:!0}):R.jsx("h3",{onDoubleClick:()=>Z(ie.id,ie.name),children:ie.name})}),R.jsx("div",{className:"workout-exercises",children:ie.exercises.map(x=>R.jsxs("div",{className:"exercise-summary",children:[R.jsx("span",{className:"exercise-name",children:x.name}),R.jsxs("span",{className:"exercise-target",children:[x.sets.length,"  ",x.sets[0].reps]})]},x.id))}),R.jsx("div",{className:"workout-actions",children:R.jsx("button",{onClick:()=>r(`/CurrentSession/${e}/${ie.id}`),className:"btn-primary",children:"Start Workout"})})]},ie.id))})]})]}):R.jsx("div",{className:"execute-program-container",children:R.jsx("div",{className:"error",children:"Failed to load program"})})},_P=({setWorkout:r,handleSaveSession:e})=>{const t=s=>{r(o=>({...o,notes:s.target.value}))};return R.jsxs("div",{className:"session-actions",children:[R.jsx("textarea",{className:"session-notes",placeholder:"Add notes for this session...",onChange:t}),R.jsx("div",{className:"session-action-buttons",children:R.jsx("button",{className:"btn-save",onClick:e,children:"Save Session"})})]})},EP=({workout:r})=>R.jsxs("div",{className:"session-header",children:[R.jsxs("h1",{className:"session-title",children:[r.name," "]}),R.jsx("div",{className:"session-meta",children:R.jsxs("span",{children:["Week ",r.week," "]})})]});function ZS({actions:r,trigger:e}){const[t,s]=z.useState(!1),o=z.useRef();return z.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),R.jsxs("div",{className:"dropdown",ref:o,children:[R.jsx("button",{className:"dropdown-trigger",onClick:()=>s(l=>!l),children:e||""}),t&&R.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>R.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const TP=({exercise:r,onExpand:e,dragHandleProps:t})=>R.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:R.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[R.jsx("div",{className:"drag-handle",...t,children:""}),R.jsx("h2",{className:"exercise-name",children:r.name})]})}),wP=({exercises:r,setWorkout:e,handleDeleteExercise:t})=>{const[s,o]=z.useState(null),[l,h]=z.useState(null),[d,p]=z.useState(null),[g,E]=z.useState(null),T=b=>{h(S=>S===b?null:b)},I=(b,S)=>{e(C=>({...C,exercises:C.exercises.map((O,V)=>V===b?{...O,name:S}:O)}))},k=(b,S)=>{e(C=>{const O=C.exercises.map((V,N)=>{if(N!==b)return V;const Ve=V.sets.filter((ze,re)=>re!==S);return{...V,sets:Ve}});return{...C,exercises:O}})},F=(b,S,C)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((re,ye)=>ye!==S?re:{...re,reps:C});return{...N,sets:ze}});return{...O,exercises:V}})},Y=(b,S,C)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((re,ye)=>ye!==S?re:{...re,weight:C});return{...N,sets:ze}});return{...O,exercises:V}})},q=(b,S,C)=>{e(O=>{const V=O.exercises.map((N,Ve)=>{if(Ve!==b)return N;const ze=N.sets.map((re,ye)=>ye!==S?re:{...re,rir:C});return{...N,sets:ze}});return{...O,exercises:V}})},Z=(b,S)=>{e(C=>{const O=C.exercises.map((V,N)=>N!==b?V:{...V,sets:V.sets.map((Ve,ze)=>ze!==S?Ve:{...Ve,complete:!Ve.complete})});return{...C,exercises:O}})},W=b=>{e(S=>{const C=S.exercises.map((O,V)=>V!==b?O:{...O,sets:[...O.sets,{reps:"",weight:"",complete:!1}]});return{...S,exercises:C}})},G=z.useRef(0),oe=z.useRef(0),ae=()=>{if(!(G.current===null||oe.current===null)){if(G.current!==oe.current){const b=[...r],S=b[G.current];b[G.current]=b[oe.current],b[oe.current]=S,e(C=>({...C,exercises:b}))}G.current=null,oe.current=null}},[ie,x]=z.useState([]);return z.useEffect(()=>{(async()=>{const S=yi.currentUser;if(S)try{const C=await Dr.exerciseTemplateRepository.getExerciseTemplates(S.uid);x(C||[])}catch(C){console.error("Error fetching templates:",C)}})()},[]),R.jsx("div",{className:"exercise-list-session",children:r.map((b,S)=>R.jsx("div",{className:`exercise-card 
            ${l===b.id?"expanded":"collapsed"} 
            ${d===b.id?"dragging":""} 
            ${g===b.id?"drag-over":""}
          `,onDragOver:C=>C.preventDefault(),onDragEnter:()=>{oe.current=S,E(b.id)},onDragLeave:()=>{g===b.id&&E(null)},"data-id":b.id,children:l===b.id?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"exercise-header",children:s===b.id?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"name-container edit-mode",children:[R.jsx("input",{type:"text",value:b.name,onChange:C=>I(S,C.target.value),className:"edit-exercise-name",list:"exercise-templates"}),R.jsx("datalist",{id:"exercise-templates",children:ie.map(C=>R.jsx("option",{value:C.name},C.id))})]}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),R.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"X"})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"drag-handle",draggable:!0,onDragStart:C=>{G.current=S,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{ae(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))},children:""}),R.jsx("div",{className:"name-container",children:R.jsx("h2",{className:"exercise-name",children:b.name})}),R.jsx(ZS,{actions:[{label:"Edit",onClick:C=>{C.stopPropagation(),o(b.id)}},{label:"Delete",onClick:C=>{C.stopPropagation(),t(b.id)}}],trigger:R.jsx("span",{children:""})})]})}),R.jsx("div",{className:"sets-list",children:Array.from({length:Number(b.sets.length)}).map((C,O)=>{var V,N,Ve,ze;return R.jsxs("div",{className:"set-row",children:[R.jsx("input",{type:"number",className:"input-weight",placeholder:"Weight",value:((V=b.sets[O])==null?void 0:V.weight)||"",onChange:re=>Y(S,O,re.target.value)}),R.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((N=b.sets[O])==null?void 0:N.reps)||"",onChange:re=>F(S,O,re.target.value)}),R.jsx("input",{type:"number",className:"input-rir",placeholder:"RIR",value:((Ve=b.sets[O])==null?void 0:Ve.rir)||"",onChange:re=>q(S,O,re.target.value)}),s===b.id?R.jsx("button",{className:"btn-delete-set",onClick:()=>k(S,O),children:"X"}):R.jsx("div",{className:"set-complete-checkbox",children:R.jsx("input",{type:"checkbox",checked:((ze=b.sets[O])==null?void 0:ze.complete)||!1,onChange:()=>Z(S,O)})})]},O)})}),R.jsx("button",{className:"btn-add-set",onClick:()=>W(S),children:"Add Set"})]}):R.jsx(TP,{exercise:b,onExpand:()=>T(b.id),dragHandleProps:{draggable:!0,onDragStart:C=>{G.current=S,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{ae(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))}}})},b.id))})},SP=({previousSession:r,isLoading:e})=>{const[t,s]=z.useState(!1);if(e)return R.jsx("div",{className:"previous-week-summary loading",children:R.jsx("div",{className:"summary-header",children:R.jsx("span",{children:"Loading previous week data..."})})});if(!r)return R.jsx("div",{className:"previous-week-summary no-data",children:R.jsx("div",{className:"summary-header",children:R.jsx("span",{children:"No previous week data available"})})});const o=()=>{s(!t)},l=h=>{const d=h.weight?`${h.weight}lbs`:"BW",p=h.reps||"0";return`${d}  ${p}`};return R.jsxs("div",{className:"previous-week-summary",children:[R.jsxs("div",{className:"summary-header",onClick:o,children:[R.jsxs("div",{className:"header-content",children:[R.jsx("h3",{children:"Last Week's Performance"}),R.jsxs("span",{className:"week-info",children:["Week ",r.week]})]}),R.jsx("button",{className:"toggle-btn",children:t?"":""})]}),t&&R.jsxs("div",{className:"summary-content",children:[R.jsx("div",{className:"session-date",children:new Date(r.timestamp).toLocaleDateString()}),R.jsx("div",{className:"exercises-list",children:r.exercises.map((h,d)=>R.jsxs("div",{className:"exercise-item",children:[R.jsx("div",{className:"exercise-name-previous-week",children:h.name}),R.jsx("div",{className:"sets-display",children:h.sets&&h.sets.map((p,g)=>R.jsx("span",{className:"set-item",children:l(p)},g))})]},h.id||d))})]})]})},AP="modulepreload",bP=function(r){return"/my-workout-tracker/"+r},PT={},RP=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=bP(p),p in PT)return;PT[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":AP,g||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),g)return new Promise((I,k)=>{T.addEventListener("load",I),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};class IP{constructor(){this.templateRepository=Dr.exerciseTemplateRepository}async processExercisesForSession(e,t,s=!0){return!t||!t.length?[]:await Promise.all(t.map(async o=>{if(o.templateId)try{if(await this.templateRepository.getTemplateById(e,o.templateId))return{...o}}catch(l){console.error("Error verifying template:",l)}try{const l=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);return l?{...o,templateId:l.id}:o}catch(l){return console.error("Error processing exercise template:",l),o}}))}async copyExercisesWithTemplates(e,t,s=!1){return!t||!t.length?[]:await Promise.all(t.map(async o=>{let l=o.templateId;if(!l)try{const h=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);h&&(l=h.id)}catch(h){console.error("Error getting template for copy:",h)}return{id:Date.now()+Math.random().toString(36).substr(2,9),name:o.name,templateId:l,sets:o.sets?[...o.sets]:[],notes:o.notes||"",category:o.category||"Other"}}))}async getTemplatesByCategory(e){try{return(await this.templateRepository.getExerciseTemplates(e)).reduce((s,o)=>{const l=o.category||"Other";return s[l]||(s[l]=[]),s[l].push(o),s},{})}catch(t){return console.error("Error getting templates by category:",t),{}}}async updateTemplateData(e,t,s){try{return await this.templateRepository.updateTemplate(e,t,s)}catch(o){throw console.error("Error updating template:",o),o}}}const Ep=new IP;async function CP(r){const{userId:e,programId:t,workoutId:s,week:o}=r,l=JS(e,t,s,o);try{return r.exercises&&r.exercises.length>0&&(r.exercises=await Ep.processExercisesForSession(e,r.exercises,!0)),await Tf(en(ft,"sessions",l),r,{merge:!0}),console.log("Session saved:",r,"Document ID:",l),l}catch(h){throw console.error("Error saving session:",h,"Session data:",r),h}}async function DP(r,e,t,s,o){const l=JS(r,e,t,s);try{const h=en(ft,"sessions",l),d=await fs(h);if(d.exists()){console.log(" Found existing session data:",d.data());const p=d.data();return p.exercises&&p.exercises.length>0&&(p.exercises=await Ep.processExercisesForSession(r,p.exercises,!1)),p}else return console.log(" No session found, will use program data"),o&&o.exercises&&o.exercises.length>0&&(o.exercises=await Ep.processExercisesForSession(r,o.exercises,!1)),o}catch(h){return console.error("Error fetching session data:",h),o}}function JS(r,e,t,s){return`${r}_${e}_${t}_${s}`}async function NP(r,e,t){try{const{repositoryFactory:s}=await RP(async()=>{const{repositoryFactory:l}=await Promise.resolve().then(()=>nP);return{repositoryFactory:l}},[]),o=await s.workoutRepository.getPreviousWeekSession(r,e,t);return o?{week:o.week,name:o.name,exercises:o.exercises||[],timestamp:o.timestamp}:null}catch(s){return console.error("Error fetching previous session data:",s),null}}const VT=()=>{const{workoutId:r,programId:e,week:t}=GT(),[s,o]=z.useState(null),[l,h]=z.useState(!0),[d,p]=z.useState(null),[g,E]=z.useState(!0),T=vi(),{user:I,logout:k}=Ou(),F=async()=>{try{await k(),T("/")}catch(G){console.error("Failed to sign out:",G),alert("Failed to sign out. Please try again.")}},Y=()=>{T(`/ExecuteProgram/${e}`)},q=()=>{o(G=>({...G,exercises:[...G.exercises,{id:ha(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},Z=G=>{console.log("delete"),o(oe=>({...oe,exercises:oe.exercises.filter(ae=>ae.id!==G)}))},W=()=>{console.log("Save session clicked"),console.log("Current workout state:",s);const G={userId:I.uid,programId:e,workoutId:r,workoutTemplateId:s.templateId,name:s.name,week:t||s.week,exercises:s.exercises,notes:s.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",G),CP(G)};return z.useEffect(()=>{if(!I)return;(async()=>{try{const oe=en(ft,"programs",e),x=(await fs(oe)).data().workouts.find(C=>C.id===r);console.log("Found workout from Firestore:",x);const b=await DP(I.uid,e,r,t||x.week,x);console.log("Session data returned:",b),console.log("Does sessionData have templateId?",b.templateId);const S={...b,templateId:x.templateId,week:x.week};if(console.log("Final workout data being set:",S),console.log("Does final data have templateId?",S.templateId),o(S),h(!1),x.templateId)try{const C=parseInt(t)||x.week,O=await NP(I.uid,x.templateId,C);p(O)}catch(C){console.error("Error fetching previous session:",C)}E(!1)}catch(oe){console.error("Error fetching workout:",oe),h(!1),E(!1)}})()},[r,e,t,I]),l?R.jsx("div",{className:"current-session-container",children:R.jsx("div",{className:"loading",children:"Loading workout..."})}):s?(console.log("Loaded workout:",s),R.jsxs("div",{className:"current-session-container",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx(ZS,{actions:[{label:"Home",onClick:G=>{G.stopPropagation(),T("/dashboard")}},{label:"Program Overview",onClick:G=>{G.stopPropagation(),T(`/ExecuteProgram/${e}`)}},{label:"All Programs",onClick:G=>{G.stopPropagation(),T("/ListOfUsersPrograms")}},{label:"Sign Out",onClick:G=>{G.stopPropagation(),F()}}],trigger:R.jsx("span",{children:""})})}),R.jsx(EP,{workout:s,onBack:Y}),R.jsx(SP,{previousSession:d,isLoading:g}),R.jsxs("div",{className:"current-session-content",children:[R.jsx(wP,{exercises:s.exercises,setWorkout:o,handleDeleteExercise:Z}),R.jsx("button",{className:"btn-add-exercise",onClick:q,children:"Add Exercise"}),R.jsx(_P,{handleSaveSession:W,setWorkout:o})]})]})):R.jsx("div",{className:"current-session-container",children:R.jsx("div",{className:"error",children:"Workout not found"})})};function OP(){const[r,e]=z.useState([]),[t,s]=z.useState(!0),[o,l]=z.useState(null),{user:h,loading:d}=Ou(),p=Dr.programRepository,g=z.useCallback(async()=>{if(h){s(!0);try{const E=await p.getUserPrograms(h.uid);e(E)}catch(E){l(E.message||String(E))}finally{s(!1)}}},[h,p]);return z.useEffect(()=>{if(d)return;if(!h){l("Not logged in"),s(!1);return}const E=p.watchUserPrograms(h.uid,T=>{e(T),s(!1)},T=>{l(T.message),s(!1)});return g(),()=>E()},[g,d,h,p]),{userPrograms:r,loading:t||d,error:o,refetchPrograms:g}}const xP=()=>{const{userPrograms:r,loading:e,error:t,refetchPrograms:s}=OP(),o=vi(),{logout:l}=Ou(),h=async()=>{try{await l(),o("/")}catch(d){console.error("Failed to sign out:",d),alert("Failed to sign out. Please try again.")}};return z.useEffect(()=>{!e&&r.length===0&&o("/CreateProgram")},[e,r,o]),e?R.jsx("div",{children:"Loading..."}):t?R.jsxs("div",{children:["Error: ",t]}):R.jsxs("div",{className:"user-programs-container",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx(Gh,{actions:[{label:"Home",onClick:d=>{d.stopPropagation(),o("/dashboard")}},{label:"Create Program",onClick:d=>{d.stopPropagation(),o("/CreateProgram")}},{label:"Sign Out",onClick:d=>{d.stopPropagation(),h()}}],trigger:R.jsx("span",{children:""})})}),R.jsx("h1",{children:"Your Programs"}),R.jsx("section",{className:"user-programs-list",children:r.map(d=>R.jsxs("div",{className:"user-program-card",onClick:()=>o(`/ExecuteProgram/${d.id}`),children:[R.jsx(Gh,{actions:[{label:"Delete Program",onClick:async p=>{p.stopPropagation();try{await iP(d.id),s&&await s()}catch(g){console.error("Failed to delete program:",g)}}}],trigger:R.jsx("span",{children:""})}),R.jsx("h2",{children:d.name}),R.jsx("p",{children:d.description}),R.jsxs("span",{children:[d.duration," weeks"]})]},d.id))})]})};function kP(){return R.jsx(Kk,{children:R.jsxs(SR,{children:[R.jsx(rs,{path:"/",element:R.jsx(Bk,{})}),R.jsx(rs,{path:"/Dashboard",element:R.jsx(Qk,{})}),R.jsx(rs,{path:"/CreateProgram",element:R.jsx(yP,{})}),R.jsx(rs,{path:"/ExecuteProgram/:programId",element:R.jsx(vP,{})}),R.jsx(rs,{path:"/CurrentSession/:programId/:workoutId",element:R.jsx(VT,{})}),R.jsx(rs,{path:"/CurrentSession/:programId/:workoutId/:week",element:R.jsx(VT,{})}),R.jsx(rs,{path:"/ListOfUsersPrograms",element:R.jsx(xP,{})})]})})}kb.createRoot(document.getElementById("root")).render(R.jsx(z.StrictMode,{children:R.jsx($R,{children:R.jsx(kP,{})})}));
