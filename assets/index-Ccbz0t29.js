(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function y1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function v1(){if(hE)return Gl;hE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var fE;function _1(){return fE||(fE=1,Lm.exports=v1()),Lm.exports}var S=_1(),Um={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function E1(){if(dE)return Se;dE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=R&&P[R]||P["@@iterator"],typeof P=="function"?P:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function Y(P,J,re){this.props=P,this.context=J,this.refs=F,this.updater=re||z}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ee(){}ee.prototype=Y.prototype;function X(P,J,re){this.props=P,this.context=J,this.refs=F,this.updater=re||z}var le=X.prototype=new ee;le.constructor=X,Q(le,Y.prototype),le.isPureReactComponent=!0;var he=Array.isArray;function se(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(P,J,re){var de=re.ref;return{$$typeof:i,type:P,key:J,ref:de!==void 0?de:null,props:re}}function C(P,J){return I(P.type,J,P.props)}function O(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(re){return J[re]})}var N=/\/+/g;function De(P,J){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):J.toString(36)}function ze(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(se,se):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function G(P,J,re,de,Te){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Le=!1;if(P===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(P.$$typeof){case i:case e:Le=!0;break;case E:return Le=P._init,G(Le(P._payload),J,re,de,Te)}}if(Le)return Te=Te(P),Le=de===""?"."+De(P,0):de,he(Te)?(re="",Le!=null&&(re=Le.replace(N,"$&/")+"/"),G(Te,J,re,"",function(hi){return hi})):Te!=null&&(O(Te)&&(Te=C(Te,re+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Le)),J.push(Te)),1;Le=0;var Ut=de===""?".":de+":";if(he(P))for(var ot=0;ot<P.length;ot++)de=P[ot],Ie=Ut+De(de,ot),Le+=G(de,J,re,Ie,Te);else if(ot=k(P),typeof ot=="function")for(P=ot.call(P),ot=0;!(de=P.next()).done;)de=de.value,Ie=Ut+De(de,ot++),Le+=G(de,J,re,Ie,Te);else if(Ie==="object"){if(typeof P.then=="function")return G(ze(P),J,re,de,Te);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(P,J,re){if(P==null)return P;var de=[],Te=0;return G(P,de,"","",function(Ie){return J.call(re,Ie,Te++)}),de}function ye(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(re){(P._status===0||P._status===-1)&&(P._status=1,P._result=re)},function(re){(P._status===0||P._status===-1)&&(P._status=2,P._result=re)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var Be=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},$e={map:ae,forEach:function(P,J,re){ae(P,function(){J.apply(this,arguments)},re)},count:function(P){var J=0;return ae(P,function(){J++}),J},toArray:function(P){return ae(P,function(J){return J})||[]},only:function(P){if(!O(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Se.Activity=T,Se.Children=$e,Se.Component=Y,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=X,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Se.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Se.cache=function(P){return function(){return P.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(P,J,re){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=Q({},P.props),Te=P.key;if(J!=null)for(Ie in J.key!==void 0&&(Te=""+J.key),J)!b.call(J,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&J.ref===void 0||(de[Ie]=J[Ie]);var Ie=arguments.length-2;if(Ie===1)de.children=re;else if(1<Ie){for(var Le=Array(Ie),Ut=0;Ut<Ie;Ut++)Le[Ut]=arguments[Ut+2];de.children=Le}return I(P.type,Te,de)},Se.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Se.createElement=function(P,J,re){var de,Te={},Ie=null;if(J!=null)for(de in J.key!==void 0&&(Ie=""+J.key),J)b.call(J,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Te[de]=J[de]);var Le=arguments.length-2;if(Le===1)Te.children=re;else if(1<Le){for(var Ut=Array(Le),ot=0;ot<Le;ot++)Ut[ot]=arguments[ot+2];Te.children=Ut}if(P&&P.defaultProps)for(de in Le=P.defaultProps,Le)Te[de]===void 0&&(Te[de]=Le[de]);return I(P,Ie,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(P){return{$$typeof:m,render:P}},Se.isValidElement=O,Se.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ye}},Se.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},Se.startTransition=function(P){var J=D.T,re={};D.T=re;try{var de=P(),Te=D.S;Te!==null&&Te(re,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(se,Be)}catch(Ie){Be(Ie)}finally{J!==null&&re.types!==null&&(J.types=re.types),D.T=J}},Se.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Se.use=function(P){return D.H.use(P)},Se.useActionState=function(P,J,re){return D.H.useActionState(P,J,re)},Se.useCallback=function(P,J){return D.H.useCallback(P,J)},Se.useContext=function(P){return D.H.useContext(P)},Se.useDebugValue=function(){},Se.useDeferredValue=function(P,J){return D.H.useDeferredValue(P,J)},Se.useEffect=function(P,J){return D.H.useEffect(P,J)},Se.useEffectEvent=function(P){return D.H.useEffectEvent(P)},Se.useId=function(){return D.H.useId()},Se.useImperativeHandle=function(P,J,re){return D.H.useImperativeHandle(P,J,re)},Se.useInsertionEffect=function(P,J){return D.H.useInsertionEffect(P,J)},Se.useLayoutEffect=function(P,J){return D.H.useLayoutEffect(P,J)},Se.useMemo=function(P,J){return D.H.useMemo(P,J)},Se.useOptimistic=function(P,J){return D.H.useOptimistic(P,J)},Se.useReducer=function(P,J,re){return D.H.useReducer(P,J,re)},Se.useRef=function(P){return D.H.useRef(P)},Se.useState=function(P){return D.H.useState(P)},Se.useSyncExternalStore=function(P,J,re){return D.H.useSyncExternalStore(P,J,re)},Se.useTransition=function(){return D.H.useTransition()},Se.version="19.2.0",Se}var mE;function Up(){return mE||(mE=1,Um.exports=E1()),Um.exports}var L=Up();const ga=y1(L);var jm={exports:{}},$l={},zm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function T1(){return pE||(pE=1,function(i){function e(G,ae){var ye=G.length;G.push(ae);e:for(;0<ye;){var Be=ye-1>>>1,$e=G[Be];if(0<o($e,ae))G[Be]=ae,G[ye]=$e,ye=Be;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var ae=G[0],ye=G.pop();if(ye!==ae){G[0]=ye;e:for(var Be=0,$e=G.length,P=$e>>>1;Be<P;){var J=2*(Be+1)-1,re=G[J],de=J+1,Te=G[de];if(0>o(re,ye))de<$e&&0>o(Te,re)?(G[Be]=Te,G[de]=ye,Be=de):(G[Be]=re,G[J]=ye,Be=J);else if(de<$e&&0>o(Te,ye))G[Be]=Te,G[de]=ye,Be=de;else break e}}return ae}function o(G,ae){var ye=G.sortIndex-ae.sortIndex;return ye!==0?ye:G.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,R=3,k=!1,z=!1,Q=!1,F=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(G){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=G)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(G){if(Q=!1,le(G),!z)if(n(p)!==null)z=!0,se||(se=!0,V());else{var ae=n(g);ae!==null&&ze(he,ae.startTime-G)}}var se=!1,D=-1,b=5,I=-1;function C(){return F?!0:!(i.unstable_now()-I<b)}function O(){if(F=!1,se){var G=i.unstable_now();I=G;var ae=!0;try{e:{z=!1,Q&&(Q=!1,ee(D),D=-1),k=!0;var ye=R;try{t:{for(le(G),T=n(p);T!==null&&!(T.expirationTime>G&&C());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,R=T.priorityLevel;var $e=Be(T.expirationTime<=G);if(G=i.unstable_now(),typeof $e=="function"){T.callback=$e,le(G),ae=!0;break t}T===n(p)&&s(p),le(G)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var P=n(g);P!==null&&ze(he,P.startTime-G),ae=!1}}break e}finally{T=null,R=ye,k=!1}ae=void 0}}finally{ae?V():se=!1}}}var V;if(typeof X=="function")V=function(){X(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,De=N.port2;N.port1.onmessage=O,V=function(){De.postMessage(null)}}else V=function(){Y(O,0)};function ze(G,ae){D=Y(function(){G(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(G){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var ye=R;R=ae;try{return G()}finally{R=ye}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ye=R;R=G;try{return ae()}finally{R=ye}},i.unstable_scheduleCallback=function(G,ae,ye){var Be=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,G){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ye+$e,G={id:E++,callback:ae,priorityLevel:G,startTime:ye,expirationTime:$e,sortIndex:-1},ye>Be?(G.sortIndex=ye,e(g,G),n(p)===null&&G===n(g)&&(Q?(ee(D),D=-1):Q=!0,ze(he,ye-Be))):(G.sortIndex=$e,e(p,G),z||k||(z=!0,se||(se=!0,V()))),G},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(G){var ae=R;return function(){var ye=R;R=ae;try{return G.apply(this,arguments)}finally{R=ye}}}}(Bm)),Bm}var gE;function w1(){return gE||(gE=1,zm.exports=T1()),zm.exports}var qm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function S1(){if(yE)return Jt;yE=1;var i=Up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var vE;function A1(){if(vE)return qm.exports;vE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=S1(),qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function b1(){if(_E)return $l;_E=1;var i=w1(),e=Up(),n=A1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case Y:return"Profiler";case F:return"StrictMode";case he:return"Suspense";case se:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case X:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return r=t.displayName||null,r!==null?r:De(t.type)||"Memo";case b:r=t._payload,t=t._init;try{return De(t(r))}catch{}}return null}var ze=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],$e=-1;function P(t){return{current:t}}function J(t){0>$e||(t.current=Be[$e],Be[$e]=null,$e--)}function re(t,r){$e++,Be[$e]=t.current,t.current=r}var de=P(null),Te=P(null),Ie=P(null),Le=P(null);function Ut(t,r){switch(re(Ie,r),re(Te,t),re(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=M_(r),t=V_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(de),re(de,t)}function ot(){J(de),J(Te),J(Ie)}function hi(t){t.memoizedState!==null&&re(Le,t);var r=de.current,a=V_(r,t.type);r!==a&&(re(Te,t),re(de,a))}function Vi(t){Te.current===t&&(J(de),J(Te)),Le.current===t&&(J(Le),Bl._currentValue=ye)}var Ps,xa;function Wn(t){if(Ps===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ps=r&&r[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+t+xa}var Ls=!1;function ka(t,r){if(!t||Ls)return"";Ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var H=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){H=$}t.call(te.prototype)}}else{try{throw Error()}catch($){H=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var x=v.split(`
`),q=w.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===q.length)for(l=x.length-1,f=q.length-1;1<=l&&0<=f&&x[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==q[f]){var W=`
`+x[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ls=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wn(a):""}function Mf(t,r){switch(t.tag){case 26:case 27:case 5:return Wn(t.type);case 16:return Wn("Lazy");case 13:return t.child!==r&&r!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return ka(t.type,!1);case 11:return ka(t.type.render,!1);case 1:return ka(t.type,!0);case 31:return Wn("Activity");default:return""}}function Pu(t){try{var r="",a=null;do r+=Mf(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ma=Object.prototype.hasOwnProperty,Us=i.unstable_scheduleCallback,Va=i.unstable_cancelCallback,Vf=i.unstable_shouldYield,Ho=i.unstable_requestPaint,jt=i.unstable_now,Lu=i.unstable_getCurrentPriorityLevel,Nt=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,Pi=i.unstable_NormalPriority,Uu=i.unstable_LowPriority,Go=i.unstable_IdlePriority,Pf=i.log,js=i.unstable_setDisableYieldValue,wr=null,Xt=null;function Mn(t){if(typeof Pf=="function"&&js(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(wr,t)}catch{}}var sn=Math.clz32?Math.clz32:ju,Lf=Math.log,$o=Math.LN2;function ju(t){return t>>>=0,t===0?32:31-(Lf(t)/$o|0)|0}var zs=256,fi=262144,Sr=4194304;function Jn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=Jn(l):(v&=w,v!==0?f=Jn(v):a||(a=w&~t,a!==0&&(f=Jn(a))))):(w=l&~d,w!==0?f=Jn(w):v!==0?f=Jn(v):a||(a=l&~t,a!==0&&(f=Jn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Ar(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Pa(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var t=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),t}function Li(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function br(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zt(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-sn(a),te=1<<W;w[W]=0,x[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var $=H[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&Qo(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Qo(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-sn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Rr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-sn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Ir(t,r){var a=r&-r;return a=(a&42)!==0?1:Yo(a),(a&(t.suspendedLanes|r))!==0?0:a}function Yo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ui(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:rE(t.type))}function zu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var di=Math.random().toString(36).slice(2),ht="__reactFiber$"+di,Bt="__reactProps$"+di,mi="__reactContainer$"+di,Cr="__reactEvents$"+di,pi="__reactListeners$"+di,Bu="__reactHandles$"+di,Wo="__reactResources$"+di,ji="__reactMarker$"+di;function Bs(t){delete t[ht],delete t[Bt],delete t[Cr],delete t[pi],delete t[Bu]}function zi(t){var r=t[ht];if(r)return r;for(var a=t.parentNode;a;){if(r=a[mi]||a[ht]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=q_(t);t!==null;){if(a=t[ht])return a;t=q_(t)}return r}t=a,a=t.parentNode}return null}function Bi(t){if(t=t[ht]||t[mi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function qs(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zn(t){var r=t[Wo];return r||(r=t[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(t){t[ji]=!0}var La=new Set,Nr={};function an(t,r){gi(t,r),gi(t+"Capture",r)}function gi(t,r){for(Nr[t]=r,t=0;t<r.length;t++)La.add(r[t])}var Uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function qu(t){return Ma.call(Zo,t)?!0:Ma.call(Jo,t)?!1:Uf.test(t)?Zo[t]=!0:(Jo[t]=!0,!1)}function Dr(t,r,a){if(qu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Or(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Pn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jf(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ua(t){if(!t._valueTracker){var r=Fu(t)?"checked":"value";t._valueTracker=jf(t,r,""+t[r])}}function el(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Fu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qi=/[\n"\\]/g;function ft(t){return t.replace(qi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xr(t,r,a,l,f,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?za(t,v,on(r)):a!=null?za(t,v,on(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function Fs(t,r,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ua(t);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ua(t)}function za(t,r,a){r==="number"&&ja(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function qe(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Hs(t,r,a){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+on(a):""}function kr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ze(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=on(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ua(t)}function Ln(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var zf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||zf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Hu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&tl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&tl(t,d,r[d])}function nl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(t){return qf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kt(){}var Ba=null;function qa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,wn=null;function Gu(t){var r=Bi(t);if(r&&(t=r.stateNode)){var a=t[Bt]||null;e:switch(t=r.stateNode,r.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ft(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Bt]||null;if(!f)throw Error(s(90));xr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&el(l)}break e;case"textarea":Hs(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&qe(t,!!a.multiple,r,!1)}}}var il=!1;function $u(t,r,a){if(il)return t(r,a);il=!0;try{var l=t(r);return l}finally{if(il=!1,(Fi!==null||wn!==null)&&(qc(),Fi&&(r=Fi,t=wn,wn=Fi=null,Gu(r),t)))for(r=0;r<t.length;r++)Gu(t[r])}}function hn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Bt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(ei)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){rl=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{rl=!1}var Sn=null,Fa=null,_i=null;function Mr(){if(_i)return _i;var t,r=Fa,a=r.length,l,f="value"in Sn?Sn.value:Sn.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return _i=f.slice(t,1<l?1-l:void 0)}function Gs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Vr(){return!0}function nt(){return!1}function Wt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vr:nt,this.isPropagationStopped=nt,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),r}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=Wt(Hi),Pr=T({},Hi,{view:0,detail:0}),Ku=Wt(Pr),Lr,Ha,ln,Ks=T({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&t.type==="mousemove"?(Lr=t.screenX-ln.screenX,Ha=t.screenY-ln.screenY):Ha=Lr=0,ln=t),Lr)},movementY:function(t){return"movementY"in t?t.movementY:Ha}}),Qu=Wt(Ks),Qs=T({},Ks,{dataTransfer:0}),Yu=Wt(Qs),sl=T({},Pr,{relatedTarget:0}),Ur=Wt(sl),Xu=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ga=Wt(Xu),Ff=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=Wt(Ff),Ys=T({},Hi,{data:0}),al=Wt(Ys),Ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ll[t])?!!r[t]:!1}function jr(){return Zu}var ec=T({},Pr,{key:function(t){if(t.key){var r=Ju[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ol[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tc=Wt(ec),Gi=T({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Wt(Gi),nc=T({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),ic=Wt(nc),rc=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$a=Wt(rc),un=T({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sc=Wt(un),ac=T({},Hi,{newState:0,oldState:0}),zr=Wt(ac),c=[9,13,27,32],y=ei&&"CompositionEvent"in window,_=null;ei&&"documentMode"in document&&(_=document.documentMode);var A=ei&&"TextEvent"in window&&!_,j=ei&&(!y||_&&8<_&&11>=_),K=" ",oe=!1;function Ke(t,r){switch(t){case"keyup":return c.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ce=!1;function Mt(t,r){switch(t){case"compositionend":return Tt(r);case"keypress":return r.which!==32?null:(oe=!0,K);case"textInput":return t=r.data,t===K&&oe?null:t;default:return null}}function Vt(t,r){if(Ce)return t==="compositionend"||!y&&Ke(t,r)?(t=Mr(),_i=Fa=Sn=null,Ce=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return j&&r.locale!=="ko"?null:r.data;default:return null}}var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fn(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Br[t.type]:r==="textarea"}function Xs(t,r,a,l){Fi?wn?wn.push(l):wn=[l]:Fi=l,r=Yc(r,"onChange"),0<r.length&&(a=new $s("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var $i=null,cl=null;function HA(t){C_(t,0)}function oc(t){var r=qs(t);if(el(r))return t}function Kg(t,r){if(t==="change")return r}var Qg=!1;if(ei){var Hf;if(ei){var Gf="oninput"in document;if(!Gf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Gf=typeof Yg.oninput=="function"}Hf=Gf}else Hf=!1;Qg=Hf&&(!document.documentMode||9<document.documentMode)}function Xg(){$i&&($i.detachEvent("onpropertychange",Wg),cl=$i=null)}function Wg(t){if(t.propertyName==="value"&&oc(cl)){var r=[];Xs(r,cl,t,qa(t)),$u(HA,r)}}function GA(t,r,a){t==="focusin"?(Xg(),$i=r,cl=a,$i.attachEvent("onpropertychange",Wg)):t==="focusout"&&Xg()}function $A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(cl)}function KA(t,r){if(t==="click")return oc(r)}function QA(t,r){if(t==="input"||t==="change")return oc(r)}function YA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:YA;function hl(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ma.call(r,f)||!An(t[f],r[f]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,r){var a=Jg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jg(a)}}function ey(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ey(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ty(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ja(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ja(t.document)}return r}function $f(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var XA=ei&&"documentMode"in document&&11>=document.documentMode,Ka=null,Kf=null,fl=null,Qf=!1;function ny(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||Ka==null||Ka!==ja(l)||(l=Ka,"selectionStart"in l&&$f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Yc(Kf,"onSelect"),0<l.length&&(r=new $s("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ka)))}function Ws(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Qa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Yf={},iy={};ei&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function Js(t){if(Yf[t])return Yf[t];if(!Qa[t])return t;var r=Qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in iy)return Yf[t]=r[a];return t}var ry=Js("animationend"),sy=Js("animationiteration"),ay=Js("animationstart"),WA=Js("transitionrun"),JA=Js("transitionstart"),ZA=Js("transitioncancel"),oy=Js("transitionend"),ly=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function ti(t,r){ly.set(t,r),an(r,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ya=0,Wf=0;function uc(){for(var t=Ya,r=Wf=Ya=0;r<t;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var d=Un[r];if(Un[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&uy(a,f,d)}}function cc(t,r,a,l){Un[Ya++]=t,Un[Ya++]=r,Un[Ya++]=a,Un[Ya++]=l,Wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jf(t,r,a,l){return cc(t,r,a,l),hc(t)}function Zs(t,r){return cc(t,null,null,r),hc(t)}function uy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-sn(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function hc(t){if(50<Ml)throw Ml=0,om=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function eb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,r,a,l){return new eb(t,r,a,l)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,r){var a=t.alternate;return a===null?(a=bn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function fc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Zf(t)&&(v=1);else if(typeof t=="string")v=s1(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=bn(31,a,r,f),t.elementType=I,t.lanes=d,t;case Q:return ea(a.children,f,d,r);case F:v=8,f|=24;break;case Y:return t=bn(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case he:return t=bn(13,a,r,f),t.elementType=he,t.lanes=d,t;case se:return t=bn(19,a,r,f),t.elementType=se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:v=10;break e;case ee:v=9;break e;case le:v=11;break e;case D:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=bn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function ea(t,r,a,l){return t=bn(7,t,l,r),t.lanes=a,t}function ed(t,r,a){return t=bn(6,t,null,r),t.lanes=a,t}function hy(t){var r=bn(18,null,null,0);return r.stateNode=t,r}function td(t,r,a){return r=bn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var fy=new WeakMap;function jn(t,r){if(typeof t=="object"&&t!==null){var a=fy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Pu(r)},fy.set(t,r),r)}return{value:t,source:r,stack:Pu(r)}}var Wa=[],Ja=0,dc=null,dl=0,zn=[],Bn=0,qr=null,Ei=1,Ti="";function Qi(t,r){Wa[Ja++]=dl,Wa[Ja++]=dc,dc=t,dl=r}function dy(t,r,a){zn[Bn++]=Ei,zn[Bn++]=Ti,zn[Bn++]=qr,qr=t;var l=Ei;t=Ti;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var d=32-sn(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ei=1<<32-sn(r)+f|a<<f|l,Ti=d+t}else Ei=1<<d|a<<f|l,Ti=t}function nd(t){t.return!==null&&(Qi(t,1),dy(t,1,0))}function id(t){for(;t===dc;)dc=Wa[--Ja],Wa[Ja]=null,dl=Wa[--Ja],Wa[Ja]=null;for(;t===qr;)qr=zn[--Bn],zn[Bn]=null,Ti=zn[--Bn],zn[Bn]=null,Ei=zn[--Bn],zn[Bn]=null}function my(t,r){zn[Bn++]=Ei,zn[Bn++]=Ti,zn[Bn++]=qr,Ei=r.id,Ti=r.overflow,qr=t}var qt=null,it=null,Ue=!1,Fr=null,qn=!1,rd=Error(s(519));function Hr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(jn(r,t)),rd}function py(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[ht]=t,r[Bt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Pl.length;a++)xe(Pl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),Fs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||x_(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=kt),r=!0):r=!1,r||Hr(t,!0)}function gy(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:qt=qt.return}}function Za(t){if(t!==qt)return!1;if(!Ue)return gy(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wm(t.type,t.memoizedProps)),a=!a),a&&it&&Hr(t),gy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=B_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=B_(t)}else r===27?(r=it,rs(t.type)?(t=Im,Im=null,it=t):it=r):it=qt?Hn(t.stateNode.nextSibling):null;return!0}function ta(){it=qt=null,Ue=!1}function sd(){var t=Fr;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Fr=null),t}function ml(t){Fr===null?Fr=[t]:Fr.push(t)}var ad=P(null),na=null,Yi=null;function Gr(t,r,a){re(ad,r._currentValue),r._currentValue=a}function Xi(t){t._currentValue=ad.current,J(ad)}function od(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ld(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var x=0;x<r.length;x++)if(w.context===r[x]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),od(d.return,a,t),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),od(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function eo(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;An(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===Le.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}f=f.return}t!==null&&ld(r,t,a,l),r.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return yy(na,t)}function pc(t,r){return na===null&&ia(t),yy(t,r)}function yy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Yi=Yi.next=r;return a}var tb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},nb=i.unstable_scheduleCallback,ib=i.unstable_NormalPriority,wt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new tb,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&nb(ib,function(){t.controller.abort()})}var gl=null,cd=0,to=0,no=null;function rb(t,r){if(gl===null){var a=gl=[];cd=0,to=dm(),no={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,r.then(vy,vy),r}function vy(){if(--cd===0&&gl!==null){no!==null&&(no.status="fulfilled");var t=gl;gl=null,to=0,no=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function sb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _y=G.S;G.S=function(t,r){n_=jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rb(t,r),_y!==null&&_y(t,r)};var ra=P(null);function hd(){var t=ra.current;return t!==null?t:et.pooledCache}function gc(t,r){r===null?re(ra,ra.current):re(ra,r.pool)}function Ey(){var t=hd();return t===null?null:{parent:wt._currentValue,pool:t}}var io=Error(s(460)),fd=Error(s(474)),yc=Error(s(542)),vc={then:function(){}};function Ty(t){return t=t.status,t==="fulfilled"||t==="rejected"}function wy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(kt,kt),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t;default:if(typeof r.status=="string")r.then(kt,kt);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t}throw aa=r,io}}function sa(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,io):a}}var aa=null;function Sy(){if(aa===null)throw Error(s(459));var t=aa;return aa=null,t}function Ay(t){if(t===io||t===yc)throw Error(s(483))}var ro=null,yl=0;function _c(t){var r=yl;return yl+=1,ro===null&&(ro=[]),wy(ro,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ec(t,r){throw r.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function by(t){function r(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Ki(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,B,Z){return M===null||M.tag!==6?(M=ed(B,U.mode,Z),M.return=U,M):(M=f(M,B),M.return=U,M)}function x(U,M,B,Z){var pe=B.type;return pe===Q?W(U,M,B.props.children,Z,B.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&sa(pe)===M.type)?(M=f(M,B.props),vl(M,B),M.return=U,M):(M=fc(B.type,B.key,B.props,null,U.mode,Z),vl(M,B),M.return=U,M)}function q(U,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=td(B,U.mode,Z),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function W(U,M,B,Z,pe){return M===null||M.tag!==7?(M=ea(B,U.mode,Z,pe),M.return=U,M):(M=f(M,B),M.return=U,M)}function te(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ed(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=fc(M.type,M.key,M.props,null,U.mode,B),vl(B,M),B.return=U,B;case z:return M=td(M,U.mode,B),M.return=U,M;case b:return M=sa(M),te(U,M,B)}if(ze(M)||V(M))return M=ea(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return te(U,_c(M),B);if(M.$$typeof===X)return te(U,pc(U,M),B);Ec(U,M)}return null}function H(U,M,B,Z){var pe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:w(U,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===pe?x(U,M,B,Z):null;case z:return B.key===pe?q(U,M,B,Z):null;case b:return B=sa(B),H(U,M,B,Z)}if(ze(B)||V(B))return pe!==null?null:W(U,M,B,Z,null);if(typeof B.then=="function")return H(U,M,_c(B),Z);if(B.$$typeof===X)return H(U,M,pc(U,B),Z);Ec(U,B)}return null}function $(U,M,B,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,w(M,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return U=U.get(Z.key===null?B:Z.key)||null,x(M,U,Z,pe);case z:return U=U.get(Z.key===null?B:Z.key)||null,q(M,U,Z,pe);case b:return Z=sa(Z),$(U,M,B,Z,pe)}if(ze(Z)||V(Z))return U=U.get(B)||null,W(M,U,Z,pe,null);if(typeof Z.then=="function")return $(U,M,B,_c(Z),pe);if(Z.$$typeof===X)return $(U,M,B,pc(M,Z),pe);Ec(M,Z)}return null}function fe(U,M,B,Z){for(var pe=null,Fe=null,me=M,Re=M=0,Me=null;me!==null&&Re<B.length;Re++){me.index>Re?(Me=me,me=null):Me=me.sibling;var He=H(U,me,B[Re],Z);if(He===null){me===null&&(me=Me);break}t&&me&&He.alternate===null&&r(U,me),M=d(He,M,Re),Fe===null?pe=He:Fe.sibling=He,Fe=He,me=Me}if(Re===B.length)return a(U,me),Ue&&Qi(U,Re),pe;if(me===null){for(;Re<B.length;Re++)me=te(U,B[Re],Z),me!==null&&(M=d(me,M,Re),Fe===null?pe=me:Fe.sibling=me,Fe=me);return Ue&&Qi(U,Re),pe}for(me=l(me);Re<B.length;Re++)Me=$(me,U,Re,B[Re],Z),Me!==null&&(t&&Me.alternate!==null&&me.delete(Me.key===null?Re:Me.key),M=d(Me,M,Re),Fe===null?pe=Me:Fe.sibling=Me,Fe=Me);return t&&me.forEach(function(us){return r(U,us)}),Ue&&Qi(U,Re),pe}function ve(U,M,B,Z){if(B==null)throw Error(s(151));for(var pe=null,Fe=null,me=M,Re=M=0,Me=null,He=B.next();me!==null&&!He.done;Re++,He=B.next()){me.index>Re?(Me=me,me=null):Me=me.sibling;var us=H(U,me,He.value,Z);if(us===null){me===null&&(me=Me);break}t&&me&&us.alternate===null&&r(U,me),M=d(us,M,Re),Fe===null?pe=us:Fe.sibling=us,Fe=us,me=Me}if(He.done)return a(U,me),Ue&&Qi(U,Re),pe;if(me===null){for(;!He.done;Re++,He=B.next())He=te(U,He.value,Z),He!==null&&(M=d(He,M,Re),Fe===null?pe=He:Fe.sibling=He,Fe=He);return Ue&&Qi(U,Re),pe}for(me=l(me);!He.done;Re++,He=B.next())He=$(me,U,Re,He.value,Z),He!==null&&(t&&He.alternate!==null&&me.delete(He.key===null?Re:He.key),M=d(He,M,Re),Fe===null?pe=He:Fe.sibling=He,Fe=He);return t&&me.forEach(function(g1){return r(U,g1)}),Ue&&Qi(U,Re),pe}function Ze(U,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===Q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var pe=B.key;M!==null;){if(M.key===pe){if(pe=B.type,pe===Q){if(M.tag===7){a(U,M.sibling),Z=f(M,B.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===b&&sa(pe)===M.type){a(U,M.sibling),Z=f(M,B.props),vl(Z,B),Z.return=U,U=Z;break e}a(U,M);break}else r(U,M);M=M.sibling}B.type===Q?(Z=ea(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=fc(B.type,B.key,B.props,null,U.mode,Z),vl(Z,B),Z.return=U,U=Z)}return v(U);case z:e:{for(pe=B.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),Z=f(M,B.children||[]),Z.return=U,U=Z;break e}else{a(U,M);break}else r(U,M);M=M.sibling}Z=td(B,U.mode,Z),Z.return=U,U=Z}return v(U);case b:return B=sa(B),Ze(U,M,B,Z)}if(ze(B))return fe(U,M,B,Z);if(V(B)){if(pe=V(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),ve(U,M,B,Z)}if(typeof B.then=="function")return Ze(U,M,_c(B),Z);if(B.$$typeof===X)return Ze(U,M,pc(U,B),Z);Ec(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),Z=f(M,B),Z.return=U,U=Z):(a(U,M),Z=ed(B,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,M)}return function(U,M,B,Z){try{yl=0;var pe=Ze(U,M,B,Z);return ro=null,pe}catch(me){if(me===io||me===yc)throw me;var Fe=bn(29,me,null,U.mode);return Fe.lanes=Z,Fe.return=U,Fe}finally{}}}var oa=by(!0),Ry=by(!1),$r=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=hc(t),uy(t,null,a),r}return cc(t,l,r,a),hc(t)}function _l(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Rr(t,a)}}function pd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var gd=!1;function El(){if(gd){var t=no;if(t!==null)throw t}}function Tl(t,r,a,l){gd=!1;var f=t.updateQueue;$r=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var x=w,q=x.next;x.next=null,v===null?d=q:v.next=q,v=x;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==v&&(w===null?W.firstBaseUpdate=q:w.next=q,W.lastBaseUpdate=x))}if(d!==null){var te=f.baseState;v=0,W=q=x=null,w=d;do{var H=w.lane&-536870913,$=H!==w.lane;if($?(ke&H)===H:(l&H)===H){H!==0&&H===to&&(gd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,ve=w;H=r;var Ze=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){te=fe.call(Ze,te,H);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,H=typeof fe=="function"?fe.call(Ze,te,H):fe,H==null)break e;te=T({},te,H);break e;case 2:$r=!0}}H=w.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[H]:$.push(H))}else $={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(q=W=$,x=te):W=W.next=$,v|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);W===null&&(x=te),f.baseState=x,f.firstBaseUpdate=q,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Zr|=v,t.lanes=v,t.memoizedState=te}}function Iy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Cy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],r)}var so=P(null),Tc=P(0);function Ny(t,r){t=sr,re(Tc,t),re(so,r),sr=t|r.baseLanes}function yd(){re(Tc,sr),re(so,so.current)}function vd(){sr=Tc.current,J(so),J(Tc)}var Rn=P(null),Fn=null;function Yr(t){var r=t.alternate;re(yt,yt.current&1),re(Rn,t),Fn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Fn=t)}function _d(t){re(yt,yt.current),re(Rn,t),Fn===null&&(Fn=t)}function Dy(t){t.tag===22?(re(yt,yt.current),re(Rn,t),Fn===null&&(Fn=t)):Xr()}function Xr(){re(yt,yt.current),re(Rn,Rn.current)}function In(t){J(Rn),Fn===t&&(Fn=null),J(yt)}var yt=P(0);function wc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bm(a)||Rm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wi=0,be=null,We=null,St=null,Sc=!1,ao=!1,la=!1,Ac=0,wl=0,oo=null,ab=0;function dt(){throw Error(s(321))}function Ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!An(t[a],r[a]))return!1;return!0}function Td(t,r,a,l,f,d){return Wi=d,be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?dv:Pd,la=!1,d=a(l,f),la=!1,ao&&(d=xy(r,a,l,f)),Oy(t),d}function Oy(t){G.H=bl;var r=We!==null&&We.next!==null;if(Wi=0,St=We=be=null,Sc=!1,wl=0,oo=null,r)throw Error(s(300));t===null||At||(t=t.dependencies,t!==null&&mc(t)&&(At=!0))}function xy(t,r,a,l){be=t;var f=0;do{if(ao&&(oo=null),wl=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,St=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=mv,d=r(a,l)}while(ao);return d}function ob(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?Sl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(be.flags|=1024),r}function wd(){var t=Ac!==0;return Ac=0,t}function Sd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Ad(t){if(Sc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Sc=!1}Wi=0,St=We=be=null,ao=!1,wl=Ac=0,oo=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?be.memoizedState=St=t:St=St.next=t,St}function vt(){if(We===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=St===null?be.memoizedState:St.next;if(r!==null)St=r,We=t;else{if(t===null)throw be.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?be.memoizedState=St=t:St=St.next=t}return St}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var r=wl;return wl+=1,oo===null&&(oo=[]),t=wy(oo,t,r),r=be,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?dv:Pd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===X)return Ft(t)}throw Error(s(438,String(t)))}function bd(t){var r=null,a=be.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bc(),be.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=C;return r.index++,a}function Ji(t,r){return typeof r=="function"?r(t):r}function Ic(t){var r=vt();return Rd(r,We,t)}function Rd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=v=null,x=null,q=r,W=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(ke&te)===te:(Wi&te)===te){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===to&&(W=!0);else if((Wi&H)===H){q=q.next,H===to&&(W=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(w=x=te,v=d):x=x.next=te,be.lanes|=H,Zr|=H;te=q.action,la&&a(d,te),d=q.hasEagerState?q.eagerState:a(d,te)}else H={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(w=x=H,v=d):x=x.next=H,be.lanes|=te,Zr|=te;q=q.next}while(q!==null&&q!==r);if(x===null?v=d:x.next=w,!An(d,t.memoizedState)&&(At=!0,W&&(a=no,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Id(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);An(d,r.memoizedState)||(At=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ky(t,r,a){var l=be,f=vt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!An((We||f).memoizedState,a);if(v&&(f.memoizedState=a,At=!0),f=f.queue,Dd(Py.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},Vy.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(Wi&127)!==0||My(l,r,a)}return a}function My(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=be.updateQueue,r===null?(r=bc(),be.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Vy(t,r,a,l){r.value=a,r.getSnapshot=l,Ly(r)&&Uy(t)}function Py(t,r,a){return a(function(){Ly(r)&&Uy(t)})}function Ly(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!An(t,a)}catch{return!0}}function Uy(t){var r=Zs(t,2);r!==null&&yn(r,t,2)}function Cd(t){var r=cn();if(typeof t=="function"){var a=t;if(t=a(),la){Mn(!0);try{a()}finally{Mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},r}function jy(t,r,a,l){return t.baseState=a,Rd(t,We,typeof l=="function"?l:Ji)}function lb(t,r,a,l,f){if(Dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,zy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function zy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=G.T,v={};G.T=v;try{var w=a(f,l),x=G.S;x!==null&&x(v,w),By(t,r,w)}catch(q){Nd(t,r,q)}finally{d!==null&&v.types!==null&&(d.types=v.types),G.T=d}}else try{d=a(f,l),By(t,r,d)}catch(q){Nd(t,r,q)}}function By(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qy(t,r,l)},function(l){return Nd(t,r,l)}):qy(t,r,a)}function qy(t,r,a){r.status="fulfilled",r.value=a,Fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,zy(t,a)))}function Nd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fy(r),r=r.next;while(r!==l)}t.action=null}function Fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Hy(t,r){return r}function Gy(t,r){if(Ue){var a=et.formState;if(a!==null){e:{var l=be;if(Ue){if(it){t:{for(var f=it,d=qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Hn(f.nextSibling),l=f.data==="F!";break e}}Hr(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:r},a.queue=l,a=cv.bind(null,be,l),l.dispatch=a,l=Cd(!1),d=Vd.bind(null,be,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=lb.bind(null,be,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function $y(t){var r=vt();return Ky(r,We,t)}function Ky(t,r,a){if(r=Rd(t,r,Hy)[0],t=Ic(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(v){throw v===io?yc:v}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(be.flags|=2048,lo(9,{destroy:void 0},ub.bind(null,f,a),null)),[l,d,t]}function ub(t,r){t.action=r}function Qy(t){var r=vt(),a=We;if(a!==null)return Ky(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function lo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=be.updateQueue,r===null&&(r=bc(),be.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Yy(){return vt().memoizedState}function Cc(t,r,a,l){var f=cn();be.flags|=t,f.memoizedState=lo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Nc(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&Ed(l,We.memoizedState.deps)?f.memoizedState=lo(r,d,a,l):(be.flags|=t,f.memoizedState=lo(1|r,d,a,l))}function Xy(t,r){Cc(8390656,8,t,r)}function Dd(t,r){Nc(2048,8,t,r)}function cb(t){be.flags|=4;var r=be.updateQueue;if(r===null)r=bc(),be.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Wy(t){var r=vt().memoizedState;return cb({ref:r,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Jy(t,r){return Nc(4,2,t,r)}function Zy(t,r){return Nc(4,4,t,r)}function ev(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function tv(t,r,a){a=a!=null?a.concat([t]):null,Nc(4,4,ev.bind(null,r,t),a)}function Od(){}function nv(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function iv(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=t(),la){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l}function xd(t,r,a){return a===void 0||(Wi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=r_(),be.lanes|=t,Zr|=t,a)}function rv(t,r,a,l){return An(a,r)?a:so.current!==null?(t=xd(t,a,l),An(t,r)||(At=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(ke&261930)===0?(At=!0,t.memoizedState=a):(t=r_(),be.lanes|=t,Zr|=t,r)}function sv(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=G.T,w={};G.T=w,Vd(t,!1,r,a);try{var x=f(),q=G.S;if(q!==null&&q(w,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=sb(x,l);Al(t,r,W,Dn(t))}else Al(t,r,l,Dn(t))}catch(te){Al(t,r,{then:function(){},status:"rejected",reason:te},Dn())}finally{ae.p=d,v!==null&&w.types!==null&&(v.types=w.types),G.T=v}}function hb(){}function kd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=av(t).queue;sv(t,f,r,ye,a===null?hb:function(){return ov(t),a(l)})}function av(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ov(t){var r=av(t);r.next===null&&(r=t.alternate.memoizedState),Al(t,r.next.queue,{},Dn())}function Md(){return Ft(Bl)}function lv(){return vt().memoizedState}function uv(){return vt().memoizedState}function fb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();t=Kr(a);var l=Qr(r,t,a);l!==null&&(yn(l,r,a),_l(l,r,a)),r={cache:ud()},t.payload=r;return}r=r.return}}function db(t,r,a){var l=Dn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(t)?hv(r,a):(a=Jf(t,r,a,l),a!==null&&(yn(a,t,l),fv(a,r,l)))}function cv(t,r,a){var l=Dn();Al(t,r,a,l)}function Al(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(t))hv(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,An(w,v))return cc(t,r,f,0),et===null&&uc(),!1}catch{}finally{}if(a=Jf(t,r,f,l),a!==null)return yn(a,t,l),fv(a,r,l),!0}return!1}function Vd(t,r,a,l){if(l={lane:2,revertLane:dm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(t)){if(r)throw Error(s(479))}else r=Jf(t,a,l,2),r!==null&&yn(r,t,2)}function Dc(t){var r=t.alternate;return t===be||r!==null&&r===be}function hv(t,r){ao=Sc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function fv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Rr(t,a)}}var bl={readContext:Ft,use:Rc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};bl.useEffectEvent=dt;var dv={readContext:Ft,use:Rc,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:Xy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Cc(4194308,4,ev.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Cc(4194308,4,t,r)},useInsertionEffect:function(t,r){Cc(4,2,t,r)},useMemo:function(t,r){var a=cn();r=r===void 0?null:r;var l=t();if(la){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=cn();if(a!==void 0){var f=a(r);if(la){Mn(!0);try{a(r)}finally{Mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=db.bind(null,be,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=Cd(t);var r=t.queue,a=cv.bind(null,be,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Od,useDeferredValue:function(t,r){var a=cn();return xd(a,t,r)},useTransition:function(){var t=Cd(!1);return t=sv.bind(null,be,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=be,f=cn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(ke&127)!==0||My(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Xy(Py.bind(null,l,d,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},Vy.bind(null,l,d,a,r),null),a},useId:function(){var t=cn(),r=et.identifierPrefix;if(Ue){var a=Ti,l=Ei;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=ab++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Md,useFormState:Gy,useActionState:Gy,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vd.bind(null,be,!0,a),a.dispatch=r,[t,r]},useMemoCache:bd,useCacheRefresh:function(){return cn().memoizedState=fb.bind(null,be)},useEffectEvent:function(t){var r=cn(),a={impl:t};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:Ft,use:Rc,useCallback:nv,useContext:Ft,useEffect:Dd,useImperativeHandle:tv,useInsertionEffect:Jy,useLayoutEffect:Zy,useMemo:iv,useReducer:Ic,useRef:Yy,useState:function(){return Ic(Ji)},useDebugValue:Od,useDeferredValue:function(t,r){var a=vt();return rv(a,We.memoizedState,t,r)},useTransition:function(){var t=Ic(Ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:ky,useId:lv,useHostTransitionStatus:Md,useFormState:$y,useActionState:$y,useOptimistic:function(t,r){var a=vt();return jy(a,We,t,r)},useMemoCache:bd,useCacheRefresh:uv};Pd.useEffectEvent=Wy;var mv={readContext:Ft,use:Rc,useCallback:nv,useContext:Ft,useEffect:Dd,useImperativeHandle:tv,useInsertionEffect:Jy,useLayoutEffect:Zy,useMemo:iv,useReducer:Id,useRef:Yy,useState:function(){return Id(Ji)},useDebugValue:Od,useDeferredValue:function(t,r){var a=vt();return We===null?xd(a,t,r):rv(a,We.memoizedState,t,r)},useTransition:function(){var t=Id(Ji)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:ky,useId:lv,useHostTransitionStatus:Md,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,r){var a=vt();return We!==null?jy(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bd,useCacheRefresh:uv};mv.useEffectEvent=Wy;function Ld(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ud={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Dn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=Qr(t,f,l),r!==null&&(yn(r,t,l),_l(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Dn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qr(t,f,l),r!==null&&(yn(r,t,l),_l(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Dn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(t,l,a),r!==null&&(yn(r,t,a),_l(r,t,a))}};function pv(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!hl(a,l)||!hl(f,d):!0}function gv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ud.enqueueReplaceState(r,r.state,null)}function ua(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function yv(t){lc(t)}function vv(t){console.error(t)}function _v(t){lc(t)}function Oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ev(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(t,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,r)},a}function Tv(t){return t=Kr(t),t.tag=3,t}function wv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Ev(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ev(r,a,l),typeof f!="function"&&(es===null?es=new Set([this]):es.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function mb(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&eo(r,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Fc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(t,l,f)),!1;case 22:return a.flags|=65536,l===vc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(t,l,f)),!1}throw Error(s(435,a.tag))}return cm(t,l,f),Fc(),!1}if(Ue)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==rd&&(t=Error(s(422),{cause:l}),ml(jn(t,a)))):(l!==rd&&(r=Error(s(423),{cause:l}),ml(jn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=jn(l,a),f=jd(t.stateNode,l,f),pd(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),kl===null?kl=[d]:kl.push(d),mt!==4&&(mt=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=jd(a.stateNode,l,t),pd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Tv(f),wv(f,t,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var zd=Error(s(461)),At=!1;function Ht(t,r,a,l){r.child=t===null?Ry(r,null,a,l):oa(r,t.child,a,l)}function Sv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return ia(r),l=Td(t,r,a,v,d,f),w=wd(),t!==null&&!At?(Sd(t,r,f),Zi(t,r,f)):(Ue&&w&&nd(r),r.flags|=1,Ht(t,r,l,f),r.child)}function Av(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,bv(t,r,d,l,f)):(t=fc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Qd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(v,l)&&t.ref===r.ref)return Zi(t,r,f)}return r.flags|=1,t=Ki(d,l),t.ref=r.ref,t.return=r,r.child=t}function bv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===r.ref)if(At=!1,r.pendingProps=l=d,Qd(t,f))(t.flags&131072)!==0&&(At=!0);else return r.lanes=t.lanes,Zi(t,r,f)}return Bd(t,r,a,l,f)}function Rv(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Iv(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(r,d!==null?d.cachePool:null),d!==null?Ny(r,d):yd(),Dy(r);else return l=r.lanes=536870912,Iv(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(r,d.cachePool),Ny(r,d),Xr(),r.memoizedState=null):(t!==null&&gc(r,null),yd(),Xr());return Ht(t,r,f,a),r.child}function Rl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Iv(t,r,a,l,f){var d=hd();return d=d===null?null:{parent:wt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(r,null),yd(),Dy(r),t!==null&&eo(t,r,l,!0),r.childLanes=f,null}function xc(t,r){return r=Mc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Cv(t,r,a){return oa(r,t.child,null,a),t=xc(r,r.pendingProps),t.flags|=2,In(r),r.memoizedState=null,t}function pb(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=xc(r,l),r.lanes=536870912,Rl(null,t);if(_d(r),(t=it)?(t=z_(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=r,r.child=a,qt=r,it=null)):t=null,t===null)throw Hr(r);return r.lanes=536870912,null}return xc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(_d(r),f)if(r.flags&256)r.flags&=-257,r=Cv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(At||eo(t,r,a,!1),f=(a&t.childLanes)!==0,At||f){if(l=et,l!==null&&(v=Ir(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Zs(t,v),yn(l,t,v),zd;Fc(),r=Cv(t,r,a)}else t=d.treeContext,it=Hn(v.nextSibling),qt=r,Ue=!0,Fr=null,qn=!1,t!==null&&my(r,t),r=xc(r,l),r.flags|=4096;return r}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function kc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Bd(t,r,a,l,f){return ia(r),a=Td(t,r,a,l,void 0,f),l=wd(),t!==null&&!At?(Sd(t,r,f),Zi(t,r,f)):(Ue&&l&&nd(r),r.flags|=1,Ht(t,r,a,f),r.child)}function Nv(t,r,a,l,f,d){return ia(r),r.updateQueue=null,a=xy(r,l,a,f),Oy(t),l=wd(),t!==null&&!At?(Sd(t,r,d),Zi(t,r,d)):(Ue&&l&&nd(r),r.flags|=1,Ht(t,r,a,d),r.child)}function Dv(t,r,a,l,f){if(ia(r),r.stateNode===null){var d=Xa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},dd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):Xa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ld(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ud.enqueueReplaceState(d,d.state,null),Tl(r,l,d,f),El(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,x=ua(a,w);d.props=x;var q=d.context,W=a.contextType;v=Xa,typeof W=="object"&&W!==null&&(v=Ft(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||q!==v)&&gv(r,d,l,v),$r=!1;var H=r.memoizedState;d.state=H,Tl(r,l,d,f),El(),q=r.memoizedState,w||H!==q||$r?(typeof te=="function"&&(Ld(r,a,te,l),q=r.memoizedState),(x=$r||pv(r,a,x,l,H,q,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,md(t,r),v=r.memoizedProps,W=ua(a,v),d.props=W,te=r.pendingProps,H=d.context,q=a.contextType,x=Xa,typeof q=="object"&&q!==null&&(x=Ft(q)),w=a.getDerivedStateFromProps,(q=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||H!==x)&&gv(r,d,l,x),$r=!1,H=r.memoizedState,d.state=H,Tl(r,l,d,f),El();var $=r.memoizedState;v!==te||H!==$||$r||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof w=="function"&&(Ld(r,a,w,l),$=r.memoizedState),(W=$r||pv(r,a,W,l,H,$,x)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,kc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=oa(r,t.child,null,f),r.child=oa(r,null,a,f)):Ht(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Zi(t,r,f),t}function Ov(t,r,a,l){return ta(),r.flags|=256,Ht(t,r,a,l),r.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Ey()}}function Hd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function xv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(f?Yr(r):Xr(),(t=it)?(t=z_(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:qr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=hy(t),a.return=r,r.child=a,qt=r,it=null)):t=null,t===null)throw Hr(r);return Rm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Xr(),f=r.mode,w=Mc({mode:"hidden",children:w},f),l=ea(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Fd(a),l.childLanes=Hd(t,v,a),r.memoizedState=qd,Rl(null,l)):(Yr(r),Gd(r,w))}var x=t.memoizedState;if(x!==null&&(w=x.dehydrated,w!==null)){if(d)r.flags&256?(Yr(r),r.flags&=-257,r=$d(t,r,a)):r.memoizedState!==null?(Xr(),r.child=t.child,r.flags|=128,r=null):(Xr(),w=l.fallback,f=r.mode,l=Mc({mode:"visible",children:l.children},f),w=ea(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,oa(r,t.child,null,a),l=r.child,l.memoizedState=Fd(a),l.childLanes=Hd(t,v,a),r.memoizedState=qd,r=Rl(null,l));else if(Yr(r),Rm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),r=$d(t,r,a)}else if(At||eo(t,r,a,!1),v=(a&t.childLanes)!==0,At||v){if(v=et,v!==null&&(l=Ir(v,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Zs(t,l),yn(v,t,l),zd;bm(w)||Fc(),r=$d(t,r,a)}else bm(w)?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,it=Hn(w.nextSibling),qt=r,Ue=!0,Fr=null,qn=!1,t!==null&&my(r,t),r=Gd(r,l.children),r.flags|=4096);return r}return f?(Xr(),w=l.fallback,f=r.mode,x=t.child,q=x.sibling,l=Ki(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?w=Ki(q,w):(w=ea(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Rl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Fd(a):(f=w.cachePool,f!==null?(x=wt._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Ey(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Hd(t,v,a),r.memoizedState=qd,Rl(t.child,l)):(Yr(r),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Gd(t,r){return r=Mc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Mc(t,r){return t=bn(22,t,null,r),t.lanes=0,t}function $d(t,r,a){return oa(r,t.child,null,a),t=Gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function kv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),od(t.return,r,a)}function Kd(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Mv(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=yt.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,re(yt,v),Ht(t,r,l,a),l=Ue?dl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,a,r);else if(t.tag===19)kv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Kd(r,!0,a,null,d,l);break;case"together":Kd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Zi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(eo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ki(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Qd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function gb(t,r,a){switch(r.tag){case 3:Ut(r,r.stateNode.containerInfo),Gr(r,wt,t.memoizedState.cache),ta();break;case 27:case 5:hi(r);break;case 4:Ut(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_d(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xv(t,r,a):(Yr(r),t=Zi(t,r,a),t!==null?t.sibling:null);Yr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(eo(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Mv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return r.lanes=0,Rv(t,r,a,r.pendingProps);case 24:Gr(r,wt,t.memoizedState.cache)}return Zi(t,r,a)}function Vv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)At=!0;else{if(!Qd(t,a)&&(r.flags&128)===0)return At=!1,gb(t,r,a);At=(t.flags&131072)!==0}else At=!1,Ue&&(r.flags&1048576)!==0&&dy(r,dl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=sa(r.elementType),r.type=t,typeof t=="function")Zf(t)?(l=ua(t,l),r.tag=1,r=Dv(null,r,t,l,a)):(r.tag=0,r=Bd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){r.tag=11,r=Sv(null,r,t,l,a);break e}else if(f===D){r.tag=14,r=Av(null,r,t,l,a);break e}}throw r=De(t)||t,Error(s(306,r,""))}}return r;case 0:return Bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ua(l,r.pendingProps),Dv(t,r,l,f,a);case 3:e:{if(Ut(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,md(t,r),Tl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Gr(r,wt,l),l!==d.cache&&ld(r,[wt],a,!0),El(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ov(t,r,l,a);break e}else if(l!==f){f=jn(Error(s(424)),r),ml(f),r=Ov(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Hn(t.firstChild),qt=r,Ue=!0,Fr=null,qn=!0,a=Ry(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===f){r=Zi(t,r,a);break e}Ht(t,r,l,a)}r=r.child}return r;case 26:return kc(t,r),t===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,l=Xc(Ie.current).createElement(a),l[ht]=r,l[Bt]=t,Gt(l,a,t),gt(l),r.stateNode=l):r.memoizedState=$_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return hi(r),t===null&&Ue&&(l=r.stateNode=F_(r.type,r.pendingProps,Ie.current),qt=r,qn=!0,f=it,rs(r.type)?(Im=f,it=Hn(l.firstChild)):it=f),Ht(t,r,r.pendingProps.children,a),kc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((f=l=it)&&(l=$b(l,r.type,r.pendingProps,qn),l!==null?(r.stateNode=l,qt=r,it=Hn(l.firstChild),qn=!1,f=!0):f=!1),f||Hr(r)),hi(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,wm(f,d)?l=null:v!==null&&wm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Td(t,r,ob,null,null,a),Bl._currentValue=f),kc(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=Kb(a,r.pendingProps,qn),a!==null?(r.stateNode=a,qt=r,it=null,t=!0):t=!1),t||Hr(r)),null;case 13:return xv(t,r,a);case 4:return Ut(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=oa(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return Sv(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ia(r),f=Ft(f),l=l(f),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return Av(t,r,r.type,r.pendingProps,a);case 15:return bv(t,r,r.type,r.pendingProps,a);case 19:return Mv(t,r,a);case 31:return pb(t,r,a);case 22:return Rv(t,r,a,r.pendingProps);case 24:return ia(r),l=Ft(wt),t===null?(f=hd(),f===null&&(f=et,d=ud(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},dd(r),Gr(r,wt,f)):((t.lanes&a)!==0&&(md(t,r),Tl(r,null,null,a),El()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gr(r,wt,l)):(l=d.cache,Gr(r,wt,l),l!==f.cache&&ld(r,[wt],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function er(t){t.flags|=4}function Yd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(l_())t.flags|=8192;else throw aa=vc,fd}else t.flags&=-16777217}function Pv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!W_(r))if(l_())t.flags|=8192;else throw aa=vc,fd}function Vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ko():536870912,t.lanes|=r,fo|=r)}function Il(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function yb(t,r,a){var l=r.pendingProps;switch(id(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(wt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Za(r)?er(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sd())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(er(r),d!==null?(rt(r),Pv(r,d)):(rt(r),Yd(r,f,null,l,a))):d?d!==t.memoizedState?(er(r),rt(r),Pv(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(r),rt(r),Yd(r,f,t,l,a)),null;case 27:if(Vi(r),a=Ie.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=de.current,Za(r)?py(r):(t=F_(f,l,a),r.stateNode=t,er(r))}return rt(r),null;case 5:if(Vi(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=de.current,Za(r))py(r);else{var v=Xc(Ie.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[ht]=r,d[Bt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Gt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(r)}}return rt(r),Yd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ie.current,Za(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[ht]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Hr(r,!0)}else t=Xc(t).createTextNode(l),t[ht]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Za(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ht]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Za(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ht]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),rt(r),null);case 4:return ot(),t===null&&ym(r.stateNode.containerInfo),rt(r),null;case 10:return Xi(r.type),rt(r),null;case 19:if(J(yt),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Il(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=wc(t),d!==null){for(r.flags|=128,Il(l,!1),t=d.updateQueue,r.updateQueue=t,Vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)cy(a,t),a=a.sibling;return re(yt,yt.current&1|2),Ue&&Qi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&jt()>zc&&(r.flags|=128,f=!0,Il(l,!1),r.lanes=4194304)}else{if(!f)if(t=wc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Vc(r,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(r),null}else 2*jt()-l.renderingStartTime>zc&&a!==536870912&&(r.flags|=128,f=!0,Il(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=jt(),t.sibling=null,a=yt.current,re(yt,f?a&1|2:a&1),Ue&&Qi(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return In(r),vd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(wt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vb(t,r){switch(id(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Xi(wt),ot(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(s(340));ta()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(In(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ta()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(yt),null;case 4:return ot(),null;case 10:return Xi(r.type),null;case 22:case 23:return In(r),vd(),t!==null&&J(ra),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Xi(wt),null;case 25:return null;default:return null}}function Lv(t,r){switch(id(r),r.tag){case 3:Xi(wt),ot();break;case 26:case 27:case 5:Vi(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:J(yt);break;case 10:Xi(r.type);break;case 22:case 23:In(r),vd(),t!==null&&J(ra);break;case 24:Xi(wt)}}function Cl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Xe(r,r.return,w)}}function Wr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=r;var x=a,q=w;try{q()}catch(W){Xe(f,x,W)}}}l=l.next}while(l!==d)}}catch(W){Xe(r,r.return,W)}}function Uv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Cy(r,a)}catch(l){Xe(t,t.return,l)}}}function jv(t,r,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,r,l)}}function Nl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Xe(t,r,f)}}function wi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(t,r,f)}else a.current=null}function zv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xe(t,t.return,f)}}function Xd(t,r,a){try{var l=t.stateNode;zb(l,t.type,a,r),l[Bt]=r}catch(f){Xe(t,t.return,f)}}function Bv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=kt));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Jd(t,r,a),t=t.sibling;t!==null;)Jd(t,r,a),t=t.sibling}function Pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Pc(t,r,a),t=t.sibling;t!==null;)Pc(t,r,a),t=t.sibling}function qv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[ht]=t,r[Bt]=a}catch(d){Xe(t,t.return,d)}}var tr=!1,bt=!1,Zd=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function _b(t,r){if(t=t.containerInfo,Em=ih,t=ty(t),$f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,x=-1,q=0,W=0,te=t,H=null;t:for(;;){for(var $;te!==a||f!==0&&te.nodeType!==3||(w=v+f),te!==d||l!==0&&te.nodeType!==3||(x=v+l),te.nodeType===3&&(v+=te.nodeValue.length),($=te.firstChild)!==null;)H=te,te=$;for(;;){if(te===t)break t;if(H===a&&++q===f&&(w=v),H===d&&++W===l&&(x=v),($=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=$}a=w===-1||x===-1?null:{start:w,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:t,selectionRange:a},ih=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=ua(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Xe(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function Hv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&Cl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Xe(a,a.return,v)}else{var f=ua(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xe(a,a.return,v)}}l&64&&Uv(a),l&512&&Nl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Cy(t,r)}catch(v){Xe(a,a.return,v)}}break;case 27:r===null&&l&4&&qv(a);case 26:case 5:ir(t,a),r===null&&l&4&&zv(a),l&512&&Nl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&Kv(t,a);break;case 13:ir(t,a),l&4&&Qv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Cb.bind(null,a),Qb(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){r=r!==null&&r.memoizedState!==null||bt,f=tr;var d=bt;tr=l,(bt=r)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=f,bt=d}break;case 30:break;default:ir(t,a)}}function Gv(t){var r=t.alternate;r!==null&&(t.alternate=null,Gv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Bs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,dn=!1;function nr(t,r,a){for(a=a.child;a!==null;)$v(t,r,a),a=a.sibling}function $v(t,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:bt||wi(a,r),nr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||wi(a,r);var l=at,f=dn;rs(a.type)&&(at=a.stateNode,dn=!1),nr(t,r,a),Ul(a.stateNode),at=l,dn=f;break;case 5:bt||wi(a,r);case 6:if(l=at,f=dn,at=null,nr(t,r,a),at=l,dn=f,at!==null)if(dn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Xe(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){Xe(a,r,d)}break;case 18:at!==null&&(dn?(t=at,U_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),To(t)):U_(at,a.stateNode));break;case 4:l=at,f=dn,at=a.stateNode.containerInfo,dn=!0,nr(t,r,a),at=l,dn=f;break;case 0:case 11:case 14:case 15:Wr(2,a,r),bt||Wr(4,a,r),nr(t,r,a);break;case 1:bt||(wi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,r,l)),nr(t,r,a);break;case 21:nr(t,r,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,nr(t,r,a),bt=l;break;default:nr(t,r,a)}}function Kv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(a){Xe(r,r.return,a)}}}function Qv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(a){Xe(r,r.return,a)}}function Eb(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Fv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Fv),r;default:throw Error(s(435,t.tag))}}function Lc(t,r){var a=Eb(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Nb.bind(null,t,l);l.then(f,f)}})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(rs(w.type)){at=w.stateNode,dn=!1;break e}break;case 5:at=w.stateNode,dn=!1;break e;case 3:case 4:at=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(at===null)throw Error(s(160));$v(d,v,f),at=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yv(r,t),r=r.sibling}var ni=null;function Yv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Wr(3,t,t.return),Cl(3,t),Wr(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(bt||a===null||wi(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(mn(r,t),pn(t),l&512&&(bt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ji]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Gt(d,l,a),d[ht]=t,gt(d),l=d;break e;case"link":var v=Y_("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Y_("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=f.createElement(l),Gt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[ht]=t,gt(d),l=d}t.stateNode=l}else X_(f,t.type,t.stateNode);else t.stateNode=Q_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(f,t.type,t.stateNode):Q_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(bt||a===null||wi(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(bt||a===null||wi(a,a.return)),t.flags&32){f=t.stateNode;try{Ln(f,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Zd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(Zc=null,f=ni,ni=Wc(r.containerInfo),mn(r,t),ni=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(fe){Xe(t,t.return,fe)}Zd&&(Zd=!1,Xv(t));break;case 4:l=ni,ni=Wc(t.stateNode.containerInfo),mn(r,t),pn(t),ni=l;break;case 12:mn(r,t),pn(t);break;case 31:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jc=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=tr,W=bt;if(tr=q||f,bt=W||x,mn(r,t),bt=W,tr=q,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||tr||bt||ca(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=x.stateNode;var te=x.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(fe){Xe(x,x.return,fe)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(fe){Xe(x,x.return,fe)}}}else if(r.tag===18){if(a===null){x=r;try{var $=x.stateNode;f?j_($,!0):j_(x.stateNode,!1)}catch(fe){Xe(x,x.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lc(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lc(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Bv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(t);Pc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Ln(v,""),a.flags&=-33);var w=Wd(t);Pc(t,w,v);break;case 3:case 4:var x=a.stateNode.containerInfo,q=Wd(t);Jd(t,q,x);break;default:throw Error(s(161))}}catch(W){Xe(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Xv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Xv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ir(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hv(t,r.alternate,r),r=r.sibling}function ca(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ca(r);break;case 1:wi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jv(r,r.return,a),ca(r);break;case 27:Ul(r.stateNode);case 26:case 5:wi(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}t=t.sibling}}function rr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:rr(f,d,a),Cl(4,d);break;case 1:if(rr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xe(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Iy(x[f],w)}catch(q){Xe(l,l.return,q)}}a&&v&64&&Uv(d),Nl(d,d.return);break;case 27:qv(d);case 26:case 5:rr(f,d,a),a&&l===null&&v&4&&zv(d),Nl(d,d.return);break;case 12:rr(f,d,a);break;case 31:rr(f,d,a),a&&v&4&&Kv(f,d);break;case 13:rr(f,d,a),a&&v&4&&Qv(f,d);break;case 22:d.memoizedState===null&&rr(f,d,a),Nl(d,d.return);break;case 30:break;default:rr(f,d,a)}r=r.sibling}}function em(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function tm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t))}function ii(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Wv(t,r,a,l),r=r.sibling}function Wv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ii(t,r,a,l),f&2048&&Cl(9,r);break;case 1:ii(t,r,a,l);break;case 3:ii(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&pl(t)));break;case 12:if(f&2048){ii(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Xe(r,r.return,x)}}else ii(t,r,a,l);break;case 31:ii(t,r,a,l);break;case 13:ii(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ii(t,r,a,l):Dl(t,r):d._visibility&2?ii(t,r,a,l):(d._visibility|=2,uo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&em(v,r);break;case 24:ii(t,r,a,l),f&2048&&tm(r.alternate,r);break;default:ii(t,r,a,l)}}function uo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,w=a,x=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:uo(d,v,w,x,f),Cl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?uo(d,v,w,x,f):Dl(d,v):(W._visibility|=2,uo(d,v,w,x,f)),f&&q&2048&&em(v.alternate,v);break;case 24:uo(d,v,w,x,f),f&&q&2048&&tm(v.alternate,v);break;default:uo(d,v,w,x,f)}r=r.sibling}}function Dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&em(l.alternate,l);break;case 24:Dl(a,l),f&2048&&tm(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var Ol=8192;function co(t,r,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Jv(t,r,a),t=t.sibling}function Jv(t,r,a){switch(t.tag){case 26:co(t,r,a),t.flags&Ol&&t.memoizedState!==null&&a1(a,ni,t.memoizedState,t.memoizedProps);break;case 5:co(t,r,a);break;case 3:case 4:var l=ni;ni=Wc(t.stateNode.containerInfo),co(t,r,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,co(t,r,a),Ol=l):co(t,r,a));break;default:co(t,r,a)}}function Zv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function xl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,t_(l,t)}Zv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uc(t)):xl(t);break;default:xl(t)}}function Uc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,t_(l,t)}Zv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}t=t.sibling}}function t_(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(Gv(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var Tb={getCacheForType:function(t){var r=Ft(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,ke=0,Ye=0,Cn=null,Jr=!1,ho=!1,nm=!1,sr=0,mt=0,Zr=0,ha=0,im=0,Nn=0,fo=0,kl=null,gn=null,rm=!1,jc=0,n_=0,zc=1/0,Bc=null,es=null,Dt=0,ts=null,mo=null,ar=0,sm=0,am=null,i_=null,Ml=0,om=null;function Dn(){return(Ge&2)!==0&&ke!==0?ke&-ke:G.T!==null?dm():Ui()}function r_(){if(Nn===0)if((ke&536870912)===0||Ue){var t=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),Nn=t}else Nn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(po(t,0),ns(t,ke,Nn,!1)),br(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(ha|=a),mt===4&&ns(t,ke,Nn,!1)),Si(t))}function s_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ar(t,r),f=l?bb(t,r):um(t,r,!0),d=l;do{if(f===0){ho&&!l&&ns(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Sb(a)){f=um(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;f=kl;var x=w.current.memoizedState.isDehydrated;if(x&&(po(w,v).flags|=256),v=um(w,v,!1),v!==2){if(nm&&!x){w.errorRecoveryDisabledLanes|=d,ha|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){po(t,0),ns(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,Nn,!Jr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=jc+300-jt(),10<f)){if(ns(l,r,Nn,!Jr),Vn(l,0,!0)!==0)break e;ar=r,l.timeoutHandle=P_(a_.bind(null,l,a,gn,Bc,rm,r,Nn,ha,fo,Jr,d,"Throttled",-0,0),f);break e}a_(l,a,gn,Bc,rm,r,Nn,ha,fo,Jr,d,null,-0,0)}}break}while(!0);Si(t)}function a_(t,r,a,l,f,d,v,w,x,q,W,te,H,$){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kt},Jv(r,d,te);var fe=(d&62914560)===d?jc-jt():(d&4194048)===d?n_-jt():0;if(fe=o1(te,fe),fe!==null){ar=d,t.cancelPendingCommit=fe(m_.bind(null,t,r,d,a,l,f,v,w,x,W,te,null,H,$)),ns(t,d,v,!q);return}}m_(t,r,d,a,l,f,v,w,x)}function Sb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,a,l){r&=~im,r&=~ha,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-sn(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Qo(t,a,r)}function qc(){return(Ge&6)===0?(Vl(0),!1):!0}function lm(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Yi=na=null,Ad(t),ro=null,yl=0,t=Oe;for(;t!==null;)Lv(t.alternate,t),t=t.return;Oe=null}}function po(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Fb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,lm(),et=t,Oe=a=Ki(t.current,null),ke=r,Ye=0,Cn=null,Jr=!1,ho=Ar(t,r),nm=!1,fo=Nn=im=ha=Zr=mt=0,gn=kl=null,rm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-sn(l),d=1<<f;r|=t[f],l&=~d}return sr=r,uc(),a}function o_(t,r){be=null,G.H=bl,r===io||r===yc?(r=Sy(),Ye=3):r===fd?(r=Sy(),Ye=4):Ye=r===zd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Oe===null&&(mt=1,Oc(t,jn(r,t.current)))}function l_(){var t=Rn.current;return t===null?!0:(ke&4194048)===ke?Fn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Fn:!1}function u_(){var t=G.H;return G.H=bl,t===null?bl:t}function c_(){var t=G.A;return G.A=Tb,t}function Fc(){mt=4,Jr||(ke&4194048)!==ke&&Rn.current!==null||(ho=!0),(Zr&134217727)===0&&(ha&134217727)===0||et===null||ns(et,ke,Nn,!1)}function um(t,r,a){var l=Ge;Ge|=2;var f=u_(),d=c_();(et!==t||ke!==r)&&(Bc=null,po(t,r)),r=!1;var v=mt;e:do try{if(Ye!==0&&Oe!==null){var w=Oe,x=Cn;switch(Ye){case 8:lm(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var q=Ye;if(Ye=0,Cn=null,go(t,w,x,q),a&&ho){v=0;break e}break;default:q=Ye,Ye=0,Cn=null,go(t,w,x,q)}}Ab(),v=mt;break}catch(W){o_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Yi=na=null,Ge=l,G.H=f,G.A=d,Oe===null&&(et=null,ke=0,uc()),v}function Ab(){for(;Oe!==null;)h_(Oe)}function bb(t,r){var a=Ge;Ge|=2;var l=u_(),f=c_();et!==t||ke!==r?(Bc=null,zc=jt()+500,po(t,r)):ho=Ar(t,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var d=Cn;t:switch(Ye){case 1:Ye=0,Cn=null,go(t,r,d,1);break;case 2:case 9:if(Ty(d)){Ye=0,Cn=null,f_(r);break}r=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Si(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Ty(d)?(Ye=0,Cn=null,f_(r)):(Ye=0,Cn=null,go(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var w=Oe;if(v?W_(v):w.stateNode.complete){Ye=0,Cn=null;var x=w.sibling;if(x!==null)Oe=x;else{var q=w.return;q!==null?(Oe=q,Hc(q)):Oe=null}break t}}Ye=0,Cn=null,go(t,r,d,5);break;case 6:Ye=0,Cn=null,go(t,r,d,6);break;case 8:lm(),mt=6;break e;default:throw Error(s(462))}}Rb();break}catch(W){o_(t,W)}while(!0);return Yi=na=null,G.H=l,G.A=f,Ge=a,Oe!==null?0:(et=null,ke=0,uc(),mt)}function Rb(){for(;Oe!==null&&!Vf();)h_(Oe)}function h_(t){var r=Vv(t.alternate,t,sr);t.memoizedProps=t.pendingProps,r===null?Hc(t):Oe=r}function f_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Nv(a,r,r.pendingProps,r.type,void 0,ke);break;case 11:r=Nv(a,r,r.pendingProps,r.type.render,r.ref,ke);break;case 5:Ad(r);default:Lv(a,r),r=Oe=cy(r,sr),r=Vv(a,r,sr)}t.memoizedProps=t.pendingProps,r===null?Hc(t):Oe=r}function go(t,r,a,l){Yi=na=null,Ad(r),ro=null,yl=0;var f=r.return;try{if(mb(t,f,r,a,ke)){mt=1,Oc(t,jn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;mt=1,Oc(t,jn(a,t.current)),Oe=null;return}r.flags&32768?(Ue||l===1?t=!0:ho||(ke&536870912)!==0?t=!1:(Jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(r,t)):Hc(r)}function Hc(t){var r=t;do{if((r.flags&32768)!==0){d_(r,Jr);return}t=r.return;var a=yb(r.alternate,r,sr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function d_(t,r){do{var a=vb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function m_(t,r,a,l,f,d,v,w,x){t.cancelPendingCommit=null;do Gc();while(Dt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Wf,zt(t,a,d,v,w,x),t===et&&(Oe=et=null,ke=0),mo=r,ts=t,ar=a,sm=d,am=f,i_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(Pi,function(){return __(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ae.p,ae.p=2,v=Ge,Ge|=4;try{_b(t,r,a)}finally{Ge=v,ae.p=f,G.T=l}}Dt=1,p_(),g_(),y_()}}function p_(){if(Dt===1){Dt=0;var t=ts,r=mo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{Yv(r,t);var d=Tm,v=ty(t.containerInfo),w=d.focusedElem,x=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&ey(w.ownerDocument.documentElement,w)){if(x!==null&&$f(w)){var q=x.start,W=x.end;if(W===void 0&&(W=q),"selectionStart"in w)w.selectionStart=q,w.selectionEnd=Math.min(W,w.value.length);else{var te=w.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var $=H.getSelection(),fe=w.textContent.length,ve=Math.min(x.start,fe),Ze=x.end===void 0?ve:Math.min(x.end,fe);!$.extend&&ve>Ze&&(v=Ze,Ze=ve,ve=v);var U=Zg(w,ve),M=Zg(w,Ze);if(U&&M&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var B=te.createRange();B.setStart(U.node,U.offset),$.removeAllRanges(),ve>Ze?($.addRange(B),$.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),$.addRange(B))}}}}for(te=[],$=w;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var Z=te[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ih=!!Em,Tm=Em=null}finally{Ge=f,ae.p=l,G.T=a}}t.current=r,Dt=2}}function g_(){if(Dt===2){Dt=0;var t=ts,r=mo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{Hv(t,r.alternate,r)}finally{Ge=f,ae.p=l,G.T=a}}Dt=3}}function y_(){if(Dt===4||Dt===3){Dt=0,Ho();var t=ts,r=mo,a=ar,l=i_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Dt=5:(Dt=0,mo=ts=null,v_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(es=null),Xo(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(wr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=G.T,f=ae.p,ae.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{G.T=r,ae.p=f}}(ar&3)!==0&&Gc(),Si(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===om?Ml++:(Ml=0,om=t):Ml=0,Vl(0)}}function v_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,pl(r)))}function Gc(){return p_(),g_(),y_(),__()}function __(){if(Dt!==5)return!1;var t=ts,r=sm;sm=0;var a=Xo(ar),l=G.T,f=ae.p;try{ae.p=32>a?32:a,G.T=null,a=am,am=null;var d=ts,v=ar;if(Dt=0,mo=ts=null,ar=0,(Ge&6)!==0)throw Error(s(331));var w=Ge;if(Ge|=4,e_(d.current),Wv(d,d.current,v,a),Ge=w,Vl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(wr,d)}catch{}return!0}finally{ae.p=f,G.T=l,v_(t,r)}}function E_(t,r,a){r=jn(a,r),r=jd(t.stateNode,r,2),t=Qr(t,r,2),t!==null&&(br(t,2),Si(t))}function Xe(t,r,a){if(t.tag===3)E_(t,t,a);else for(;r!==null;){if(r.tag===3){E_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){t=jn(a,t),a=Tv(2),l=Qr(r,a,2),l!==null&&(wv(a,l,r,t),br(l,2),Si(l));break}}r=r.return}}function cm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(nm=!0,f.add(a),t=Ib.bind(null,t,r,a),r.then(t,t))}function Ib(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ke&a)===a&&(mt===4||mt===3&&(ke&62914560)===ke&&300>jt()-jc?(Ge&2)===0&&po(t,0):im|=a,fo===ke&&(fo=0)),Si(t)}function T_(t,r){r===0&&(r=Ko()),t=Zs(t,r),t!==null&&(br(t,r),Si(t))}function Cb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),T_(t,a)}function Nb(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),T_(t,a)}function Db(t,r){return Us(t,r)}var $c=null,yo=null,hm=!1,Kc=!1,fm=!1,is=0;function Si(t){t!==yo&&t.next===null&&(yo===null?$c=yo=t:yo=yo.next=t),Kc=!0,hm||(hm=!0,xb())}function Vl(t,r){if(!fm&&Kc){fm=!0;do for(var a=!1,l=$c;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-sn(42|t)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=ke,d=Vn(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ar(l,d)||(a=!0,b_(l,d));l=l.next}while(a);fm=!1}}function Ob(){w_()}function w_(){Kc=hm=!1;var t=0;is!==0&&qb()&&(t=is);for(var r=jt(),a=null,l=$c;l!==null;){var f=l.next,d=S_(l,r);d===0?(l.next=null,a===null?$c=f:a.next=f,f===null&&(yo=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}Dt!==0&&Dt!==5||Vl(t),is!==0&&(is=0)}function S_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-sn(d),w=1<<v,x=f[v];x===-1?((w&a)===0||(w&l)!==0)&&(f[v]=Pa(w,r)):x<=r&&(t.expiredLanes|=w),d&=~w}if(r=et,a=ke,a=Vn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Va(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ar(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Va(l),Xo(a)){case 2:case 8:a=xt;break;case 32:a=Pi;break;case 268435456:a=Go;break;default:a=Pi}return l=A_.bind(null,t),a=Us(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Va(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,r){if(Dt!==0&&Dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=ke;return l=Vn(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(s_(t,l,r),S_(t,jt()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function b_(t,r){if(Gc())return null;s_(t,r,!0)}function xb(){Hb(function(){(Ge&6)!==0?Us(Nt,Ob):w_()})}function dm(){if(is===0){var t=to;t===0&&(t=zs,zs<<=1,(zs&261888)===0&&(zs=256)),is=t}return is}function R_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yi(""+t)}function I_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function kb(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=R_((f[Bt]||null).action),v=l.submitter;v&&(r=(r=v[Bt]||null)?R_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new $s("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var x=v?I_(f,v):new FormData(f);kd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(w.preventDefault(),x=v?I_(f,v):new FormData(f),kd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var mm=0;mm<Xf.length;mm++){var pm=Xf[mm],Mb=pm.toLowerCase(),Vb=pm[0].toUpperCase()+pm.slice(1);ti(Mb,"on"+Vb)}ti(ry,"onAnimationEnd"),ti(sy,"onAnimationIteration"),ti(ay,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(WA,"onTransitionRun"),ti(JA,"onTransitionStart"),ti(ZA,"onTransitionCancel"),ti(oy,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function C_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],x=w.instance,q=w.currentTarget;if(w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=q;try{d(f)}catch(W){lc(W)}f.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(w=l[v],x=w.instance,q=w.currentTarget,w=w.listener,x!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=q;try{d(f)}catch(W){lc(W)}f.currentTarget=null,d=x}}}}function xe(t,r){var a=r[Cr];a===void 0&&(a=r[Cr]=new Set);var l=t+"__bubble";a.has(l)||(N_(r,t,2,!1),a.add(l))}function gm(t,r,a){var l=0;r&&(l|=4),N_(a,t,l,r)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function ym(t){if(!t[Qc]){t[Qc]=!0,La.forEach(function(a){a!=="selectionchange"&&(Pb.has(a)||gm(a,!1,t),gm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Qc]||(r[Qc]=!0,gm("selectionchange",!1,r))}}function N_(t,r,a,l){switch(rE(r)){case 2:var f=c1;break;case 8:f=h1;break;default:f=xm}a=f.bind(null,r,a,t),f=void 0,!rl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function vm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=zi(w),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}w=w.parentNode}}l=l.return}$u(function(){var q=d,W=qa(a),te=[];e:{var H=ly.get(t);if(H!==void 0){var $=$s,fe=t;switch(t){case"keypress":if(Gs(a)===0)break e;case"keydown":case"keyup":$=tc;break;case"focusin":fe="focus",$=Ur;break;case"focusout":fe="blur",$=Ur;break;case"beforeblur":case"afterblur":$=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ic;break;case ry:case sy:case ay:$=Ga;break;case oy:$=$a;break;case"scroll":case"scrollend":$=Ku;break;case"wheel":$=sc;break;case"copy":case"cut":case"paste":$=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=ul;break;case"toggle":case"beforetoggle":$=zr}var ve=(r&4)!==0,Ze=!ve&&(t==="scroll"||t==="scrollend"),U=ve?H!==null?H+"Capture":null:H;ve=[];for(var M=q,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=hn(M,U),Z!=null&&ve.push(Ll(M,Z,B))),Ze)break;M=M.return}0<ve.length&&(H=new $(H,fe,null,a,W),te.push({event:H,listeners:ve}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&a!==Ba&&(fe=a.relatedTarget||a.fromElement)&&(zi(fe)||fe[mi]))break e;if(($||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=q,fe=fe?zi(fe):null,fe!==null&&(Ze=u(fe),ve=fe.tag,fe!==Ze||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):($=null,fe=q),$!==fe)){if(ve=Qu,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=ul,Z="onPointerLeave",U="onPointerEnter",M="pointer"),Ze=$==null?H:qs($),B=fe==null?H:qs(fe),H=new ve(Z,M+"leave",$,a,W),H.target=Ze,H.relatedTarget=B,Z=null,zi(W)===q&&(ve=new ve(U,M+"enter",fe,a,W),ve.target=B,ve.relatedTarget=Ze,Z=ve),Ze=Z,$&&fe)t:{for(ve=Lb,U=$,M=fe,B=0,Z=U;Z;Z=ve(Z))B++;Z=0;for(var pe=M;pe;pe=ve(pe))Z++;for(;0<B-Z;)U=ve(U),B--;for(;0<Z-B;)M=ve(M),Z--;for(;B--;){if(U===M||M!==null&&U===M.alternate){ve=U;break t}U=ve(U),M=ve(M)}ve=null}else ve=null;$!==null&&D_(te,H,$,ve,!1),fe!==null&&Ze!==null&&D_(te,Ze,fe,ve,!0)}}e:{if(H=q?qs(q):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var Fe=Kg;else if(fn(H))if(Qg)Fe=QA;else{Fe=$A;var me=GA}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&nl(q.elementType)&&(Fe=Kg):Fe=KA;if(Fe&&(Fe=Fe(t,q))){Xs(te,Fe,a,W);break e}me&&me(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&za(H,"number",H.value)}switch(me=q?qs(q):window,t){case"focusin":(fn(me)||me.contentEditable==="true")&&(Ka=me,Kf=q,fl=null);break;case"focusout":fl=Kf=Ka=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,ny(te,a,W);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":ny(te,a,W)}var Re;if(y)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ce?Ke(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(j&&a.locale!=="ko"&&(Ce||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ce&&(Re=Mr()):(Sn=W,Fa="value"in Sn?Sn.value:Sn.textContent,Ce=!0)),me=Yc(q,Me),0<me.length&&(Me=new al(Me,t,null,a,W),te.push({event:Me,listeners:me}),Re?Me.data=Re:(Re=Tt(a),Re!==null&&(Me.data=Re)))),(Re=A?Mt(t,a):Vt(t,a))&&(Me=Yc(q,"onBeforeInput"),0<Me.length&&(me=new al("onBeforeInput","beforeinput",null,a,W),te.push({event:me,listeners:Me}),me.data=Re)),kb(te,t,q,a,W)}C_(te,r)})}function Ll(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=hn(t,a),f!=null&&l.unshift(Ll(t,f,d)),f=hn(t,r),f!=null&&l.push(Ll(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Lb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,x=w.alternate,q=w.stateNode;if(w=w.tag,x!==null&&x===l)break;w!==5&&w!==26&&w!==27||q===null||(x=q,f?(q=hn(a,d),q!=null&&v.unshift(Ll(a,q,x))):f||(q=hn(a,d),q!=null&&v.push(Ll(a,q,x)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Ub=/\r\n?/g,jb=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(Ub,`
`).replace(jb,"")}function x_(t,r){return r=O_(r),O_(t)===r}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Ln(t,""+l);break;case"className":Or(t,"class",l);break;case"tabIndex":Or(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(t,a,l);break;case"style":Hu(t,l,d);break;case"data":if(r!=="object"){Or(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=yi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=kt);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=yi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),Dr(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bf.get(a)||a,Dr(t,a,l))}}function _m(t,r,a,l,f,d){switch(a){case"style":Hu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Ln(t,l):(typeof l=="number"||typeof l=="bigint")&&Ln(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Dr(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,v,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var w=d=v=f=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":x=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(t,r,l,W,a,null)}}Fs(t,d,w,x,q,v,f,!1);return;case"select":xe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Je(t,r,f,w,a,null)}r=d,a=v,t.multiple=!!l,r!=null?qe(t,!!l,r,!1):a!=null&&qe(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(t,r,v,w,a,null)}kr(t,l,f,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,x,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)xe(Pl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,q,l,a,null)}return;default:if(nl(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&_m(t,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(t,r,w,l,a,null))}function zb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,x=null,q=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":x=te;default:l.hasOwnProperty($)||Je(t,r,$,null,l,te)}}for(var H in l){var $=l[H];if(te=a[H],l.hasOwnProperty(H)&&($!=null||te!=null))switch(H){case"type":d=$;break;case"name":f=$;break;case"checked":q=$;break;case"defaultChecked":W=$;break;case"value":v=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&Je(t,r,H,$,l,te)}}xr(t,v,w,x,q,W,d,f);return;case"select":$=v=w=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":$=x;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==x&&Je(t,r,f,d,l,x)}r=w,a=v,l=$,H!=null?qe(t,!!a,H,!1):!!l!=!!a&&(r!=null?qe(t,!!a,r,!0):qe(t,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(t,r,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":H=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,v,f,l,d)}Hs(t,H,$);return;case"option":for(var fe in a)if(H=a[fe],a.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,r,fe,null,l,H)}for(x in l)if(H=l[x],$=a[x],l.hasOwnProperty(x)&&H!==$&&(H!=null||$!=null))switch(x){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,r,x,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)H=a[ve],a.hasOwnProperty(ve)&&H!=null&&!l.hasOwnProperty(ve)&&Je(t,r,ve,null,l,H);for(q in l)if(H=l[q],$=a[q],l.hasOwnProperty(q)&&H!==$&&(H!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Je(t,r,q,H,l,$)}return;default:if(nl(r)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&_m(t,r,Ze,void 0,l,H);for(W in l)H=l[W],$=a[W],!l.hasOwnProperty(W)||H===$||H===void 0&&$===void 0||_m(t,r,W,H,l,$);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,H);for(te in l)H=l[te],$=a[te],!l.hasOwnProperty(te)||H===$||H==null&&$==null||Je(t,r,te,H,l,$)}function k_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&k_(v)){for(v=0,w=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],q=x.startTime;if(q>w)break;var W=x.transferSize,te=x.initiatorType;W&&k_(te)&&(x=x.responseEnd,v+=W*(x<w?1:(w-q)/(x-q)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Em=null,Tm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function wm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function qb(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,Hb=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(Gb)}:P_;function Gb(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function U_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),To(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[ji]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ul(t.ownerDocument.body);a=f}while(a);To(r)}function j_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Am(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),Bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $b(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Kb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function z_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function bm(t){return t.data==="$?"||t.data==="$~"}function Rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qb(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Im=null;function B_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Hn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function q_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function F_(t,r,a){switch(r=Xc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Bs(t)}var Gn=new Map,H_=new Set;function Wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ae.d;ae.d={f:Yb,r:Xb,D:Wb,C:Jb,L:Zb,m:e1,X:n1,S:t1,M:i1};function Yb(){var t=or.f(),r=qc();return t||r}function Xb(t){var r=Bi(t);r!==null&&r.tag===5&&r.type==="form"?ov(r):or.r(t)}var vo=typeof document>"u"?null:document;function G_(t,r,a){var l=vo;if(l&&typeof r=="string"&&r){var f=ft(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function Wb(t){or.D(t),G_("dns-prefetch",t,null)}function Jb(t,r){or.C(t,r),G_("preconnect",t,r)}function Zb(t,r,a){or.L(t,r,a);var l=vo;if(l&&t&&r){var f='link[rel="preload"][as="'+ft(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ft(a.imageSizes)+'"]')):f+='[href="'+ft(t)+'"]';var d=f;switch(r){case"style":d=_o(t);break;case"script":d=Eo(t)}Gn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Gn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(jl(d))||r==="script"&&l.querySelector(zl(d))||(r=l.createElement("link"),Gt(r,"link",t),gt(r),l.head.appendChild(r)))}}function e1(t,r){or.m(t,r);var a=vo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ft(l)+'"][href="'+ft(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Eo(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),Gt(l,"link",t),gt(l),a.head.appendChild(l)}}}function t1(t,r,a){or.S(t,r,a);var l=vo;if(l&&t){var f=Zn(l).hoistableStyles,d=_o(t);r=r||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(jl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Gn.get(d))&&Cm(t,a);var x=v=l.createElement("link");gt(x),Gt(x,"link",t),x._p=new Promise(function(q,W){x.onload=q,x.onerror=W}),x.addEventListener("load",function(){w.loading|=1}),x.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Jc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function n1(t,r){or.X(t,r);var a=vo;if(a&&t){var l=Zn(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0},r),(r=Gn.get(f))&&Nm(t,r),d=a.createElement("script"),gt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function i1(t,r){or.M(t,r);var a=vo;if(a&&t){var l=Zn(a).hoistableScripts,f=Eo(t),d=l.get(f);d||(d=a.querySelector(zl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Gn.get(f))&&Nm(t,r),d=a.createElement("script"),gt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function $_(t,r,a,l){var f=(f=Ie.current)?Wc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=_o(a.href),a=Zn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_o(a.href);var d=Zn(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(jl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||r1(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(a),a=Zn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+ft(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function r1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),gt(r),t.head.appendChild(r))}function Eo(t){return'[src="'+ft(t)+'"]'}function zl(t){return"script[async]"+t}function Q_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ft(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),Gt(l,"style",f),Jc(l,a.precedence,t),r.instance=l;case"stylesheet":f=_o(a.href);var d=t.querySelector(jl(f));if(d)return r.state.loading|=4,r.instance=d,gt(d),d;l=K_(a),(f=Gn.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),gt(d);var v=d;return v._p=new Promise(function(w,x){v.onload=w,v.onerror=x}),Gt(d,"link",l),r.state.loading|=4,Jc(d,a.precedence,t),r.instance=d;case"script":return d=Eo(a.src),(f=t.querySelector(zl(d)))?(r.instance=f,gt(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),Nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),gt(f),Gt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Jc(l,a.precedence,t));return r.instance}function Jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Zc=null;function Y_(t,r,a){if(Zc===null){var l=new Map,f=Zc=new Map;f.set(a,l)}else f=Zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[ji]||d[ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function X_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function s1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function W_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function a1(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=_o(l.href),d=r.querySelector(jl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=eh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,gt(d);return}d=r.ownerDocument||r,l=K_(l),(f=Gn.get(f))&&Cm(l,f),d=d.createElement("link"),gt(d);var v=d;v._p=new Promise(function(w,x){v.onload=w,v.onerror=x}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Dm=0;function o1(t,r){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Dm===0&&(Dm=62500*Bb());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,r.forEach(l1,t),th=null,eh.call(t))}function l1(t,r){if(!(r.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=eh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Bl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function u1(t,r,a,l,f,d,v,w,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.hiddenUpdates=Li(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function J_(t,r,a,l,f,d,v,w,x,q,W,te){return t=new u1(t,r,a,v,x,q,W,te,w),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),t.current=d,d.stateNode=t,r=ud(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},dd(d),t}function Z_(t){return t?(t=Xa,t):Xa}function eE(t,r,a,l,f,d){f=Z_(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(t,l,r),a!==null&&(yn(a,t,r),_l(a,t,r))}function tE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Om(t,r){tE(t,r),(t=t.alternate)&&tE(t,r)}function nE(t){if(t.tag===13||t.tag===31){var r=Zs(t,67108864);r!==null&&yn(r,t,67108864),Om(t,67108864)}}function iE(t){if(t.tag===13||t.tag===31){var r=Dn();r=Yo(r);var a=Zs(t,r);a!==null&&yn(a,t,r),Om(t,r)}}var ih=!0;function c1(t,r,a,l){var f=G.T;G.T=null;var d=ae.p;try{ae.p=2,xm(t,r,a,l)}finally{ae.p=d,G.T=f}}function h1(t,r,a,l){var f=G.T;G.T=null;var d=ae.p;try{ae.p=8,xm(t,r,a,l)}finally{ae.p=d,G.T=f}}function xm(t,r,a,l){if(ih){var f=km(l);if(f===null)vm(t,r,l,rh,a),sE(t,l);else if(d1(f,t,r,a,l))l.stopPropagation();else if(sE(t,l),r&4&&-1<f1.indexOf(t)){for(;f!==null;){var d=Bi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Jn(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var x=1<<31-sn(v);w.entanglements[1]|=x,v&=~x}Si(d),(Ge&6)===0&&(zc=jt()+500,Vl(0))}}break;case 31:case 13:w=Zs(d,2),w!==null&&yn(w,d,2),qc(),Om(d,2)}if(d=km(l),d===null&&vm(t,r,l,rh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,r,l,null,a)}}function km(t){return t=qa(t),Mm(t)}var rh=null;function Mm(t){if(rh=null,t=zi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return rh=t,null}function rE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lu()){case Nt:return 2;case xt:return 8;case Pi:case Uu:return 32;case Go:return 268435456;default:return 32}default:return 32}}var Vm=!1,ss=null,as=null,os=null,ql=new Map,Fl=new Map,ls=[],f1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Hl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Bi(r),r!==null&&nE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function d1(t,r,a,l,f){switch(r){case"focusin":return ss=Hl(ss,t,r,a,l,f),!0;case"dragenter":return as=Hl(as,t,r,a,l,f),!0;case"mouseover":return os=Hl(os,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,Hl(ql.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Hl(Fl.get(d)||null,t,r,a,l,f)),!0}return!1}function aE(t){var r=zi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,zu(t.priority,function(){iE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,zu(t.priority,function(){iE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=km(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ba=l,a.target.dispatchEvent(l),Ba=null}else return r=Bi(a),r!==null&&nE(r),t.blockedOn=a,!1;r.shift()}return!0}function oE(t,r,a){sh(t)&&a.delete(r)}function m1(){Vm=!1,ss!==null&&sh(ss)&&(ss=null),as!==null&&sh(as)&&(as=null),os!==null&&sh(os)&&(os=null),ql.forEach(oE),Fl.forEach(oE)}function ah(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,m1)))}var oh=null;function lE(t){oh!==t&&(oh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var d=Bi(a);d!==null&&(t.splice(r,3),r-=3,kd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function To(t){function r(x){return ah(x,t)}ss!==null&&ah(ss,t),as!==null&&ah(as,t),os!==null&&ah(os,t),ql.forEach(r),Fl.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)aE(a),a.blockedOn===null&&ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Bt]||null;if(typeof d=="function")v||lE(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Bt]||null)w=v.formAction;else if(Mm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),lE(a)}}}function uE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}lh.prototype.render=Pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Dn();eE(a,l,t,r,null,null)},lh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;eE(t.current,2,null,t,null,null),qc(),r[mi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ui();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,t),a===0&&aE(t)}};var cE=e.version;if(cE!=="19.2.0")throw Error(s(527,cE,"19.2.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var p1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{wr=uh.inject(p1),Xt=uh}catch{}}return $l.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=yv,d=vv,v=_v;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=J_(t,1,!1,null,null,a,l,null,f,d,v,uE),t[mi]=r.current,ym(t),new Pm(r)},$l.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=yv,v=vv,w=_v,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=J_(t,1,!0,r,a??null,l,f,x,d,v,w,uE),r.context=Z_(null),a=r.current,l=Dn(),l=Yo(l),f=Kr(l),f.callback=null,Qr(a,f,l),a=l,r.current.lanes=a,br(r,a),Si(r),t[mi]=r.current,ym(t),new lh(r)},$l.version="19.2.0",$l}var EE;function R1(){if(EE)return jm.exports;EE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jm.exports=b1(),jm.exports}var I1=R1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var TE="popstate";function C1(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Ra(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ap("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:ou(u))}function s(o,u){Yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return D1(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N1(){return Math.random().toString(36).substring(2,10)}function wE(i,e){return{usr:i.state,key:i.key,idx:e}}function ap(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:n,key:e&&e.key||s||N1()}}function ou({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ra(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function D1(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let F=E(),Y=F==null?null:F-g;g=F,p&&p({action:m,location:Q.location,delta:Y})}function R(F,Y){m="PUSH";let ee=ap(Q.location,F,Y);n&&n(ee,F),g=E()+1;let X=wE(ee,g),le=Q.createHref(ee);try{h.pushState(X,"",le)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(le)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(F,Y){m="REPLACE";let ee=ap(Q.location,F,Y);n&&n(ee,F),g=E();let X=wE(ee,g),le=Q.createHref(ee);h.replaceState(X,"",le),u&&p&&p({action:m,location:Q.location,delta:0})}function z(F){return O1(F)}let Q={get action(){return m},get location(){return i(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(TE,T),p=F,()=>{o.removeEventListener(TE,T),p=null}},createHref(F){return e(o,F)},createURL:z,encodeLocation(F){let Y=z(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:k,go(F){return h.go(F)}};return Q}function O1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ou(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function wT(i,e,n="/"){return x1(i,e,n,!1)}function x1(i,e,n,s){let o=typeof e=="string"?Ra(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=ST(i);k1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=H1(u);m=q1(h[p],g,s)}return m}function ST(i,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=fr([s,E.relativePath]),R=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ST(h.children,e,R,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:z1(T,h.index),routesMeta:R})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of AT(h.path))u(h,m,!0,g)}),e}function AT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=AT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function k1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:B1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var M1=/^:[\w-]+$/,V1=3,P1=2,L1=1,U1=10,j1=-2,SE=i=>i==="*";function z1(i,e){let n=i.split("/"),s=n.length;return n.some(SE)&&(s+=j1),e&&(s+=P1),n.filter(o=>!SE(o)).reduce((o,u)=>o+(M1.test(u)?V1:u===""?L1:U1),s)}function B1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function q1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Dh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:Q1(fr([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return h}function Dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=F1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},R)=>{if(E==="*"){let z=m[R]||"";h=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const k=m[R];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function F1(i,e=!1,n=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function H1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function G1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ra(i):i;return{pathname:n?n.startsWith("/")?n:$1(n,e):e,search:Y1(s),hash:X1(o)}}function $1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Fm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bT(i){let e=K1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function RT(i,e,n,s=!1){let o;typeof i=="string"?o=Ra(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Fm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Fm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Fm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let p=G1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),Q1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Y1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,X1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function W1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var IT=["POST","PUT","PATCH","DELETE"];new Set(IT);var J1=["GET",...IT];new Set(J1);var Po=L.createContext(null);Po.displayName="DataRouter";var rf=L.createContext(null);rf.displayName="DataRouterState";L.createContext(!1);var CT=L.createContext({isTransitioning:!1});CT.displayName="ViewTransition";var Z1=L.createContext(new Map);Z1.displayName="Fetchers";var eR=L.createContext(null);eR.displayName="Await";var ki=L.createContext(null);ki.displayName="Navigation";var _u=L.createContext(null);_u.displayName="Location";var Mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var jp=L.createContext(null);jp.displayName="RouteError";function tR(i,{relative:e}={}){ut(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(ki),{hash:o,pathname:u,search:h}=Tu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Eu(){return L.useContext(_u)!=null}function Ds(){return ut(Eu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(_u).location}var NT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(i){L.useContext(ki).static||L.useLayoutEffect(i)}function ui(){let{isDataRoute:i}=L.useContext(Mi);return i?mR():nR()}function nR(){ut(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Po),{basename:e,navigator:n}=L.useContext(ki),{matches:s}=L.useContext(Mi),{pathname:o}=Ds(),u=JSON.stringify(bT(s)),h=L.useRef(!1);return DT(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Yn(h.current,NT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=RT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}L.createContext(null);function OT(){let{matches:i}=L.useContext(Mi),e=i[i.length-1];return e?e.params:{}}function Tu(i,{relative:e}={}){let{matches:n}=L.useContext(Mi),{pathname:s}=Ds(),o=JSON.stringify(bT(n));return L.useMemo(()=>RT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function iR(i,e){return xT(i,e)}function xT(i,e,n,s,o){var ee;ut(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(ki),{matches:h}=L.useContext(Mi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";kT(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Ds(),k;if(e){let X=typeof e=="string"?Ra(e):e;ut(E==="/"||((ee=X.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),k=X}else k=R;let z=k.pathname||"/",Q=z;if(E!=="/"){let X=E.replace(/^\//,"").split("/");Q="/"+z.replace(/^\//,"").split("/").slice(X.length).join("/")}let F=wT(i,{pathname:Q});Yn(T||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Yn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=lR(F&&F.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,n,s,o);return e&&Y?L.createElement(_u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Y):Y}function rR(){let i=dR(),e=W1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var sR=L.createElement(rR,null),aR=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(Mi.Provider,{value:this.props.routeContext},L.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oR({routeContext:i,match:e,children:n}){let s=L.useContext(Po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Mi.Provider,{value:i},n)}function lR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:R}=n,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let R,k=!1,z=null,Q=null;n&&(R=h&&E.route.id?h[E.route.id]:void 0,z=E.route.errorElement||sR,m&&(p<0&&T===0?(kT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):p===T&&(k=!0,Q=E.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,T+1)),Y=()=>{let ee;return R?ee=z:k?ee=Q:E.route.Component?ee=L.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=g,L.createElement(oR,{match:E,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:ee})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?L.createElement(aR,{location:n.location,revalidation:n.revalidation,component:z,error:R,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):Y()},null)}function zp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(i){let e=L.useContext(Po);return ut(e,zp(i)),e}function cR(i){let e=L.useContext(rf);return ut(e,zp(i)),e}function hR(i){let e=L.useContext(Mi);return ut(e,zp(i)),e}function Bp(i){let e=hR(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function fR(){return Bp("useRouteId")}function dR(){var s;let i=L.useContext(jp),e=cR("useRouteError"),n=Bp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function mR(){let{router:i}=uR("useNavigate"),e=Bp("useNavigate"),n=L.useRef(!1);return DT(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Yn(n.current,NT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var AE={};function kT(i,e,n){!e&&!AE[i]&&(AE[i]=!0,Yn(!1,n))}L.memo(pR);function pR({routes:i,future:e,state:n,unstable_onError:s}){return xT(i,void 0,n,s,e)}function hs(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ra(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:R="default"}=n,k=L.useMemo(()=>{let z=pr(p,h);return z==null?null:{location:{pathname:z,search:g,hash:E,state:T,key:R},navigationType:s}},[h,p,g,E,T,R,s]);return Yn(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(ki.Provider,{value:m},L.createElement(_u.Provider,{children:e,value:k}))}function yR({children:i,location:e}){return iR(op(i),e)}function op(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,op(s.props.children,u));return}ut(s.type===hs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=op(s.props.children,u)),n.push(h)}),n}var yh="get",vh="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function vR(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function _R(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function ER(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function TR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wR(i,e){return i.button===0&&(!e||e==="_self")&&!TR(i)}function lp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let s=i[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function SR(i,e){let n=lp(i);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ch=null;function AR(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var bR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!bR.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):i}function RR(i,e){let n,s,o,u,h;if(_R(i)){let m=i.getAttribute("action");s=m?pr(m,e):null,n=i.getAttribute("method")||yh,o=Hm(i.getAttribute("enctype"))||vh,u=new FormData(i)}else if(vR(i)||ER(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||yh,o=Hm(i.getAttribute("formenctype"))||Hm(m.getAttribute("enctype"))||vh,u=new FormData(m,i),!AR()){let{name:g,type:E,value:T}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yh,s=null,o=vh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function IR(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function CR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function DR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await CR(u,n);return h.links?h.links():[]}return[]}));return MR(s.flat(1).filter(NR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function OR(i,e,{includeHydrateFallback:n}={}){return xR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xR(i){return[...new Set(i)]}function kR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function MR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(kR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function MT(){let i=L.useContext(Po);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function VR(){let i=L.useContext(rf);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Fp=L.createContext(void 0);Fp.displayName="FrameworkContext";function VT(){let i=L.useContext(Fp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function PR(i,e){let n=L.useContext(Fp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,R=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=Y=>{Y.forEach(ee=>{h(ee.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[i]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},z=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Kl(m,k),onBlur:Kl(p,z),onMouseEnter:Kl(g,k),onMouseLeave:Kl(E,z),onTouchStart:Kl(T,k)}]:[!1,R,{}]}function Kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function LR({page:i,...e}){let{router:n}=MT(),s=L.useMemo(()=>wT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(jR,{page:i,matches:s,...e}):null}function UR(i){let{manifest:e,routeModules:n}=VT(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return DR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function jR({page:i,matches:e,...n}){let s=Ds(),{manifest:o,routeModules:u}=VT(),{basename:h}=MT(),{loaderData:m,matches:p}=VR(),g=L.useMemo(()=>bE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=L.useMemo(()=>bE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,Q=!1;if(e.forEach(Y=>{var X;let ee=o.routes[Y.route.id];!ee||!ee.hasLoader||(!g.some(le=>le.route.id===Y.route.id)&&Y.route.id in m&&((X=u[Y.route.id])!=null&&X.shouldRevalidate)||ee.hasClientLoader?Q=!0:z.add(Y.route.id))}),z.size===0)return[];let F=IR(i,h,"data");return Q&&z.size>0&&F.searchParams.set("_routes",e.filter(Y=>z.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[h,m,s,o,g,e,i,u]),R=L.useMemo(()=>OR(E,o),[E,o]),k=UR(E);return L.createElement(L.Fragment,null,T.map(z=>L.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),R.map(z=>L.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),k.map(({key:z,link:Q})=>L.createElement("link",{key:z,nonce:n.nonce,...Q})))}function zR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PT&&(window.__reactRouterVersion="7.8.2")}catch{}function BR({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=C1({window:n,v5Compat:!0}));let o=s.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(gR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UT=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...R},k){let{basename:z}=L.useContext(ki),Q=typeof g=="string"&&LT.test(g),F,Y=!1;if(typeof g=="string"&&Q&&(F=g,PT))try{let I=new URL(window.location.href),C=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=pr(C.pathname,z);C.origin===I.origin&&O!=null?g=O+C.search+C.hash:Y=!0}catch{Yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=tR(g,{relative:o}),[X,le,he]=PR(s,R),se=GR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function D(I){e&&e(I),I.defaultPrevented||se(I)}let b=L.createElement("a",{...R,...he,href:F||ee,onClick:Y||u?e:D,ref:zR(k,le),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return X&&!Q?L.createElement(L.Fragment,null,b,L.createElement(LR,{page:ee})):b});UT.displayName="Link";var qR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=Tu(h,{relative:g.relative}),R=Ds(),k=L.useContext(rf),{navigator:z,basename:Q}=L.useContext(ki),F=k!=null&&WR(T)&&m===!0,Y=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,ee=R.pathname,X=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),X=X?X.toLowerCase():null,Y=Y.toLowerCase()),X&&Q&&(X=pr(X,Q)||X);const le=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(le)==="/",se=X!=null&&(X===Y||!o&&X.startsWith(Y)&&X.charAt(Y.length)==="/"),D={isActive:he,isPending:se,isTransitioning:F},b=he?e:void 0,I;typeof s=="function"?I=s(D):I=[s,he?"active":null,se?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(D):u;return L.createElement(UT,{...g,"aria-current":b,className:I,ref:E,style:C,to:h,viewTransition:m},typeof p=="function"?p(D):p)});qR.displayName="NavLink";var FR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=yh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...R},k)=>{let z=YR(),Q=XR(m,{relative:g}),F=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&LT.test(m),ee=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let le=X.nativeEvent.submitter,he=(le==null?void 0:le.getAttribute("formmethod"))||h;z(le||X.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return L.createElement("form",{ref:k,method:F,action:Q,onSubmit:s?p:ee,...R,"data-discover":!Y&&i==="render"?"true":void 0})});FR.displayName="Form";function HR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(i){let e=L.useContext(Po);return ut(e,HR(i)),e}function GR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ui(),p=Ds(),g=Tu(i,{relative:u});return L.useCallback(E=>{if(wR(E,e)){E.preventDefault();let T=n!==void 0?n:ou(p)===ou(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}function $R(i){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(lp(i)),n=L.useRef(!1),s=Ds(),o=L.useMemo(()=>SR(s.search,n.current?null:e.current),[s.search]),u=ui(),h=L.useCallback((m,p)=>{const g=lp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var KR=0,QR=()=>`__${String(++KR)}__`;function YR(){let{router:i}=jT("useSubmit"),{basename:e}=L.useContext(ki),n=fR();return L.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=RR(s,e);if(o.navigate===!1){let E=o.fetcherKey||QR();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function XR(i,{relative:e}={}){let{basename:n}=L.useContext(ki),s=L.useContext(Mi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Tu(i||".",{relative:e})},h=Ds();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),ou(u)}function WR(i,{relative:e}={}){let n=L.useContext(CT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jT("useViewTransitionState"),o=Tu(i,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Dh(o.pathname,h)!=null||Dh(o.pathname,u)!=null}const JR=()=>{};var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ZR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(R=64)),s.push(n[E],n[T],n[R],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(zT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new eI;const R=u<<2|m>>4;if(s.push(R),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const z=g<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(i){const e=zT(i);return BT.encodeByteArray(e,!0)},Oh=function(i){return tI(i).replace(/\./g,"")},qT=function(i){try{return BT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=()=>nI().__FIREBASE_DEFAULTS__,rI=()=>{if(typeof process>"u"||typeof RE>"u")return;const i=RE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&qT(i[1]);return e&&JSON.parse(e)},af=()=>{try{return JR()||iI()||rI()||sI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FT=i=>{var e,n;return(n=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},aI=i=>{const e=FT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},HT=()=>{var i;return(i=af())===null||i===void 0?void 0:i.config},GT=i=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $T(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(h)),""].join(".")}const eu={};function uI(){const i={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?i.emulator.push(e):i.prod.push(e);return i}function cI(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let IE=!1;function KT(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||eu[i]===e||eu[i]||IE)return;eu[i]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=uI().prod.length>0;function h(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{IE=!0,h()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=cI(s),k=n("text"),z=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),Y=n("preprendIcon"),ee=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const X=R.element;m(X),E(F,Q);const le=g();p(ee,Y),X.append(ee,z,F,le),document.body.appendChild(X)}u?(z.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function fI(){var i;const e=(i=af())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function mI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pI(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gI(){return!fI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YT(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function yI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=vI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?_I(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ci(o,m,s)}}function _I(i,e){return i.replace(EI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const EI=/\{\$([^}]+)}/g;function TI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ws(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(CE(u)&&CE(h)){if(!ws(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function CE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function wI(i,e){const n=new SI(i,e);return n.subscribe.bind(n)}class SI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");AI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,RI=2,II=4*60*60*1e3,CI=.5;function NE(i,e=bI,n=RI){const s=e*Math.pow(n,i),o=Math.round(CI*s*(Math.random()-.5)*2);return Math.min(II,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new oI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OI(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(i){return i===fa?void 0:i}function OI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const kI={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},MI=Ve.INFO,VI={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},PI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=VI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=MI,this._logHandler=PI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const LI=(i,e)=>e.some(n=>i instanceof n);let DE,OE;function UI(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jI(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,up=new WeakMap,JT=new WeakMap,$m=new WeakMap,Hp=new WeakMap;function zI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(gs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,i)}).catch(()=>{}),Hp.set(e,i),e}function BI(i){if(up.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});up.set(i,e)}let cp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||JT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qI(i){cp=i(cp)}function FI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Km(this),e,...n);return JT.set(s,e.sort?e.sort():[e]),gs(s)}:jI().includes(i)?function(...e){return i.apply(Km(this),e),gs(WT.get(this))}:function(...e){return gs(i.apply(Km(this),e))}}function HI(i){return typeof i=="function"?FI(i):(i instanceof IDBTransaction&&BI(i),LI(i,UI())?new Proxy(i,cp):i)}function gs(i){if(i instanceof IDBRequest)return zI(i);if($m.has(i))return $m.get(i);const e=HI(i);return e!==i&&($m.set(i,e),Hp.set(e,i)),e}const Km=i=>Hp.get(i);function ZT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=gs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(gs(h.result),p.oldVersion,p.newVersion,gs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const GI=["get","getKey","getAll","getAllKeys","count"],$I=["put","add","delete","clear"],Qm=new Map;function xE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$I.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Qm.set(e,u),u}qI(i=>({...i,get:(e,n,s)=>xE(e,n)||i.get(e,n,s),has:(e,n)=>!!xE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function QI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hp="@firebase/app",kE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new of("@firebase/app"),YI="@firebase/app-compat",XI="@firebase/analytics-compat",WI="@firebase/analytics",JI="@firebase/app-check-compat",ZI="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",iC="@firebase/data-connect",rC="@firebase/database-compat",sC="@firebase/functions",aC="@firebase/functions-compat",oC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",cC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",dC="@firebase/remote-config",mC="@firebase/remote-config-compat",pC="@firebase/storage",gC="@firebase/storage-compat",yC="@firebase/firestore",vC="@firebase/ai",_C="@firebase/firestore-compat",EC="firebase",TC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="[DEFAULT]",wC={[hp]:"fire-core",[YI]:"fire-core-compat",[WI]:"fire-analytics",[XI]:"fire-analytics-compat",[ZI]:"fire-app-check",[JI]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[iC]:"fire-data-connect",[rC]:"fire-rtdb-compat",[sC]:"fire-fn",[aC]:"fire-fn-compat",[oC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[cC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[dC]:"fire-rc",[mC]:"fire-rc-compat",[pC]:"fire-gcs",[gC]:"fire-gcs-compat",[yC]:"fire-fst",[_C]:"fire-fst-compat",[vC]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,SC=new Map,dp=new Map;function ME(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Di(i){const e=i.name;if(dp.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const n of xh.values())ME(n,i);for(const n of SC.values())ME(n,i);return!0}function Ca(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function On(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Ia("app","Firebase",AC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=TC;function ew(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ys.create("bad-app-name",{appName:String(o)});if(n||(n=HT()),!n)throw ys.create("no-options");const u=xh.get(o);if(u){if(ws(n,u.options)&&ws(s,u.config))return u;throw ys.create("duplicate-app",{appName:o})}const h=new xI(o);for(const p of dp.values())h.addComponent(p);const m=new bC(n,s,h);return xh.set(o,m),m}function Gp(i=fp){const e=xh.get(i);if(!e&&i===fp&&HT())return ew();if(!e)throw ys.create("no-app",{appName:i});return e}function Kn(i,e,n){var s;let o=(s=wC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}Di(new oi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",IC=1,lu="firebase-heartbeat-store";let Ym=null;function tw(){return Ym||(Ym=ZT(RC,IC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ys.create("idb-open",{originalErrorMessage:i.message})})),Ym}async function CC(i){try{const n=(await tw()).transaction(lu),s=await n.objectStore(lu).get(nw(i));return await n.done,s}catch(e){if(e instanceof ci)gr.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function VE(i,e){try{const s=(await tw()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,nw(i)),await s.done}catch(n){if(n instanceof ci)gr.warn(n.message);else{const s=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function nw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,DC=30;class OC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=PE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>DC){const h=MC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PE(),{heartbeatsToSend:s,unsentEntries:o}=xC(this._heartbeatsCache.heartbeats),u=Oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gr.warn(n),""}}}function PE(){return new Date().toISOString().substring(0,10)}function xC(i,e=NC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),LE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),LE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YT()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return VE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function LE(i){return Oh(JSON.stringify({version:2,heartbeats:i})).length}function MC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(i){Di(new oi("platform-logger",e=>new KI(e),"PRIVATE")),Di(new oi("heartbeat",e=>new OC(e),"PRIVATE")),Kn(hp,kE,i),Kn(hp,kE,"esm2017"),Kn("fire-js","")}VC("");function $p(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PC=iw,rw=new Ia("auth","Firebase",iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new of("@firebase/auth");function LC(i,...e){kh.logLevel<=Ve.WARN&&kh.warn(`Auth (${Uo}): ${i}`,...e)}function _h(i,...e){kh.logLevel<=Ve.ERROR&&kh.error(`Auth (${Uo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i,...e){throw Qp(i,...e)}function ai(i,...e){return Qp(i,...e)}function Kp(i,e,n){const s=Object.assign(Object.assign({},PC()),{[e]:n});return new Ia("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return Kp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UC(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Xn(i,"argument-error"),Kp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return rw.create(i,...e)}function _e(i,e,...n){if(!i)throw Qp(e,...n)}function cr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function yr(i,e){i||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function jC(){return UE()==="http:"||UE()==="https:"}function UE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||QT()||"connection"in navigator)?navigator.onLine:!0}function BC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=hI()||mI()}get(){return zC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i,e){yr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HC=new Su(3e4,6e4);function Os(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function xs(i,e,n,s,o={}){return aw(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=wu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return dI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),sw.fetch()(await ow(i,i.config.apiHost,n,m),g)})}async function aw(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},qC),e);try{const o=new $C(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw hh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Kp(i,E,g);Xn(i,E)}}catch(o){if(o instanceof ci)throw o;Xn(i,"network-request-failed",{message:String(o)})}}async function Au(i,e,n,s,o={}){const u=await xs(i,e,n,s,o);return"mfaPendingCredential"in u&&Xn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ow(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Yp(i.config,o):`${i.config.apiScheme}://${o}`;return FC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function GC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),HC.get())})}}function hh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(i,e,s);return o.customData._tokenResponse=n,o}function jE(i){return i!==void 0&&i.enterprise!==void 0}class KC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QC(i,e){return xs(i,"GET","/v2/recaptchaConfig",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(i,e){return xs(i,"POST","/v1/accounts:delete",e)}async function Mh(i,e){return xs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XC(i,e=!1){const n=Et(i),s=await n.getIdToken(e),o=Xp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:tu(Xm(o.auth_time)),issuedAtTime:tu(Xm(o.iat)),expirationTime:tu(Xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Xm(i){return Number(i)*1e3}function Xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=qT(n);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zE(i){const e=Xp(i);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&WC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function WC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await uu(i,Mh(n,{idToken:s}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?lw(u.providerUserInfo):[],m=e2(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function ZC(i){const e=Et(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lw(i){return i.map(e=>{var{providerId:n}=e,s=$p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,e){const n=await aw(i,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await ow(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n2(i,e){return xs(i,"POST","/v2/accounts:revokeToken",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=zE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await t2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(_e(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(i,e){_e(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XC(this,e)}reload(){return ZC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await uu(this,YC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(h=n.photoURL)!==null&&h!==void 0?h:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:le,isAnonymous:he,providerData:se,stsTokenManager:D}=n;_e(X&&D,e,"internal-error");const b=Io.fromJSON(this.name,D);_e(typeof X=="string",e,"internal-error"),cs(T,e.name),cs(R,e.name),_e(typeof le=="boolean",e,"internal-error"),_e(typeof he=="boolean",e,"internal-error"),cs(k,e.name),cs(z,e.name),cs(Q,e.name),cs(F,e.name),cs(Y,e.name),cs(ee,e.name);const I=new si({uid:X,auth:e,email:R,emailVerified:le,displayName:T,isAnonymous:he,photoURL:z,phoneNumber:k,tenantId:Q,stsTokenManager:b,createdAt:Y,lastLoginAt:ee});return se&&Array.isArray(se)&&(I.providerData=se.map(C=>Object.assign({},C))),F&&(I._redirectEventId=F),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Io;m.updateFromIdToken(s);const p=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;function hr(i){yr(i instanceof Function,"Expected a class definition");let e=BE.get(i);return e?(yr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,BE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uw.type="NONE";const qE=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(i,e,n){return`firebase:${i}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mh(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(hr(qE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(qE);const h=Eh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const R=await Mh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await si._fromGetAccountInfoResponse(e,R,E)}else T=si._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(gw(e))return"Webos";if(hw(e))return"Safari";if((e.includes("chrome/")||fw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cw(i=rn()){return/firefox\//i.test(i)}function hw(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fw(i=rn()){return/crios\//i.test(i)}function dw(i=rn()){return/iemobile/i.test(i)}function mw(i=rn()){return/android/i.test(i)}function pw(i=rn()){return/blackberry/i.test(i)}function gw(i=rn()){return/webos/i.test(i)}function Wp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function i2(i=rn()){var e;return Wp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r2(){return pI()&&document.documentMode===10}function yw(i=rn()){return Wp(i)||mw(i)||gw(i)||pw(i)||/windows phone/i.test(i)||dw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i,e=[]){let n;switch(i){case"Browser":n=FE(rn());break;case"Worker":n=`${FE(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(i,e={}){return xs(i,"GET","/v2/passwordPolicy",Os(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=6;class l2{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:o2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mh(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(dr(this));const n=e?Et(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a2(this),n=new l2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ia("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await n2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&LC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ks(i){return Et(i)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wI(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(i){lf=i}function _w(i){return lf.loadJS(i)}function h2(){return lf.recaptchaEnterpriseScript}function f2(){return lf.gapiScript}function d2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class m2{constructor(){this.enterprise=new p2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const g2="recaptcha-enterprise",Ew="NO_RECAPTCHA";class y2{constructor(e){this.type=g2,this.auth=ks(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{QC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new KC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;jE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Ew)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&jE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=h2();p.length!==0&&(p+=m),_w(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function GE(i,e,n,s=!1,o=!1){const u=new y2(i);let h;if(o)h=Ew;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gp(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await GE(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await GE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,e){const n=Ca(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ws(u,e??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:e})}function _2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function E2(i,e,n){const s=ks(i);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Tw(e),{host:h,port:m}=T2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ws(g,s.config.emulator)&&ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(h)?($T(`${u}//${h}${p}`),KT("Auth",!0)):w2()}function Tw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function T2(i){const e=Tw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$E(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:$E(h)}}}function $E(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function w2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function S2(i,e){return xs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(i,e){return Au(i,"POST","/v1/accounts:signInWithPassword",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}async function R2(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,n,"signInWithPassword",A2);case"emailLink":return b2(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,s,"signUpPassword",S2);case"emailLink":return R2(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i,e){return Au(i,"POST","/v1/accounts:signInWithIdp",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="http://localhost";class Ea extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=$p(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,No(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:I2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N2(i){const e=Ql(Yl(i)).link,n=e?Ql(Yl(e)).deep_link_id:null,s=Ql(Yl(i)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||n||e||i}class Zp{constructor(e){var n,s,o,u,h,m;const p=Ql(Yl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=C2((o=p.mode)!==null&&o!==void 0?o:null);_e(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=N2(e);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return _e(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends bu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends bu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends bu{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(i,e){return Au(i,"POST","/v1/accounts:signUp",Os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),h=KE(s);return new Ta({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=KE(s);return new Ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function KE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends ci{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function ww(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,e,s):u})}async function O2(i,e,n=!1){const s=await uu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(i,e,n=!1){const{auth:s}=i;if(On(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await uu(i,ww(s,o,e,i),n);_e(u.idToken,s,"internal-error");const h=Xp(u.idToken);_e(h,s,"internal-error");const{sub:m}=h;return _e(i.uid===m,s,"user-mismatch"),Ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(i,e,n=!1){if(On(i.app))return Promise.reject(dr(i));const s="signIn",o=await ww(i,s,e),u=await Ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function k2(i,e){return Sw(ks(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(i){const e=ks(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function M2(i,e,n){if(On(i.app))return Promise.reject(dr(i));const s=ks(i),h=await gp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Aw(i),p}),m=await Ta._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function V2(i,e,n){return On(i.app)?Promise.reject(dr(i)):k2(Et(i),jo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Aw(i),s})}function P2(i,e,n,s){return Et(i).onIdTokenChanged(e,n,s)}function L2(i,e,n){return Et(i).beforeAuthStateChanged(e,n)}function U2(i,e,n,s){return Et(i).onAuthStateChanged(e,n,s)}function j2(i){return Et(i).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=1e3,B2=10;class Rw extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);r2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,B2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},z2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rw.type="LOCAL";const q2=Rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iw.type="SESSION";const Cw=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await F2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=tg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function G2(i){bi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function $2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Q2(){return Nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",Y2=1,Uh="firebaseLocalStorage",Ow="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function X2(){const i=indexedDB.deleteDatabase(Dw);return new Ru(i).toPromise()}function yp(){const i=indexedDB.open(Dw,Y2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Uh,{keyPath:Ow})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Uh)?e(s):(s.close(),await X2(),e(await yp()))})})}async function QE(i,e,n){const s=cf(i,!0).put({[Ow]:e,value:n});return new Ru(s).toPromise()}async function W2(i,e){const n=cf(i,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function YE(i,e){const n=cf(i,!0).delete(e);return new Ru(n).toPromise()}const J2=800,Z2=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Z2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(Q2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $2(),!this.activeServiceWorker)return;this.sender=new H2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await QE(e,Lh,"1"),await YE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>W2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>YE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cf(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const eN=xw;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i,e){return e?hr(e):(_e(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tN(i){return Sw(i.auth,new ng(i),i.bypassAuthState)}function nN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),x2(n,new ng(i),i.bypassAuthState)}async function iN(i){const{auth:e,user:n}=i;return _e(n,e,"internal-error"),O2(n,new ng(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return iN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:Xn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new Su(2e3,1e4);async function sN(i,e,n){if(On(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const s=ks(i);UC(i,e,eg);const o=kw(s,n);return new da(s,"signInViaPopup",e,o).executeNotNull()}class da extends Mw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="pendingRedirect",Th=new Map;class oN extends Mw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await lN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lN(i,e){const n=hN(e),s=cN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function uN(i,e){Th.set(i._key(),e)}function cN(i){return hr(i._redirectPersistence)}function hN(i){return Eh(aN,i.config.apiKey,i.name)}async function fN(i,e,n=!1){if(On(i.app))return Promise.reject(dr(i));const s=ks(i),o=kw(s,e),h=await new oN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=10*60*1e3;class mN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Vw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dN&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Vw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(i,e={}){return xs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vN=/^https?/;async function _N(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gN(i);for(const n of e)try{if(EN(n))return}catch{}Xn(i,"unauthorized-domain")}function EN(i){const e=mp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!vN.test(n))return!1;if(yN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Su(3e4,6e4);function WE(){const i=bi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function wN(i){return new Promise((e,n)=>{var s,o,u;function h(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(ai(i,"network-request-failed"))},timeout:TN.get()})}if(!((o=(s=bi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=bi().gapi)===null||u===void 0)&&u.load)h();else{const m=d2("iframefcb");return bi()[m]=()=>{gapi.load?h():n(ai(i,"network-request-failed"))},_w(`${f2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw wh=null,e})}let wh=null;function SN(i){return wh=wh||wN(i),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Su(5e3,15e3),bN="__/auth/iframe",RN="emulator/auth/iframe",IN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NN(i){const e=i.config;_e(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Yp(e,RN):`https://${i.config.authDomain}/${bN}`,s={apiKey:e.apiKey,appName:i.name,v:Uo},o=CN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function DN(i){const e=await SN(i),n=bi().gapi;return _e(n,i,"internal-error"),e.open({where:document.body,url:NN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),m=bi().setTimeout(()=>{u(h)},AN.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,kN=600,MN="_blank",VN="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(i,e,n,s=xN,o=kN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},ON),{width:s.toString(),height:o.toString(),top:u,left:h}),g=rn().toLowerCase();n&&(m=fw(g)?MN:n),cw(g)&&(e=e||VN,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[k,z])=>`${R}${k}=${z},`,"");if(i2(g)&&m!=="_self")return LN(e||"",m),new JE(null);const T=window.open(e||"",m,E);_e(T,i,"popup-blocked");try{T.focus()}catch{}return new JE(T)}function LN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="__/auth/handler",jN="emulator/auth/handler",zN=encodeURIComponent("fac");async function ZE(i,e,n,s,o,u){_e(i.config.authDomain,i,"auth-domain-config-required"),_e(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Uo,eventId:o};if(e instanceof eg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",TI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof bu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${zN}=${encodeURIComponent(p)}`:"";return`${BN(i)}?${wu(m).slice(1)}${g}`}function BN({config:i}){return i.emulator?Yp(i,jN):`https://${i.authDomain}/${UN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class qN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=fN,this._overrideRedirectResult=uN}async _openPopup(e,n,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await ZE(e,n,s,mp(),o);return PN(e,h,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ZE(e,n,s,mp(),o);return G2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await DN(e),s=new mN(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Wm];h!==void 0&&n(!!h),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yw()||hw()||Wp()}}const FN=qN;var e0="@firebase/auth",t0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $N(i){Di(new oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_e(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vw(i)},g=new u2(s,o,u,p);return _2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Di(new oi("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(s=>new HN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(e0,t0,GN(i)),Kn(e0,t0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=5*60,QN=GT("authIdTokenMaxAge")||KN;let n0=null;const YN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QN)return;const o=n==null?void 0:n.token;n0!==o&&(n0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XN(i=Gp()){const e=Ca(i,"auth");if(e.isInitialized())return e.getImmediate();const n=v2(i,{popupRedirectResolver:FN,persistence:[eN,q2,Cw]}),s=GT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=YN(u.toString());L2(n,h,()=>h(n.currentUser)),P2(n,m=>h(m))}}const o=FT("auth");return o&&E2(n,`http://${o}`),n}function WN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}c2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",WN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$N("Browser");var JN="firebase",ZN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(JN,ZN,"app");const Pw="@firebase/installations",ig="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1e4,Uw=`w:${ig}`,jw="FIS_v2",eD="https://firebaseinstallations.googleapis.com/v1",tD=60*60*1e3,nD="installations",iD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wa=new Ia(nD,iD,rD);function zw(i){return i instanceof ci&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw({projectId:i}){return`${eD}/projects/${i}/installations`}function qw(i){return{token:i.token,requestStatus:2,expiresIn:aD(i.expiresIn),creationTime:Date.now()}}async function Fw(i,e){const s=(await e.json()).error;return wa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Hw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function sD(i,{refreshToken:e}){const n=Hw(i);return n.append("Authorization",oD(e)),n}async function Gw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function aD(i){return Number(i.replace("s","000"))}function oD(i){return`${jw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Bw(i),o=Hw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:jw,appId:i.appId,sdkVersion:Uw},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Gw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:qw(g.authToken)}}else throw await Fw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^[cdef][\w-]{21}$/,vp="";function hD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=fD(i);return cD.test(n)?n:vp}catch{return vp}}function fD(i){return uD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function Qw(i,e){const n=hf(i);Yw(n,e),dD(n,e)}function Yw(i,e){const n=Kw.get(i);if(n)for(const s of n)s(e)}function dD(i,e){const n=mD();n&&n.postMessage({key:i,fid:e}),pD()}let ma=null;function mD(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=i=>{Yw(i.data.key,i.data.fid)}),ma}function pD(){Kw.size===0&&ma&&(ma.close(),ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-installations-database",yD=1,Sa="firebase-installations-store";let Jm=null;function rg(){return Jm||(Jm=ZT(gD,yD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Sa)}}})),Jm}async function jh(i,e){const n=hf(i),o=(await rg()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&Qw(i,e.fid),e}async function Xw(i){const e=hf(i),s=(await rg()).transaction(Sa,"readwrite");await s.objectStore(Sa).delete(e),await s.done}async function ff(i,e){const n=hf(i),o=(await rg()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),h=await u.get(n),m=e(h);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!h||h.fid!==m.fid)&&Qw(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(i){let e;const n=await ff(i.appConfig,s=>{const o=vD(s),u=_D(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===vp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function vD(i){const e=i||{fid:hD(),registrationStatus:0};return Ww(e)}function _D(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(wa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=ED(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TD(i)}:{installationEntry:e}}async function ED(i,e){try{const n=await lD(i,e);return jh(i.appConfig,n)}catch(n){throw zw(n)&&n.customData.serverCode===409?await Xw(i.appConfig):await jh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function TD(i){let e=await i0(i.appConfig);for(;e.registrationStatus===1;)await $w(100),e=await i0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await sg(i);return s||n}return e}function i0(i){return ff(i,e=>{if(!e)throw wa.create("installation-not-found");return Ww(e)})}function Ww(i){return wD(i)?{fid:i.fid,registrationStatus:0}:i}function wD(i){return i.registrationStatus===1&&i.registrationTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD({appConfig:i,heartbeatServiceProvider:e},n){const s=AD(i,n),o=sD(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Uw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(h)},p=await Gw(()=>fetch(s,m));if(p.ok){const g=await p.json();return qw(g)}else throw await Fw("Generate Auth Token",p)}function AD(i,{fid:e}){return`${Bw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(i,e=!1){let n;const s=await ff(i.appConfig,u=>{if(!Jw(u))throw wa.create("not-registered");const h=u.authToken;if(!e&&ID(h))return u;if(h.requestStatus===1)return n=bD(i,e),u;{if(!navigator.onLine)throw wa.create("app-offline");const m=ND(u);return n=RD(i,m),m}});return n?await n:s.authToken}async function bD(i,e){let n=await r0(i.appConfig);for(;n.authToken.requestStatus===1;)await $w(100),n=await r0(i.appConfig);const s=n.authToken;return s.requestStatus===0?ag(i,e):s}function r0(i){return ff(i,e=>{if(!Jw(e))throw wa.create("not-registered");const n=e.authToken;return DD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function RD(i,e){try{const n=await SD(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await jh(i.appConfig,s),n}catch(n){if(zw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Xw(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jh(i.appConfig,s)}throw n}}function Jw(i){return i!==void 0&&i.registrationStatus===2}function ID(i){return i.requestStatus===2&&!CD(i)}function CD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+tD}function ND(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function DD(i){return i.requestStatus===1&&i.requestTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(i){const e=i,{installationEntry:n,registrationPromise:s}=await sg(e);return s?s.catch(console.error):ag(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(i,e=!1){const n=i;return await kD(n),(await ag(n,e)).token}async function kD(i){const{registrationPromise:e}=await sg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(i){if(!i||!i.options)throw Zm("App Configuration");if(!i.name)throw Zm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Zm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Zm(i){return wa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="installations",VD="installations-internal",PD=i=>{const e=i.getProvider("app").getImmediate(),n=MD(e),s=Ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},LD=i=>{const e=i.getProvider("app").getImmediate(),n=Ca(e,Zw).getImmediate();return{getId:()=>OD(n),getToken:o=>xD(n,o)}};function UD(){Di(new oi(Zw,PD,"PUBLIC")),Di(new oi(VD,LD,"PRIVATE"))}UD();Kn(Pw,ig);Kn(Pw,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="analytics",jD="firebase_id",zD="origin",BD=60*1e3,qD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Ia("analytics","Analytics",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i){if(!i.startsWith(og)){const e=kn.create("invalid-gtag-resource",{gtagURL:i});return En.warn(e.message),""}return i}function eS(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function GD(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function $D(i,e){const n=GD("firebase-js-sdk-policy",{createScriptURL:HD}),s=document.createElement("script"),o=`${og}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function KD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function QD(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await eS(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){En.error(m)}i("config",o,u)}async function YD(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const m=await eS(n);for(const p of h){const g=m.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){En.error(u)}}function XD(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[m,p]=h;await YD(i,e,n,m,p)}else if(u==="config"){const[m,p]=h;await QD(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=h;i("consent",m,p)}else if(u==="get"){const[m,p,g]=h;i("get",m,p,g)}else if(u==="set"){const[m]=h;i("set",m)}else i(u,...h)}catch(m){En.error(m)}}return o}function WD(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=XD(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function JD(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(og)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=30,eO=1e3;class tO{constructor(e={},n=eO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tS=new tO;function nO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function iO(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:nO(s)},u=qD.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function rO(i,e=tS,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw kn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new oO;return setTimeout(async()=>{m.abort()},BD),nS({appId:s,apiKey:o,measurementId:u},h,m,e)}async function nS(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=tS){var u;const{appId:h,measurementId:m}=i;try{await sO(s,e)}catch(p){if(m)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:m};throw p}try{const p=await iO(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!aO(g)){if(o.deleteThrottleMetadata(h),m)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?NE(n,o.intervalMillis,ZD):NE(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(h,T),En.debug(`Calling attemptFetch again in ${E} millis`),nS(i,T,s,o)}}function sO(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aO(i){if(!(i instanceof ci)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class oO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lO(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(){if(YT())try{await XT()}catch(i){return En.warn(kn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return En.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cO(i,e,n,s,o,u,h){var m;const p=rO(i);p.then(k=>{n[k.measurementId]=k.appId,i.options.measurementId&&k.measurementId!==i.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>En.error(k)),e.push(p);const g=uO().then(k=>{if(k)return s.getId()}),[E,T]=await Promise.all([p,g]);JD(u)||$D(u,E.measurementId),o("js",new Date);const R=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return R[zD]="firebase",R.update=!0,T!=null&&(R[jD]=T),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.app=e}_delete(){return delete nu[this.app.options.appId],Promise.resolve()}}let nu={},s0=[];const a0={};let ep="dataLayer",fO="gtag",o0,iS,l0=!1;function dO(){const i=[];if(QT()&&i.push("This is a browser extension environment."),yI()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function mO(i,e,n){dO();const s=i.options.appId;if(!s)throw kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(nu[s]!=null)throw kn.create("already-exists",{id:s});if(!l0){KD(ep);const{wrappedGtag:u,gtagCore:h}=WD(nu,s0,a0,ep,fO);iS=u,o0=h,l0=!0}return nu[s]=cO(i,s0,a0,e,o0,ep,n),new hO(i)}function pO(i=Gp()){i=Et(i);const e=Ca(i,zh);return e.isInitialized()?e.getImmediate():gO(i)}function gO(i,e={}){const n=Ca(i,zh);if(n.isInitialized()){const o=n.getImmediate();if(ws(e,n.getOptions()))return o;throw kn.create("already-initialized")}return n.initialize({options:e})}function yO(i,e,n,s){i=Et(i),lO(iS,nu[i.app.options.appId],e,n,s).catch(o=>En.error(o))}const u0="@firebase/analytics",c0="0.10.17";function vO(){Di(new oi(zh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return mO(s,o,n)},"PUBLIC")),Di(new oi("analytics-internal",i,"PRIVATE")),Kn(u0,c0),Kn(u0,c0,"esm2017");function i(e){try{const n=e.getProvider(zh).getImmediate();return{logEvent:(s,o,u)=>yO(n,s,o,u)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}vO();var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,rS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function I(){}I.prototype=b.prototype,D.D=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(C,O,V){for(var N=Array(arguments.length-2),De=2;De<arguments.length;De++)N[De-2]=arguments[De];return b.prototype[O].apply(C,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,I){I||(I=0);var C=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)C[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;16>O;++O)C[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],O=D.g[2];var V=D.g[3],N=b+(V^I&(O^V))+C[0]+3614090360&4294967295;b=I+(N<<7&4294967295|N>>>25),N=V+(O^b&(I^O))+C[1]+3905402710&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(I^V&(b^I))+C[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(b^O&(V^b))+C[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(V^I&(O^V))+C[4]+4118548399&4294967295,b=I+(N<<7&4294967295|N>>>25),N=V+(O^b&(I^O))+C[5]+1200080426&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(I^V&(b^I))+C[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(b^O&(V^b))+C[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(V^I&(O^V))+C[8]+1770035416&4294967295,b=I+(N<<7&4294967295|N>>>25),N=V+(O^b&(I^O))+C[9]+2336552879&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(I^V&(b^I))+C[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(b^O&(V^b))+C[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(V^I&(O^V))+C[12]+1804603682&4294967295,b=I+(N<<7&4294967295|N>>>25),N=V+(O^b&(I^O))+C[13]+4254626195&4294967295,V=b+(N<<12&4294967295|N>>>20),N=O+(I^V&(b^I))+C[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(b^O&(V^b))+C[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(O^V&(I^O))+C[1]+4129170786&4294967295,b=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(b^I))+C[6]+3225465664&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(V^b))+C[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^b&(O^V))+C[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(I^O))+C[5]+3593408605&4294967295,b=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(b^I))+C[10]+38016083&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(V^b))+C[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^b&(O^V))+C[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(I^O))+C[9]+568446438&4294967295,b=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(b^I))+C[14]+3275163606&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(V^b))+C[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^b&(O^V))+C[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^V&(I^O))+C[13]+2850285829&4294967295,b=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(b^I))+C[2]+4243563512&4294967295,V=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(V^b))+C[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^b&(O^V))+C[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(I^O^V)+C[5]+4294588738&4294967295,b=I+(N<<4&4294967295|N>>>28),N=V+(b^I^O)+C[8]+2272392833&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^I)+C[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^b)+C[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^V)+C[1]+2763975236&4294967295,b=I+(N<<4&4294967295|N>>>28),N=V+(b^I^O)+C[4]+1272893353&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^I)+C[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^b)+C[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^V)+C[13]+681279174&4294967295,b=I+(N<<4&4294967295|N>>>28),N=V+(b^I^O)+C[0]+3936430074&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^I)+C[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^b)+C[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^V)+C[9]+3654602809&4294967295,b=I+(N<<4&4294967295|N>>>28),N=V+(b^I^O)+C[12]+3873151461&4294967295,V=b+(N<<11&4294967295|N>>>21),N=O+(V^b^I)+C[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^b)+C[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(O^(I|~V))+C[0]+4096336452&4294967295,b=I+(N<<6&4294967295|N>>>26),N=V+(I^(b|~O))+C[7]+1126891415&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~I))+C[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~b))+C[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~V))+C[12]+1700485571&4294967295,b=I+(N<<6&4294967295|N>>>26),N=V+(I^(b|~O))+C[3]+2399980690&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~I))+C[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~b))+C[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~V))+C[8]+1873313359&4294967295,b=I+(N<<6&4294967295|N>>>26),N=V+(I^(b|~O))+C[15]+4264355552&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~I))+C[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~b))+C[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~V))+C[4]+4149444226&4294967295,b=I+(N<<6&4294967295|N>>>26),N=V+(I^(b|~O))+C[11]+3174756917&4294967295,V=b+(N<<10&4294967295|N>>>22),N=O+(b^(V|~I))+C[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~b))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+V&4294967295}s.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var I=b-this.blockSize,C=this.B,O=this.h,V=0;V<b;){if(O==0)for(;V<=I;)o(this,D,V),V+=this.blockSize;if(typeof D=="string"){for(;V<b;)if(C[O++]=D.charCodeAt(V++),O==this.blockSize){o(this,C),O=0;break}}else for(;V<b;)if(C[O++]=D[V++],O==this.blockSize){o(this,C),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var I=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=I&255,I/=256;for(this.u(D),D=Array(16),b=I=0;4>b;++b)for(var C=0;32>C;C+=8)D[I++]=this.g[b]>>>C&255;return D};function u(D,b){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function h(D,b){this.h=b;for(var I=[],C=!0,O=D.length-1;0<=O;O--){var V=D[O]|0;C&&V==b||(I[O]=V,C=!1)}this.g=I}var m={};function p(D){return-128<=D&&128>D?u(D,function(b){return new h([b|0],0>b?-1:0)}):new h([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return F(g(-D));for(var b=[],I=1,C=0;D>=I;C++)b[C]=D/I|0,I*=4294967296;return new h(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(E(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(b,8)),C=T,O=0;O<D.length;O+=8){var V=Math.min(8,D.length-O),N=parseInt(D.substring(O,O+V),b);8>V?(V=g(Math.pow(b,V)),C=C.j(V).add(g(N))):(C=C.j(I),C=C.add(g(N)))}return C}var T=p(0),R=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-F(this).m();for(var D=0,b=1,I=0;I<this.g.length;I++){var C=this.i(I);D+=(0<=C?C:4294967296+C)*b,b*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(z(this))return"0";if(Q(this))return"-"+F(this).toString(D);for(var b=g(Math.pow(D,6)),I=this,C="";;){var O=le(I,b).g;I=Y(I,O.j(b));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=O,z(I))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function z(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function Q(D){return D.h==-1}i.l=function(D){return D=Y(this,D),Q(D)?-1:z(D)?0:1};function F(D){for(var b=D.g.length,I=[],C=0;C<b;C++)I[C]=~D.g[C];return new h(I,~D.h).add(R)}i.abs=function(){return Q(this)?F(this):this},i.add=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],C=0,O=0;O<=b;O++){var V=C+(this.i(O)&65535)+(D.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);C=N>>>16,V&=65535,N&=65535,I[O]=N<<16|V}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(D,b){return D.add(F(b))}i.j=function(D){if(z(this)||z(D))return T;if(Q(this))return Q(D)?F(this).j(F(D)):F(F(this).j(D));if(Q(D))return F(this.j(F(D)));if(0>this.l(k)&&0>D.l(k))return g(this.m()*D.m());for(var b=this.g.length+D.g.length,I=[],C=0;C<2*b;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<D.g.length;O++){var V=this.i(C)>>>16,N=this.i(C)&65535,De=D.i(O)>>>16,ze=D.i(O)&65535;I[2*C+2*O]+=N*ze,ee(I,2*C+2*O),I[2*C+2*O+1]+=V*ze,ee(I,2*C+2*O+1),I[2*C+2*O+1]+=N*De,ee(I,2*C+2*O+1),I[2*C+2*O+2]+=V*De,ee(I,2*C+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new h(I,0)};function ee(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function X(D,b){this.g=D,this.h=b}function le(D,b){if(z(b))throw Error("division by zero");if(z(D))return new X(T,T);if(Q(D))return b=le(F(D),b),new X(F(b.g),F(b.h));if(Q(b))return b=le(D,F(b)),new X(F(b.g),b.h);if(30<D.g.length){if(Q(D)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var I=R,C=b;0>=C.l(D);)I=he(I),C=he(C);var O=se(I,1),V=se(C,1);for(C=se(C,2),I=se(I,2);!z(C);){var N=V.add(C);0>=N.l(D)&&(O=O.add(I),V=N),C=se(C,1),I=se(I,1)}return b=Y(D,O.j(b)),new X(O,b)}for(O=T;0<=D.l(b);){for(I=Math.max(1,Math.floor(D.m()/b.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(I),N=V.j(b);Q(N)||0<N.l(D);)I-=C,V=g(I),N=V.j(b);z(V)&&(V=R),O=O.add(V),D=Y(D,N)}return new X(O,D)}i.A=function(D){return le(this,D).h},i.and=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],C=0;C<b;C++)I[C]=this.i(C)&D.i(C);return new h(I,this.h&D.h)},i.or=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],C=0;C<b;C++)I[C]=this.i(C)|D.i(C);return new h(I,this.h|D.h)},i.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),I=[],C=0;C<b;C++)I[C]=this.i(C)^D.i(C);return new h(I,this.h^D.h)};function he(D){for(var b=D.g.length+1,I=[],C=0;C<b;C++)I[C]=D.i(C)<<1|D.i(C-1)>>>31;return new h(I,D.h)}function se(D,b){var I=b>>5;b%=32;for(var C=D.g.length-I,O=[],V=0;V<C;V++)O[V]=0<b?D.i(V+I)>>>b|D.i(V+I+1)<<32-b:D.i(V+I);return new h(O,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,vs=h}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sS,Xl,aS,Sh,_p,oS,lS,uS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,R.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,K){for(var oe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)oe[Ke-2]=arguments[Ke];return y.prototype[j].apply(A,oe)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const j=c.length||0,K=A.length||0;c.length=j+K;for(let oe=0;oe<K;oe++)c[j+oe]=A[oe]}else c.push(A)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var he=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function se(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function D(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function O(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function V(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,_){const A=ze.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new Y(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ye=!1,Be=new De,$e=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(P)}};var P=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){V(_)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ye=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Te(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{le(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}z(Te,re);var Ie={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function ot(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++Ut,this.da=this.fa=!1}function hi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vi(c){this.src=c,this.g={},this.h=0}Vi.prototype.add=function(c,y,_,A,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=xa(c,y,A,j);return-1<oe?(y=c[oe],_||(y.fa=!1)):(y=new ot(y,this.src,K,!!A,j),y.fa=_,c.push(y)),y};function Ps(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(A,j,1),K&&(hi(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function xa(c,y,_,A){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return j}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),Ls={};function ka(c,y,_,A,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)ka(c,y[K],_,A,j);return null}return _=Lu(_),c&&c[Le]?c.K(y,_,g(A)?!!A.capture:!1,j):Mf(c,y,_,!1,A,j)}function Mf(c,y,_,A,j,K){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,Ke=Ho(c);if(Ke||(c[Wn]=Ke=new Vi(c)),_=Ke.add(y,_,A,oe,K),_.proxy)return _;if(A=Pu(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)de||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Va(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Pu(){function c(_){return y.call(c.src,c.listener,_)}const y=Vf;return c}function Ma(c,y,_,A,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ma(c,y[K],_,A,j);else A=g(A)?!!A.capture:!!A,_=Lu(_),c&&c[Le]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=xa(K,_,A,j),-1<_&&(hi(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ho(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xa(y,_,A,j)),(_=-1<c?y[c]:null)&&Us(_))}function Us(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Le])Ps(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Va(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Ho(y))?(Ps(_,c),_.h==0&&(_.src=null,y[Wn]=null)):hi(c)}}}function Va(c){return c in Ls?Ls[c]:Ls[c]="on"+c}function Vf(c,y){if(c.da)c=!0;else{y=new Te(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Us(c),c=_.call(A,y)}return c}function Ho(c){return c=c[Wn],c instanceof Vi?c:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[jt]||(c[jt]=function(y){return c.handleEvent(y)}),c[jt])}function Nt(){J.call(this),this.i=new Vi(this),this.M=this,this.F=null}z(Nt,J),Nt.prototype[Le]=!0,Nt.prototype.removeEventListener=function(c,y,_,A){Ma(this,c,y,_,A)};function xt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var j=y;y=new re(A,c),C(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var oe=y.g=_[K];j=Pi(oe,A,!0,y)&&j}if(oe=y.g=c,j=Pi(oe,A,!0,y)&&j,j=Pi(oe,A,!1,y)&&j,_)for(K=0;K<_.length;K++)oe=y.g=_[K],j=Pi(oe,A,!1,y)&&j}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)hi(_[A]);delete c.g[y],c.h--}}this.F=null},Nt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Nt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Pi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var oe=y[K];if(oe&&!oe.da&&oe.capture==_){var Ke=oe.listener,Tt=oe.ha||oe.src;oe.fa&&Ps(c.i,oe),j=Ke.call(Tt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Uu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Go(c){c.g=Uu(()=>{c.g=null,c.i&&(c.i=!1,Go(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Pf extends J{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(c){J.call(this),this.h=c,this.g={}}z(js,J);var wr=[];function Xt(c){se(c.g,function(y,_){this.g.hasOwnProperty(_)&&Us(y)},c),c.g={}}js.prototype.N=function(){js.aa.N.call(this),Xt(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=m.JSON.stringify,sn=m.JSON.parse,Lf=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function ju(c){return c.h||(c.h=c.i())}function zs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){re.call(this,"d")}z(Sr,re);function Jn(){re.call(this,"c")}z(Jn,re);var Vn={},Ar=null;function Pa(){return Ar=Ar||new Nt}Vn.La="serverreachability";function Ko(c){re.call(this,Vn.La,c)}z(Ko,re);function Li(c){const y=Pa();xt(y,new Ko(y))}Vn.STAT_EVENT="statevent";function br(c,y){re.call(this,Vn.STAT_EVENT,c),this.stat=y}z(br,re);function zt(c){const y=Pa();xt(y,new br(y,c))}Vn.Ma="timingevent";function Qo(c,y){re.call(this,Vn.Ma,c),this.size=y}z(Qo,re);function Rr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Yo(c,y,_,A,j,K){c.info(function(){if(c.g)if(K)for(var oe="",Ke=K.split("&"),Tt=0;Tt<Ke.length;Tt++){var Ce=Ke[Tt].split("=");if(1<Ce.length){var Mt=Ce[0];Ce=Ce[1];var Vt=Mt.split("_");oe=2<=Vt.length&&Vt[1]=="type"?oe+(Mt+"="+Ce+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+oe})}function Xo(c,y,_,A,j,K,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+oe})}function Ui(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+di(c,_)+(A?" "+A:"")})}function zu(c,y){c.info(function(){return"TIMEOUT: "+y})}Ir.prototype.info=function(){};function di(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Mn(_)}catch{return y}}var ht={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function Cr(){}z(Cr,$o),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},mi=new Cr;function pi(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var Wo={},ji={};function Bs(c,y,_){c.L=1,c.v=Hs(ft(y)),c.m=_,c.P=!0,zi(c,null)}function zi(c,y){c.F=Date.now(),Zn(c),c.A=ft(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Fi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Bu,c.g=ic(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Pf(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(wr[0]=j.toString()),j=wr);for(var K=0;K<j.length;K++){var oe=ka(_,j[K],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Li(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}pi.prototype.ca=function(c){c=c.target;const y=this.M;y&&ln(c)==3?y.j():this.Y(c)},pi.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=ln(this.g);var y=this.g.Ba();const Br=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Ks(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=Br?Li(3):Li(2)),La(this);var _=this.g.Z();this.X=_;t:if(Bi(this)){var A=Ks(this.g);c="";var j=A.length,K=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Nr(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Xo(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Tt=this.g;if((Ke=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Ke)){var Ce=Ke;break t}}Ce=null}if(_=Ce)Ui(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gi(this,_);else{this.o=!1,this.s=3,zt(12),an(this),Nr(this);break e}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<oe.length;)if(fn=qs(this,oe),fn==ji){Vt==4&&(this.s=4,zt(14),_=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Wo){this.s=4,zt(15),Ui(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Ui(this.i,this.l,fn,null),gi(this,fn);if(Bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||oe.length!=0||this.h.h||(this.s=1,zt(16),_=!1),this.o=this.o&&_,!_)Ui(this.i,this.l,oe,"[Invalid Chunked Response]"),an(this),Nr(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ll(Mt),Mt.M=!0,zt(11))}}else Ui(this.i,this.l,oe,null),gi(this,oe);Vt==4&&an(this),this.o&&!this.J&&(Vt==4?ec(this.j,this):(this.o=!1,Zn(this)))}else Qu(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),an(this),Nr(this)}}}catch{}finally{}};function Bi(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qs(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ji:(_=Number(y.substring(_,A)),isNaN(_)?Wo:(A+=1,A+_>y.length?ji:(y=y.slice(A,A+_),c.C=A+_,y)))}pi.prototype.cancel=function(){this.J=!0,an(this)};function Zn(c){c.S=Date.now()+c.I,gt(c,c.I)}function gt(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rr(R(c.ba,c),y)}function La(c){c.B&&(m.clearTimeout(c.B),c.B=null)}pi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zu(this.i,this.A),this.L!=2&&(Li(),zt(17)),an(this),this.s=2,Nr(this)):gt(this,this.S-c)};function Nr(c){c.j.G==0||c.J||ec(c.j,c)}function an(c){La(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Xt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gi(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Dr(_.h,c))){if(!c.K&&Dr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)jr(_),Ur(_);else break e;ol(_),zt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rr(R(_.Za,_),6e3));if(1>=qu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((c.K||_.g==c)&&jr(_),!ee(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ce=j[y];if(_.T=Ce[0],Ce=Ce[1],_.G==2)if(Ce[0]=="c"){_.K=Ce[1],_.ia=Ce[2];const Mt=Ce[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Vt=Ce[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const Br=Ce[5];Br!=null&&typeof Br=="number"&&0<Br&&(A=1.5*Br,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const fn=c.g;if(fn){const Xs=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var K=A.h;K.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Or(K,K.h),K.h=null))}if(A.D){const $i=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;$i&&(A.ya=$i,qe(A.I,A.D,$i))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var oe=c;if(A.qa=nc(A,A.J?A.ia:null,A.W),oe.K){Pn(A.h,oe);var Ke=oe,Tt=A.L;Tt&&(Ke.I=Tt),Ke.B&&(La(Ke),Zn(Ke)),A.g=oe}else Ju(A);0<_.i.length&&Ga(_)}else Ce[0]!="stop"&&Ce[0]!="close"||Gi(_,7);else _.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Gi(_,7):sl(_):Ce[0]!="noop"&&_.l&&_.l.ta(Ce),_.v=0)}}Li(4)}catch{}}var Uf=class{constructor(c,y){this.g=c,this.map=y}};function Jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qu(c){return c.h?1:c.g?c.g.size:0}function Dr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Or(c,y){c.g?c.g.add(y):c.h=y}function Pn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Jo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function Fu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function jf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Ua(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=jf(c),A=Fu(c),j=A.length,K=0;K<j;K++)y.call(void 0,A[K],_&&_[K],c)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var K=c[_].substring(0,A);j=c[_].substring(A+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qi){this.h=c.h,xr(this,c.j),this.o=c.o,this.g=c.g,Fs(this,c.s),this.l=c.l;var y=c.i,_=new yi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),za(this,_),this.m=c.m}else c&&(y=String(c).match(el))?(this.h=!1,xr(this,y[1]||"",!0),this.o=kr(y[2]||""),this.g=kr(y[3]||"",!0),Fs(this,y[4]),this.l=kr(y[5]||"",!0),za(this,y[6]||"",!0),this.m=kr(y[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}qi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ln(y,tl,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ln(y,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ln(_,_.charAt(0)=="/"?nl:Hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ln(_,qf)),c.join("")};function ft(c){return new qi(c)}function xr(c,y,_){c.j=_?kr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Fs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function za(c,y,_){y instanceof yi?(c.i=y,Gu(c.i,c.h)):(_||(y=Ln(y,Bf)),c.i=new yi(y,c.h))}function qe(c,y,_){c.i.set(y,_)}function Hs(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ln(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,zf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function zf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,Hu=/[#\?:]/g,nl=/[#\?]/g,Bf=/[#\?@]/g,qf=/#/g;function yi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kt(c){c.g||(c.g=new Map,c.h=0,c.i&&ja(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=yi.prototype,i.add=function(c,y){kt(this),this.i=null,c=wn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ba(c,y){kt(c),y=wn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qa(c,y){return kt(c),y=wn(c,y),c.g.has(y)}i.forEach=function(c,y){kt(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},i.na=function(){kt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let K=0;K<j.length;K++)_.push(y[A])}return _},i.V=function(c){kt(this);let y=[];if(typeof c=="string")qa(this,c)&&(y=y.concat(this.g.get(wn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return kt(this),this.i=null,c=wn(this,c),qa(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fi(c,y,_){Ba(c,y),0<_.length&&(c.i=null,c.g.set(wn(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var j=K;oe[A]!==""&&(j+="="+encodeURIComponent(String(oe[A]))),c.push(j)}}return this.i=c.join("&")};function wn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Gu(c,y){y&&!c.j&&(kt(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(Ba(this,A),Fi(this,j,_))},c)),c.j=y}function il(c,y){const _=new Ir;if(m.Image){const A=new Image;A.onload=k(hn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=k(hn,_,"TestLoadImage: error",!1,y,A),A.onabort=k(hn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(hn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function $u(c,y){const _=new Ir,A=new AbortController,j=setTimeout(()=>{A.abort(),hn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?hn(_,"TestPingServer: ok",!0,y):hn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),hn(_,"TestPingServer: error",!1,y)})}function hn(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function ei(){this.g=new Lf}function rl(c,y,_){const A=_||"";try{Ua(c,function(j,K){let oe=j;g(j)&&(oe=Mn(j)),y.push(A+K+"="+encodeURIComponent(oe))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function vi(c){this.l=c.Ub||null,this.j=c.eb||!1}z(vi,$o),vi.prototype.g=function(){return new Sn(this.l,this.j)},vi.prototype.i=function(c){return function(){return c}}({});function Sn(c,y){Nt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Sn,Nt),i=Sn.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Mr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?_i(this):Mr(this),this.readyState==3&&Fa(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},i.Qa=function(c){this.g&&(this.response=c,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Mr(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Gs(c){let y="";return se(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Vr(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Gs(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):qe(c,y,_))}function nt(c){Nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(nt,Nt);var Wt=/^https?$/i,Hi=["POST","PUT"];i=nt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?ju(this.o):ju(mi),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){$s(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Hi,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){$s(this,K)}};function $s(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pr(c),Lr(c)}function Pr(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Lr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),nt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ku(this):this.bb())},i.bb=function(){Ku(this)};function Ku(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)Uu(c.Ea,0,c);else if(xt(c,"readystatechange"),ln(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=oe===0){var j=String(c.D).match(el)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!Wt.test(j?j.toLowerCase():"")}_=A}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var K=2<ln(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Pr(c)}}finally{Lr(c)}}}}function Lr(c,y){if(c.g){Ha(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{_.onreadystatechange=A}catch{}}}function Ha(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),sn(y)}};function Ks(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qu(c){const y={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var _=O(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Yu(c){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,c),this.cb=Qs("retryDelaySeedMs",1e4,c),this.Wa=Qs("forwardChannelMaxRetries",2,c),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jo(c&&c.concurrentRequestLimit),this.Da=new ei,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Yu.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){zt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=nc(this,null,this.W),Ga(this)};function sl(c){if(Xu(c),c.G==3){var y=c.U++,_=ft(c.I);if(qe(_,"SID",c.K),qe(_,"RID",y),qe(_,"TYPE","terminate"),Ys(c,_),y=new pi(c,c.j,y),y.L=2,y.v=Hs(ft(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ic(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Zn(y)}ul(c)}function Ur(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Xu(c){Ur(c),c.u&&(m.clearTimeout(c.u),c.u=null),jr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ga(c){if(!Zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||$e(),ye||(ae(),ye=!0),Be.add(y,c),c.B=0}}function Ff(c,y){return qu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rr(R(c.Ga,c,y),tc(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new pi(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),C(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=al(this,j,y),_=ft(this.I),qe(_,"RID",c),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),Ys(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Gs(K)))+"&"+y:this.m&&Vr(_,this.m,K)),Or(this.h,j),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",y),qe(_,"SID","null"),j.T=!0,Bs(j,_,null)):Bs(j,_,y),this.G=2}}else this.G==3&&(c?Wu(this,c):this.i.length==0||Zo(this.h)||Wu(this))};function Wu(c,y){var _;y?_=y.l:_=c.U++;const A=ft(c.I);qe(A,"SID",c.K),qe(A,"RID",_),qe(A,"AID",c.T),Ys(c,A),c.m&&c.o&&Vr(A,c.m,c.o),_=new pi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=al(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Or(c.h,_),Bs(_,A,y)}function Ys(c,y){c.H&&se(c.H,function(_,A){qe(y,A,_)}),c.l&&Ua({},function(_,A){qe(y,A,_)})}function al(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const oe=["count="+_];K==-1?0<_?(K=j[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let Ke=!0;for(let Tt=0;Tt<_;Tt++){let Ce=j[Tt].g;const Mt=j[Tt].map;if(Ce-=K,0>Ce)K=Math.max(0,j[Tt].g-100),Ke=!1;else try{rl(Mt,oe,"req"+Ce+"_")}catch{A&&A(Mt)}}if(Ke){A=oe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||$e(),ye||(ae(),ye=!0),Be.add(y,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rr(R(c.Fa,c),tc(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),Ur(this),Zu(this))};function ll(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new pi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ft(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),Ys(c,y),c.m&&c.o&&Vr(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Hs(ft(y)),_.m=null,_.P=!0,zi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ur(this),ol(this),zt(19))};function jr(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ec(c,y){var _=null;if(c.g==y){jr(c),ll(c),c.g=null;var A=2}else if(Dr(c.h,y))_=y.D,Pn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=Pa(),xt(A,new Qo(A,_)),Ga(c)}else Ju(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&Ff(c,y)||A==2&&ol(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function tc(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const j=!A;A=new qi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xr(A,"https"),Hs(A),j?il(A.toString(),_):$u(A.toString(),_)}else zt(2);c.G=0,c.l&&c.l.sa(y),ul(c),Xu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function ul(c){if(c.G=0,c.ka=[],c.l){const y=on(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function nc(c,y,_){var A=_ instanceof qi?ft(_):new qi(_);if(A.g!="")y&&(A.g=y+"."+A.g),Fs(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new qi(null);A&&xr(K,A),y&&(K.g=y),j&&Fs(K,j),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&qe(A,_,y),qe(A,"VER",c.la),Ys(c,A),A}function ic(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new nt(new vi({eb:_})):new nt(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}i=rc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function $a(){}$a.prototype.g=function(c,y){return new un(c,y)};function un(c,y){Nt.call(this),this.g=new Yu(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zr(this)}z(un,Nt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){sl(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Mn(c),c=_);y.i.push(new Uf(y.Ya++,c)),y.G==3&&Ga(y)},un.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,un.aa.N.call(this)};function sc(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}z(sc,Sr);function ac(){Jn.call(this),this.status=1}z(ac,Jn);function zr(c){this.g=c}z(zr,rc),zr.prototype.ua=function(){xt(this.g,"a")},zr.prototype.ta=function(c){xt(this.g,new sc(c))},zr.prototype.sa=function(c){xt(this.g,new ac)},zr.prototype.ra=function(){xt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,uS=function(){return new $a},lS=function(){return Pa()},oS=Vn,_p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,Sh=ht,Bt.COMPLETE="complete",aS=Bt,zs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Xl=zs,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,sS=nt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new of("@firebase/firestore");function wo(){return Aa.logLevel}function ce(i,...e){if(Aa.logLevel<=Ve.DEBUG){const n=e.map(lg);Aa.debug(`Firestore (${zo}): ${i}`,...n)}}function vr(i,...e){if(Aa.logLevel<=Ve.ERROR){const n=e.map(lg);Aa.error(`Firestore (${zo}): ${i}`,...n)}}function Ss(i,...e){if(Aa.logLevel<=Ve.WARN){const n=e.map(lg);Aa.warn(`Firestore (${zo}): ${i}`,...n)}}function lg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,cS(i,s,n)}function cS(i,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw vr(s),new Error(s)}function Qe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||cS(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class EO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TO{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new hS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class wO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new m0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function Ep(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=fS(),h=RO(u.encode(p0(i,n)),u.encode(p0(e,n)));return h!==0?h:Ne(s,o)}}n+=s>65535?2:1}return Ne(i.length,e.length)}function p0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function RO(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ne(i[n],e[n]);return Ne(i.length,e.length)}function Oo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class tt extends Ai{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const IO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ai{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return IO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new Qt([g0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(i,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function CO(i,e,n,s){if(e===!0&&s===!0)throw new ue(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function y0(i){if(!ge.isDocumentKey(i))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function v0(i){if(ge.isDocumentKey(i))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(i);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function Iu(i,e){if(!mS(i))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-62135596800,E0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*E0);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E0}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Ct("string",st._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function NO(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new As(o,ge.empty(),e)}function DO(i){return new As(i.readTime,i.key,hu)}class As{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new As(we.min(),ge.empty(),hu)}static max(){return new As(we.max(),ge.empty(),hu)}}function OO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==xO)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function MO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}mf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function pf(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function VO(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="";function PO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=T0(e)),e=LO(i.get(n),e);return T0(e)}function LO(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case pS:n+="";break;default:n+=u}}return n}function T0(i){return i+pS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ms(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function gS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(e){return new S0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class S0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ot(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yS("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const UO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=UO.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Rs(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="server_timestamp",_S="__type__",ES="__previous_value__",TS="__local_write_time__";function hg(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[_S])===null||n===void 0?void 0:n.stringValue)===vS}function gf(i){const e=i.mapValue.fields[ES];return hg(e)?gf(e):e}function fu(i){const e=bs(i.mapValue.fields[TS].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const qh="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="__type__",zO="__max__",mh={mapValue:{}},SS="__vector__",Fh="value";function Is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?hg(i)?4:qO(i)?9007199254740991:BO(i)?10:11:Ee(28295,{value:i})}function Oi(i,e){if(i===e)return!0;const n=Is(i);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fu(i).isEqual(fu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=bs(o.timestampValue),m=bs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Rs(o.bytesValue).isEqual(Rs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(w0(h)!==w0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Oi(h[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function mu(i,e){return(i.values||[]).find(n=>Oi(n,e))!==void 0}function xo(i,e){if(i===e)return 0;const n=Is(i),s=Is(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return A0(i.timestampValue,e.timestampValue);case 4:return A0(fu(i),fu(e));case 5:return Ep(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Rs(u),p=Rs(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ne(m[g],p[g]);if(E!==0)return E}return Ne(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(_t(u.latitude),_t(h.latitude));return m!==0?m:Ne(_t(u.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return b0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const T=u.fields||{},R=h.fields||{},k=(m=T[Fh])===null||m===void 0?void 0:m.arrayValue,z=(p=R[Fh])===null||p===void 0?void 0:p.arrayValue,Q=Ne(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=z==null?void 0:z.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:b0(k,z)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===mh.mapValue&&h===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const R=Ep(p[T],E[T]);if(R!==0)return R;const k=xo(m[p[T]],g[E[T]]);if(k!==0)return k}return Ne(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{le:n})}}function A0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const n=bs(i),s=bs(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function b0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=xo(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function ko(i){return Tp(i)}function Tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=bs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Rs(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Tp(n.fields[h])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function Ah(i){switch(Is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gf(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return Rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ah(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ms(s.fields,(u,h)=>{o+=u.length+Ah(h)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function R0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wp(i){return!!i&&"integerValue"in i}function fg(i){return!!i&&"arrayValue"in i}function I0(i){return!!i&&"nullValue"in i}function C0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function bh(i){return!!i&&"mapValue"in i}function BO(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wS])===null||n===void 0?void 0:n.stringValue)===SS}function iu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ms(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=iu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function qO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===zO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=iu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ms(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _n(iu(this.value))}}function AS(i){const e=[];return Ms(i.fields,(n,s)=>{const o=new Qt([n]);if(bh(s)){const u=AS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function N0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),n.key):s=xo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function D0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Oi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class It extends bS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GO(e,n,s):n==="array-contains"?new QO(e,s):n==="in"?new YO(e,s):n==="not-in"?new XO(e,s):n==="array-contains-any"?new WO(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $O(e,s):new KO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new li(e,n)}matches(e){return RS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function RS(i){return i.op==="and"}function IS(i){return HO(i)&&RS(i)}function HO(i){for(const e of i.filters)if(e instanceof li)return!1;return!0}function Sp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(IS(i))return i.filters.map(e=>Sp(e)).join(",");{const e=i.filters.map(n=>Sp(n)).join(",");return`${i.op}(${e})`}}function CS(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)}(i,e):i instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&CS(h,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function NS(i){return i instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(i):i instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(NS).join(" ,")+"}"}(i):"Filter"}class GO extends It{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class $O extends It{constructor(e,n){super(e,"in",n),this.keys=DS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KO extends It{constructor(e,n){super(e,"not-in",n),this.keys=DS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DS(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class QO extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&mu(n.arrayValue,this.value)}}class YO extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class XO extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class WO extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>mu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function O0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new JO(i,e,n,s,o,u,h)}function dg(i){const e=Ae(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ko(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ko(s)).join(",")),e.Pe=n}return e.Pe}function mg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!FO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!CS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!D0(i.startAt,e.startAt)&&D0(i.endAt,e.endAt)}function Ap(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function ZO(i,e,n,s,o,u,h,m){return new Cu(i,e,n,s,o,u,h,m)}function yf(i){return new Cu(i)}function x0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function OS(i){return i.collectionGroup!==null}function ru(i){const e=Ae(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Gh(u,s))}),n.has(Qt.keyField().canonicalString())||e.Te.push(new Gh(Qt.keyField(),s))}return e.Te}function Ri(i){const e=Ae(i);return e.Ie||(e.Ie=ex(e,ru(i))),e.Ie}function ex(i,e){if(i.limitType==="F")return O0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)});const n=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return O0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function bp(i,e){const n=i.filters.concat([e]);return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Rp(i,e,n){return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vf(i,e){return mg(Ri(i),Ri(e))&&i.limitType===e.limitType}function xS(i){return`${dg(Ri(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>NS(o)).join(", ")}]`),pf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ko(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ko(o)).join(",")),`Target(${s})`}(Ri(i))}; limitType=${i.limitType})`}function _f(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=N0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,ru(s),o)||s.endAt&&!function(h,m,p){const g=N0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,ru(s),o))}(i,e)}function tx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kS(i){return(e,n)=>{let s=!1;for(const o of ru(i)){const u=nx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nx(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?xo(p,g):Ee(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return gS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new ct(ge.comparator);function _r(){return ix}const MS=new ct(ge.comparator);function Wl(...i){let e=MS;for(const n of i)e=e.insert(n.key,n);return e}function VS(i){let e=MS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function pa(){return su()}function PS(){return su()}function su(){return new Na(i=>i.toString(),(i,e)=>i.isEqual(e))}const rx=new ct(ge.comparator),sx=new Ot(ge.comparator);function Pe(...i){let e=sx;for(const n of i)e=e.add(n);return e}const ax=new Ot(Ne);function ox(){return ax}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function LS(i){return{integerValue:""+i}}function lx(i,e){return VO(e)?LS(e):pg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function ux(i,e,n){return i instanceof $h?function(o,u){const h={fields:{[_S]:{stringValue:vS},[TS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=gf(u)),u&&(h.fields[ES]=u),{mapValue:h}}(n,e):i instanceof pu?jS(i,e):i instanceof gu?zS(i,e):function(o,u){const h=US(o,u),m=k0(h)+k0(o.Ee);return wp(h)&&wp(o.Ee)?LS(m):pg(o.serializer,m)}(i,e)}function cx(i,e,n){return i instanceof pu?jS(i,e):i instanceof gu?zS(i,e):n}function US(i,e){return i instanceof Kh?function(s){return wp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class $h extends Ef{}class pu extends Ef{constructor(e){super(),this.elements=e}}function jS(i,e){const n=BS(e);for(const s of i.elements)n.some(o=>Oi(o,s))||n.push(s);return{arrayValue:{values:n}}}class gu extends Ef{constructor(e){super(),this.elements=e}}function zS(i,e){let n=BS(e);for(const s of i.elements)n=n.filter(o=>!Oi(o,s));return{arrayValue:{values:n}}}class Kh extends Ef{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function k0(i){return _t(i.integerValue||i.doubleValue)}function BS(i){return fg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function hx(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Oo(s.elements,o.elements,Oi):s instanceof Kh&&o instanceof Kh?Oi(s.Ee,o.Ee):s instanceof $h&&o instanceof $h}(i.transform,e.transform)}class fx{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Tf{}function qS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gg(i.key,Qn.none()):new Nu(i.key,i.data,Qn.none());{const n=i.data,s=_n.empty();let o=new Ot(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Vs(i.key,s,new xn(o.toArray()),Qn.none())}}function dx(i,e,n){i instanceof Nu?function(o,u,h){const m=o.value.clone(),p=V0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Vs?function(o,u,h){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=V0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(FS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function au(i,e,n,s){return i instanceof Nu?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=u.value.clone(),E=P0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Vs?function(u,h,m,p){if(!Rh(u.precondition,h))return m;const g=P0(u.fieldTransforms,p,h),E=h.data;return E.setAll(FS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,h,m){return Rh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function mx(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=US(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function M0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,(u,h)=>hx(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Nu extends Tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FS(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function V0(i,e,n){const s=new Map;Qe(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,cx(h,m,n[o]))}return s}function P0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ux(u,h,e))}return s}class gg extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class px extends Tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=qS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,s)=>M0(n,s))&&Oo(this.baseMutations,e.baseMutations,(n,s)=>M0(n,s))}}class yg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return rx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new yg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,je;function _x(i){switch(i){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function HS(i){if(i===void 0)return vr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=Rt||(Rt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=new vs([4294967295,4294967295],0);function L0(i){const e=fS().encode(i),n=new rS;return n.update(e),new Uint8Array(n.digest())}function U0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new vs([n,s],0),new vs([o,u],0)]}class vg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=vs.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(vs.fromNumber(s)));return o.compare(Ex)===1&&(o=new vs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=L0(e),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new vg(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=L0(e),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wf(we.min(),o,new ct(Ne),_r(),Pe())}}class Du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Du(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class GS{constructor(e,n){this.targetId=e,this.De=n}}class $S{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j0{constructor(){this.ve=0,this.Ce=z0(),this.Fe=Yt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Pe(),n=Pe(),s=Pe();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new Du(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=z0()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Tx{constructor(e){this.We=e,this.Ge=new Map,this.ze=_r(),this.je=ph(),this.Je=ph(),this.He=new ct(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Ap(u))if(s===0){const h=new ge(u.path);this.Xe(n,h,tn.newNoDocument(h,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Rs(s).toUint8Array()}catch(p){if(p instanceof yS)return Ss("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new vg(h,o,u)}catch(p){return Ss(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Ap(m.target)){const p=new ge(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,tn.newNoDocument(p,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=Pe();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new wf(e,n,this.He,this.ze,s);return this.ze=_r(),this.je=ph(),this.Je=ph(),this.He=new ct(Ne),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new j0,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Ot(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Ot(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new j0),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function ph(){return new ct(ge.comparator)}function z0(){return new ct(ge.comparator)}const wx={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ax={and:"AND",or:"OR"};class bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ip(i,e){return i.useProto3Json||pf(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Rx(i,e){return Qh(i,e.toTimestamp())}function Ii(i){return Qe(!!i,49232),we.fromTimestamp(function(n){const s=bs(n);return new st(s.seconds,s.nanos)}(i))}function _g(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function QS(i){const e=tt.fromString(i);return Qe(ZS(e),10190,{key:e.toString()}),e}function Np(i,e){return _g(i.databaseId,e.path)}function tp(i,e){const n=QS(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(XS(n))}function YS(i,e){return _g(i.databaseId,e)}function Ix(i){const e=QS(i);return e.length===4?tt.emptyPath():XS(e)}function Dp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function XS(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function B0(i,e,n){return{name:Np(i,e),fields:n.value.mapValue.fields}}function Cx(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ne.UNKNOWN:HS(g.code);return new ue(E,g.message||"")}(h);n=new $S(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=tp(i,s.document.name),u=Ii(s.document.updateTime),h=s.document.createTime?Ii(s.document.createTime):we.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=tp(i,s.document),u=s.readTime?Ii(s.readTime):we.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ih([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=tp(i,s.document),u=s.removedTargetIds||[];n=new Ih([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new vx(o,u),m=s.targetId;n=new GS(m,h)}}return n}function Nx(i,e){let n;if(e instanceof Nu)n={update:B0(i,e.key,e.value)};else if(e instanceof gg)n={delete:Np(i,e.key)};else if(e instanceof Vs)n={update:B0(i,e.key,e.data),updateMask:Ux(e.fieldMask)};else{if(!(e instanceof px))return Ee(16599,{Rt:e.type});n={verify:Np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof $h)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Rx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),n}function Dx(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?Ii(o.updateTime):Ii(u);return h.isEqual(we.min())&&(h=Ii(u)),new fx(h,o.transformResults||[])}(n,e))):[]}function Ox(i,e){return{documents:[YS(i,e.path)]}}function xx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YS(i,o);const u=function(g){if(g.length!==0)return JS(li.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:Ao(R.field),direction:Vx(R.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:o}}function kx(i){let e=Ix(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const R=WS(T);return R instanceof li&&IS(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(R=>function(z){return new Gh(bo(z.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(T){let R;return R=typeof T=="object"?T.value:T,pf(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(T){const R=!!T.before,k=T.values||[];return new Hh(k,R)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const R=!T.before,k=T.values||[];return new Hh(k,R)}(n.endAt)),ZO(e,o,h,u,m,"F",p,g)}function Mx(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(n){return It.create(bo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(s=>WS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(i):Ee(30097,{filter:i})}function Vx(i){return wx[i]}function Px(i){return Sx[i]}function Lx(i){return Ax[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function bo(i){return Qt.fromServerFormat(i.fieldPath)}function JS(i){return i instanceof It?function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:Px(n.op),value:n.value}}}(i):i instanceof li?function(n){const s=n.getFilters().map(o=>JS(o));return s.length===1?s[0]:{compositeFilter:{op:Lx(n.op),filters:s}}}(i):Ee(54877,{filter:i})}function Ux(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.gt=e}}function zx(i){const e=kx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Dn=new qx}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(As.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(As.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(eA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Mo(0)}static ur(){return new Mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="LruGarbageCollector",Fx=1048576;function H0([i,e],[n,s]){const o=Ne(i,n);return o===0?Ne(e,s):o}class Hx{constructor(e){this.Tr=e,this.buffer=new Ot(H0),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(F0,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?ce(F0,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Rr(3e5)})}}class $x{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(mf.ue);const s=new Hx(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),wo()<=Ve.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function Kx(i,e){return new $x(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&au(s.mutation,o,xn.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=pa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Wl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=pa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=_r();const h=su(),m=function(){return su()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Vs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),st.now())):h.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var T;return m.set(g,new Yx(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const s=su();let o=new ct((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||xn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=PS();E.forEach(R=>{if(!u.has(R)){const k=qS(n.get(R),s.get(R));k!==null&&T.set(R,k),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(pa());let m=hu,p=u;return h.next(g=>ie.forEach(g,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:m,changes:VS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(T,R){return new Cu(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,R)=>{h=h.insert(T,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))});let m=Wl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&au(E.mutation,g,xn.empty(),st.now()),_f(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:zx(o.bundledQuery),readTime:Ii(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.overlays=new ct(ge.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=pa();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=pa(),u=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=pa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=pa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ie.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new yx(n,s));let u=this.kr.get(n);u===void 0&&(u=Pe(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.qr=new Ot(Lt.Qr),this.$r=new Ot(Lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Lt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Pe();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ot(Lt.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?cg:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ne);return n.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ie.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let m=new Ot(Ne);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),ie.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ie.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Yr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.ni=e,this.docs=function(){return new ct(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_r();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||OO(DO(E),s)<=0||(o.has(E.key)||_f(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ri(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new n4(this)}getSize(e){return ie.resolve(this.size)}}class n4 extends Qx{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.persistence=e,this.ii=new Na(n=>dg(n),mg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new Eg,this.targetCount=0,this._i=Mo.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.ai={},this.overlays={},this.ui=new mf(0),this.ci=!1,this.ci=!0,this.li=new Zx,this.referenceDelegate=e(this),this.hi=new i4(this),this.indexManager=new Bx,this.remoteDocumentCache=function(o){return new t4(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new jx(n),this.Ti=new Wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new e4(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new r4(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ie.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class r4 extends kO{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Ai=new Eg,this.Ri=null}static Vi(e){return new Tg(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Yh{constructor(e,n){this.persistence=e,this.gi=new Na(s=>PO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Kx(this,n)}static Vi(e,n){return new Yh(e,n)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return ie.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}Sr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return gI()?8:MO(rn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new s4;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(wo()<=Ve.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(wo()<=Ve.DEBUG&&ce("QueryEngine","Query:",So(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(wo()<=Ve.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):ie.resolve())}ps(e,n){if(x0(n))return ie.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(e,Rp(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,s,o){return x0(n)||o.isEqual(we.min())?ie.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?ie.resolve(null):(wo()<=Ve.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.vs(e,h,n,NO(o,hu)).next(m=>m))})}bs(e,n){let s=new Ot(kS(e));return n.forEach((o,u)=>{_f(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return wo()<=Ve.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",So(n)),this.gs.getDocumentsMatchingQuery(e,n,As.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",o4=3e8;class l4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new ct(Ne),this.Ms=new Na(u=>dg(u),mg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function u4(i,e,n,s){return new l4(i,e,n,s)}async function nA(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function c4(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const T=g.batch,R=T.keys();let k=ie.resolve();return R.forEach(z=>{k=k.next(()=>E.getEntry(p,z)).next(Q=>{const F=g.docVersions.get(z);Qe(F!==null,48541),Q.version.compareTo(F)<0&&(T.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function iA(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function h4(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,T)));let k=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),function(Q,F,Y){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=o4?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,k,E)&&m.push(n.hi.updateTargetData(u,k))});let p=_r(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(f4(u,h,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(T=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ie.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function f4(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=_r();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function d4(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function m4(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.hi.allocateTargetId(s).next(h=>(o=new ps(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Op(i,e,n){const s=Ae(i),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!qo(h))throw h;ce(Sg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function G0(i,e,n){const s=Ae(i);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ae(p),R=T.Ms.get(E);return R!==void 0?ie.resolve(T.Fs.get(R)):T.hi.getTargetData(g,E)}(s,h,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Pe())).next(m=>(p4(s,tx(e),m),{documents:m,qs:u})))}function p4(i,e,n){let s=i.xs.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class $0{constructor(){this.activeTargetIds=ox()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g4{constructor(){this.Fo=new $0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="ConnectivityMonitor";class Q0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(K0,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(K0,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function xp(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",v4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===qh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=xp(),m=this.Go(e,n.toUriEncodedString());ce(np,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Lo(g);return this.jo(e,m,p,s,E).then(T=>(ce(np,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Ss(np,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=v4[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class T4 extends _4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const h=xp();return new Promise((m,p)=>{const g=new sS;g.setWithCredentials(!0),g.listenOnce(aS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Sh.NO_ERROR:const T=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Sh.TIMEOUT:ce(Zt,`RPC '${e}' ${h} timed out`),p(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const R=g.getStatus();if(ce(Zt,`RPC '${e}' ${h} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const z=k==null?void 0:k.error;if(z&&z.status&&z.message){const Q=function(Y){const ee=Y.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ee)>=0?ee:ne.UNKNOWN}(z.status);p(new ue(Q,z.message))}else p(new ue(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)})}P_(e,n,s){const o=xp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=uS(),m=lS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.T_(T);let R=!1,k=!1;const z=new E4({Ho:F=>{k?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Yo:()=>T.close()}),Q=(F,Y,ee)=>{F.listen(Y,X=>{try{ee(X)}catch(le){setTimeout(()=>{throw le},0)}})};return Q(T,Xl.EventType.OPEN,()=>{k||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),z.s_())}),Q(T,Xl.EventType.CLOSE,()=>{k||(k=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),z.__(),this.I_(T))}),Q(T,Xl.EventType.ERROR,F=>{k||(k=!0,Ss(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),z.__(new ue(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(T,Xl.EventType.MESSAGE,F=>{var Y;if(!k){const ee=F.data[0];Qe(!!ee,16349);const X=ee,le=(X==null?void 0:X.error)||((Y=X[0])===null||Y===void 0?void 0:Y.error);if(le){ce(Zt,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let se=function(I){const C=Rt[I];if(C!==void 0)return HS(C)}(he),D=le.message;se===void 0&&(se=ne.INTERNAL,D="Unknown error status: "+he+" with message "+le.message),k=!0,z.__(new ue(se,D)),T.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,ee),z.a_(ee)}}),Q(m,oS.STAT_EVENT,F=>{F.stat===_p.PROXY?ce(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===_p.NOPROXY&&ce(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.o_()},0),z}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(i){return new bx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="PersistentStream";class sA{constructor(e,n,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new ue(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(Y0,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ce(Y0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w4 extends sA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Cx(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ii(h.readTime):we.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Dp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=Ap(p)?{documents:Ox(u,p)}:{query:xx(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=KS(u,h.resumeToken);const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=Ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Mx(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.k_(n)}}class S4 extends sA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Dx(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Dp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Nx(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{}class b4 extends A4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Cp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ne.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Cp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ne.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class R4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(n),this._a=!1):ce("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class I4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Da(this)&&(ce(ba,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Ou(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Af(g)}(this))})}),this.Aa=new R4(s,o)}}async function Af(i){if(Da(i))for(const e of i.da)await e(!0)}async function Ou(i){for(const e of i.da)await e(!1)}function aA(i,e){const n=Ae(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Ig(n)?Rg(n):Fo(n).x_()&&bg(n,e))}function Ag(i,e){const n=Ae(i),s=Fo(n);n.Ta.delete(e),s.x_()&&oA(n,e),n.Ta.size===0&&(s.x_()?s.B_():Da(n)&&n.Aa.set("Unknown"))}function bg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(i).H_(e)}function oA(i,e){i.Ra.$e(e),Fo(i).Y_(e)}function Rg(i){i.Ra=new Tx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Aa.aa()}function Ig(i){return Da(i)&&!Fo(i).M_()&&i.Ta.size>0}function Da(i){return Ae(i).Ia.size===0}function lA(i){i.Ra=void 0}async function C4(i){i.Aa.set("Online")}async function N4(i){i.Ta.forEach((e,n)=>{bg(i,e)})}async function D4(i,e){lA(i),Ig(i)?(i.Aa.la(e),Rg(i)):i.Aa.set("Unknown")}async function O4(i,e,n){if(i.Aa.set("Online"),e instanceof $S&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){ce(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xh(i,s)}else if(e instanceof Ih?i.Ra.Ye(e):e instanceof GS?i.Ra.it(e):i.Ra.et(e),!n.isEqual(we.min()))try{const s=await iA(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),oA(u,p);const T=new ps(E.target,p,g,E.sequenceNumber);bg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(ba,"Failed to raise snapshot:",s),await Xh(i,s)}}async function Xh(i,e,n){if(!qo(e))throw e;i.Ia.add(1),await Ou(i),i.Aa.set("Offline"),n||(n=()=>iA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ba,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Af(i)})}function uA(i,e){return e().catch(n=>Xh(i,n,e))}async function bf(i){const e=Ae(i),n=Cs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cg;for(;x4(e);)try{const o=await d4(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,k4(e,o)}catch(o){await Xh(e,o)}cA(e)&&hA(e)}function x4(i){return Da(i)&&i.Pa.length<10}function k4(i,e){i.Pa.push(e);const n=Cs(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function cA(i){return Da(i)&&!Cs(i).M_()&&i.Pa.length>0}function hA(i){Cs(i).start()}async function M4(i){Cs(i).na()}async function V4(i){const e=Cs(i);for(const n of i.Pa)e.X_(n.mutations)}async function P4(i,e,n){const s=i.Pa.shift(),o=yg.from(s,e,n);await uA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await bf(i)}async function L4(i,e){e&&Cs(i).Z_&&await async function(s,o){if(function(h){return _x(h)&&h!==ne.ABORTED}(o.code)){const u=s.Pa.shift();Cs(s).N_(),await uA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bf(s)}}(i,e),cA(i)&&hA(i)}async function X0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ce(ba,"RemoteStore received new credentials");const s=Da(n);n.Ia.add(3),await Ou(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Af(n)}async function U4(i,e){const n=Ae(i);e?(n.Ia.delete(2),await Af(n)):e||(n.Ia.add(2),await Ou(n),n.Aa.set("Unknown"))}function Fo(i){return i.Va||(i.Va=function(n,s,o){const u=Ae(n);return u.ia(),new w4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:C4.bind(null,i),e_:N4.bind(null,i),n_:D4.bind(null,i),J_:O4.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Ig(i)?Rg(i):i.Aa.set("Unknown")):(await i.Va.stop(),lA(i))})),i.Va}function Cs(i){return i.ma||(i.ma=function(n,s,o){const u=Ae(n);return u.ia(),new S4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:M4.bind(null,i),n_:L4.bind(null,i),ea:V4.bind(null,i),ta:P4.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await bf(i)):(await i.ma.stop(),i.Pa.length>0&&(ce(ba,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Cg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(i,e){if(vr("AsyncQueue",`${e}: ${i}`),qo(i))return new ue(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Do;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.fa=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Vo(e,n,Do.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class z4{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=J0(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function J0(){return new Na(i=>xS(i),vf)}async function Dg(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new j4,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Ng(h,`Initialization of query '${So(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&xg(n)}async function Og(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function B4(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&xg(n)}function q4(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function xg(i){i.Da.forEach(e=>{e.next()})}var kp,Z0;(Z0=kp||(kp={})).Fa="default",Z0.Cache="cache";class kg{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.key=e}}class dA{constructor(e){this.key=e}}class F4{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Pe(),this.mutatedKeys=Pe(),this.Xa=kS(e),this.eu=new Do(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new W0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const R=o.get(E),k=_f(this.query,T)?T:null,z=!!R&&this.mutatedKeys.has(R.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;R&&k?R.data.isEqual(k.data)?z!==Q&&(s.track({type:3,doc:k}),F=!0):this.iu(R,k)||(s.track({type:2,doc:k}),F=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(m=!0)):!R&&k?(s.track({type:0,doc:k}),F=!0):R&&!k&&(s.track({type:1,doc:R}),F=!0,(p||g)&&(m=!0)),F&&(k?(h=h.add(k),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,T)=>function(k,z){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:F})}};return Q(k)-Q(z)}(E.type,T.type)||this.Xa(E.doc,T.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Vo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new W0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Pe(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new dA(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new fA(s))}),n}uu(e){this.Ha=e.qs,this.Za=Pe();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Vo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mg="SyncEngine";class H4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class G4{constructor(e){this.key=e,this.lu=!1}}class $4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Na(m=>xS(m),vf),this.Tu=new Map,this.Iu=new Set,this.du=new ct(ge.comparator),this.Eu=new Map,this.Au=new Eg,this.Ru={},this.Vu=new Map,this.mu=Mo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function K4(i,e,n=!0){const s=_A(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await mA(s,e,n,!0),o}async function Q4(i,e){const n=_A(i);await mA(n,e,!0,!1)}async function mA(i,e,n,s){const o=await m4(i.localStore,Ri(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Y4(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&aA(i.remoteStore,o),m}async function Y4(i,e,n,s,o){i.gu=(T,R,k)=>async function(Q,F,Y,ee){let X=F.view.nu(Y);X.Ds&&(X=await G0(Q.localStore,F.query,!1).then(({documents:D})=>F.view.nu(D,X)));const le=ee&&ee.targetChanges.get(F.targetId),he=ee&&ee.targetMismatches.get(F.targetId)!=null,se=F.view.applyChanges(X,Q.isPrimaryClient,le,he);return tT(Q,F.targetId,se._u),se.snapshot}(i,T,R,k);const u=await G0(i.localStore,e,!0),h=new F4(e,u.qs),m=h.nu(u.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);tT(i,n,g._u);const E=new H4(e,n,h);return i.Pu.set(e,E),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),g.snapshot}async function X4(i,e,n){const s=Ae(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!vf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ag(s.remoteStore,o.targetId),Mp(s,o.targetId)}).catch(Bo)):(Mp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function W4(i,e){const n=Ae(i),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ag(n.remoteStore,s.targetId))}async function J4(i,e,n){const s=sk(i);try{const o=await function(h,m){const p=Ae(h),g=st.now(),E=m.reduce((k,z)=>k.add(z.key),Pe());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let z=_r(),Q=Pe();return p.Os.getEntries(k,E).next(F=>{z=F,z.forEach((Y,ee)=>{ee.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,z)).next(F=>{T=F;const Y=[];for(const ee of m){const X=mx(ee,T.get(ee.key).overlayedDocument);X!=null&&Y.push(new Vs(ee.key,X,AS(X.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Y,m)}).next(F=>{R=F;const Y=F.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,F.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:VS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,n),await xu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=Ng(o,"Failed to persist write");n.reject(u)}}async function pA(i,e){const n=Ae(i);try{const s=await h4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Qe(h.lu,14607):o.removedDocuments.size>0&&(Qe(h.lu,42227),h.lu=!1))}),await xu(n,s,e)}catch(s){await Bo(s)}}function eT(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach((E,T)=>{for(const R of T.wa)R.va(m)&&(g=!0)}),g&&xg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Z4(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ct(ge.comparator);h=h.insert(u,tn.newNoDocument(u,we.min()));const m=Pe().add(u),p=new wf(we.min(),new Map,new ct(Ne),h,m);await pA(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Vg(s)}else await Op(s.localStore,e,!1).then(()=>Mp(s,e,n)).catch(Bo)}async function ek(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await c4(n.localStore,e);yA(n,s,null),gA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,o)}catch(o){await Bo(o)}}async function tk(i,e,n){const s=Ae(i);try{const o=await function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);yA(s,e,n),gA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,o)}catch(o){await Bo(o)}}function gA(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function yA(i,e,n){const s=Ae(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||vA(i,s)})}function vA(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Ag(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),Vg(i))}function tT(i,e,n){for(const s of n)s instanceof fA?(i.Au.addReference(s.key,e),nk(i,s)):s instanceof dA?(ce(Mg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||vA(i,s.key)):Ee(19791,{yu:s})}function nk(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ce(Mg,"New document in limbo: "+n),i.Iu.add(s),Vg(i))}function Vg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new ge(tt.fromString(e)),s=i.mu.next();i.Eu.set(s,new G4(n)),i.du=i.du.insert(n,s),aA(i.remoteStore,new ps(Ri(yf(n.path)),s,"TargetPurposeLimboResolution",mf.ue))}}async function xu(i,e,n){const s=Ae(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=wg.Es(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(g,R=>ie.forEach(R.Is,k=>E.persistence.referenceDelegate.addReference(T,R.targetId,k)).next(()=>ie.forEach(R.ds,k=>E.persistence.referenceDelegate.removeReference(T,R.targetId,k)))))}catch(T){if(!qo(T))throw T;ce(Sg,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const k=E.Fs.get(R),z=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(z);E.Fs=E.Fs.insert(R,Q)}}}(s.localStore,u))}async function ik(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ce(Mg,"User change. New user:",e.toKey());const s=await nA(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ue(ne.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Bs)}}function rk(i,e){const n=Ae(i),s=n.Eu.get(e);if(s&&s.lu)return Pe().add(s.key);{let o=Pe();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function _A(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z4.bind(null,e),e.hu.J_=B4.bind(null,e.eventManager),e.hu.pu=q4.bind(null,e.eventManager),e}function sk(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return u4(this.persistence,new a4,e.initialUser,this.serializer)}Du(e){return new tA(Tg.Vi,this.serializer)}bu(e){return new g4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class ak extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Qe(this.persistence.referenceDelegate instanceof Yh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Gx(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new tA(s=>Yh.Vi(s,n),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await U4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),s=function(u){return new T4(u)}(e.databaseInfo);return function(u,h,m,p){return new b4(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new I4(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>eT(this.syncEngine,n,0),function(){return Q0.C()?new Q0:new y4}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const T=new $4(o,u,h,m,p,g);return E&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ce(ba,"RemoteStore shutting down."),u.Ia.add(5),await Ou(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class ok{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(Ns,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(Ns,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ng(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rp(i,e){i.asyncQueue.verifyOperationInProgress(),ce(Ns,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await nA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Ss("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Ss("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function nT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await lk(i);ce(Ns,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>X0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>X0(e.remoteStore,o)),i._onlineComponents=e}async function lk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(Ns,"Using user provided OfflineComponentProvider");try{await rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await rp(i,new Wh)}}else ce(Ns,"Using default OfflineComponentProvider"),await rp(i,new ak(void 0));return i._offlineComponents}async function EA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(Ns,"Using user provided OnlineComponentProvider"),await nT(i,i._uninitializedComponentsProvider._online)):(ce(Ns,"Using default OnlineComponentProvider"),await nT(i,new Vp))),i._onlineComponents}function uk(i){return EA(i).then(e=>e.syncEngine)}async function Jh(i){const e=await EA(i),n=e.eventManager;return n.onListen=K4.bind(null,e.syncEngine),n.onUnlisten=X4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),n}function ck(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Pg({next:R=>{E.Ou(),h.enqueueAndForget(()=>Og(u,T));const k=R.docs.has(m);!k&&R.fromCache?g.reject(new ue(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&p&&p.source==="server"?g.reject(new ue(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new kg(yf(m.path),E,{includeMetadataChanges:!0,ka:!0});return Dg(u,T)}(await Jh(i),i.asyncQueue,e,n,s)),s.promise}function hk(i,e,n={}){const s=new mr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new Pg({next:R=>{E.Ou(),h.enqueueAndForget(()=>Og(u,T)),R.fromCache&&p.source==="server"?g.reject(new ue(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new kg(m,E,{includeMetadataChanges:!0,ka:!0});return Dg(u,T)}(await Jh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firestore.googleapis.com",rT=!0;class sT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wA,this.ssl=rT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Fx)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _O;switch(s.type){case"firstParty":return new SO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=iT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),iT.delete(n),s.terminate())}(this),Promise.resolve()}}function fk(i,e,n,s={}){var o;i=Tn(i,Rf);const u=Lo(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&($T(`https://${p}`),KT("Firestore",!0)),h.host!==wA&&h.host!==p&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ws(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=en.MOCK_USER;else{E=lI(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(R)}i._authCredentials=new EO(new hS(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Iu(n,pt._jsonSchema))return new pt(e,s||null,new ge(tt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ct("string",pt._jsonSchemaVersion),referencePath:Ct("string")};class _s extends Oa{constructor(e,n,s){super(e,n,yf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ge(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Es(i,e,...n){if(i=Et(i),dS("collection","path",e),i instanceof Rf){const s=tt.fromString(e,...n);return v0(s),new _s(i,null,s)}{if(!(i instanceof pt||i instanceof _s))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return v0(s),new _s(i.firestore,null,s)}}function nn(i,e,...n){if(i=Et(i),arguments.length===1&&(e=ug.newId()),dS("doc","path",e),i instanceof Rf){const s=tt.fromString(e,...n);return y0(s),new pt(i,null,new ge(s))}{if(!(i instanceof pt||i instanceof _s))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return y0(s),new pt(i.firestore,i instanceof _s?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="AsyncQueue";class oT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rA(this,"async_queue_retry"),this.oc=()=>{const s=ip();s&&ce(aT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new mr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qo(e))throw e;ce(aT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",lT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Cg.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:lT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function lT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Er extends Rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new oT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oT(e),this._firestoreClient=void 0,await e}}}function dk(i,e){const n=typeof i=="object"?i:Gp(),s=typeof i=="string"?i:qh,o=Ca(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aI("firestore");u&&fk(o,...u)}return o}function If(i){if(i._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||mk(i),i._firestoreClient}function mk(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new jO(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,TA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new ok(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Yt.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ct("string",$n._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Ci._jsonSchema))return new Ci(e.latitude,e.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ct("string",Ci._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ni(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ct("string",Ni._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=/^__.*__$/;class gk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:i})}}class Ug{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Zh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AA(this.Ec)&&pk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class yk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sf(e)}Dc(e,n,s,o=!1){return new Ug({Ec:e,methodName:n,bc:s,path:Qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(i){const e=i._freezeSettings(),n=Sf(i._databaseId);return new yk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function bA(i,e,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,n,o);jg("Data must be an object, but it was:",h,s);const m=RA(s,h);let p,g;if(u.merge)p=new xn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=Pp(e,T,n);if(!h.contains(R))throw new ue(ne.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CA(E,R)||E.push(R)}p=new xn(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new gk(new _n(m),p,g)}class Df extends Lg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function vk(i,e,n,s){const o=i.Dc(1,e,n);jg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();Ms(s,(p,g)=>{const E=zg(e,p,n);g=Et(g);const T=o.gc(E);if(g instanceof Df)u.push(E);else{const R=ku(g,T);R!=null&&(u.push(E),h.set(E,R))}});const m=new xn(u);return new SA(h,m,o.fieldTransforms)}function _k(i,e,n,s,o,u){const h=i.Dc(1,e,n),m=[Pp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Pp(e,u[R])),p.push(u[R+1]);const g=[],E=_n.empty();for(let R=m.length-1;R>=0;--R)if(!CA(g,m[R])){const k=m[R];let z=p[R];z=Et(z);const Q=h.gc(k);if(z instanceof Df)g.push(k);else{const F=ku(z,Q);F!=null&&(g.push(k),E.set(k,F))}}const T=new xn(g);return new SA(E,T,h.fieldTransforms)}function Ek(i,e,n,s=!1){return ku(n,i.Dc(s?4:3,e))}function ku(i,e){if(IA(i=Et(i)))return jg("Unsupported field value:",e,i),RA(i,e);if(i instanceof Lg)return function(s,o){if(!AA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=ku(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Qh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:KS(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ni)return function(h,m){return{mapValue:{fields:{[wS]:{stringValue:SS},[Fh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return pg(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${df(s)}`)}(i,e)}function RA(i,e){const n={};return gS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(i,(s,o)=>{const u=ku(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function IA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ci||i instanceof $n||i instanceof pt||i instanceof Lg||i instanceof Ni)}function jg(i,e,n){if(!IA(n)||!mS(n)){const s=df(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Pp(i,e,n){if((e=Et(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return zg(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const Tk=new RegExp("[~\\*/\\[\\]]");function zg(i,e,n){if(e.search(Tk)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(ne.INVALID_ARGUMENT,m+i+p)}function CA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wk extends NA{data(){return super.data()}}function Bg(i,e){return typeof e=="string"?zg(i,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class Sk extends qg{}function yu(i,e,...n){let s=[];e instanceof qg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof Fg).length,m=u.filter(p=>p instanceof Of).length;if(h>1||h>0&&m>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Of extends Sk{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Of(e,n,s)}_apply(e){const n=this._parse(e);return OA(e._query,n),new Oa(e.firestore,e.converter,bp(e._query,n))}_parse(e){const n=Nf(e.firestore);return function(u,h,m,p,g,E,T){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){hT(T,E);const z=[];for(const Q of T)z.push(cT(p,u,Q));R={arrayValue:{values:z}}}else R=cT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||hT(T,E),R=Ek(m,h,T,E==="in"||E==="not-in");return It.create(g,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(i,e,n){const s=e,o=Bg("where",i);return Of._create(o,s,n)}class Fg extends qg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)OA(h,p),h=bp(h,p)}(e._query,n),new Oa(e.firestore,e.converter,bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cT(i,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return R0(i,new ge(s))}if(n instanceof pt)return R0(i,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function hT(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(i,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ak{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ms(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Fh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Ni(u)}convertGeoPoint(e){return new Ci(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=bs(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Qe(ZS(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends NA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Ct("string",ya._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Ch extends ya{data(e={}){return super.data(e)}}class va{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ch(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:bk(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(i){i=Tn(i,pt);const e=Tn(i.firestore,Er);return ck(If(e),i._key).then(n=>MA(e,i,n))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Ct("string",va._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Hg extends Ak{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function vu(i){i=Tn(i,Oa);const e=Tn(i.firestore,Er),n=If(e),s=new Hg(e);return DA(i._query),hk(n,i._query).then(o=>new va(e,s,i,o))}function xf(i,e,n){i=Tn(i,pt);const s=Tn(i.firestore,Er),o=xA(i.converter,e,n);return kf(s,[bA(Nf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Qn.none())])}function Nh(i,e,n,...s){i=Tn(i,pt);const o=Tn(i.firestore,Er),u=Nf(o);let h;return h=typeof(e=Et(e))=="string"||e instanceof Cf?_k(u,"updateDoc",i._key,e,n,s):vk(u,"updateDoc",i._key,e),kf(o,[h.toMutation(i._key,Qn.exists(!0))])}function Rk(i){return kf(Tn(i.firestore,Er),[new gg(i._key,Qn.none())])}function kA(i,e){const n=Tn(i.firestore,Er),s=nn(i),o=xA(i.converter,e);return kf(n,[bA(Nf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function Ik(i,...e){var n,s,o;i=Et(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||uT(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(uT(e[h])){const T=e[h];e[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(i instanceof pt)g=Tn(i.firestore,Er),E=yf(i._key.path),p={next:T=>{e[h]&&e[h](MA(g,i,T))},error:e[h+1],complete:e[h+2]};else{const T=Tn(i,Oa);g=Tn(T.firestore,Er),E=T._query;const R=new Hg(g);p={next:k=>{e[h]&&e[h](new va(g,R,T,k))},error:e[h+1],complete:e[h+2]},DA(i._query)}return function(R,k,z,Q){const F=new Pg(Q),Y=new kg(k,F,z);return R.asyncQueue.enqueueAndForget(async()=>Dg(await Jh(R),Y)),()=>{F.Ou(),R.asyncQueue.enqueueAndForget(async()=>Og(await Jh(R),Y))}}(If(g),E,m,p)}function kf(i,e){return function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget(async()=>J4(await uk(s),o,u)),u.promise}(If(i),e)}function MA(i,e,n){const s=n.docs.get(e._key),o=new Hg(i);return new ya(i,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){zo=o})(Uo),Di(new oi("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Er(new TO(s.getProvider("auth-internal")),new AO(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kn(f0,d0,e),Kn(f0,d0,"esm2017")})();const Ck={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},Gg=ew(Ck);pO(Gg);const Tr=XN(Gg),Nk=new ur,lt=dk(Gg),Dk=async()=>{const i=await sN(Tr,Nk);Ok(i);const e=nn(lt,"users",i.user.uid);return xf(e,{name:i.user.displayName,email:i.user.email,uid:i.user.uid},{merge:!0}),i};function Ok(i){const e={name:i.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function xk(){const i=ui();return{handleGoogleSignIn:async()=>{try{await Dk(),i("/dashboard")}catch(n){console.error("Sign in failed:",n)}}}}function kk(i,e){return V2(Tr,i,e)}const Mk=({className:i})=>{const[e,n]=L.useState(""),[s,o]=L.useState(""),u=ui(),h=async m=>{m.preventDefault();try{await kk(e,s),u("/dashboard")}catch(p){alert("Login failed: "+p.message)}};return S.jsxs("form",{onSubmit:h,className:i,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:m=>n(m.target.value),required:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsx("input",{className:"form-input",type:"password",id:"password",required:!0,value:s,onChange:m=>o(m.target.value)})]}),S.jsx("button",{type:"submit",children:"Login"})]})},Vk=async(i,e)=>{const n=await M2(Tr,i,e),s=n.user,o=nn(lt,"users",s.uid);return await xf(o,{name:s.displayName,email:s.email,uid:s.uid,createdAt:new Date().toISOString()},{merge:!0}),n},fT=i=>{const e=[];return i.length<8&&e.push("At least 8 characters"),/[A-Z]/.test(i)||e.push("At least one uppercase letter"),/[a-z]/.test(i)||e.push("At least one lowercase letter"),/[0-9]/.test(i)||e.push("At least one number"),/[^a-zA-Z0-9]/.test(i)||e.push("At least one special character"),{isValid:e.length===0,missingRequirements:e,message:e.length===0?"Password meets all requirements":"Password does not meet requirements",status:{containsLowercaseLetter:/[a-z]/.test(i),containsUppercaseLetter:/[A-Z]/.test(i),containsNumericCharacter:/[0-9]/.test(i),containsNonAlphanumericCharacter:/[^a-zA-Z0-9]/.test(i),meetsMinPasswordLength:i.length>=8}}},dT=i=>{const n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i);return{isValid:n,message:n?"Valid email":"Please enter a valid email address"}},Pk=["tempmail.com","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org","fakeinbox.com","trashmail.com","yopmail.com"],mT=i=>{var n;const e=(n=i.split("@")[1])==null?void 0:n.toLowerCase();return Pk.includes(e)},Lk=({className:i})=>{const[e,n]=L.useState(""),[s,o]=L.useState(""),[u,h]=L.useState(""),[m,p]=L.useState(null),[g,E]=L.useState(!1),[T,R]=L.useState(!1),k=ui();L.useEffect(()=>{if(s){const Y=fT(s);p(Y)}else p(null)},[s]);const z=()=>{if(e){const Y=dT(e);Y.isValid?mT(e)?h("Disposable email addresses are not allowed"):h(""):h(Y.message)}},Q=async Y=>{Y.preventDefault(),R(!0);const ee=dT(e);if(!ee.isValid){h(ee.message),R(!1);return}if(mT(e)){h("Disposable email addresses are not allowed"),R(!1);return}if(!fT(s).isValid){alert("Password does not meet requirements. Please check the requirements below."),R(!1);return}try{await Vk(e,s),k("/dashboard")}catch(le){let he="Sign up failed. Please try again.";switch(le.code){case"auth/email-already-in-use":he="This email is already registered. Please login instead.",h(he);break;case"auth/invalid-email":he="Invalid email address.",h(he);break;case"auth/weak-password":he="Password is too weak. Please choose a stronger password.";break;case"auth/operation-not-allowed":he="Email/password accounts are not enabled. Please contact support.";break;case"auth/too-many-requests":he="Too many sign-up attempts. Please try again later.";break;default:he=le.message||he}alert(he)}finally{R(!1)}},F=()=>e&&s&&!u&&(m==null?void 0:m.isValid);return S.jsxs("form",{className:i,onSubmit:Q,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Email:"}),S.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:Y=>{n(Y.target.value),h("")},onBlur:z,required:!0,style:{borderColor:u?"#f44336":void 0}}),u&&S.jsx("p",{style:ri.errorText,children:u})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Password:"}),S.jsxs("div",{style:ri.passwordContainer,children:[S.jsx("input",{className:"form-input",type:g?"text":"password",id:"password",value:s,onChange:Y=>o(Y.target.value),required:!0,style:{width:"100%",paddingRight:"60px"}}),S.jsx("button",{type:"button",onClick:()=>E(!g),style:ri.showButton,children:g?"Hide":"Show"})]}),s&&m&&S.jsxs("div",{style:ri.requirementsBox,children:[S.jsx("p",{style:ri.requirementsTitle,children:"Password Requirements:"}),S.jsxs("ul",{style:ri.requirementsList,children:[S.jsxs("li",{style:{...ri.requirement,color:m.status.meetsMinPasswordLength?"#4CAF50":"#666"},children:[m.status.meetsMinPasswordLength?"":""," ","At least 8 characters"]}),S.jsxs("li",{style:{...ri.requirement,color:m.status.containsUppercaseLetter?"#4CAF50":"#666"},children:[m.status.containsUppercaseLetter?"":""," ","One uppercase letter (A-Z)"]}),S.jsxs("li",{style:{...ri.requirement,color:m.status.containsLowercaseLetter?"#4CAF50":"#666"},children:[m.status.containsLowercaseLetter?"":""," ","One lowercase letter (a-z)"]}),S.jsxs("li",{style:{...ri.requirement,color:m.status.containsNumericCharacter?"#4CAF50":"#666"},children:[m.status.containsNumericCharacter?"":""," ","One number (0-9)"]}),S.jsxs("li",{style:{...ri.requirement,color:m.status.containsNonAlphanumericCharacter?"#4CAF50":"#666"},children:[m.status.containsNonAlphanumericCharacter?"":""," ","One special character"]})]})]})]}),S.jsx("button",{type:"submit",disabled:!F()||T,style:{opacity:F()&&!T?1:.5,cursor:F()&&!T?"pointer":"not-allowed"},children:T?"Signing up...":"Sign Up"})]})},ri={errorText:{color:"#f44336",fontSize:"12px",marginTop:"5px",marginBottom:0},passwordContainer:{position:"relative",display:"flex",alignItems:"center"},showButton:{position:"absolute",right:"10px",background:"none",border:"none",color:"#3498db",cursor:"pointer",fontSize:"12px",padding:"5px 10px"},requirementsBox:{marginTop:"10px",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0"},requirementsTitle:{fontSize:"12px",fontWeight:"bold",marginBottom:"8px",marginTop:0,color:"#333"},requirementsList:{listStyle:"none",padding:0,margin:0},requirement:{fontSize:"12px",marginBottom:"4px",transition:"color 0.2s ease"}},Uk=()=>{const{handleGoogleSignIn:i}=xk(),[e,n]=L.useState(!0);return S.jsx("div",{className:"auth-container",children:S.jsxs("div",{className:"auth-card",children:[S.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),S.jsxs("div",{className:"auth-form-wrapper",children:[S.jsx(Mk,{className:`auth-form${e?" active":""}`}),S.jsx(Lk,{className:`auth-form${e?"":" active"}`})]}),S.jsx("button",{className:"auth-btn auth-btn-google",onClick:i,children:"Sign in with Google"}),S.jsx("div",{className:"auth-switch",children:e?S.jsxs(S.Fragment,{children:["Don't have an account?",S.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!1)},children:"Sign Up"})]}):S.jsxs(S.Fragment,{children:["Already have an account?",S.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!0)},children:"Login"})]})})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jk(i,e,n,s){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(E){try{g(s.next(E))}catch(T){h(T)}}function p(E){try{g(s.throw(E))}catch(T){h(T)}}function g(E){E.done?u(E.value):o(E.value).then(m,p)}g((s=s.apply(i,[])).next())})}function zk(i,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(E){g=[6,E],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ro=function(){return Ro=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ro.apply(this,arguments)},VA=function(i){return{loading:i==null,value:i}},Bk=function(){return function(i,e){switch(e.type){case"error":return Ro(Ro({},i),{error:e.error,loading:!1,value:void 0});case"reset":return VA(e.defaultValue);case"value":return Ro(Ro({},i),{error:void 0,loading:!1,value:e.value});default:return i}}},qk=function(i){var e=i?i():void 0,n=L.useReducer(Bk(),VA(e)),s=n[0],o=n[1],u=L.useCallback(function(){var p=i?i():void 0;o({type:"reset",defaultValue:p})},[i]),h=L.useCallback(function(p){o({type:"error",error:p})},[]),m=L.useCallback(function(p){o({type:"value",value:p})},[]);return L.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:h,setValue:m,value:s.value}},[s.error,s.loading,u,h,m,s.value])},Fk=function(i,e){var n=qk(function(){return i.currentUser}),s=n.error,o=n.loading,u=n.setError,h=n.setValue,m=n.value;return L.useEffect(function(){var p=U2(i,function(g){return jk(void 0,void 0,void 0,function(){var E;return zk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),u(E),[3,4];case 4:return h(g),[2]}})})},u);return function(){p()}},[i]),[m,o,s]};const PA=L.createContext();function Hk({children:i}){const[e,n,s]=Fk(Tr),o=async()=>{try{await j2(Tr),console.log("User signed out successfully")}catch(u){throw console.error("Error signing out:",u),u}};return S.jsx(PA.Provider,{value:{user:e,loading:n,error:s,logout:o},children:i})}function Mu(){return L.useContext(PA)}const Gk=()=>{const i=ui(),{user:e,logout:n}=Mu(),s=async()=>{try{await n(),i("/")}catch(o){console.error("Failed to sign out:",o),alert("Failed to sign out. Please try again.")}};return S.jsxs("div",{className:"dashboard-container",children:[S.jsx("div",{className:"dashboard-header",children:S.jsx("button",{className:"btn-sign-out",onClick:s,children:"Sign Out"})}),S.jsxs("div",{className:"nav-cards",children:[S.jsxs("div",{className:"nav-card create-program-card",onClick:()=>i("/CreateProgram"),children:[S.jsx("h3",{children:"Create New Program"}),S.jsx("p",{children:"Build a custom workout program tailored to your goals"}),S.jsx("div",{className:"card-action",children:"Get Started "})]}),S.jsxs("div",{className:"nav-card view-programs-card",onClick:()=>i("/ListOfUsersPrograms"),children:[S.jsx("h3",{children:"My Programs"}),S.jsx("p",{children:"View and manage your existing workout programs"}),S.jsx("div",{className:"card-action",children:"View Programs "})]})]}),S.jsxs("div",{className:"quick-stats",children:[S.jsx("h3",{children:"Quick Stats"}),S.jsxs("div",{className:"stats-grid",children:[S.jsxs("div",{className:"stat-item",children:[S.jsx("span",{className:"stat-label"}),S.jsx("span",{className:"stat-value",children:"-"})]}),S.jsxs("div",{className:"stat-item",children:[S.jsx("span",{className:"stat-label"}),S.jsx("span",{className:"stat-value",children:"-"})]}),S.jsxs("div",{className:"stat-item",children:[S.jsx("span",{className:"stat-label"}),S.jsx("span",{className:"stat-value",children:"-"})]})]}),S.jsx("p",{className:"stats-note",children:" Stats coming soon in future updates!"})]}),S.jsx("div",{className:"dashboard-footer",children:S.jsx("p",{children:"Thanks for testing my workout tracker! "})})]})};class $g{watch(e,n,s){throw new Error("Not implemented")}}class $k extends $g{watchUserPrograms(e,n,s){throw new Error("Not implemented")}getUserPrograms(e){throw new Error("Not implemented")}getProgram(e){throw new Error("Not implemented")}createProgram(e){throw new Error("Not implemented")}updateProgram(e,n){throw new Error("Not implemented")}deleteProgram(e){throw new Error("Not implemented")}}class Kk extends $k{watchUserPrograms(e,n,s){const o=yu(Es(lt,"programs"),lr("createdBy","==",e));return Ik(o,u=>{const h=[];u.forEach(m=>{h.push({id:m.id,...m.data()})}),n(h)},s)}async getUserPrograms(e){const n=yu(Es(lt,"programs"),lr("createdBy","==",e)),s=await vu(n),o=[];return s.forEach(u=>{o.push({id:u.id,...u.data()})}),o}async getProgram(e){const n=nn(lt,"programs",e),s=await Ts(n);if(s.exists())return{id:s.id,...s.data()};throw new Error("Program not found")}async createProgram(e){return(await kA(Es(lt,"programs"),e)).id}async updateProgram(e,n){const s=nn(lt,"programs",e);return await Nh(s,n),!0}async deleteProgram(e){return await Rk(nn(lt,"programs",e)),!0}}class Qk extends $g{getWorkout(e){throw new Error("Not implemented")}saveWorkoutProgress(e,n){throw new Error("Not implemented")}addWorkout(e,n){throw new Error("Not implemented")}updateWorkoutName(e,n,s){throw new Error("Not implemented")}getPreviousWeekSession(e,n,s){throw new Error("Not implemented")}}class Yk extends Qk{async getWorkout(e){const n=nn(lt,"workouts",e),s=await Ts(n);if(s.exists())return{id:s.id,...s.data()};throw new Error("Workout not found")}async saveWorkoutProgress(e,n){const s=nn(lt,"workouts",e);return await Nh(s,{progress:n}),!0}async addWorkoutToProgram(e,n){try{const s=nn(lt,"programs",e),o=await Ts(s);if(!o.exists())throw new Error(`Program with ID ${e} not found`);const u=o.data(),h=u.workouts||[];console.log("Current Program Data:",u);const m=[...h,n];return await Nh(s,{workouts:m}),n.id}catch(s){throw console.error("Error adding workout to program:",s),s}}async updateWorkoutName(e,n,s){try{const o=nn(lt,"programs",e),u=await Ts(o);if(!u.exists())throw new Error(`Program with ID ${e} not found`);const m=(u.data().workouts||[]).map(p=>p.id===n?{...p,name:s}:p);return await Nh(o,{workouts:m}),!0}catch(o){throw console.error("Error updating workout name:",o),o}}async getPreviousWeekSession(e,n,s){try{const o=s-1;if(o<1)return null;const u=Es(lt,"sessions"),h=yu(u,lr("userId","==",e),lr("workoutTemplateId","==",n),lr("week","==",o)),m=await vu(h);return m.empty?null:m.docs.map(E=>({id:E.id,...E.data()})).sort((E,T)=>{const R=new Date(E.timestamp).getTime();return new Date(T.timestamp).getTime()-R})[0]}catch(o){return console.error("Error fetching previous week session:",o),null}}async getSessionByTemplateAndWeek(e,n,s){try{const o=Es(lt,"sessions"),u=yu(o,lr("userId","==",e),lr("workoutTemplateId","==",n),lr("week","==",s)),h=await vu(u);return h.empty?null:h.docs.map(g=>({id:g.id,...g.data()})).sort((g,E)=>{const T=new Date(g.timestamp).getTime();return new Date(E.timestamp).getTime()-T})[0]}catch(o){return console.error("Error fetching session by template and week:",o),null}}}class Xk extends $g{getTemplate(e,n){throw new Error("Method not implemented")}createTemplate(e,n){throw new Error("Method not implemented")}getOrCreateTemplate(e,n){throw new Error("Method not implemented")}getExerciseTemplates(e){throw new Error("Method not implemented")}getTemplateById(e,n){throw new Error("Method not implemented")}updateTemplate(e,n,s){throw new Error("Method not implemented")}}function pT(i){let e=i.trim().toLowerCase();return e=e.replace(/[^\w\s]/gi,""),e=e.replace(/[-_]/g," "),e=e.replace(/\s+/g," "),console.log("Standardized input:",e),e}class Wk extends Xk{constructor(){super(),this.templateCache=new Map}async getTemplate(e,n){const s=pT(n.name),o=`${e}:${s}`;if(this.templateCache.has(o))return this.templateCache.get(o);if(n.templateId)try{const m=await this.getTemplateById(e,n.templateId);if(m)return this.templateCache.set(o,m),m}catch(m){console.error("Error fetching template:",m)}const u=Es(lt,"users",e,"exerciseTemplates"),h=yu(u,lr("standardizedName","==",s));try{const m=await vu(h);if(!m.empty){const p=m.docs[0],g={id:p.id,...p.data()};return this.templateCache.set(o,g),g}return null}catch(m){throw console.error("Error in getTemplate:",m),m}}async createTemplate(e,n){const s=pT(n.name),o=await this.getTemplate(e,n);if(o)return o;const u={name:n.name,standardizedName:s,category:n.category||"Other",defaultSets:n.sets?n.sets.map(E=>({reps:E.reps||"",weight:E.weight||null,rir:E.rir||""})):[{reps:"",weight:null,rir:""}],createdAt:new Date,userId:e},h=Es(lt,"users",e,"exerciseTemplates"),p={id:(await kA(h,u)).id,...u},g=`${e}:${s}`;return this.templateCache.set(g,p),p}async getOrCreateTemplate(e,n){const s=await this.getTemplate(e,n);return s||await this.createTemplate(e,n)}async getTemplateById(e,n){try{const s=nn(lt,"users",e,"exerciseTemplates",n),o=await Ts(s);return o.exists()?{id:o.id,...o.data()}:null}catch(s){throw console.error("Error in getTemplateById:",s),s}}async getExerciseTemplates(e){try{const n=Es(lt,"users",e,"exerciseTemplates");return(await vu(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){throw console.error("Error in getExerciseTemplates:",n),n}}async updateTemplate(e,n,s){try{const o=nn(lt,"users",e,"exerciseTemplates",n);return await xf(o,s,{merge:!0}),{id:n,...s}}catch(o){throw console.error("Error in updateTemplate:",o),o}}}class Jk{constructor(){this._programRepository=new Kk,this._workoutRepository=new Yk,this._exerciseTemplateRepository=new Wk}get programRepository(){return this._programRepository}get workoutRepository(){return this._workoutRepository}get exerciseTemplateRepository(){return this._exerciseTemplateRepository}}const xi=new Jk,LA=Object.freeze(Object.defineProperty({__proto__:null,repositoryFactory:xi},Symbol.toStringTag,{value:"Module"})),UA=xi.programRepository,Zk=async i=>await UA.createProgram(i),eM=async i=>await UA.deleteProgram(i),tM=({program:i,setProgram:e})=>S.jsxs("div",{className:"step-content",children:[S.jsx("h2",{children:"Program Details"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Program Name"}),S.jsx("input",{type:"text",value:i.name,onChange:n=>e(s=>({...s,name:n.target.value})),placeholder:"Enter program name"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Description"}),S.jsx("textarea",{value:i.description,onChange:n=>e(s=>({...s,description:n.target.value})),placeholder:"Describe your program",rows:"3"})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Duration (weeks)"}),S.jsx("input",{type:"number",value:i.duration,onChange:n=>e(s=>({...s,duration:n.target.value})),placeholder:"e.g., 12"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Difficulty"}),S.jsxs("select",{value:i.difficulty,onChange:n=>e(s=>({...s,difficulty:n.target.value})),children:[S.jsx("option",{value:"beginner",children:"Beginner"}),S.jsx("option",{value:"intermediate",children:"Intermediate"}),S.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),nM=({exercise:i,setExercise:e,onAddExercise:n})=>{const[s,o]=L.useState([]);return L.useEffect(()=>{(async()=>{const h=Tr.currentUser;if(h)try{const m=await xi.exerciseTemplateRepository.getExerciseTemplates(h.uid);o(m||[])}catch(m){console.error("Error fetching templates:",m)}})()},[]),S.jsxs("div",{className:"exercise-section",children:[S.jsx("h3",{children:"Add Exercise"}),S.jsxs("div",{className:"form-row",children:[S.jsx("input",{type:"text",value:i.name,onChange:u=>e(h=>({...h,name:u.target.value})),placeholder:"Exercise name",list:"exercise-templates"}),S.jsx("datalist",{id:"exercise-templates",children:s.map(u=>S.jsx("option",{value:u.name},u.id))}),S.jsx("input",{type:"number",value:i.sets,onChange:u=>e(h=>({...h,sets:u.target.value})),placeholder:"Sets"}),S.jsx("input",{type:"text",value:i.reps,onChange:u=>e(h=>({...h,reps:u.target.value})),placeholder:"Reps"}),S.jsx("button",{type:"button",onClick:n,className:"btn-add",children:"Add"})]})]})},iM=({exercises:i,onRemoveExercise:e})=>i.length===0?null:S.jsxs("div",{className:"exercise-list",children:[S.jsx("h4",{children:"Exercises in this workout:"}),i.map(n=>S.jsxs("div",{className:"exercise-item",children:[S.jsxs("span",{children:[n.name," - ",n.sets.length," sets x"," ",n.sets[0].reps," reps"," "]}),S.jsx("button",{onClick:()=>e(n.id),className:"btn-remove","aria-label":`Remove ${n.name}`,title:`Remove ${n.name}`,children:"X"})]},n.id))]}),rM=({workout:i,onRemoveWorkout:e})=>S.jsxs("div",{className:"workout-preview",children:[S.jsxs("div",{className:"workout-header",children:[S.jsx("h5",{children:i.name}),S.jsx("button",{onClick:()=>e(i.id),className:"btn-remove",children:"x"})]}),S.jsx("div",{className:"exercises-preview",children:i.exercises.map(n=>S.jsxs("div",{className:"exercise-preview",children:[S.jsx("div",{className:"exercise-name",children:n.name}),S.jsxs("div",{className:"exercise-details",children:[n.sets.length," sets  ",n.sets[0].reps," reps"]})]},n.id))})]}),sM=({program:i,onRemoveWorkout:e})=>S.jsxs("div",{className:"step-content",children:[S.jsx("h2",{children:"Program Preview"}),S.jsxs("div",{className:"program-preview",children:[S.jsxs("div",{className:"preview-header",children:[S.jsx("h3",{children:i.name||"Untitled Program"}),S.jsxs("div",{className:"program-meta",children:[S.jsxs("span",{className:"duration",children:[i.duration," weeks"]}),S.jsx("span",{className:"difficulty",children:i.difficulty})]}),S.jsx("p",{className:"description",children:i.description})]}),S.jsxs("div",{className:"workouts-preview",children:[S.jsxs("h4",{children:["Workouts (",i.workouts.length,")"]}),i.workouts.map(n=>S.jsx(rM,{workout:n,onRemoveWorkout:e},n.id))]}),i.workouts.length===0&&S.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),aM=({currentWorkout:i,setCurrentWorkout:e,currentExercise:n,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:u,onAddWorkout:h,program:m})=>S.jsxs("div",{className:"step-content",children:[S.jsx("h2",{children:"Add Workouts"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Workout Name"}),S.jsx("input",{type:"text",value:i.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),S.jsx(nM,{exercise:n,setExercise:s,onAddExercise:o}),S.jsx(iM,{exercises:i.exercises,onRemoveExercise:u}),i.exercises.length>0&&S.jsx("div",{style:{marginTop:"1rem"},children:S.jsx("button",{onClick:h,className:"btn-primary",children:"Add Workout to Program"})}),S.jsxs("div",{className:"workout-preview",children:[S.jsx("h3",{children:"Workouts in Program"}),m.workouts.length>0?m.workouts.map(p=>S.jsxs("div",{className:"workout-card",children:[S.jsx("h4",{children:p.name}),S.jsx("ul",{children:p.exercises.map(g=>S.jsxs("li",{children:[S.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):S.jsx("p",{children:"No workouts added yet."})]})]}),oM=({currentStep:i,steps:e})=>S.jsx("div",{className:"step-indicator",children:e.map((n,s)=>S.jsx("div",{className:`step ${i>=s+1?"active":""}`,children:n},s))}),$t=[];for(let i=0;i<256;++i)$t.push((i+256).toString(16).slice(1));function lM(i,e=0){return($t[i[e+0]]+$t[i[e+1]]+$t[i[e+2]]+$t[i[e+3]]+"-"+$t[i[e+4]]+$t[i[e+5]]+"-"+$t[i[e+6]]+$t[i[e+7]]+"-"+$t[i[e+8]]+$t[i[e+9]]+"-"+$t[i[e+10]]+$t[i[e+11]]+$t[i[e+12]]+$t[i[e+13]]+$t[i[e+14]]+$t[i[e+15]]).toLowerCase()}let sp;const uM=new Uint8Array(16);function cM(){if(!sp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sp=crypto.getRandomValues.bind(crypto)}return sp(uM)}const hM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gT={randomUUID:hM};function _a(i,e,n){var o;if(gT.randomUUID&&!i)return gT.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??cM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,lM(s)}function fM(i,e){const n=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=n;o++)for(const u of i)s.push({...u,week:o,id:_a(),templateId:u.templateId});return s}const dM=()=>{const i=ui(),[e,n]=L.useState(1),[s,o]=L.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[u,h]=L.useState({name:"",exercises:[]}),[m,p]=L.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=async()=>{if(m.name&&m.sets&&m.reps){const Y=parseInt(m.sets)||1,ee=Array.from({length:Y},()=>({reps:m.reps,weight:m.weight||null,complete:!1}));let X={name:m.name,sets:ee,id:_a()};const le=Tr.currentUser;if(le)try{const he=await xi.exerciseTemplateRepository.getOrCreateTemplate(le.uid,X);X={...X,templateId:he.id},console.log("Created exercise with template ID:",X)}catch(he){console.error("Error creating exercise template:",he)}h(he=>({...he,exercises:[...he.exercises,X]})),console.log(X),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},E=()=>{u.name&&u.exercises.length>0&&(o(Y=>({...Y,workouts:[...Y.workouts,{...u,id:_a(),templateId:_a()}]})),h({name:"",exercises:[]}))},T=Y=>{h(ee=>({...ee,exercises:ee.exercises.filter(X=>X.id!==Y)}))},R=Y=>{o(ee=>({...ee,workouts:ee.workouts.filter(X=>X.id!==Y)}))},k=async(Y,ee)=>{const X=JSON.parse(JSON.stringify(Y));for(const le of X)if(le.exercises&&le.exercises.length>0)for(let he=0;he<le.exercises.length;he++){const se=le.exercises[he];if(!se.templateId)try{const D=await xi.exerciseTemplateRepository.getOrCreateTemplate(ee,se);le.exercises[he]={...se,templateId:D.id},console.log(`Added template ID ${D.id} to exercise ${se.name}`)}catch(D){console.error(`Error creating template for ${se.name}:`,D)}}return X},z=async()=>{const Y=Tr.currentUser;if(!Y){alert("You must be logged in to save a program.");return}try{let ee=[...s.workouts];ee=await k(ee,Y.uid);const X=fM(ee,s.duration),le={...s,workouts:X,createdBy:Y.uid,createdAt:new Date},he=await Zk(le);alert("Program saved successfully! ID: "+he),i(`/ExecuteProgram/${he}`)}catch(ee){console.error("Error saving program:",ee),alert("Failed to save program: "+ee.message)}},Q=()=>{switch(e){case 1:return S.jsx(tM,{program:s,setProgram:o});case 2:return S.jsx(aM,{currentWorkout:u,setCurrentWorkout:h,currentExercise:m,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:T,onAddWorkout:E,program:s});case 3:return S.jsx(sM,{program:s,onRemoveWorkout:R});default:return null}},F=["Details","Workouts","Preview"];return S.jsxs("div",{className:"create-program-container",children:[S.jsxs("div",{className:"create-program-header",children:[S.jsx("h1",{children:"Create New Program"}),S.jsx(oM,{currentStep:e,steps:F})]}),S.jsx("div",{className:"create-program-content",children:Q()}),S.jsxs("div",{className:"create-program-actions",children:[e>1&&S.jsx("button",{onClick:()=>n(e-1),className:"btn-secondary",children:"Previous"}),e<3?S.jsx("button",{onClick:()=>n(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):S.jsx("button",{onClick:z,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),S.jsx("button",{onClick:()=>i("/dashboard"),className:"btn-cancel",children:"Cancel"})]})]})};function ef({actions:i,trigger:e}){const[n,s]=L.useState(!1),o=L.useRef();return L.useEffect(()=>{function u(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),S.jsxs("div",{className:"dropdown",ref:o,children:[S.jsx("button",{className:"dropdown-trigger",onClick:u=>{u.stopPropagation(),s(h=>!h)},children:e||""}),n&&S.jsx("div",{className:"dropdown-content",children:i.map((u,h)=>S.jsx("button",{className:"dropdown-item",onClick:m=>{u.onClick(m),s(!1)},children:u.label},h))})]})}const mM=()=>{const i=ui(),{programId:e}=OT(),{logout:n}=Mu(),[s,o]=L.useState(null),[u,h]=L.useState(1),[m,p]=L.useState(!0),[g,E]=L.useState(""),[T,R]=L.useState(!1),[k,z]=L.useState(null),Q=async()=>{try{await n(),i("/")}catch(se){console.error("Failed to sign out:",se),alert("Failed to sign out. Please try again.")}},F=async(se,D)=>{try{await xi.workoutRepository.updateWorkoutName(e,se,D),o(b=>({...b,workouts:b.workouts.map(I=>I.id===se?{...I,name:D}:I)}))}catch(b){console.error(" Test failed:",b),alert(` Test failed: ${b.message}`)}console.log(s)},Y=se=>{z(se),R(!0)},ee=async()=>{k&&g.trim()&&await F(k,g.trim()),R(!1),z(null),E("")},X=async()=>{const se={id:_a(),templateId:_a(),name:"New Workout - double click to edit name",week:u,exercises:[],createdAt:new Date};try{await xi.workoutRepository.addWorkoutToProgram(e,se),o(D=>({...D,workouts:[...D.workouts,se]})),console.log("Updated userProgram state:",{...s,workouts:[...s.workouts,se]}),alert(" Successful! Added workout")}catch(D){console.error(" Test failed:",D),alert(` Test failed: ${D.message}`)}};L.useEffect(()=>{(async()=>{try{const D=nn(lt,"programs",e),b=await Ts(D);if(console.log(b),b.exists()){const I=b.data();console.log(I.workouts),o(I),h(1)}else o(null);p(!1)}catch(D){console.error("Failed to fetch program:",D),p(!1)}})()},[e]);const le=s?s.workouts.filter(se=>se.week===u):[],he=se=>{h(se)};return m?S.jsx("div",{className:"execute-program-container",children:S.jsx("div",{className:"loading",children:"Loading your program..."})}):s?S.jsxs("div",{className:"execute-program-container",children:[S.jsxs("div",{className:"execute-program-header",children:[S.jsx("nav",{className:"breadcrumb",children:S.jsx(ef,{actions:[{label:"Home",onClick:se=>{se.stopPropagation(),i("/dashboard")}},{label:"Create Program",onClick:se=>{se.stopPropagation(),i("/CreateProgram")}},{label:"Sign Out",onClick:se=>{se.stopPropagation(),Q()}}],trigger:S.jsx("span",{children:""})})}),S.jsx("h1",{children:s.name}),S.jsxs("div",{className:"program-info",children:[S.jsxs("span",{children:["Week ",u," of ",s.duration]}),S.jsx("span",{children:s.difficulty})]})]}),S.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(s.duration,10)},(se,D)=>D+1).map(se=>S.jsxs("button",{className:`week-btn ${u===se?"active":""}`,onClick:()=>he(se),children:["Week ",se]},se))}),S.jsxs("div",{className:"week-content",children:[S.jsxs("h2",{children:["Week ",u," Workouts"]}),S.jsx("nav",{className:"add-workout-menu",children:S.jsx(ef,{actions:[{label:"Add Workout",onClick:se=>{se.stopPropagation(),X()}}],trigger:S.jsx("span",{children:"+"})})}),le.length===0?S.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):S.jsx("div",{className:"workouts-grid",children:le.map(se=>S.jsxs("div",{className:"workout-card",children:[S.jsx("div",{className:"workout-card-header",children:T&&k===se.id?S.jsx("input",{type:"text",value:g,onChange:D=>E(D.target.value),onBlur:ee,onKeyDown:D=>{D.key==="Enter"&&ee(),D.key==="Escape"&&(R(!1),z(null),E(""))},autoFocus:!0}):S.jsx("h3",{onDoubleClick:()=>Y(se.id,se.name),children:se.name})}),S.jsx("div",{className:"workout-exercises",children:se.exercises.map(D=>S.jsx("div",{className:"exercise-summary",children:S.jsx("span",{className:"exercise-name",children:D.name})},D.id))}),S.jsx("div",{className:"workout-actions",children:S.jsx("button",{onClick:()=>i(`/CurrentSession/${e}/${se.id}`),className:"btn-primary",children:"Start Workout"})})]},se.id))})]})]}):S.jsx("div",{className:"execute-program-container",children:S.jsx("div",{className:"error",children:"Failed to load program"})})};var jA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yT=ga.createContext&&ga.createContext(jA),pM=["attr","size","title"];function gM(i,e){if(i==null)return{};var n=yM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function yM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function tf(){return tf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},tf.apply(this,arguments)}function vT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function nf(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(s){vM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function vM(i,e,n){return e=_M(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function _M(i){var e=EM(i,"string");return typeof e=="symbol"?e:e+""}function EM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function zA(i){return i&&i.map((e,n)=>ga.createElement(e.tag,nf({key:n},e.attr),zA(e.child)))}function Vu(i){return e=>ga.createElement(TM,tf({attr:nf({},i.attr)},e),zA(i.child))}function TM(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=gM(i,pM),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),ga.createElement("svg",tf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:nf(nf({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ga.createElement("title",null,u),i.children)};return yT!==void 0?ga.createElement(yT.Consumer,null,n=>e(n)):e(jA)}function wM(i){return Vu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"},child:[]}]})(i)}function SM(i){return Vu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-242.7c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32L64 32zm0 96c0-17.7 14.3-32 32-32l192 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32L96 224c-17.7 0-32-14.3-32-32l0-64zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"},child:[]}]})(i)}function _T(i){return Vu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l224 0 0-112c0-26.5 21.5-48 48-48l112 0 0-224c0-35.3-28.7-64-64-64L64 32zM448 352l-45.3 0L336 352c-8.8 0-16 7.2-16 16l0 66.7 0 45.3 32-32 64-64 32-32z"},child:[]}]})(i)}function AM(i){return Vu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1 0 32c0 8.8 7.2 16 16 16l32 0zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"},child:[]}]})(i)}function bM(i){return Vu({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(i)}const RM=({notes:i,onSave:e})=>{const[n,s]=L.useState(!1),[o,u]=L.useState(i||""),[h,m]=L.useState(!1),p=1e3,g=o.length,E=g>p*.8,T=g>p,R=()=>{s(!0),m(!1),u(i||"")},k=()=>{s(!1),m(!1)},z=()=>m(!0),Q=()=>{g<=p&&(e(o.trim()),m(!1),s(!1))},F=()=>{u(i||""),m(!1)},Y=i&&i.trim().length>0;return S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:R,className:`notes-icon-btn ${Y?"has-notes":""}`,"aria-label":"View session notes",title:Y?"View notes":"Add notes",children:S.jsx(_T,{})}),n&&S.jsx("div",{className:"modal-backdrop",onClick:k,children:S.jsxs("div",{className:"modal-content",onClick:ee=>ee.stopPropagation(),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[S.jsxs("div",{className:"modal-header",children:[S.jsxs("h2",{id:"modal-title",children:[S.jsx(_T,{}),"Session Notes"]}),S.jsx("button",{onClick:k,className:"close-btn","aria-label":"Close modal",children:S.jsx(bM,{})})]}),S.jsx("div",{className:"modal-body",children:h?S.jsxs(S.Fragment,{children:[S.jsx("textarea",{className:"notes-textarea",value:o,onChange:ee=>u(ee.target.value),placeholder:"Add your session notes here...",maxLength:p,autoFocus:!0}),S.jsxs("div",{className:`character-counter ${E?"warning":""} ${T?"error":""}`,children:[g," / ",p," characters"]})]}):S.jsx("div",{className:`notes-content ${o?"":"empty"}`,children:o||S.jsxs(S.Fragment,{children:[S.jsx(wM,{}),S.jsx("span",{children:"No notes available."})]})})}),S.jsx("div",{className:`modal-footer ${h?"":"space-between"}`,children:h?S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"notes-modal-btn btn-cancel",onClick:F,children:"Cancel"}),S.jsxs("button",{className:"notes-modal-btn btn-save",onClick:Q,disabled:T,children:[S.jsx(SM,{}),"Save Notes"]})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"notes-modal-btn btn-cancel",onClick:k,children:"Close"}),S.jsxs("button",{className:"notes-modal-btn btn-edit",onClick:z,"aria-label":"Edit notes",children:[S.jsx(AM,{}),o?"Edit":"Add Notes"]})]})})]})})]})},IM=({workout:i,setWorkout:e,handleSaveSession:n,saveSuccess:s})=>{const o=u=>{e(h=>({...h,notes:u}))};return S.jsxs("div",{className:"session-actions",children:[S.jsx(RM,{notes:i.notes,onSave:o}),S.jsx("div",{className:"session-action-buttons",children:S.jsx("button",{className:`btn-save ${s?"btn-save-success":""}`,onClick:n,children:s?"Saved!":"Save Session"})})]})},CM=({workout:i})=>S.jsxs("div",{className:"session-header",children:[S.jsxs("h1",{className:"session-title",children:[i.name," "]}),S.jsx("div",{className:"session-meta",children:S.jsxs("span",{children:["Week ",i.week," "]})})]});function BA({actions:i,trigger:e}){const[n,s]=L.useState(!1),o=L.useRef();return L.useEffect(()=>{function u(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),S.jsxs("div",{className:"dropdown",ref:o,children:[S.jsx("button",{className:"dropdown-trigger",onClick:()=>s(u=>!u),children:e||""}),n&&S.jsx("div",{className:"dropdown-content",children:i.map((u,h)=>S.jsx("button",{className:"dropdown-item",onClick:m=>{u.onClick(m),s(!1)},children:u.label},h))})]})}const NM=({exercise:i,onExpand:e,dragHandleProps:n})=>S.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:S.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[S.jsx("div",{className:"drag-handle",...n,children:""}),S.jsx("h2",{className:"exercise-name",children:i.name})]})}),DM=({exercises:i,setWorkout:e,handleDeleteExercise:n})=>{const[s,o]=L.useState(null),[u,h]=L.useState(null),[m,p]=L.useState(null),[g,E]=L.useState(null),T=b=>{h(I=>I===b?null:b)},R=(b,I)=>{e(C=>({...C,exercises:C.exercises.map((O,V)=>V===b?{...O,name:I}:O)}))},k=(b,I)=>{e(C=>{const O=C.exercises.map((V,N)=>{if(N!==b)return V;const De=V.sets.filter((ze,G)=>G!==I);return{...V,sets:De}});return{...C,exercises:O}})},z=(b,I,C)=>{e(O=>{const V=O.exercises.map((N,De)=>{if(De!==b)return N;const ze=N.sets.map((G,ae)=>ae!==I?G:{...G,reps:C});return{...N,sets:ze}});return{...O,exercises:V}})},Q=(b,I,C)=>{e(O=>{const V=O.exercises.map((N,De)=>{if(De!==b)return N;const ze=N.sets.map((G,ae)=>ae!==I?G:{...G,weight:C});return{...N,sets:ze}});return{...O,exercises:V}})},F=(b,I,C)=>{e(O=>{const V=O.exercises.map((N,De)=>{if(De!==b)return N;const ze=N.sets.map((G,ae)=>ae!==I?G:{...G,rir:C});return{...N,sets:ze}});return{...O,exercises:V}})},Y=(b,I)=>{e(C=>{const O=C.exercises.map((V,N)=>N!==b?V:{...V,sets:V.sets.map((De,ze)=>ze!==I?De:{...De,complete:!De.complete})});return{...C,exercises:O}})},ee=b=>{e(I=>{const C=I.exercises.map((O,V)=>V!==b?O:{...O,sets:[...O.sets,{reps:"",weight:"",complete:!1}]});return{...I,exercises:C}})},X=L.useRef(0),le=L.useRef(0),he=()=>{if(!(X.current===null||le.current===null)){if(X.current!==le.current){const b=[...i],I=b[X.current];b[X.current]=b[le.current],b[le.current]=I,e(C=>({...C,exercises:b}))}X.current=null,le.current=null}},[se,D]=L.useState([]);return L.useEffect(()=>{(async()=>{const I=Tr.currentUser;if(I)try{const C=await xi.exerciseTemplateRepository.getExerciseTemplates(I.uid);D(C||[])}catch(C){console.error("Error fetching templates:",C)}})()},[]),S.jsx("div",{className:"exercise-list-session",children:i.map((b,I)=>S.jsx("div",{className:`exercise-card 
            ${u===b.id?"expanded":"collapsed"} 
            ${m===b.id?"dragging":""} 
            ${g===b.id?"drag-over":""}
          `,onDragOver:C=>C.preventDefault(),onDragEnter:()=>{le.current=I,E(b.id)},onDragLeave:()=>{g===b.id&&E(null)},"data-id":b.id,children:u===b.id?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"exercise-header",children:s===b.id?S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"name-container edit-mode",children:[S.jsx("input",{type:"text",value:b.name,onChange:C=>R(I,C.target.value),className:"edit-exercise-name",list:"exercise-templates"}),S.jsx("datalist",{id:"exercise-templates",children:se.map(C=>S.jsx("option",{value:C.name},C.id))})]}),S.jsxs("div",{className:"edit-actions",children:[S.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),S.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"X"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"drag-handle",draggable:!0,onDragStart:C=>{X.current=I,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{he(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))},children:""}),S.jsx("div",{className:"name-container",children:S.jsx("h2",{className:"exercise-name",children:b.name})}),S.jsx(BA,{actions:[{label:"Edit",onClick:C=>{C.stopPropagation(),o(b.id)}},{label:"Delete",onClick:C=>{C.stopPropagation(),n(b.id)}}],trigger:S.jsx("span",{children:""})})]})}),S.jsx("div",{className:"sets-list",children:Array.from({length:Number(b.sets.length)}).map((C,O)=>{var V,N,De,ze;return S.jsxs("div",{className:"set-row",children:[S.jsx("input",{type:"number",className:"input-weight",placeholder:"Weight",value:((V=b.sets[O])==null?void 0:V.weight)||"",onChange:G=>Q(I,O,G.target.value)}),S.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((N=b.sets[O])==null?void 0:N.reps)||"",onChange:G=>z(I,O,G.target.value)}),S.jsx("input",{type:"number",className:"input-rir",placeholder:"RIR",value:((De=b.sets[O])==null?void 0:De.rir)||"",onChange:G=>F(I,O,G.target.value)}),s===b.id?S.jsx("button",{className:"btn-delete-set",onClick:()=>k(I,O),children:"X"}):S.jsx("div",{className:"set-complete-checkbox",children:S.jsx("input",{type:"checkbox",checked:((ze=b.sets[O])==null?void 0:ze.complete)||!1,onChange:()=>Y(I,O)})})]},O)})}),S.jsx("button",{className:"btn-add-set",onClick:()=>ee(I),children:"Add Set"})]}):S.jsx(NM,{exercise:b,onExpand:()=>T(b.id),dragHandleProps:{draggable:!0,onDragStart:C=>{X.current=I,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{he(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))}}})},b.id))})},OM=({previousSession:i,isLoading:e,programId:n,workoutId:s})=>{const[o,u]=L.useState(!1),[h,m]=L.useState(!1),p=ui(),g=k=>{k.stopPropagation(),p(`/CurrentSession/${n}/${s}?week=${i.week}`)};if(e)return S.jsx("div",{className:"previous-week-summary loading",children:S.jsx("div",{className:"summary-header",children:S.jsx("span",{children:"Loading previous week data..."})})});if(!i)return S.jsx("div",{className:"previous-week-summary no-data",children:S.jsx("div",{className:"summary-header",children:S.jsx("span",{children:"No previous week data available"})})});const E=()=>{u(!o)},T=()=>{m(!h)},R=k=>{const z=k.weight?`${k.weight}lbs`:"BW",Q=k.reps||"0";return`${z}  ${Q}`};return console.log("PreviousWeekSummary previousSession:",i),S.jsxs("div",{className:"previous-week-summary",children:[S.jsxs("div",{className:"summary-header",onClick:E,children:[S.jsxs("div",{className:"header-content",children:[S.jsx("h3",{children:"Last Week's Performance"}),S.jsxs("span",{onClick:g,style:{cursor:"pointer"},className:"week-info",children:["Week ",i.week]})]}),S.jsx("button",{className:"toggle-btn",children:o?"":""})]}),o&&S.jsxs("div",{className:"summary-content",children:[S.jsx("div",{className:"session-date",children:new Date(i.timestamp).toLocaleDateString()}),S.jsxs("div",{className:"collapsible-notes-panel",children:[S.jsxs("div",{className:"notes-panel-header",onClick:T,style:{cursor:"pointer",display:"flex",alignItems:"center",marginBottom:"8px"},"aria-expanded":h,"aria-controls":"session-notes",id:"notes-panel-header",children:[S.jsx("span",{className:"notes-chevron",style:{marginRight:"6px"},children:h?"":""}),S.jsx("span",{className:"notes-label",children:"Session Notes"})]}),h&&S.jsx("div",{className:"session-notes",id:"session-notes",children:i.notes||"No notes"})]}),S.jsx("div",{className:"exercises-list",children:i.exercises.map((k,z)=>S.jsxs("div",{className:"exercise-item",children:[S.jsx("div",{className:"exercise-name-previous-week",children:k.name}),S.jsx("div",{className:"sets-display",children:k.sets&&k.sets.map((Q,F)=>S.jsx("span",{className:"set-item",children:R(Q)},F))})]},k.id||z))})]})]})},xM="modulepreload",kM=function(i){return"/my-workout-tracker/"+i},ET={},qA=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(n.map(p=>{if(p=kM(p),p in ET)return;ET[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":xM,g||(T.as="script"),T.crossOrigin="",T.href=p,m&&T.setAttribute("nonce",m),document.head.appendChild(T),g)return new Promise((R,k)=>{T.addEventListener("load",R),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};class MM{constructor(){this.templateRepository=xi.exerciseTemplateRepository}async processExercisesForSession(e,n,s=!0){return!n||!n.length?[]:await Promise.all(n.map(async o=>{if(o.templateId)try{if(await this.templateRepository.getTemplateById(e,o.templateId))return{...o}}catch(u){console.error("Error verifying template:",u)}try{const u=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);return u?{...o,templateId:u.id}:o}catch(u){return console.error("Error processing exercise template:",u),o}}))}async copyExercisesWithTemplates(e,n,s=!1){return!n||!n.length?[]:await Promise.all(n.map(async o=>{let u=o.templateId;if(!u)try{const h=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);h&&(u=h.id)}catch(h){console.error("Error getting template for copy:",h)}return{id:Date.now()+Math.random().toString(36).substr(2,9),name:o.name,templateId:u,sets:o.sets?[...o.sets]:[],notes:o.notes||"",category:o.category||"Other"}}))}async getTemplatesByCategory(e){try{return(await this.templateRepository.getExerciseTemplates(e)).reduce((s,o)=>{const u=o.category||"Other";return s[u]||(s[u]=[]),s[u].push(o),s},{})}catch(n){return console.error("Error getting templates by category:",n),{}}}async updateTemplateData(e,n,s){try{return await this.templateRepository.updateTemplate(e,n,s)}catch(o){throw console.error("Error updating template:",o),o}}}const Lp=new MM;async function VM(i){const{userId:e,programId:n,workoutId:s,week:o}=i,u=FA(e,n,s,o);try{return i.exercises&&i.exercises.length>0&&(i.exercises=await Lp.processExercisesForSession(e,i.exercises,!0)),await xf(nn(lt,"sessions",u),i,{merge:!0}),console.log("Session saved:",i,"Document ID:",u),u}catch(h){throw console.error("Error saving session:",h,"Session data:",i),h}}async function PM(i,e,n,s,o){const u=FA(i,e,n,s);try{const h=nn(lt,"sessions",u),m=await Ts(h);if(m.exists()){console.log(" Found existing session data:",m.data());const p=m.data();return p.exercises&&p.exercises.length>0&&(p.exercises=await Lp.processExercisesForSession(i,p.exercises,!1)),p}else{if(console.log(" No session found with exact workoutId, searching by templateId..."),o!=null&&o.templateId)try{const{repositoryFactory:p}=await qA(async()=>{const{repositoryFactory:E}=await Promise.resolve().then(()=>LA);return{repositoryFactory:E}},[]),g=await p.workoutRepository.getSessionByTemplateAndWeek(i,o.templateId,s);if(g)return console.log(" Found session by templateId:",g),g}catch(p){console.log("Fallback search failed:",p)}return console.log(" No session found, will use program data"),o&&o.exercises&&o.exercises.length>0&&(o.exercises=await Lp.processExercisesForSession(i,o.exercises,!1)),o}}catch(h){return console.error("Error fetching session data:",h),o}}function FA(i,e,n,s){return`${i}_${e}_${n}_${s}`}async function LM(i,e,n){try{const{repositoryFactory:s}=await qA(async()=>{const{repositoryFactory:u}=await Promise.resolve().then(()=>LA);return{repositoryFactory:u}},void 0),o=await s.workoutRepository.getPreviousWeekSession(i,e,n);return o?{week:o.week,name:o.name,exercises:o.exercises||[],timestamp:o.timestamp,notes:o.notes||""}:null}catch(s){return console.error("Error fetching previous session data:",s),null}}const TT=()=>{const{workoutId:i,programId:e}=OT(),[n]=$R(),s=n.get("week"),o=s?parseInt(s,10):null,[u,h]=L.useState(null),[m,p]=L.useState(!0),[g,E]=L.useState(null),[T,R]=L.useState(!0),k=ui(),{user:z,logout:Q}=Mu(),[F,Y]=L.useState(!1),[ee,X]=L.useState(null),le=async()=>{try{await Q(),k("/")}catch(I){console.error("Failed to sign out:",I),alert("Failed to sign out. Please try again.")}},he=()=>{k(`/ExecuteProgram/${e}`)},se=()=>{h(I=>({...I,exercises:[...I.exercises,{id:_a(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},D=I=>{console.log("delete"),h(C=>({...C,exercises:C.exercises.filter(O=>O.id!==I)}))},b=async()=>{console.log("Save session clicked"),console.log("Current workout state:",u);const I={userId:z.uid,programId:e,workoutId:i,workoutTemplateId:u.templateId,name:u.name,week:o||u.week,exercises:u.exercises,notes:u.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",I);try{await VM(I),Y(!0),setTimeout(()=>Y(!1),3e3)}catch(C){X("Failed to save session. Please try again.",C)}};return L.useEffect(()=>{if(!z)return;(async()=>{try{const C=nn(lt,"programs",e),N=(await Ts(C)).data().workouts.find(G=>G.id===i);console.log("Found workout from Firestore:",N);const De=await PM(z.uid,e,i,o||N.week,N);console.log("Session data returned:",De),console.log("Does sessionData have templateId?",De.templateId);const ze={...De,templateId:N.templateId,week:o||N.week};if(console.log("Final workout data being set:",ze),console.log("Does final data have templateId?",ze.templateId),h(ze),p(!1),N.templateId)try{const G=parseInt(o)||N.week,ae=await LM(z.uid,N.templateId,G);E(ae)}catch(G){console.error("Error fetching previous session:",G)}R(!1)}catch(C){console.error("Error fetching workout:",C),p(!1),R(!1)}})()},[i,e,o,z]),m?S.jsx("div",{className:"current-session-container",children:S.jsx("div",{className:"loading",children:"Loading workout..."})}):u?(console.log("Loaded workout:",u),S.jsxs("div",{className:"current-session-container",children:[S.jsx("nav",{className:"breadcrumb",children:S.jsx(BA,{actions:[{label:"Home",onClick:I=>{I.stopPropagation(),k("/dashboard")}},{label:"Program Overview",onClick:I=>{I.stopPropagation(),k(`/ExecuteProgram/${e}`)}},{label:"All Programs",onClick:I=>{I.stopPropagation(),k("/ListOfUsersPrograms")}},{label:"Sign Out",onClick:I=>{I.stopPropagation(),le()}}],trigger:S.jsx("span",{children:""})})}),S.jsx(CM,{workout:u,onBack:he}),S.jsx(OM,{previousSession:g,isLoading:T,programId:e,workoutId:i}),S.jsxs("div",{className:"current-session-content",children:[S.jsx(DM,{exercises:u.exercises,setWorkout:h,handleDeleteExercise:D}),S.jsx("button",{className:"btn-add-exercise",onClick:se,children:"Add Exercise"}),S.jsx(IM,{handleSaveSession:b,setWorkout:h,workout:u,saveSuccess:F}),ee&&alert(ee)]})]})):S.jsx("div",{className:"current-session-container",children:S.jsx("div",{className:"error",children:"Workout not found"})})};function UM(){const[i,e]=L.useState([]),[n,s]=L.useState(!0),[o,u]=L.useState(null),{user:h,loading:m}=Mu(),p=xi.programRepository,g=L.useCallback(async()=>{if(h){s(!0);try{const E=await p.getUserPrograms(h.uid);e(E)}catch(E){u(E.message||String(E))}finally{s(!1)}}},[h,p]);return L.useEffect(()=>{if(m)return;if(!h){u("Not logged in"),s(!1);return}const E=p.watchUserPrograms(h.uid,T=>{e(T),s(!1)},T=>{u(T.message),s(!1)});return g(),()=>E()},[g,m,h,p]),{userPrograms:i,loading:n||m,error:o,refetchPrograms:g}}const jM=()=>{const{userPrograms:i,loading:e,error:n,refetchPrograms:s}=UM(),o=ui(),{logout:u}=Mu(),h=async()=>{try{await u(),o("/")}catch(m){console.error("Failed to sign out:",m),alert("Failed to sign out. Please try again.")}};return L.useEffect(()=>{!e&&i.length===0&&o("/CreateProgram")},[e,i,o]),e?S.jsx("div",{children:"Loading..."}):n?S.jsxs("div",{children:["Error: ",n]}):S.jsxs("div",{className:"user-programs-container",children:[S.jsx("nav",{className:"breadcrumb",children:S.jsx(ef,{actions:[{label:"Home",onClick:m=>{m.stopPropagation(),o("/dashboard")}},{label:"Create Program",onClick:m=>{m.stopPropagation(),o("/CreateProgram")}},{label:"Sign Out",onClick:m=>{m.stopPropagation(),h()}}],trigger:S.jsx("span",{children:""})})}),S.jsx("h1",{children:"Your Programs"}),S.jsx("section",{className:"user-programs-list",children:i.map(m=>S.jsxs("div",{className:"user-program-card",onClick:()=>o(`/ExecuteProgram/${m.id}`),children:[S.jsx(ef,{actions:[{label:"Delete Program",onClick:async p=>{p.stopPropagation();try{await eM(m.id),s&&await s()}catch(g){console.error("Failed to delete program:",g)}}}],trigger:S.jsx("span",{children:""})}),S.jsx("h2",{children:m.name}),S.jsx("p",{children:m.description}),S.jsxs("span",{children:[m.duration," weeks"]})]},m.id))})]})};function zM(){return S.jsx(Hk,{children:S.jsxs(yR,{children:[S.jsx(hs,{path:"/",element:S.jsx(Uk,{})}),S.jsx(hs,{path:"/Dashboard",element:S.jsx(Gk,{})}),S.jsx(hs,{path:"/CreateProgram",element:S.jsx(dM,{})}),S.jsx(hs,{path:"/ExecuteProgram/:programId",element:S.jsx(mM,{})}),S.jsx(hs,{path:"/CurrentSession/:programId/:workoutId",element:S.jsx(TT,{})}),S.jsx(hs,{path:"/CurrentSession/:programId/:workoutId/:week",element:S.jsx(TT,{})}),S.jsx(hs,{path:"/ListOfUsersPrograms",element:S.jsx(jM,{})})]})})}I1.createRoot(document.getElementById("root")).render(S.jsx(L.StrictMode,{children:S.jsx(BR,{children:S.jsx(zM,{})})}));
