(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var wm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function Cb(){if(x_)return Gl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Gl.Fragment=e,Gl.jsx=t,Gl.jsxs=t,Gl}var k_;function Nb(){return k_||(k_=1,wm.exports=Cb()),wm.exports}var R=Nb(),Sm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function Db(){if(P_)return Re;P_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function I(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Y={};function q(P,ne,me){this.props=P,this.context=ne,this.refs=Y,this.updater=me||k}q.prototype.isReactComponent={},q.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Q(){}Q.prototype=q.prototype;function X(P,ne,me){this.props=P,this.context=ne,this.refs=Y,this.updater=me||k}var G=X.prototype=new Q;G.constructor=X,F(G,q.prototype),G.isPureReactComponent=!0;var oe=Array.isArray,ie={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function x(P,ne,me,ce,he,Ie){return me=Ie.ref,{$$typeof:r,type:P,key:ne,ref:me!==void 0?me:null,props:Ie}}function b(P,ne){return x(P.type,ne,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function C(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(me){return ne[me]})}var O=/\/+/g;function V(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?C(""+P.key):ne.toString(36)}function D(){}function Ve(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ze(P,ne,me,ce,he){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case r:case e:be=!0;break;case E:return be=P._init,ze(be(P._payload),ne,me,ce,he)}}if(be)return he=he(P),be=ce===""?"."+V(P,0):ce,oe(he)?(me="",be!=null&&(me=be.replace(O,"$&/")+"/"),ze(he,ne,me,"",function(ot){return ot})):he!=null&&(S(he)&&(he=b(he,me+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(O,"$&/")+"/")+be)),ne.push(he)),1;be=0;var vt=ce===""?".":ce+":";if(oe(P))for(var Be=0;Be<P.length;Be++)ce=P[Be],Ie=vt+V(ce,Be),be+=ze(ce,ne,me,Ie,he);else if(Be=I(P),typeof Be=="function")for(P=Be.call(P),Be=0;!(ce=P.next()).done;)ce=ce.value,Ie=vt+V(ce,Be++),be+=ze(ce,ne,me,Ie,he);else if(Ie==="object"){if(typeof P.then=="function")return ze(Ve(P),ne,me,ce,he);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(P,ne,me){if(P==null)return P;var ce=[],he=0;return ze(P,ce,"","",function(Ie){return ne.call(me,Ie,he++)}),ce}function ye(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(me){(P._status===0||P._status===-1)&&(P._status=1,P._result=me)},function(me){(P._status===0||P._status===-1)&&(P._status=2,P._result=me)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ge(){}return Re.Children={map:re,forEach:function(P,ne,me){re(P,function(){ne.apply(this,arguments)},me)},count:function(P){var ne=0;return re(P,function(){ne++}),ne},toArray:function(P){return re(P,function(ne){return ne})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Re.Component=q,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(P){return function(){return P.apply(null,arguments)}},Re.cloneElement=function(P,ne,me){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ce=F({},P.props),he=P.key,Ie=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(he=""+ne.key),ne)!se.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(ce[be]=ne[be]);var be=arguments.length-2;if(be===1)ce.children=me;else if(1<be){for(var vt=Array(be),Be=0;Be<be;Be++)vt[Be]=arguments[Be+2];ce.children=vt}return x(P.type,he,void 0,void 0,Ie,ce)},Re.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Re.createElement=function(P,ne,me){var ce,he={},Ie=null;if(ne!=null)for(ce in ne.key!==void 0&&(Ie=""+ne.key),ne)se.call(ne,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(he[ce]=ne[ce]);var be=arguments.length-2;if(be===1)he.children=me;else if(1<be){for(var vt=Array(be),Be=0;Be<be;Be++)vt[Be]=arguments[Be+2];he.children=vt}if(P&&P.defaultProps)for(ce in be=P.defaultProps,be)he[ce]===void 0&&(he[ce]=be[ce]);return x(P,Ie,void 0,void 0,null,he)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(P){return{$$typeof:d,render:P}},Re.isValidElement=S,Re.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ye}},Re.memo=function(P,ne){return{$$typeof:g,type:P,compare:ne===void 0?null:ne}},Re.startTransition=function(P){var ne=ie.T,me={};ie.T=me;try{var ce=P(),he=ie.S;he!==null&&he(me,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Ge,ve)}catch(Ie){ve(Ie)}finally{ie.T=ne}},Re.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Re.use=function(P){return ie.H.use(P)},Re.useActionState=function(P,ne,me){return ie.H.useActionState(P,ne,me)},Re.useCallback=function(P,ne){return ie.H.useCallback(P,ne)},Re.useContext=function(P){return ie.H.useContext(P)},Re.useDebugValue=function(){},Re.useDeferredValue=function(P,ne){return ie.H.useDeferredValue(P,ne)},Re.useEffect=function(P,ne){return ie.H.useEffect(P,ne)},Re.useId=function(){return ie.H.useId()},Re.useImperativeHandle=function(P,ne,me){return ie.H.useImperativeHandle(P,ne,me)},Re.useInsertionEffect=function(P,ne){return ie.H.useInsertionEffect(P,ne)},Re.useLayoutEffect=function(P,ne){return ie.H.useLayoutEffect(P,ne)},Re.useMemo=function(P,ne){return ie.H.useMemo(P,ne)},Re.useOptimistic=function(P,ne){return ie.H.useOptimistic(P,ne)},Re.useReducer=function(P,ne,me){return ie.H.useReducer(P,ne,me)},Re.useRef=function(P){return ie.H.useRef(P)},Re.useState=function(P){return ie.H.useState(P)},Re.useSyncExternalStore=function(P,ne,me){return ie.H.useSyncExternalStore(P,ne,me)},Re.useTransition=function(){return ie.H.useTransition()},Re.version="19.0.0",Re}var V_;function wp(){return V_||(V_=1,Sm.exports=Db()),Sm.exports}var j=wp(),Am={exports:{}},$l={},bm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function Ob(){return M_||(M_=1,function(r){function e(re,ye){var ve=re.length;re.push(ye);e:for(;0<ve;){var Ge=ve-1>>>1,P=re[Ge];if(0<o(P,ye))re[Ge]=ye,re[ve]=P,ve=Ge;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ye=re[0],ve=re.pop();if(ve!==ye){re[0]=ve;e:for(var Ge=0,P=re.length,ne=P>>>1;Ge<ne;){var me=2*(Ge+1)-1,ce=re[me],he=me+1,Ie=re[he];if(0>o(ce,ve))he<P&&0>o(Ie,ce)?(re[Ge]=Ie,re[he]=ve,Ge=he):(re[Ge]=ce,re[me]=ve,Ge=me);else if(he<P&&0>o(Ie,ve))re[Ge]=Ie,re[he]=ve,Ge=he;else break e}}return ye}function o(re,ye){var ve=re.sortIndex-ye.sortIndex;return ve!==0?ve:re.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,I=3,k=!1,F=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function G(re){for(var ye=t(g);ye!==null;){if(ye.callback===null)s(g);else if(ye.startTime<=re)s(g),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(g)}}function oe(re){if(Y=!1,G(re),!F)if(t(p)!==null)F=!0,Ve();else{var ye=t(g);ye!==null&&ze(oe,ye.startTime-re)}}var ie=!1,se=-1,x=5,b=-1;function S(){return!(r.unstable_now()-b<x)}function C(){if(ie){var re=r.unstable_now();b=re;var ye=!0;try{e:{F=!1,Y&&(Y=!1,Q(se),se=-1),k=!0;var ve=I;try{t:{for(G(re),T=t(p);T!==null&&!(T.expirationTime>re&&S());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,I=T.priorityLevel;var P=Ge(T.expirationTime<=re);if(re=r.unstable_now(),typeof P=="function"){T.callback=P,G(re),ye=!0;break t}T===t(p)&&s(p),G(re)}else s(p);T=t(p)}if(T!==null)ye=!0;else{var ne=t(g);ne!==null&&ze(oe,ne.startTime-re),ye=!1}}break e}finally{T=null,I=ve,k=!1}ye=void 0}}finally{ye?O():ie=!1}}}var O;if(typeof X=="function")O=function(){X(C)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,D=V.port2;V.port1.onmessage=C,O=function(){D.postMessage(null)}}else O=function(){q(C,0)};function Ve(){ie||(ie=!0,O())}function ze(re,ye){se=q(function(){re(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){F||k||(F=!0,Ve())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ve=I;I=ye;try{return re()}finally{I=ve}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ve=I;I=re;try{return ye()}finally{I=ve}},r.unstable_scheduleCallback=function(re,ye,ve){var Ge=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Ge+ve:Ge):ve=Ge,re){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ve+P,re={id:E++,callback:ye,priorityLevel:re,startTime:ve,expirationTime:P,sortIndex:-1},ve>Ge?(re.sortIndex=ve,e(g,re),t(p)===null&&re===t(g)&&(Y?(Q(se),se=-1):Y=!0,ze(oe,ve-Ge))):(re.sortIndex=P,e(p,re),F||k||(F=!0,Ve())),re},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(re){var ye=I;return function(){var ve=I;I=ye;try{return re.apply(this,arguments)}finally{I=ve}}}}(Rm)),Rm}var L_;function xb(){return L_||(L_=1,bm.exports=Ob()),bm.exports}var Im={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function kb(){if(U_)return Wt;U_=1;var r=wp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:I,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var j_;function Pb(){if(j_)return Im.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=kb(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Vb(){if(z_)return $l;z_=1;var r=xb(),e=wp(),t=Pb();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),oe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function b(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return i=n.displayName||null,i!==null?i:b(n.type)||"Memo";case X:i=n._payload,n=n._init;try{return b(n(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,O,V;function D(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+n+V}var Ve=!1;function ze(n,i){if(!n||Ve)return"";Ve=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var H=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){H=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){H=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var N=_.split(`
`),L=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===L.length)for(u=N.length-1,f=L.length-1;1<=u&&0<=f&&N[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==L[f]){var W=`
`+N[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{Ve=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?D(a):""}function re(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=ze(n.type,!1),n;case 11:return n=ze(n.type.render,!1),n;case 1:return n=ze(n.type,!0),n;default:return""}}function ye(n){try{var i="";do i+=re(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ve(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ge(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function P(n){if(ve(n)!==n)throw Error(s(188))}function ne(n){var i=n.alternate;if(!i){if(i=ve(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return P(f),n;if(m===u)return P(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,u=m;break}if(w===u){_=!0,u=f,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,u=f;break}if(w===u){_=!0,u=m,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function me(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=me(n),i!==null)return i;n=n.sibling}return null}var ce=Array.isArray,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},be=[],vt=-1;function Be(n){return{current:n}}function ot(n){0>vt||(n.current=be[vt],be[vt]=null,vt--)}function Qe(n,i){vt++,be[vt]=n.current,n.current=i}var nn=Be(null),kr=Be(null),Rn=Be(null),Ei=Be(null);function Ti(n,i){switch(Qe(Rn,i),Qe(kr,n),Qe(nn,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?o_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=o_(n),i=l_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(nn),Qe(nn,i)}function Pr(){ot(nn),ot(kr),ot(Rn)}function zo(n){n.memoizedState!==null&&Qe(Ei,n);var i=nn.current,a=l_(i,n.type);i!==a&&(Qe(kr,n),Qe(nn,a))}function Ra(n){kr.current===n&&(ot(nn),ot(kr)),Ei.current===n&&(ot(Ei),zl._currentValue=Ie)}var Ia=Object.prototype.hasOwnProperty,Is=r.unstable_scheduleCallback,Ca=r.unstable_cancelCallback,Af=r.unstable_shouldYield,Bo=r.unstable_requestPaint,un=r.unstable_now,ku=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Vr=r.unstable_NormalPriority,Pu=r.unstable_LowPriority,qo=r.unstable_IdlePriority,bf=r.log,Cs=r.unstable_setDisableYieldValue,wi=null,Qt=null;function Fo(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(wi,n,void 0,(n.current.flags&128)===128)}catch{}}function ar(n){if(typeof bf=="function"&&Cs(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(wi,n)}catch{}}var rn=Math.clz32?Math.clz32:Mu,Ho=Math.log,Vu=Math.LN2;function Mu(n){return n>>>=0,n===0?32:31-(Ho(n)/Vu|0)|0}var or=128,Si=4194304;function Kn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,i){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?u=Kn(a):(m&=w,m!==0?u=Kn(m):n||(_=w&~_,_!==0&&(u=Kn(_))))):(w=a&~f,w!==0?u=Kn(w):m!==0?u=Kn(m):n||(_=a&~_,_!==0&&(u=Kn(_)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:u}function Ai(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Na(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=or;return or<<=1,(or&4194176)===0&&(or=128),n}function bi(){var n=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),n}function Da(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function mt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Lu(n,i,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-rn(a),te=1<<W;w[W]=0,N[W]=-1;var H=L[W];if(H!==null)for(L[W]=null,W=0;W<H.length;W++){var K=H[W];K!==null&&(K.lane&=-536870913)}a&=~te}u!==0&&Ri(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~i))}function Ri(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-rn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Ii(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-rn(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Uu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ju(){var n=he.p;return n!==0?n:(n=window.event,n===void 0?32:R_(n.type))}function Ci(n,i){var a=he.p;try{return he.p=n,i()}finally{he.p=a}}var lr=Math.random().toString(36).slice(2),kt="__reactFiber$"+lr,Rt="__reactProps$"+lr,Mr="__reactContainer$"+lr,Ns="__reactEvents$"+lr,Oa="__reactListeners$"+lr,ur="__reactHandles$"+lr,$o="__reactResources$"+lr,Ni="__reactMarker$"+lr;function Ds(n){delete n[kt],delete n[Rt],delete n[Ns],delete n[Oa],delete n[ur]}function Qn(n){var i=n[kt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Mr]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=h_(n);n!==null;){if(a=n[kt])return a;n=h_(n)}return i}n=a,a=n.parentNode}return null}function Lr(n){if(n=n[kt]||n[Mr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Di(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Oi(n){var i=n[$o];return i||(i=n[$o]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(n){n[Ni]=!0}var Ko=new Set,xa={};function gn(n,i){cn(n,i),cn(n+"Capture",i)}function cn(n,i){for(xa[n]=i,n=0;n<i.length;n++)Ko.add(i[n])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function zu(n){return Ia.call(Yo,n)?!0:Ia.call(Qo,n)?!1:Rf.test(n)?Yo[n]=!0:(Qo[n]=!0,!1)}function xi(n,i,a){if(zu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function ki(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function If(n){var i=Bu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Os(n){n._valueTracker||(n._valueTracker=If(n))}function Wo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=Bu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function ka(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ur=/[\n"\\]/g;function lt(n){return n.replace(Ur,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pi(n,i,a,u,f,m,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+sn(i)):n.value!==""+sn(i)&&(n.value=""+sn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Pa(n,_,sn(i)):a!=null?Pa(n,_,sn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function xs(n,i,a,u,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+sn(a):"",i=i!=null?""+sn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Pa(n,i,a){i==="number"&&ka(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function qe(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ks(n,i,a){if(i!=null&&(i=""+sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+sn(a):""}function Vi(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(ce(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=sn(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Nn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||Cf.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function qu(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Xo(n,f,u)}else for(var m in i)i.hasOwnProperty(m)&&Xo(n,m,i[m])}function Zo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Dn=null;function Va(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var jr=null,zr=null;function Br(n){var i=Lr(n);if(i&&(n=i.stateNode)){var a=n[Rt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Pi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(s(90));Pi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Wo(u)}break e;case"textarea":ks(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&qe(n,!!a.multiple,i,!1)}}}var Jo=!1;function Fu(n,i,a){if(Jo)return n(i,a);Jo=!0;try{var u=n(i);return u}finally{if(Jo=!1,(jr!==null||zr!==null)&&(Pc(),jr&&(i=jr,n=zr,zr=jr=null,Br(i),n)))for(i=0;i<n.length;i++)Br(n[i])}}function Ps(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Rt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(yn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){On=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{On=!1}var hr=null,Mi=null,qr=null;function el(){if(qr)return qr;var n,i=Mi,a=i.length,u,f="value"in hr?hr.value:hr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&i[a-u]===f[m-u];u++);return qr=f.slice(n,1<u?1-u:void 0)}function fr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function dr(){return!0}function tl(){return!1}function Pt(n){function i(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dr:tl,this.isPropagationStopped=tl,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Pt($e),Ms=C({},$e,{view:0,detail:0}),Hu=Pt(Ms),La,Ua,mr,Ls=C({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mr&&(mr&&n.type==="mousemove"?(La=n.screenX-mr.screenX,Ua=n.screenY-mr.screenY):Ua=La=0,mr=n),La)},movementY:function(n){return"movementY"in n?n.movementY:Ua}}),xn=Pt(Ls),Gu=C({},Ls,{dataTransfer:0}),Of=Pt(Gu),Us=C({},Ms,{relatedTarget:0}),ja=Pt(Us),nl=C({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),za=Pt(nl),$u=C({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=Pt($u),xf=C({},$e,{data:0}),rl=Pt(xf),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qu[n])?!!i[n]:!1}function zs(){return il}var Yu=C({},Ms,{key:function(n){if(n.key){var i=js[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ku[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(n){return n.type==="keypress"?fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qa=Pt(Yu),Wu=C({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=Pt(Wu),Fr=C({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Xu=Pt(Fr),Zu=C({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ju=Pt(Zu),ec=C({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Fa=Pt(ec),an=C({},$e,{newState:0,oldState:0}),tc=Pt(an),nc=[9,13,27,32],pr=yn&&"CompositionEvent"in window,c=null;yn&&"documentMode"in document&&(c=document.documentMode);var y=yn&&"TextEvent"in window&&!c,v=yn&&(!pr||c&&8<c&&11>=c),A=" ",z=!1;function $(n,i){switch(n){case"keyup":return nc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function It(n,i){switch(n){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return n=i.data,n===A&&z?null:n;default:return null}}function Le(n,i){if(Me)return n==="compositionend"||!pr&&$(n,i)?(n=el(),qr=Mi=hr=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vt[n.type]:i==="textarea"}function Hr(n,i,a,u){jr?zr?zr.push(u):zr=[u]:jr=u,i=jc(i,"onChange"),0<i.length&&(a=new Ma("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var zt=null,gr=null;function al(n){n_(n,0)}function rc(n){var i=Di(n);if(Wo(i))return n}function Og(n,i){if(n==="change")return i}var xg=!1;if(yn){var kf;if(yn){var Pf="oninput"in document;if(!Pf){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Pf=typeof kg.oninput=="function"}kf=Pf}else kf=!1;xg=kf&&(!document.documentMode||9<document.documentMode)}function Pg(){zt&&(zt.detachEvent("onpropertychange",Vg),gr=zt=null)}function Vg(n){if(n.propertyName==="value"&&rc(gr)){var i=[];Hr(i,gr,n,Va(n)),Fu(al,i)}}function iA(n,i,a){n==="focusin"?(Pg(),zt=i,gr=a,zt.attachEvent("onpropertychange",Vg)):n==="focusout"&&Pg()}function sA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(gr)}function aA(n,i){if(n==="click")return rc(i)}function oA(n,i){if(n==="input"||n==="change")return rc(i)}function lA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var vn=typeof Object.is=="function"?Object.is:lA;function ol(n,i){if(vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Ia.call(i,f)||!vn(n[f],i[f]))return!1}return!0}function Mg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lg(n,i){var a=Mg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Ug(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ug(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function jg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ka(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=ka(n.document)}return i}function Vf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function uA(n,i){var a=jg(i);i=n.focusedElem;var u=n.selectionRange;if(a!==i&&i&&i.ownerDocument&&Ug(i.ownerDocument.documentElement,i)){if(u!==null&&Vf(i)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(a,i.value.length);else if(a=(n=i.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=i.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=Lg(i,m);var _=Lg(i,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=i;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)a=n[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var cA=yn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Mf=null,ll=null,Lf=!1;function zg(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||Ha==null||Ha!==ka(u)||(u=Ha,"selectionStart"in u&&Vf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ll&&ol(ll,u)||(ll=u,u=jc(Mf,"onSelect"),0<u.length&&(i=new Ma("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=Ha)))}function Bs(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ga={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Uf={},Bg={};yn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function qs(n){if(Uf[n])return Uf[n];if(!Ga[n])return n;var i=Ga[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bg)return Uf[n]=i[a];return n}var qg=qs("animationend"),Fg=qs("animationiteration"),Hg=qs("animationstart"),hA=qs("transitionrun"),fA=qs("transitionstart"),dA=qs("transitioncancel"),Gg=qs("transitionend"),$g=new Map,Kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Yn(n,i){$g.set(n,i),gn(i,[n])}var kn=[],$a=0,jf=0;function ic(){for(var n=$a,i=jf=$a=0;i<n;){var a=kn[i];kn[i++]=null;var u=kn[i];kn[i++]=null;var f=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Qg(a,f,m)}}function sc(n,i,a,u){kn[$a++]=n,kn[$a++]=i,kn[$a++]=a,kn[$a++]=u,jf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function zf(n,i,a,u){return sc(n,i,a,u),ac(n)}function Li(n,i){return sc(n,null,null,i),ac(n)}function Qg(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&i!==null&&n.tag===3&&(m=n.stateNode,f=31-rn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[i]:n.push(i),i.lane=a|536870912)}function ac(n){if(50<kl)throw kl=0,$d=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ka={},Yg=new WeakMap;function Pn(n,i){if(typeof n=="object"&&n!==null){var a=Yg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ye(i)},Yg.set(n,i),i)}return{value:n,source:i,stack:ye(i)}}var Qa=[],Ya=0,oc=null,lc=0,Vn=[],Mn=0,Fs=null,Gr=1,$r="";function Hs(n,i){Qa[Ya++]=lc,Qa[Ya++]=oc,oc=n,lc=i}function Wg(n,i,a){Vn[Mn++]=Gr,Vn[Mn++]=$r,Vn[Mn++]=Fs,Fs=n;var u=Gr;n=$r;var f=32-rn(u)-1;u&=~(1<<f),a+=1;var m=32-rn(i)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Gr=1<<32-rn(i)+f|a<<f|u,$r=m+n}else Gr=1<<m|a<<f|u,$r=n}function Bf(n){n.return!==null&&(Hs(n,1),Wg(n,1,0))}function qf(n){for(;n===oc;)oc=Qa[--Ya],Qa[Ya]=null,lc=Qa[--Ya],Qa[Ya]=null;for(;n===Fs;)Fs=Vn[--Mn],Vn[Mn]=null,$r=Vn[--Mn],Vn[Mn]=null,Gr=Vn[--Mn],Vn[Mn]=null}var on=null,Bt=null,Fe=!1,Wn=null,yr=!1,Ff=Error(s(519));function Gs(n){var i=Error(s(418,""));throw hl(Pn(i,n)),Ff}function Xg(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[kt]=n,i[Rt]=u,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Pe(Vl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),xs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Os(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Vi(i,u.value,u.defaultValue,u.children),Os(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||a_(i.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),u.onScroll!=null&&Pe("scroll",i),u.onScrollEnd!=null&&Pe("scrollend",i),u.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Gs(n)}function Zg(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:yr=!0;return;case 5:case 13:yr=!1;return;default:on=on.return}}function ul(n){if(n!==on)return!1;if(!Fe)return Zg(n),Fe=!0,!1;var i=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||um(n.type,n.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Gs(n),Zg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){Bt=Zn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}Bt=null}}else Bt=on?Zn(n.stateNode.nextSibling):null;return!0}function cl(){Bt=on=null,Fe=!1}function hl(n){Wn===null?Wn=[n]:Wn.push(n)}var fl=Error(s(460)),Jg=Error(s(474)),Hf={then:function(){}};function ey(n){return n=n.status,n==="fulfilled"||n==="rejected"}function uc(){}function ty(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(uc,uc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===fl?Error(s(483)):n;default:if(typeof i.status=="string")i.then(uc,uc);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===fl?Error(s(483)):n}throw dl=i,fl}}var dl=null;function ny(){if(dl===null)throw Error(s(459));var n=dl;return dl=null,n}var Wa=null,ml=0;function cc(n){var i=ml;return ml+=1,Wa===null&&(Wa=[]),ty(Wa,n,i)}function pl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function hc(n,i){throw i.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function ry(n){var i=n._init;return i(n._payload)}function iy(n){function i(U,M){if(n){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!n)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function u(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Yi(U,M),U.index=0,U.sibling=null,U}function m(U,M,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function _(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function w(U,M,B,J){return M===null||M.tag!==6?(M=Ud(B,U.mode,J),M.return=U,M):(M=f(M,B),M.return=U,M)}function N(U,M,B,J){var fe=B.type;return fe===p?W(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&ry(fe)===M.type)?(M=f(M,B.props),pl(M,B),M.return=U,M):(M=Nc(B.type,B.key,B.props,null,U.mode,J),pl(M,B),M.return=U,M)}function L(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=jd(B,U.mode,J),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function W(U,M,B,J,fe){return M===null||M.tag!==7?(M=ta(B,U.mode,J,fe),M.return=U,M):(M=f(M,B),M.return=U,M)}function te(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ud(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return B=Nc(M.type,M.key,M.props,null,U.mode,B),pl(B,M),B.return=U,B;case d:return M=jd(M,U.mode,B),M.return=U,M;case X:var J=M._init;return M=J(M._payload),te(U,M,B)}if(ce(M)||se(M))return M=ta(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return te(U,cc(M),B);if(M.$$typeof===k)return te(U,Rc(U,M),B);hc(U,M)}return null}function H(U,M,B,J){var fe=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:w(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===fe?N(U,M,B,J):null;case d:return B.key===fe?L(U,M,B,J):null;case X:return fe=B._init,B=fe(B._payload),H(U,M,B,J)}if(ce(B)||se(B))return fe!==null?null:W(U,M,B,J,null);if(typeof B.then=="function")return H(U,M,cc(B),J);if(B.$$typeof===k)return H(U,M,Rc(U,B),J);hc(U,B)}return null}function K(U,M,B,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,w(M,U,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return U=U.get(J.key===null?B:J.key)||null,N(M,U,J,fe);case d:return U=U.get(J.key===null?B:J.key)||null,L(M,U,J,fe);case X:var De=J._init;return J=De(J._payload),K(U,M,B,J,fe)}if(ce(J)||se(J))return U=U.get(B)||null,W(M,U,J,fe,null);if(typeof J.then=="function")return K(U,M,B,cc(J),fe);if(J.$$typeof===k)return K(U,M,B,Rc(M,J),fe);hc(M,J)}return null}function de(U,M,B,J){for(var fe=null,De=null,pe=M,_e=M=0,Ut=null;pe!==null&&_e<B.length;_e++){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var He=H(U,pe,B[_e],J);if(He===null){pe===null&&(pe=Ut);break}n&&pe&&He.alternate===null&&i(U,pe),M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He,pe=Ut}if(_e===B.length)return a(U,pe),Fe&&Hs(U,_e),fe;if(pe===null){for(;_e<B.length;_e++)pe=te(U,B[_e],J),pe!==null&&(M=m(pe,M,_e),De===null?fe=pe:De.sibling=pe,De=pe);return Fe&&Hs(U,_e),fe}for(pe=u(pe);_e<B.length;_e++)Ut=K(pe,U,_e,B[_e],J),Ut!==null&&(n&&Ut.alternate!==null&&pe.delete(Ut.key===null?_e:Ut.key),M=m(Ut,M,_e),De===null?fe=Ut:De.sibling=Ut,De=Ut);return n&&pe.forEach(function(ns){return i(U,ns)}),Fe&&Hs(U,_e),fe}function Se(U,M,B,J){if(B==null)throw Error(s(151));for(var fe=null,De=null,pe=M,_e=M=0,Ut=null,He=B.next();pe!==null&&!He.done;_e++,He=B.next()){pe.index>_e?(Ut=pe,pe=null):Ut=pe.sibling;var ns=H(U,pe,He.value,J);if(ns===null){pe===null&&(pe=Ut);break}n&&pe&&ns.alternate===null&&i(U,pe),M=m(ns,M,_e),De===null?fe=ns:De.sibling=ns,De=ns,pe=Ut}if(He.done)return a(U,pe),Fe&&Hs(U,_e),fe;if(pe===null){for(;!He.done;_e++,He=B.next())He=te(U,He.value,J),He!==null&&(M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He);return Fe&&Hs(U,_e),fe}for(pe=u(pe);!He.done;_e++,He=B.next())He=K(pe,U,_e,He.value,J),He!==null&&(n&&He.alternate!==null&&pe.delete(He.key===null?_e:He.key),M=m(He,M,_e),De===null?fe=He:De.sibling=He,De=He);return n&&pe.forEach(function(Ib){return i(U,Ib)}),Fe&&Hs(U,_e),fe}function ht(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var fe=B.key;M!==null;){if(M.key===fe){if(fe=B.type,fe===p){if(M.tag===7){a(U,M.sibling),J=f(M,B.props.children),J.return=U,U=J;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===X&&ry(fe)===M.type){a(U,M.sibling),J=f(M,B.props),pl(J,B),J.return=U,U=J;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(J=ta(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=Nc(B.type,B.key,B.props,null,U.mode,J),pl(J,B),J.return=U,U=J)}return _(U);case d:e:{for(fe=B.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),J=f(M,B.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else i(U,M);M=M.sibling}J=jd(B,U.mode,J),J.return=U,U=J}return _(U);case X:return fe=B._init,B=fe(B._payload),ht(U,M,B,J)}if(ce(B))return de(U,M,B,J);if(se(B)){if(fe=se(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),Se(U,M,B,J)}if(typeof B.then=="function")return ht(U,M,cc(B),J);if(B.$$typeof===k)return ht(U,M,Rc(U,B),J);hc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,B),J.return=U,U=J):(a(U,M),J=Ud(B,U.mode,J),J.return=U,U=J),_(U)):a(U,M)}return function(U,M,B,J){try{ml=0;var fe=ht(U,M,B,J);return Wa=null,fe}catch(pe){if(pe===fl)throw pe;var De=zn(29,pe,null,U.mode);return De.lanes=J,De.return=U,De}finally{}}}var $s=iy(!0),sy=iy(!1),Xa=Be(null),fc=Be(0);function ay(n,i){n=ri,Qe(fc,n),Qe(Xa,i),ri=n|i.baseLanes}function Gf(){Qe(fc,ri),Qe(Xa,Xa.current)}function $f(){ri=fc.current,ot(Xa),ot(fc)}var Ln=Be(null),vr=null;function Ui(n){var i=n.alternate;Qe(Nt,Nt.current&1),Qe(Ln,n),vr===null&&(i===null||Xa.current!==null||i.memoizedState!==null)&&(vr=n)}function oy(n){if(n.tag===22){if(Qe(Nt,Nt.current),Qe(Ln,n),vr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(vr=n)}}else ji()}function ji(){Qe(Nt,Nt.current),Qe(Ln,Ln.current)}function Kr(n){ot(Ln),vr===n&&(vr=null),ot(Nt)}var Nt=Be(0);function dc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},pA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,Dt={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new mA,data:new Map,refCount:0}}function gl(n){n.refCount--,n.refCount===0&&pA(gA,function(){n.controller.abort()})}var yl=null,Qf=0,Za=0,Ja=null;function yA(n,i){if(yl===null){var a=yl=[];Qf=0,Za=em(),Ja={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Qf++,i.then(ly,ly),i}function ly(){if(--Qf===0&&yl!==null){Ja!==null&&(Ja.status="fulfilled");var n=yl;yl=null,Za=0,Ja=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function vA(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var uy=S.S;S.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&yA(n,i),uy!==null&&uy(n,i)};var Ks=Be(null);function Yf(){var n=Ks.current;return n!==null?n:Ze.pooledCache}function mc(n,i){i===null?Qe(Ks,Ks.current):Qe(Ks,i.pool)}function cy(){var n=Yf();return n===null?null:{parent:Dt._currentValue,pool:n}}var zi=0,Ce=null,Ye=null,_t=null,pc=!1,eo=!1,Qs=!1,gc=0,vl=0,to=null,_A=0;function pt(){throw Error(s(321))}function Wf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!vn(n[a],i[a]))return!1;return!0}function Xf(n,i,a,u,f,m){return zi=m,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=n===null||n.memoizedState===null?Ys:Bi,Qs=!1,m=a(u,f),Qs=!1,eo&&(m=fy(i,a,u,f)),hy(n),m}function hy(n){S.H=_r;var i=Ye!==null&&Ye.next!==null;if(zi=0,_t=Ye=Ce=null,pc=!1,vl=0,to=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&bc(n)&&(Mt=!0))}function fy(n,i,a,u){Ce=n;var f=0;do{if(eo&&(to=null),vl=0,eo=!1,25<=f)throw Error(s(301));if(f+=1,_t=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=Ws,m=i(a,u)}while(eo);return m}function EA(){var n=S.H,i=n.useState()[0];return i=typeof i.then=="function"?_l(i):i,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Zf(){var n=gc!==0;return gc=0,n}function Jf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ed(n){if(pc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pc=!1}zi=0,_t=Ye=Ce=null,eo=!1,vl=gc=0,to=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function Et(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var i=_t===null?Ce.memoizedState:_t.next;if(i!==null)_t=i,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}var yc;yc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function _l(n){var i=vl;return vl+=1,to===null&&(to=[]),n=ty(to,n,i),i=Ce,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ys:Bi),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _l(n);if(n.$$typeof===k)return Yt(n)}throw Error(s(438,String(n)))}function td(n){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=oe;return i.index++,a}function Qr(n,i){return typeof i=="function"?i(n):i}function _c(n){var i=Et();return nd(i,Ye,n)}function nd(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=_=null,N=null,L=i,W=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Ue&te)===te:(zi&te)===te){var H=L.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===Za&&(W=!0);else if((zi&H)===H){L=L.next,H===Za&&(W=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=te,_=m):N=N.next=te,Ce.lanes|=H,Wi|=H;te=L.action,Qs&&a(m,te),m=L.hasEagerState?L.eagerState:a(m,te)}else H={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(w=N=H,_=m):N=N.next=H,Ce.lanes|=te,Wi|=te;L=L.next}while(L!==null&&L!==i);if(N===null?_=m:N.next=w,!vn(m,n.memoizedState)&&(Mt=!0,W&&(a=Ja,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function rd(n){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);vn(m,i.memoizedState)||(Mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,u]}function dy(n,i,a){var u=Ce,f=Et(),m=Fe;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Ye||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,ad(gy.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,no(9,py.bind(null,u,f,a,i),{destroy:void 0},null),Ze===null)throw Error(s(349));m||(zi&60)!==0||my(u,i,a)}return a}function my(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=yc(),Ce.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function py(n,i,a,u){i.value=a,i.getSnapshot=u,yy(i)&&vy(n)}function gy(n,i,a){return a(function(){yy(i)&&vy(n)})}function yy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!vn(n,a)}catch{return!0}}function vy(n){var i=Li(n,2);i!==null&&ln(i,n,2)}function id(n){var i=hn();if(typeof n=="function"){var a=n;if(n=a(),Qs){ar(!0);try{a()}finally{ar(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:n},i}function _y(n,i,a,u){return n.baseState=a,nd(n,Ye,typeof u=="function"?u:Qr)}function TA(n,i,a,u,f){if(wc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,u(m),a=i.pending,a===null?(m.next=i.pending=m,Ey(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Ey(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var m=S.T,_={};S.T=_;try{var w=a(f,u),N=S.S;N!==null&&N(_,w),Ty(n,i,w)}catch(L){sd(n,i,L)}finally{S.T=m}}else try{m=a(f,u),Ty(n,i,m)}catch(L){sd(n,i,L)}}function Ty(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){wy(n,i,u)},function(u){return sd(n,i,u)}):wy(n,i,a)}function wy(n,i,a){i.status="fulfilled",i.value=a,Sy(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ey(n,a)))}function sd(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Sy(i),i=i.next;while(i!==u)}n.action=null}function Sy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ay(n,i){return i}function by(n,i){if(Fe){var a=Ze.formState;if(a!==null){e:{var u=Ce;if(Fe){if(Bt){t:{for(var f=Bt,m=yr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Bt=Zn(f.nextSibling),u=f.data==="F!";break e}}Gs(u)}u=!1}u&&(i=a[0])}}return a=hn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:i},a.queue=u,a=Fy.bind(null,Ce,u),u.dispatch=a,u=id(!1),m=hd.bind(null,Ce,!1,u.queue),u=hn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=TA.bind(null,Ce,f,m,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function Ry(n){var i=Et();return Iy(i,Ye,n)}function Iy(n,i,a){i=nd(n,i,Ay)[0],n=_c(Qr)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?_l(i):i;var u=Et(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ce.flags|=2048,no(9,wA.bind(null,f,a),{destroy:void 0},null)),[i,m,n]}function wA(n,i){n.action=i}function Cy(n){var i=Et(),a=Ye;if(a!==null)return Iy(i,a,n);Et(),i=i.memoizedState,a=Et();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function no(n,i,a,u){return n={tag:n,create:i,inst:a,deps:u,next:null},i=Ce.updateQueue,i===null&&(i=yc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Ny(){return Et().memoizedState}function Ec(n,i,a,u){var f=hn();Ce.flags|=n,f.memoizedState=no(1|i,a,{destroy:void 0},u===void 0?null:u)}function Tc(n,i,a,u){var f=Et();u=u===void 0?null:u;var m=f.memoizedState.inst;Ye!==null&&u!==null&&Wf(u,Ye.memoizedState.deps)?f.memoizedState=no(i,a,m,u):(Ce.flags|=n,f.memoizedState=no(1|i,a,m,u))}function Dy(n,i){Ec(8390656,8,n,i)}function ad(n,i){Tc(2048,8,n,i)}function Oy(n,i){return Tc(4,2,n,i)}function xy(n,i){return Tc(4,4,n,i)}function ky(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Py(n,i,a){a=a!=null?a.concat([n]):null,Tc(4,4,ky.bind(null,i,n),a)}function od(){}function Vy(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Wf(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function My(n,i){var a=Et();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Wf(i,u[1]))return u[0];if(u=n(),Qs){ar(!0);try{n()}finally{ar(!1)}}return a.memoizedState=[u,i],u}function ld(n,i,a){return a===void 0||(zi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Uv(),Ce.lanes|=n,Wi|=n,a)}function Ly(n,i,a,u){return vn(a,i)?a:Xa.current!==null?(n=ld(n,a,u),vn(n,i)||(Mt=!0),n):(zi&42)===0?(Mt=!0,n.memoizedState=a):(n=Uv(),Ce.lanes|=n,Wi|=n,i)}function Uy(n,i,a,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var _=S.T,w={};S.T=w,hd(n,!1,i,a);try{var N=f(),L=S.S;if(L!==null&&L(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=vA(N,u);El(n,i,W,wn(n))}else El(n,i,u,wn(n))}catch(te){El(n,i,{then:function(){},status:"rejected",reason:te},wn())}finally{he.p=m,S.T=_}}function SA(){}function ud(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=jy(n).queue;Uy(n,f,i,Ie,a===null?SA:function(){return zy(n),a(u)})}function jy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function zy(n){var i=jy(n).next.queue;El(n,i,{},wn())}function cd(){return Yt(zl)}function By(){return Et().memoizedState}function qy(){return Et().memoizedState}function AA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Hi(a);var u=Gi(i,n,a);u!==null&&(ln(u,i,a),Sl(u,i,a)),i={cache:Kf()},n.payload=i;return}i=i.return}}function bA(n,i,a){var u=wn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?Hy(i,a):(a=zf(n,i,a,u),a!==null&&(ln(a,n,u),Gy(a,i,u)))}function Fy(n,i,a){var u=wn();El(n,i,a,u)}function El(n,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))Hy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,w=m(_,a);if(f.hasEagerState=!0,f.eagerState=w,vn(w,_))return sc(n,i,f,0),Ze===null&&ic(),!1}catch{}finally{}if(a=zf(n,i,f,u),a!==null)return ln(a,n,u),Gy(a,i,u),!0}return!1}function hd(n,i,a,u){if(u={lane:2,revertLane:em(),action:u,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(i)throw Error(s(479))}else i=zf(n,a,u,2),i!==null&&ln(i,n,2)}function wc(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function Hy(n,i){eo=pc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Gy(n,i,a){if((a&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ii(n,a)}}var _r={readContext:Yt,use:vc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};_r.useCacheRefresh=pt,_r.useMemoCache=pt,_r.useHostTransitionStatus=pt,_r.useFormState=pt,_r.useActionState=pt,_r.useOptimistic=pt;var Ys={readContext:Yt,use:vc,useCallback:function(n,i){return hn().memoizedState=[n,i===void 0?null:i],n},useContext:Yt,useEffect:Dy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ec(4194308,4,ky.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ec(4194308,4,n,i)},useInsertionEffect:function(n,i){Ec(4,2,n,i)},useMemo:function(n,i){var a=hn();i=i===void 0?null:i;var u=n();if(Qs){ar(!0);try{n()}finally{ar(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=hn();if(a!==void 0){var f=a(i);if(Qs){ar(!0);try{a(i)}finally{ar(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=bA.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var i=hn();return n={current:n},i.memoizedState=n},useState:function(n){n=id(n);var i=n.queue,a=Fy.bind(null,Ce,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:od,useDeferredValue:function(n,i){var a=hn();return ld(a,n,i)},useTransition:function(){var n=id(!1);return n=Uy.bind(null,Ce,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ce,f=hn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Ue&60)!==0||my(u,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Dy(gy.bind(null,u,m,n),[n]),u.flags|=2048,no(9,py.bind(null,u,m,a,i),{destroy:void 0},null),a},useId:function(){var n=hn(),i=Ze.identifierPrefix;if(Fe){var a=$r,u=Gr;a=(u&~(1<<32-rn(u)-1)).toString(32)+a,i=":"+i+"R"+a,a=gc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=_A++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return hn().memoizedState=AA.bind(null,Ce)}};Ys.useMemoCache=td,Ys.useHostTransitionStatus=cd,Ys.useFormState=by,Ys.useActionState=by,Ys.useOptimistic=function(n){var i=hn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,Ce,!0,a),a.dispatch=i,[n,i]};var Bi={readContext:Yt,use:vc,useCallback:Vy,useContext:Yt,useEffect:ad,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:xy,useMemo:My,useReducer:_c,useRef:Ny,useState:function(){return _c(Qr)},useDebugValue:od,useDeferredValue:function(n,i){var a=Et();return Ly(a,Ye.memoizedState,n,i)},useTransition:function(){var n=_c(Qr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:dy,useId:By};Bi.useCacheRefresh=qy,Bi.useMemoCache=td,Bi.useHostTransitionStatus=cd,Bi.useFormState=Ry,Bi.useActionState=Ry,Bi.useOptimistic=function(n,i){var a=Et();return _y(a,Ye,n,i)};var Ws={readContext:Yt,use:vc,useCallback:Vy,useContext:Yt,useEffect:ad,useImperativeHandle:Py,useInsertionEffect:Oy,useLayoutEffect:xy,useMemo:My,useReducer:rd,useRef:Ny,useState:function(){return rd(Qr)},useDebugValue:od,useDeferredValue:function(n,i){var a=Et();return Ye===null?ld(a,n,i):Ly(a,Ye.memoizedState,n,i)},useTransition:function(){var n=rd(Qr)[0],i=Et().memoizedState;return[typeof n=="boolean"?n:_l(n),i]},useSyncExternalStore:dy,useId:By};Ws.useCacheRefresh=qy,Ws.useMemoCache=td,Ws.useHostTransitionStatus=cd,Ws.useFormState=Cy,Ws.useActionState=Cy,Ws.useOptimistic=function(n,i){var a=Et();return Ye!==null?_y(a,Ye,n,i):(a.baseState=n,[n,a.queue.dispatch])};function fd(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:C({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var dd={isMounted:function(n){return(n=n._reactInternals)?ve(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Hi(u);f.payload=i,a!=null&&(f.callback=a),i=Gi(n,f,u),i!==null&&(ln(i,n,u),Sl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=wn(),f=Hi(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Gi(n,f,u),i!==null&&(ln(i,n,u),Sl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),u=Hi(a);u.tag=2,i!=null&&(u.callback=i),i=Gi(n,u,a),i!==null&&(ln(i,n,a),Sl(i,n,a))}};function $y(n,i,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):i.prototype&&i.prototype.isPureReactComponent?!ol(a,u)||!ol(f,m):!0}function Ky(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&dd.enqueueReplaceState(i,i.state,null)}function Xs(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=C({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Qy(n){Sc(n)}function Yy(n){console.error(n)}function Wy(n){Sc(n)}function Ac(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Xy(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function md(n,i,a){return a=Hi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,i)},a}function Zy(n){return n=Hi(n),n.tag=3,n}function Jy(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Xy(i,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Xy(i,a,u),typeof f!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function RA(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&wl(i,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return vr===null?Yd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Hf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Xd(n,u,f)),!1;case 22:return a.flags|=65536,u===Hf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Xd(n,u,f)),!1}throw Error(s(435,a.tag))}return Xd(n,u,f),Yd(),!1}if(Fe)return i=Ln.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Ff&&(n=Error(s(422),{cause:u}),hl(Pn(n,a)))):(u!==Ff&&(i=Error(s(423),{cause:u}),hl(Pn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Pn(u,a),f=md(n.stateNode,u,f),Nd(n,f),ct!==4&&(ct=2)),!1;var m=Error(s(520),{cause:u});if(m=Pn(m,a),Ol===null?Ol=[m]:Ol.push(m),ct!==4&&(ct=2),i===null)return!0;u=Pn(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=md(a.stateNode,u,n),Nd(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xi===null||!Xi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),Jy(f,n,a,u),Nd(a,f),!1}a=a.return}while(a!==null);return!1}var ev=Error(s(461)),Mt=!1;function qt(n,i,a,u){i.child=n===null?sy(i,null,a,u):$s(i,n.child,a,u)}function tv(n,i,a,u,f){a=a.render;var m=i.ref;if("ref"in u){var _={};for(var w in u)w!=="ref"&&(_[w]=u[w])}else _=u;return Js(i),u=Xf(n,i,a,_,m,f),w=Zf(),n!==null&&!Mt?(Jf(n,i,f),Yr(n,i,f)):(Fe&&w&&Bf(i),i.flags|=1,qt(n,i,u,f),i.child)}function nv(n,i,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Ld(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,rv(n,i,m,u,f)):(n=Nc(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Sd(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(_,u)&&n.ref===i.ref)return Yr(n,i,f)}return i.flags|=1,n=Yi(m,u),n.ref=i.ref,n.return=i,i.child=n}function rv(n,i,a,u,f){if(n!==null){var m=n.memoizedProps;if(ol(m,u)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=u=m,Sd(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,Yr(n,i,f)}return pd(n,i,a,u,f)}function iv(n,i,a){var u=i.pendingProps,f=u.children,m=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Tl(n,i),u.mode==="hidden"||m){if((i.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return sv(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(i,_!==null?_.cachePool:null),_!==null?ay(i,_):Gf(),oy(i);else return i.lanes=i.childLanes=536870912,sv(n,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(mc(i,_.cachePool),ay(i,_),ji(),i.memoizedState=null):(n!==null&&mc(i,null),Gf(),ji());return qt(n,i,f,a),i.child}function sv(n,i,a,u){var f=Yf();return f=f===null?null:{parent:Dt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&mc(i,null),Gf(),oy(i),n!==null&&wl(n,i,u,!0),null}function Tl(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=2097664)}}function pd(n,i,a,u,f){return Js(i),a=Xf(n,i,a,u,void 0,f),u=Zf(),n!==null&&!Mt?(Jf(n,i,f),Yr(n,i,f)):(Fe&&u&&Bf(i),i.flags|=1,qt(n,i,a,f),i.child)}function av(n,i,a,u,f,m){return Js(i),i.updateQueue=null,a=fy(i,u,a,f),hy(n),u=Zf(),n!==null&&!Mt?(Jf(n,i,m),Yr(n,i,m)):(Fe&&u&&Bf(i),i.flags|=1,qt(n,i,a,m),i.child)}function ov(n,i,a,u,f){if(Js(i),i.stateNode===null){var m=Ka,_=a.contextType;typeof _=="object"&&_!==null&&(m=Yt(_)),m=new a(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Id(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Yt(_):Ka,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,u),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&dd.enqueueReplaceState(m,m.state,null),bl(i,u,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,N=Xs(a,w);m.props=N;var L=m.context,W=a.contextType;_=Ka,typeof W=="object"&&W!==null&&(_=Yt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||L!==_)&&Ky(i,m,u,_),Fi=!1;var H=i.memoizedState;m.state=H,bl(i,u,m,f),Al(),L=i.memoizedState,w||H!==L||Fi?(typeof te=="function"&&(fd(i,a,te,u),L=i.memoizedState),(N=Fi||$y(i,a,N,u,H,L,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=L),m.props=u,m.state=L,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Cd(n,i),_=i.memoizedProps,W=Xs(a,_),m.props=W,te=i.pendingProps,H=m.context,L=a.contextType,N=Ka,typeof L=="object"&&L!==null&&(N=Yt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||H!==N)&&Ky(i,m,u,N),Fi=!1,H=i.memoizedState,m.state=H,bl(i,u,m,f),Al();var K=i.memoizedState;_!==te||H!==K||Fi||n!==null&&n.dependencies!==null&&bc(n.dependencies)?(typeof w=="function"&&(fd(i,a,w,u),K=i.memoizedState),(W=Fi||$y(i,a,W,u,H,K,N)||n!==null&&n.dependencies!==null&&bc(n.dependencies))?(L||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=K),m.props=u,m.state=K,m.context=N,u=W):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),u=!1)}return m=u,Tl(n,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&u?(i.child=$s(i,n.child,null,f),i.child=$s(i,null,a,f)):qt(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Yr(n,i,f),n}function lv(n,i,a,u){return cl(),i.flags|=256,qt(n,i,a,u),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0};function yd(n){return{baseLanes:n,cachePool:cy()}}function vd(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Bn),n}function uv(n,i,a){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Fe){if(f?Ui(i):ji(),Fe){var w=Bt,N;if(N=w){e:{for(N=w,w=yr;N.nodeType!==8;){if(!w){w=null;break e}if(N=Zn(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:Fs!==null?{id:Gr,overflow:$r}:null,retryLane:536870912},N=zn(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,on=i,Bt=null,N=!0):N=!1}N||Gs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Kr(i)}return w=u.children,u=u.fallback,f?(ji(),f=i.mode,w=Ed({mode:"hidden",children:w},f),u=ta(u,f,a,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=yd(a),f.childLanes=vd(n,_,a),i.memoizedState=gd,u):(Ui(i),_d(i,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)i.flags&256?(Ui(i),i.flags&=-257,i=Td(n,i,a)):i.memoizedState!==null?(ji(),i.child=n.child,i.flags|=128,i=null):(ji(),f=u.fallback,w=i.mode,u=Ed({mode:"visible",children:u.children},w),f=ta(f,w,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,$s(i,n.child,null,a),u=i.child,u.memoizedState=yd(a),u.childLanes=vd(n,_,a),i.memoizedState=gd,i=f);else if(Ui(i),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var L=_.dgst;_=L,u=Error(s(419)),u.stack="",u.digest=_,hl({value:u,source:null,stack:null}),i=Td(n,i,a)}else if(Mt||wl(n,i,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=Ze,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Li(n,u),ln(_,n,u),ev}w.data==="$?"||Yd(),i=Td(n,i,a)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=BA.bind(null,n),w._reactRetry=i,i=null):(n=N.treeContext,Bt=Zn(w.nextSibling),on=i,Fe=!0,Wn=null,yr=!1,n!==null&&(Vn[Mn++]=Gr,Vn[Mn++]=$r,Vn[Mn++]=Fs,Gr=n.id,$r=n.overflow,Fs=i),i=_d(i,u.children),i.flags|=4096);return i}return f?(ji(),f=u.fallback,w=i.mode,N=n.child,L=N.sibling,u=Yi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,L!==null?f=Yi(L,f):(f=ta(f,w,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=n.child.memoizedState,w===null?w=yd(a):(N=w.cachePool,N!==null?(L=Dt._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=cy(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=vd(n,_,a),i.memoizedState=gd,u):(Ui(i),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function _d(n,i){return i=Ed({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ed(n,i){return Vv(n,i,0,null)}function Td(n,i,a){return $s(i,n.child,null,a),n=_d(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function cv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),bd(n.return,i,a)}function wd(n,i,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function hv(n,i,a){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(qt(n,i,u.children,a),u=Nt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,a,i);else if(n.tag===19)cv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Qe(Nt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&dc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),wd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&dc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}wd(i,!0,a,null,m);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(wl(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Yi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&bc(n)))}function IA(n,i,a){switch(i.tag){case 3:Ti(i,i.stateNode.containerInfo),qi(i,Dt,n.memoizedState.cache),cl();break;case 27:case 5:zo(i);break;case 4:Ti(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ui(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uv(n,i,a):(Ui(i),n=Yr(n,i,a),n!==null?n.sibling:null);Ui(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(wl(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return hv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(Nt,Nt.current),u)break;return null;case 22:case 23:return i.lanes=0,iv(n,i,a);case 24:qi(i,Dt,n.memoizedState.cache)}return Yr(n,i,a)}function fv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Sd(n,a)&&(i.flags&128)===0)return Mt=!1,IA(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,Fe&&(i.flags&1048576)!==0&&Wg(i,lc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Ld(u)?(n=Xs(u,n),i.tag=1,i=ov(null,i,u,n,a)):(i.tag=0,i=pd(null,i,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===F){i.tag=11,i=tv(null,i,u,n,a);break e}else if(f===Q){i.tag=14,i=nv(null,i,u,n,a);break e}}throw i=b(u)||u,Error(s(306,i,""))}}return i;case 0:return pd(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Xs(u,i.pendingProps),ov(n,i,u,f,a);case 3:e:{if(Ti(i,i.stateNode.containerInfo),n===null)throw Error(s(387));var m=i.pendingProps;f=i.memoizedState,u=f.element,Cd(n,i),bl(i,m,null,a);var _=i.memoizedState;if(m=_.cache,qi(i,Dt,m),m!==f.cache&&Rd(i,[Dt],a,!0),Al(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=lv(n,i,m,a);break e}else if(m!==u){u=Pn(Error(s(424)),i),hl(u),i=lv(n,i,m,a);break e}else for(Bt=Zn(i.stateNode.containerInfo.firstChild),on=i,Fe=!0,Wn=null,yr=!0,a=sy(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cl(),m===u){i=Yr(n,i,a);break e}qt(n,i,m,a)}i=i.child}return i;case 26:return Tl(n,i),n===null?(a=p_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,n=i.pendingProps,u=Bc(Rn.current).createElement(a),u[kt]=i,u[Rt]=n,Ft(u,a,n),nt(u),i.stateNode=u):i.memoizedState=p_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return zo(i),n===null&&Fe&&(u=i.stateNode=f_(i.type,i.pendingProps,Rn.current),on=i,yr=!0,Bt=Zn(u.firstChild)),u=i.pendingProps.children,n!==null||Fe?qt(n,i,u,a):i.child=$s(i,null,u,a),Tl(n,i),i.child;case 5:return n===null&&Fe&&((f=u=Bt)&&(u=rb(u,i.type,i.pendingProps,yr),u!==null?(i.stateNode=u,on=i,Bt=Zn(u.firstChild),yr=!1,f=!0):f=!1),f||Gs(i)),zo(i),f=i.type,m=i.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,um(f,m)?u=null:_!==null&&um(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Xf(n,i,EA,null,null,a),zl._currentValue=f),Tl(n,i),qt(n,i,u,a),i.child;case 6:return n===null&&Fe&&((n=a=Bt)&&(a=ib(a,i.pendingProps,yr),a!==null?(i.stateNode=a,on=i,Bt=null,n=!0):n=!1),n||Gs(i)),null;case 13:return uv(n,i,a);case 4:return Ti(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=$s(i,null,u,a):qt(n,i,u,a),i.child;case 11:return tv(n,i,i.type,i.pendingProps,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,qi(i,i.type,u.value),qt(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Js(i),f=Yt(f),u=u(f),i.flags|=1,qt(n,i,u,a),i.child;case 14:return nv(n,i,i.type,i.pendingProps,a);case 15:return rv(n,i,i.type,i.pendingProps,a);case 19:return hv(n,i,a);case 22:return iv(n,i,a);case 24:return Js(i),u=Yt(Dt),n===null?(f=Yf(),f===null&&(f=Ze,m=Kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:u,cache:f},Id(i),qi(i,Dt,f)):((n.lanes&a)!==0&&(Cd(n,i),bl(i,null,null,a),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),qi(i,Dt,u)):(u=m.cache,qi(i,Dt,u),u!==f.cache&&Rd(i,[Dt],a,!0))),qt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Ad=Be(null),Zs=null,Wr=null;function qi(n,i,a){Qe(Ad,i._currentValue),i._currentValue=a}function Xr(n){n._currentValue=Ad.current,ot(Ad)}function bd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Rd(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),bd(m.return,a,n),u||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),bd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function wl(n,i,a,u){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;vn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===Ei.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(zl):n=[zl])}f=f.return}n!==null&&Rd(i,n,a,u),i.flags|=262144}function bc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Js(n){Zs=n,Wr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return dv(Zs,n)}function Rc(n,i){return Zs===null&&Js(n),dv(n,i)}function dv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wr===null){if(n===null)throw Error(s(308));Wr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Wr=Wr.next=i;return a}var Fi=!1;function Id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=ac(n),Qg(n,null,a),i}return sc(n,u,i,a),ac(n)}function Sl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ii(n,a)}}function Nd(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Dd=!1;function Al(){if(Dd){var n=Ja;if(n!==null)throw n}}function bl(n,i,a,u){Dd=!1;var f=n.updateQueue;Fi=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,L=N.next;N.next=null,_===null?m=L:_.next=L,_=N;var W=n.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=L:w.next=L,W.lastBaseUpdate=N))}if(m!==null){var te=f.baseState;_=0,W=L=N=null,w=m;do{var H=w.lane&-536870913,K=H!==w.lane;if(K?(Ue&H)===H:(u&H)===H){H!==0&&H===Za&&(Dd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=n,Se=w;H=i;var ht=a;switch(Se.tag){case 1:if(de=Se.payload,typeof de=="function"){te=de.call(ht,te,H);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Se.payload,H=typeof de=="function"?de.call(ht,te,H):de,H==null)break e;te=C({},te,H);break e;case 2:Fi=!0}}H=w.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(L=W=K,N=te):W=W.next=K,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;K=w,w=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(N=te),f.baseState=N,f.firstBaseUpdate=L,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Wi|=_,n.lanes=_,n.memoizedState=te}}function mv(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function pv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)mv(a[n],i)}function Rl(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(w){Xe(i,i.return,w)}}function $i(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=a;try{w()}catch(L){Xe(f,N,L)}}}u=u.next}while(u!==m)}}catch(L){Xe(i,i.return,L)}}function gv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{pv(i,a)}catch(u){Xe(n,n.return,u)}}}function yv(n,i,a){a.props=Xs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Xe(n,i,u)}}function ea(n,i){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Xe(n,i,m)}}function _n(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xe(n,i,f)}else a.current=null}function vv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Xe(n,n.return,f)}}function _v(n,i,a){try{var u=n.stateNode;ZA(u,n.type,a,i),u[Rt]=i}catch(f){Xe(n,n.return,f)}}function Ev(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Od(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ev(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xd(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(xd(n,i,a),n=n.sibling;n!==null;)xd(n,i,a),n=n.sibling}function Ic(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Ic(n,i,a),n=n.sibling;n!==null;)Ic(n,i,a),n=n.sibling}var Zr=!1,ut=!1,kd=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,Lt=null,wv=!1;function CA(n,i){if(n=n.containerInfo,om=Kc,n=jg(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,L=0,W=0,te=n,H=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(w=_+f),te!==m||u!==0&&te.nodeType!==3||(N=_+u),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)H=te,te=K;for(;;){if(te===n)break t;if(H===a&&++L===f&&(w=_),H===m&&++W===u&&(N=_),(K=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=K}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:n,selectionRange:a},Kc=!1,Lt=i;Lt!==null;)if(i=Lt,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Lt=n;else for(;Lt!==null;){switch(i=Lt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var de=Xs(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(de,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Xe(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)fm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Lt=n;break}Lt=i.return}return de=wv,wv=!1,de}function Sv(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ei(n,a),u&4&&Rl(5,a);break;case 1:if(ei(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(w){Xe(a,a.return,w)}else{var f=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Xe(a,a.return,w)}}u&64&&gv(a),u&512&&ea(a,a.return);break;case 3:if(ei(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pv(u,n)}catch(w){Xe(a,a.return,w)}}break;case 26:ei(n,a),u&512&&ea(a,a.return);break;case 27:case 5:ei(n,a),i===null&&u&4&&vv(a),u&512&&ea(a,a.return);break;case 12:ei(n,a);break;case 13:ei(n,a),u&4&&Rv(n,a);break;case 22:if(f=a.memoizedState!==null||Zr,!f){i=i!==null&&i.memoizedState!==null||ut;var m=Zr,_=ut;Zr=f,(ut=i)&&!_?Ki(n,a,(a.subtreeFlags&8772)!==0):ei(n,a),Zr=m,ut=_}u&512&&(a.memoizedProps.mode==="manual"?ea(a,a.return):_n(a,a.return));break;default:ei(n,a)}}function Av(n){var i=n.alternate;i!==null&&(n.alternate=null,Av(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ds(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Tt=null,En=!1;function Jr(n,i,a){for(a=a.child;a!==null;)bv(n,i,a),a=a.sibling}function bv(n,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(wi,a)}catch{}switch(a.tag){case 26:ut||_n(a,i),Jr(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||_n(a,i);var u=Tt,f=En;for(Tt=a.stateNode,Jr(n,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ds(a),Tt=u,En=f;break;case 5:ut||_n(a,i);case 6:f=Tt;var m=En;if(Tt=null,Jr(n,i,a),Tt=f,En=m,Tt!==null)if(En)try{n=Tt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){Xe(a,i,_)}else try{Tt.removeChild(a.stateNode)}catch(_){Xe(a,i,_)}break;case 18:Tt!==null&&(En?(i=Tt,a=a.stateNode,i.nodeType===8?hm(i.parentNode,a):i.nodeType===1&&hm(i,a),Hl(i)):hm(Tt,a.stateNode));break;case 4:u=Tt,f=En,Tt=a.stateNode.containerInfo,En=!0,Jr(n,i,a),Tt=u,En=f;break;case 0:case 11:case 14:case 15:ut||$i(2,a,i),ut||$i(4,a,i),Jr(n,i,a);break;case 1:ut||(_n(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&yv(a,i,u)),Jr(n,i,a);break;case 21:Jr(n,i,a);break;case 22:ut||_n(a,i),ut=(u=ut)||a.memoizedState!==null,Jr(n,i,a),ut=u;break;default:Jr(n,i,a)}}function Rv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Hl(n)}catch(a){Xe(i,i.return,a)}}function NA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Tv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Tv),i;default:throw Error(s(435,n.tag))}}function Pd(n,i){var a=NA(n);i.forEach(function(u){var f=qA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Un(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Tt=w.stateNode,En=!1;break e;case 3:Tt=w.stateNode.containerInfo,En=!0;break e;case 4:Tt=w.stateNode.containerInfo,En=!0;break e}w=w.return}if(Tt===null)throw Error(s(160));bv(m,_,f),Tt=null,En=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Iv(i,n),i=i.sibling}var Xn=null;function Iv(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Un(i,n),jn(n),u&4&&($i(3,n,n.return),Rl(3,n),$i(5,n,n.return));break;case 1:Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&64&&Zr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Xn;if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ni]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,u,a),m[kt]=n,nt(m),u=m;break e;case"link":var _=v_("link","href",f).get(u+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;case"meta":if(_=v_("meta","content",f).get(u+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=f.createElement(u),Ft(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[kt]=n,nt(m),u=m}n.stateNode=u}else __(f,n.type,n.stateNode);else n.stateNode=y_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?__(f,n.type,n.stateNode):y_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&_v(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var N=f.firstChild;N;){var L=N.nextSibling,W=N.nodeName;N[Ni]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=L}for(var te=n.type,H=f.attributes;H.length;)f.removeAttributeNode(H[0]);Ft(f,te,m),f[kt]=n,f[Rt]=m}catch(de){Xe(n,n.return,de)}}case 5:if(Un(i,n),jn(n),u&512&&(ut||a===null||_n(a,a.return)),n.flags&32){f=n.stateNode;try{Nn(f,"")}catch(de){Xe(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,_v(n,f,a!==null?a.memoizedProps:f)),u&1024&&(kd=!0);break;case 6:if(Un(i,n),jn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(de){Xe(n,n.return,de)}}break;case 3:if(Hc=null,f=Xn,Xn=qc(i.containerInfo),Un(i,n),Xn=f,jn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(de){Xe(n,n.return,de)}kd&&(kd=!1,Cv(n));break;case 4:u=Xn,Xn=qc(n.stateNode.containerInfo),Un(i,n),jn(n),Xn=u;break;case 12:Un(i,n),jn(n);break;case 13:Un(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fd=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Pd(n,u)));break;case 22:if(u&512&&(ut||a===null||_n(a,a.return)),N=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=Zr,te=ut,Zr=W||N,ut=te||L,Un(i,n),ut=te,Zr=W,jn(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=N?i._visibility&-2:i._visibility|1,N&&(i=Zr||ut,a===null||L||i||ro(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(f=L.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=L.stateNode,w=L.memoizedProps.style;var K=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){Xe(L,L.return,de)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=N?"":L.memoizedProps}catch(de){Xe(L,L.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Pd(n,a))));break;case 19:Un(i,n),jn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Pd(n,u)));break;case 21:break;default:Un(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Ev(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Od(n);Ic(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Nn(_,""),u.flags&=-33);var w=Od(n);Ic(n,w,_);break;case 3:case 4:var N=u.stateNode.containerInfo,L=Od(n);xd(n,L,N);break;default:throw Error(s(161))}}}catch(W){Xe(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Cv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ei(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sv(n,i.alternate,i),i=i.sibling}function ro(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:$i(4,i,i.return),ro(i);break;case 1:_n(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&yv(i,i.return,a),ro(i);break;case 26:case 27:case 5:_n(i,i.return),ro(i);break;case 22:_n(i,i.return),i.memoizedState===null&&ro(i);break;default:ro(i)}n=n.sibling}}function Ki(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ki(f,m,a),Rl(4,m);break;case 1:if(Ki(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Xe(u,u.return,L)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)mv(N[f],w)}catch(L){Xe(u,u.return,L)}}a&&_&64&&gv(m),ea(m,m.return);break;case 26:case 27:case 5:Ki(f,m,a),a&&u===null&&_&4&&vv(m),ea(m,m.return);break;case 12:Ki(f,m,a);break;case 13:Ki(f,m,a),a&&_&4&&Rv(f,m);break;case 22:m.memoizedState===null&&Ki(f,m,a),ea(m,m.return);break;default:Ki(f,m,a)}i=i.sibling}}function Vd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&gl(a))}function Md(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n))}function Qi(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nv(n,i,a,u),i=i.sibling}function Nv(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(n,i,a,u),f&2048&&Rl(9,i);break;case 3:Qi(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gl(n)));break;case 12:if(f&2048){Qi(n,i,a,u),n=i.stateNode;try{var m=i.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else Qi(n,i,a,u);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Qi(n,i,a,u):Il(n,i):m._visibility&4?Qi(n,i,a,u):(m._visibility|=4,io(n,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&Vd(i.alternate,i);break;case 24:Qi(n,i,a,u),f&2048&&Md(i.alternate,i);break;default:Qi(n,i,a,u)}}function io(n,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,_=i,w=a,N=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:io(m,_,w,N,f),Rl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?io(m,_,w,N,f):Il(m,_):(W._visibility|=4,io(m,_,w,N,f)),f&&L&2048&&Vd(_.alternate,_);break;case 24:io(m,_,w,N,f),f&&L&2048&&Md(_.alternate,_);break;default:io(m,_,w,N,f)}i=i.sibling}}function Il(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:Il(a,u),f&2048&&Vd(u.alternate,u);break;case 24:Il(a,u),f&2048&&Md(u.alternate,u);break;default:Il(a,u)}i=i.sibling}}var Cl=8192;function so(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)Dv(n),n=n.sibling}function Dv(n){switch(n.tag){case 26:so(n),n.flags&Cl&&n.memoizedState!==null&&yb(Xn,n.memoizedState,n.memoizedProps);break;case 5:so(n);break;case 3:case 4:var i=Xn;Xn=qc(n.stateNode.containerInfo),so(n),Xn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Cl,Cl=16777216,so(n),Cl=i):so(n));break;default:so(n)}}function Ov(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,kv(u,n)}Ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xv(n),n=n.sibling}function xv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&$i(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,Cc(n)):Nl(n);break;default:Nl(n)}}function Cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];Lt=u,kv(u,n)}Ov(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:$i(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Cc(i));break;default:Cc(i)}n=n.sibling}}function kv(n,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:$i(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=n;Lt!==null;){u=Lt;var f=u.sibling,m=u.return;if(Av(u),u===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function DA(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(n,i,a,u){return new DA(n,i,a,u)}function Ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,i){var a=n.alternate;return a===null?(a=zn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Pv(n,i){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Nc(n,i,a,u,f,m){var _=0;if(u=n,typeof n=="function")Ld(n)&&(_=1);else if(typeof n=="string")_=pb(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ta(a.children,f,m,i);case g:_=8,f|=24;break;case E:return n=zn(12,a,i,f|2),n.elementType=E,n.lanes=m,n;case Y:return n=zn(13,a,i,f),n.elementType=Y,n.lanes=m,n;case q:return n=zn(19,a,i,f),n.elementType=q,n.lanes=m,n;case G:return Vv(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case k:_=10;break e;case I:_=9;break e;case F:_=11;break e;case Q:_=14;break e;case X:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=zn(_,a,i,f),i.elementType=n,i.type=u,i.lanes=m,i}function ta(n,i,a,u){return n=zn(7,n,u,i),n.lanes=a,n}function Vv(n,i,a,u){n=zn(22,n,u,i),n.elementType=G,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Li(m,2);_!==null&&(f._pendingVisibility|=2,ln(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Li(m,2);_!==null&&(f._pendingVisibility&=-3,ln(_,m,2))}}};return n.stateNode=f,n}function Ud(n,i,a){return n=zn(6,n,null,i),n.lanes=a,n}function jd(n,i,a){return i=zn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function ti(n){n.flags|=4}function Mv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!E_(i)){if(i=Ln.current,i!==null&&((Ue&4194176)===Ue?vr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==vr))throw dl=Hf,Jg;n.flags|=8192}}function Dc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?bi():536870912,n.lanes|=i,oo|=i)}function Dl(n,i){if(!Fe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function OA(n,i,a){var u=i.pendingProps;switch(qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Xr(Dt),Pr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ul(i)?ti(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(Kd(Wn),Wn=null))),rt(i),null;case 26:return a=i.memoizedState,n===null?(ti(i),a!==null?(rt(i),Mv(i,a)):(rt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ti(i),rt(i),Mv(i,a)):(rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&ti(i),rt(i),i.flags&=-16777217),null;case 27:Ra(i),a=Rn.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ti(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}n=nn.current,ul(i)?Xg(i):(n=f_(f,u,a),i.stateNode=n,ti(i))}return rt(i),null;case 5:if(Ra(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&ti(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(n=nn.current,ul(i))Xg(i);else{switch(f=Bc(Rn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[kt]=i,n[Rt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ti(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&ti(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Rn.current,ul(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||a_(n.nodeValue,a)),n||Gs(i)}else n=Bc(n).createTextNode(u),n[kt]=i,i.stateNode=n}return rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ul(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else Wn!==null&&(Kd(Wn),Wn=null),f=!0;if(!f)return i.flags&256?(Kr(i),i):(Kr(i),null)}if(Kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Dc(i,i.updateQueue),rt(i),null;case 4:return Pr(),n===null&&im(i.stateNode.containerInfo),rt(i),null;case 10:return Xr(i.type),rt(i),null;case 19:if(ot(Nt),f=i.memoizedState,f===null)return rt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)Dl(f,!1);else{if(ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=dc(n),m!==null){for(i.flags|=128,Dl(f,!1),n=m.updateQueue,i.updateQueue=n,Dc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Pv(a,n),a=a.sibling;return Qe(Nt,Nt.current&1|2),i.child}n=n.sibling}f.tail!==null&&un()>Oc&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304)}else{if(!u)if(n=dc(m),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Dc(i,n),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Fe)return rt(i),null}else 2*un()-f.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,u=!0,Dl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=un(),i.sibling=null,n=Nt.current,Qe(Nt,u?n&1|2:n&1),i):(rt(i),null);case 22:case 23:return Kr(i),$f(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Dc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&ot(Ks),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xr(Dt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function xA(n,i){switch(qf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Xr(Dt),Pr(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Ra(i),null;case 13:if(Kr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ot(Nt),null;case 4:return Pr(),null;case 10:return Xr(i.type),null;case 22:case 23:return Kr(i),$f(),n!==null&&ot(Ks),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Xr(Dt),null;case 25:return null;default:return null}}function Lv(n,i){switch(qf(i),i.tag){case 3:Xr(Dt),Pr();break;case 26:case 27:case 5:Ra(i);break;case 4:Pr();break;case 13:Kr(i);break;case 19:ot(Nt);break;case 10:Xr(i.type);break;case 22:case 23:Kr(i),$f(),n!==null&&ot(Ks);break;case 24:Xr(Dt)}}var kA={getCacheForType:function(n){var i=Yt(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},PA=typeof WeakMap=="function"?WeakMap:Map,it=0,Ze=null,Oe=null,Ue=0,Je=0,Tn=null,ni=!1,ao=!1,zd=!1,ri=0,ct=0,Wi=0,na=0,Bd=0,Bn=0,oo=0,Ol=null,Er=null,qd=!1,Fd=0,Oc=1/0,xc=null,Xi=null,kc=!1,ra=null,xl=0,Hd=0,Gd=null,kl=0,$d=null;function wn(){if((it&2)!==0&&Ue!==0)return Ue&-Ue;if(S.T!==null){var n=Za;return n!==0?n:em()}return ju()}function Uv(){Bn===0&&(Bn=(Ue&536870912)===0||Fe?Go():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),Bn}function ln(n,i,a){(n===Ze&&Je===2||n.cancelPendingCommit!==null)&&(lo(n,0),ii(n,Ue,Bn,!1)),mt(n,a),((it&2)===0||n!==Ze)&&(n===Ze&&((it&2)===0&&(na|=a),ct===4&&ii(n,Ue,Bn,!1)),Tr(n))}function jv(n,i,a){if((it&6)!==0)throw Error(s(327));var u=!a&&(i&60)===0&&(i&n.expiredLanes)===0||Ai(n,i),f=u?LA(n,i):Wd(n,i,!0),m=u;do{if(f===0){ao&&!u&&ii(n,i,0,!1);break}else if(f===6)ii(n,i,0,!ni);else{if(a=n.current.alternate,m&&!VA(a)){f=Wd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=Ol;var N=w.current.memoizedState.isDehydrated;if(N&&(lo(w,_).flags|=256),_=Wd(w,_,!1),_!==2){if(zd&&!N){w.errorRecoveryDisabledLanes|=m,na|=m,f=4;break e}m=Er,Er=f,m!==null&&Kd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){lo(n,0),ii(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){ii(u,i,Bn,!ni);break e}break;case 2:Er=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=i,(i&62914560)===i&&(m=Fd+300-un(),10<m)){if(ii(u,i,Bn,!ni),In(u,0)!==0)break e;u.timeoutHandle=u_(zv.bind(null,u,a,Er,xc,qd,i,Bn,na,oo,ni,2,-0,0),m);break e}zv(u,a,Er,xc,qd,i,Bn,na,oo,ni,0,-0,0)}}break}while(!0);Tr(n)}function Kd(n){Er===null?Er=n:Er.push.apply(Er,n)}function zv(n,i,a,u,f,m,_,w,N,L,W,te,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:gb},Dv(i),i=vb(),i!==null)){n.cancelPendingCommit=i(Kv.bind(null,n,a,u,f,_,w,N,1,te,H)),ii(n,m,_,!L);return}Kv(n,a,u,f,_,w,N,W,te,H)}function VA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!vn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i,a,u){i&=~Bd,i&=~na,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var m=31-rn(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&Ri(n,a,i)}function Pc(){return(it&6)===0?(Pl(0),!1):!0}function Qd(){if(Oe!==null){if(Je===0)var n=Oe.return;else n=Oe,Wr=Zs=null,ed(n),Wa=null,ml=0,n=Oe;for(;n!==null;)Lv(n.alternate,n),n=n.return;Oe=null}}function lo(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),Ze=n,Oe=a=Yi(n.current,null),Ue=i,Je=0,Tn=null,ni=!1,ao=Ai(n,i),zd=!1,oo=Bn=Bd=na=Wi=ct=0,Er=Ol=null,qd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-rn(u),m=1<<f;i|=n[f],u&=~m}return ri=i,ic(),a}function Bv(n,i){Ce=null,S.H=_r,i===fl?(i=ny(),Je=3):i===Jg?(i=ny(),Je=4):Je=i===ev?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Oe===null&&(ct=1,Ac(n,Pn(i,n.current)))}function qv(){var n=S.H;return S.H=_r,n===null?_r:n}function Fv(){var n=S.A;return S.A=kA,n}function Yd(){ct=4,ni||(Ue&4194176)!==Ue&&Ln.current!==null||(ao=!0),(Wi&134217727)===0&&(na&134217727)===0||Ze===null||ii(Ze,Ue,Bn,!1)}function Wd(n,i,a){var u=it;it|=2;var f=qv(),m=Fv();(Ze!==n||Ue!==i)&&(xc=null,lo(n,i)),i=!1;var _=ct;e:do try{if(Je!==0&&Oe!==null){var w=Oe,N=Tn;switch(Je){case 8:Qd(),_=6;break e;case 3:case 2:case 6:Ln.current===null&&(i=!0);var L=Je;if(Je=0,Tn=null,uo(n,w,N,L),a&&ao){_=0;break e}break;default:L=Je,Je=0,Tn=null,uo(n,w,N,L)}}MA(),_=ct;break}catch(W){Bv(n,W)}while(!0);return i&&n.shellSuspendCounter++,Wr=Zs=null,it=u,S.H=f,S.A=m,Oe===null&&(Ze=null,Ue=0,ic()),_}function MA(){for(;Oe!==null;)Hv(Oe)}function LA(n,i){var a=it;it|=2;var u=qv(),f=Fv();Ze!==n||Ue!==i?(xc=null,Oc=un()+500,lo(n,i)):ao=Ai(n,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var m=Tn;t:switch(Je){case 1:Je=0,Tn=null,uo(n,i,m,1);break;case 2:if(ey(m)){Je=0,Tn=null,Gv(i);break}i=function(){Je===2&&Ze===n&&(Je=7),Tr(n)},m.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:ey(m)?(Je=0,Tn=null,Gv(i)):(Je=0,Tn=null,uo(n,i,m,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var w=Oe;if(!_||E_(_)){Je=0,Tn=null;var N=w.sibling;if(N!==null)Oe=N;else{var L=w.return;L!==null?(Oe=L,Vc(L)):Oe=null}break t}}Je=0,Tn=null,uo(n,i,m,5);break;case 6:Je=0,Tn=null,uo(n,i,m,6);break;case 8:Qd(),ct=6;break e;default:throw Error(s(462))}}UA();break}catch(W){Bv(n,W)}while(!0);return Wr=Zs=null,S.H=u,S.A=f,it=a,Oe!==null?0:(Ze=null,Ue=0,ic(),ct)}function UA(){for(;Oe!==null&&!Af();)Hv(Oe)}function Hv(n){var i=fv(n.alternate,n,ri);n.memoizedProps=n.pendingProps,i===null?Vc(n):Oe=i}function Gv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=av(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=av(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:ed(i);default:Lv(a,i),i=Oe=Pv(i,ri),i=fv(a,i,ri)}n.memoizedProps=n.pendingProps,i===null?Vc(n):Oe=i}function uo(n,i,a,u){Wr=Zs=null,ed(i),Wa=null,ml=0;var f=i.return;try{if(RA(n,f,i,a,Ue)){ct=1,Ac(n,Pn(a,n.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;ct=1,Ac(n,Pn(a,n.current)),Oe=null;return}i.flags&32768?(Fe||u===1?n=!0:ao||(Ue&536870912)!==0?n=!1:(ni=n=!0,(u===2||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),$v(i,n)):Vc(i)}function Vc(n){var i=n;do{if((i.flags&32768)!==0){$v(i,ni);return}n=i.return;var a=OA(i.alternate,i,ri);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=n}while(i!==null);ct===0&&(ct=5)}function $v(n,i){do{var a=xA(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);ct=6,Oe=null}function Kv(n,i,a,u,f,m,_,w,N,L){var W=S.T,te=he.p;try{he.p=2,S.T=null,jA(n,i,a,u,te,f,m,_,w,N,L)}finally{S.T=W,he.p=te}}function jA(n,i,a,u,f,m,_,w){do co();while(ra!==null);if((it&6)!==0)throw Error(s(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=N.lanes|N.childLanes;if(L|=jf,Lu(n,u,L,m,_,w),n===Ze&&(Oe=Ze=null,Ue=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||kc||(kc=!0,Hd=L,Gd=a,FA(Vr,function(){return co(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=he.p,he.p=2,_=it,it|=4,CA(n,N),Iv(N,n),uA(lm,n.containerInfo),Kc=!!om,lm=om=null,n.current=N,Sv(n,N.alternate,N),Bo(),it=_,he.p=m,S.T=a):n.current=N,kc?(kc=!1,ra=n,xl=u):Qv(n,L),L=n.pendingLanes,L===0&&(Xi=null),Fo(N.stateNode),Tr(n),i!==null)for(f=n.onRecoverableError,N=0;N<i.length;N++)L=i[N],f(L.value,{componentStack:L.stack});return(xl&3)!==0&&co(),L=n.pendingLanes,(u&4194218)!==0&&(L&42)!==0?n===$d?kl++:(kl=0,$d=n):kl=0,Pl(0),null}function Qv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,gl(i)))}function co(){if(ra!==null){var n=ra,i=Hd;Hd=0;var a=Uu(xl),u=S.T,f=he.p;try{if(he.p=32>a?32:a,S.T=null,ra===null)var m=!1;else{a=Gd,Gd=null;var _=ra,w=xl;if(ra=null,xl=0,(it&6)!==0)throw Error(s(331));var N=it;if(it|=4,xv(_.current),Nv(_,_.current,w,a),it=N,Pl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(wi,_)}catch{}m=!0}return m}finally{he.p=f,S.T=u,Qv(n,i)}}return!1}function Yv(n,i,a){i=Pn(a,i),i=md(n.stateNode,i,2),n=Gi(n,i,2),n!==null&&(mt(n,2),Tr(n))}function Xe(n,i,a){if(n.tag===3)Yv(n,n,a);else for(;i!==null;){if(i.tag===3){Yv(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xi===null||!Xi.has(u))){n=Pn(a,n),a=Zy(2),u=Gi(i,a,2),u!==null&&(Jy(a,u,i,n),mt(u,2),Tr(u));break}}i=i.return}}function Xd(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new PA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(zd=!0,f.add(a),n=zA.bind(null,n,i,a),i.then(n,n))}function zA(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ze===n&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>un()-Fd?(it&2)===0&&lo(n,0):Bd|=a,oo===Ue&&(oo=0)),Tr(n)}function Wv(n,i){i===0&&(i=bi()),n=Li(n,i),n!==null&&(mt(n,i),Tr(n))}function BA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Wv(n,a)}function qA(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Wv(n,a)}function FA(n,i){return Is(n,i)}var Mc=null,ho=null,Zd=!1,Lc=!1,Jd=!1,ia=0;function Tr(n){n!==ho&&n.next===null&&(ho===null?Mc=ho=n:ho=ho.next=n),Lc=!0,Zd||(Zd=!0,GA(HA))}function Pl(n,i){if(!Jd&&Lc){Jd=!0;do for(var a=!1,u=Mc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=f&~(_&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,Jv(u,m))}else m=Ue,m=In(u,u===Ze?m:0),(m&3)===0||Ai(u,m)||(a=!0,Jv(u,m));u=u.next}while(a);Jd=!1}}function HA(){Lc=Zd=!1;var n=0;ia!==0&&(JA()&&(n=ia),ia=0);for(var i=un(),a=null,u=Mc;u!==null;){var f=u.next,m=Xv(u,i);m===0?(u.next=null,a===null?Mc=f:a.next=f,f===null&&(ho=a)):(a=u,(n!==0||(m&3)!==0)&&(Lc=!0)),u=f}Pl(n)}function Xv(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-rn(m),w=1<<_,N=f[_];N===-1?((w&a)===0||(w&u)!==0)&&(f[_]=Na(w,i)):N<=i&&(n.expiredLanes|=w),m&=~w}if(i=Ze,a=Ue,a=In(n,n===i?a:0),u=n.callbackNode,a===0||n===i&&Je===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ca(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ai(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Ca(u),Uu(a)){case 2:case 8:a=xt;break;case 32:a=Vr;break;case 268435456:a=qo;break;default:a=Vr}return u=Zv.bind(null,n),a=Is(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Ca(u),n.callbackPriority=2,n.callbackNode=null,2}function Zv(n,i){var a=n.callbackNode;if(co()&&n.callbackNode!==a)return null;var u=Ue;return u=In(n,n===Ze?u:0),u===0?null:(jv(n,u,i),Xv(n,un()),n.callbackNode!=null&&n.callbackNode===a?Zv.bind(null,n):null)}function Jv(n,i){if(co())return null;jv(n,i,!0)}function GA(n){tb(function(){(it&6)!==0?Is(bt,n):n()})}function em(){return ia===0&&(ia=Go()),ia}function e_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cr(""+n)}function t_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function $A(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var m=e_((f[Rt]||null).action),_=u.submitter;_&&(i=(i=_[Rt]||null)?e_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var w=new Ma("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ia!==0){var N=_?t_(f,_):new FormData(f);ud(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=_?t_(f,_):new FormData(f),ud(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var tm=0;tm<Kg.length;tm++){var nm=Kg[tm],KA=nm.toLowerCase(),QA=nm[0].toUpperCase()+nm.slice(1);Yn(KA,"on"+QA)}Yn(qg,"onAnimationEnd"),Yn(Fg,"onAnimationIteration"),Yn(Hg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(hA,"onTransitionRun"),Yn(fA,"onTransitionStart"),Yn(dA,"onTransitionCancel"),Yn(Gg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function n_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],N=w.instance,L=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(W){Sc(W)}f.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(w=u[_],N=w.instance,L=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=L;try{m(f)}catch(W){Sc(W)}f.currentTarget=null,m=N}}}}function Pe(n,i){var a=i[Ns];a===void 0&&(a=i[Ns]=new Set);var u=n+"__bubble";a.has(u)||(r_(i,n,2,!1),a.add(u))}function rm(n,i,a){var u=0;i&&(u|=4),r_(a,n,u,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[Uc]){n[Uc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(YA.has(a)||rm(a,!1,n),rm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,rm("selectionchange",!1,i))}}function r_(n,i,a,u){switch(R_(i)){case 2:var f=Tb;break;case 8:f=wb;break;default:f=ym}a=f.bind(null,i,a,n),f=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function sm(n,i,a,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;w!==null;){if(_=Qn(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}w=w.parentNode}}u=u.return}Fu(function(){var L=m,W=Va(a),te=[];e:{var H=$g.get(n);if(H!==void 0){var K=Ma,de=n;switch(n){case"keypress":if(fr(a)===0)break e;case"keydown":case"keyup":K=qa;break;case"focusin":de="focus",K=ja;break;case"focusout":de="blur",K=ja;break;case"beforeblur":case"afterblur":K=ja;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Xu;break;case qg:case Fg:case Hg:K=za;break;case Gg:K=Ju;break;case"scroll":case"scrollend":K=Hu;break;case"wheel":K=Fa;break;case"copy":case"cut":case"paste":K=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=sl;break;case"toggle":case"beforetoggle":K=tc}var Se=(i&4)!==0,ht=!Se&&(n==="scroll"||n==="scrollend"),U=Se?H!==null?H+"Capture":null:H;Se=[];for(var M=L,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=Ps(M,U),J!=null&&Se.push(Ml(M,J,B))),ht)break;M=M.return}0<Se.length&&(H=new K(H,de,null,a,W),te.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==Dn&&(de=a.relatedTarget||a.fromElement)&&(Qn(de)||de[Mr]))break e;if((K||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,K?(de=a.relatedTarget||a.toElement,K=L,de=de?Qn(de):null,de!==null&&(ht=ve(de),Se=de.tag,de!==ht||Se!==5&&Se!==27&&Se!==6)&&(de=null)):(K=null,de=L),K!==de)){if(Se=xn,J="onMouseLeave",U="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Se=sl,J="onPointerLeave",U="onPointerEnter",M="pointer"),ht=K==null?H:Di(K),B=de==null?H:Di(de),H=new Se(J,M+"leave",K,a,W),H.target=ht,H.relatedTarget=B,J=null,Qn(W)===L&&(Se=new Se(U,M+"enter",de,a,W),Se.target=B,Se.relatedTarget=ht,J=Se),ht=J,K&&de)t:{for(Se=K,U=de,M=0,B=Se;B;B=fo(B))M++;for(B=0,J=U;J;J=fo(J))B++;for(;0<M-B;)Se=fo(Se),M--;for(;0<B-M;)U=fo(U),B--;for(;M--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=fo(Se),U=fo(U)}Se=null}else Se=null;K!==null&&i_(te,H,K,Se,!1),de!==null&&ht!==null&&i_(te,ht,de,Se,!0)}}e:{if(H=L?Di(L):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var fe=Og;else if(Ct(H))if(xg)fe=oA;else{fe=sA;var De=iA}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Zo(L.elementType)&&(fe=Og):fe=aA;if(fe&&(fe=fe(n,L))){Hr(te,fe,a,W);break e}De&&De(n,H,L),n==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Pa(H,"number",H.value)}switch(De=L?Di(L):window,n){case"focusin":(Ct(De)||De.contentEditable==="true")&&(Ha=De,Mf=L,ll=null);break;case"focusout":ll=Mf=Ha=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,zg(te,a,W);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":zg(te,a,W)}var pe;if(pr)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?$(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(pe=el()):(hr=W,Mi="value"in hr?hr.value:hr.textContent,Me=!0)),De=jc(L,_e),0<De.length&&(_e=new rl(_e,n,null,a,W),te.push({event:_e,listeners:De}),pe?_e.data=pe:(pe=ae(a),pe!==null&&(_e.data=pe)))),(pe=y?It(n,a):Le(n,a))&&(_e=jc(L,"onBeforeInput"),0<_e.length&&(De=new rl("onBeforeInput","beforeinput",null,a,W),te.push({event:De,listeners:_e}),De.data=pe)),$A(te,n,L,a,W)}n_(te,i)})}function Ml(n,i,a){return{instance:n,listener:i,currentTarget:a}}function jc(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ps(n,a),f!=null&&u.unshift(Ml(n,f,m)),f=Ps(n,i),f!=null&&u.push(Ml(n,f,m))),n=n.return}return u}function fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function i_(n,i,a,u,f){for(var m=i._reactName,_=[];a!==null&&a!==u;){var w=a,N=w.alternate,L=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||L===null||(N=L,f?(L=Ps(a,m),L!=null&&_.unshift(Ml(a,L,N))):f||(L=Ps(a,m),L!=null&&_.push(Ml(a,L,N)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var WA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function s_(n){return(typeof n=="string"?n:""+n).replace(WA,`
`).replace(XA,"")}function a_(n,i){return i=s_(i),s_(n)===i}function zc(){}function We(n,i,a,u,f,m){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Nn(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Nn(n,""+u);break;case"className":ki(n,"class",u);break;case"tabIndex":ki(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ki(n,a,u);break;case"style":qu(n,u,m);break;case"data":if(i!=="object"){ki(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=cr(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&We(n,i,"name",f.name,f,null),We(n,i,"formEncType",f.formEncType,f,null),We(n,i,"formMethod",f.formMethod,f,null),We(n,i,"formTarget",f.formTarget,f,null)):(We(n,i,"encType",f.encType,f,null),We(n,i,"method",f.method,f,null),We(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=cr(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=zc);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=cr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),xi(n,"popover",u);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nf.get(a)||a,xi(n,a,u))}}function am(n,i,a,u,f,m){switch(a){case"style":qu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Nn(n,u):(typeof u=="number"||typeof u=="bigint")&&Nn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):xi(n,a,u)}}}function Ft(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,m,_,a,null)}}f&&We(n,i,"srcSet",a.srcSet,a,null),u&&We(n,i,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=m=_=f=null,N=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":L=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:We(n,i,u,W,a,null)}}xs(n,m,w,N,L,_,f,!1),Os(n);return;case"select":Pe("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":u=w;default:We(n,i,f,w,a,null)}i=m,a=_,n.multiple=!!u,i!=null?qe(n,!!u,i,!1):a!=null&&qe(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,i,_,w,a,null)}Vi(n,u,f,m),Os(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,i,N,u,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Vl.length;u++)Pe(Vl[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(n,i,L,u,a,null)}return;default:if(Zo(i)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&am(n,i,W,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&We(n,i,w,u,a,null))}function ZA(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,N=null,L=null,W=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:u.hasOwnProperty(K)||We(n,i,K,null,u,te)}}for(var H in u){var K=u[H];if(te=a[H],u.hasOwnProperty(H)&&(K!=null||te!=null))switch(H){case"type":m=K;break;case"name":f=K;break;case"checked":L=K;break;case"defaultChecked":W=K;break;case"value":_=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==te&&We(n,i,H,K,u,te)}}Pi(n,_,w,N,L,W,m,f);return;case"select":K=_=w=H=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":K=N;default:u.hasOwnProperty(m)||We(n,i,m,null,u,N)}for(f in u)if(m=u[f],N=a[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":H=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==N&&We(n,i,f,m,u,N)}i=w,a=_,u=K,H!=null?qe(n,!!a,H,!1):!!u!=!!a&&(i!=null?qe(n,!!a,i,!0):qe(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,i,w,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,i,_,f,u,m)}ks(n,H,K);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:We(n,i,de,null,u,H)}for(N in u)if(H=u[N],K=a[N],u.hasOwnProperty(N)&&H!==K&&(H!=null||K!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(n,i,N,H,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!u.hasOwnProperty(Se)&&We(n,i,Se,null,u,H);for(L in u)if(H=u[L],K=a[L],u.hasOwnProperty(L)&&H!==K&&(H!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(n,i,L,H,u,K)}return;default:if(Zo(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!u.hasOwnProperty(ht)&&am(n,i,ht,void 0,u,H);for(W in u)H=u[W],K=a[W],!u.hasOwnProperty(W)||H===K||H===void 0&&K===void 0||am(n,i,W,H,u,K);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!u.hasOwnProperty(U)&&We(n,i,U,null,u,H);for(te in u)H=u[te],K=a[te],!u.hasOwnProperty(te)||H===K||H==null&&K==null||We(n,i,te,H,u,K)}var om=null,lm=null;function Bc(n){return n.nodeType===9?n:n.ownerDocument}function o_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function um(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cm=null;function JA(){var n=window.event;return n&&n.type==="popstate"?n===cm?!1:(cm=n,!0):(cm=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(n){return c_.resolve(null).then(n).catch(nb)}:u_;function nb(n){setTimeout(function(){throw n})}function hm(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),Hl(i);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);Hl(i)}function fm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fm(a),Ds(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function rb(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ni])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function ib(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function Zn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function h_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function f_(n,i,a){switch(i=Bc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var qn=new Map,d_=new Set;function qc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var si=he.d;he.d={f:sb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function sb(){var n=si.f(),i=Pc();return n||i}function ab(n){var i=Lr(n);i!==null&&i.tag===5&&i.type==="form"?zy(i):si.r(n)}var mo=typeof document>"u"?null:document;function m_(n,i,a){var u=mo;if(u&&typeof i=="string"&&i){var f=lt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d_.has(f)||(d_.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function ob(n){si.D(n),m_("dns-prefetch",n,null)}function lb(n,i){si.C(n,i),m_("preconnect",n,i)}function ub(n,i,a){si.L(n,i,a);var u=mo;if(u&&n&&i){var f='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+lt(a.imageSizes)+'"]')):f+='[href="'+lt(n)+'"]';var m=f;switch(i){case"style":m=po(n);break;case"script":m=go(n)}qn.has(m)||(n=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),qn.set(m,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Ll(m))||i==="script"&&u.querySelector(Ul(m))||(i=u.createElement("link"),Ft(i,"link",n),nt(i),u.head.appendChild(i)))}}function cb(n,i){si.m(n,i);var a=mo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+lt(u)+'"][href="'+lt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=go(n)}if(!qn.has(m)&&(n=C({rel:"modulepreload",href:n},i),qn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(m)))return}u=a.createElement("link"),Ft(u,"link",n),nt(u),a.head.appendChild(u)}}}function hb(n,i,a){si.S(n,i,a);var u=mo;if(u&&n){var f=Oi(u).hoistableStyles,m=po(n);i=i||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=u.querySelector(Ll(m)))w.loading=5;else{n=C({rel:"stylesheet",href:n,"data-precedence":i},a),(a=qn.get(m))&&dm(n,a);var N=_=u.createElement("link");nt(N),Ft(N,"link",n),N._p=new Promise(function(L,W){N.onload=L,N.onerror=W}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fc(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function fb(n,i){si.X(n,i);var a=mo;if(a&&n){var u=Oi(a).hoistableScripts,f=go(n),m=u.get(f);m||(m=a.querySelector(Ul(f)),m||(n=C({src:n,async:!0},i),(i=qn.get(f))&&mm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function db(n,i){si.M(n,i);var a=mo;if(a&&n){var u=Oi(a).hoistableScripts,f=go(n),m=u.get(f);m||(m=a.querySelector(Ul(f)),m||(n=C({src:n,async:!0,type:"module"},i),(i=qn.get(f))&&mm(n,i),m=a.createElement("script"),nt(m),Ft(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function p_(n,i,a,u){var f=(f=Rn.current)?qc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Oi(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=po(a.href);var m=Oi(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Ll(n)))&&!m._p&&(_.instance=m,_.state.loading=5),qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(n,a),m||mb(f,n,a,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(a),a=Oi(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function po(n){return'href="'+lt(n)+'"'}function Ll(n){return'link[rel="stylesheet"]['+n+"]"}function g_(n){return C({},n,{"data-precedence":n.precedence,precedence:null})}function mb(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ft(i,"link",a),nt(i),n.head.appendChild(i))}function go(n){return'[src="'+lt(n)+'"]'}function Ul(n){return"script[async]"+n}function y_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+lt(a.href)+'"]');if(u)return i.instance=u,nt(u),u;var f=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nt(u),Ft(u,"style",f),Fc(u,a.precedence,n),i.instance=u;case"stylesheet":f=po(a.href);var m=n.querySelector(Ll(f));if(m)return i.state.loading|=4,i.instance=m,nt(m),m;u=g_(a),(f=qn.get(f))&&dm(u,f),m=(n.ownerDocument||n).createElement("link"),nt(m);var _=m;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Ft(m,"link",u),i.state.loading|=4,Fc(m,a.precedence,n),i.instance=m;case"script":return m=go(a.src),(f=n.querySelector(Ul(m)))?(i.instance=f,nt(f),f):(u=a,(f=qn.get(m))&&(u=C({},a),mm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),nt(f),Ft(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Fc(u,a.precedence,n));return i.instance}function Fc(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var w=u[_];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Hc=null;function v_(n,i,a){if(Hc===null){var u=new Map,f=Hc=new Map;f.set(a,u)}else f=Hc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ni]||m[kt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=n+_;var w=u.get(_);w?w.push(m):u.set(_,[m])}}return u}function __(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function pb(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function E_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var jl=null;function gb(){}function yb(n,i,a){if(jl===null)throw Error(s(475));var u=jl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=po(a.href),m=n.querySelector(Ll(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Gc.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=m,nt(m);return}m=n.ownerDocument||n,a=g_(a),(f=qn.get(f))&&dm(a,f),m=m.createElement("link"),nt(m);var _=m;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Ft(m,"link",a),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Gc.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function vb(){if(jl===null)throw Error(s(475));var n=jl;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function pm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,i.forEach(_b,n),$c=null,Gc.call(n))}function _b(n,i){if(!(i.state.loading&4)){var a=$c.get(n);if(a)var u=a.get(null);else{a=new Map,$c.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=Gc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var zl={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function Eb(n,i,a,u,f,m,_,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.hiddenUpdates=Da(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function T_(n,i,a,u,f,m,_,w,N,L,W,te){return n=new Eb(n,i,a,_,w,N,L,te),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),n.current=m,m.stateNode=n,i=Kf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:i},Id(m),n}function w_(n){return n?(n=Ka,n):Ka}function S_(n,i,a,u,f,m){f=w_(f),u.context===null?u.context=f:u.pendingContext=f,u=Hi(i),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Gi(n,u,i),a!==null&&(ln(a,n,i),Sl(a,n,i))}function A_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function gm(n,i){A_(n,i),(n=n.alternate)&&A_(n,i)}function b_(n){if(n.tag===13){var i=Li(n,67108864);i!==null&&ln(i,n,67108864),gm(n,67108864)}}var Kc=!0;function Tb(n,i,a,u){var f=S.T;S.T=null;var m=he.p;try{he.p=2,ym(n,i,a,u)}finally{he.p=m,S.T=f}}function wb(n,i,a,u){var f=S.T;S.T=null;var m=he.p;try{he.p=8,ym(n,i,a,u)}finally{he.p=m,S.T=f}}function ym(n,i,a,u){if(Kc){var f=vm(u);if(f===null)sm(n,i,u,Qc,a),I_(n,u);else if(Ab(f,n,i,a,u))u.stopPropagation();else if(I_(n,u),i&4&&-1<Sb.indexOf(n)){for(;f!==null;){var m=Lr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Kn(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-rn(_);w.entanglements[1]|=N,_&=~N}Tr(m),(it&6)===0&&(Oc=un()+500,Pl(0))}}break;case 13:w=Li(m,2),w!==null&&ln(w,m,2),Pc(),gm(m,2)}if(m=vm(u),m===null&&sm(n,i,u,Qc,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else sm(n,i,u,null,a)}}function vm(n){return n=Va(n),_m(n)}var Qc=null;function _m(n){if(Qc=null,n=Qn(n),n!==null){var i=ve(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=Ge(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Qc=n,null}function R_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ku()){case bt:return 2;case xt:return 8;case Vr:case Pu:return 32;case qo:return 268435456;default:return 32}default:return 32}}var Em=!1,Zi=null,Ji=null,es=null,Bl=new Map,ql=new Map,ts=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(n,i){switch(n){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Fl(n,i,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Lr(i),i!==null&&b_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Ab(n,i,a,u,f){switch(i){case"focusin":return Zi=Fl(Zi,n,i,a,u,f),!0;case"dragenter":return Ji=Fl(Ji,n,i,a,u,f),!0;case"mouseover":return es=Fl(es,n,i,a,u,f),!0;case"pointerover":var m=f.pointerId;return Bl.set(m,Fl(Bl.get(m)||null,n,i,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ql.set(m,Fl(ql.get(m)||null,n,i,a,u,f)),!0}return!1}function C_(n){var i=Qn(n.target);if(i!==null){var a=ve(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){n.blockedOn=i,Ci(n.priority,function(){if(a.tag===13){var u=wn(),f=Li(a,u);f!==null&&ln(f,a,u),gm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Dn=u,a.target.dispatchEvent(u),Dn=null}else return i=Lr(a),i!==null&&b_(i),n.blockedOn=a,!1;i.shift()}return!0}function N_(n,i,a){Yc(n)&&a.delete(i)}function bb(){Em=!1,Zi!==null&&Yc(Zi)&&(Zi=null),Ji!==null&&Yc(Ji)&&(Ji=null),es!==null&&Yc(es)&&(es=null),Bl.forEach(N_),ql.forEach(N_)}function Wc(n,i){n.blockedOn===i&&(n.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bb)))}var Xc=null;function D_(n){Xc!==n&&(Xc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===n&&(Xc=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(_m(u||a)===null)continue;break}var m=Lr(a);m!==null&&(n.splice(i,3),i-=3,ud(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Hl(n){function i(N){return Wc(N,n)}Zi!==null&&Wc(Zi,n),Ji!==null&&Wc(Ji,n),es!==null&&Wc(es,n),Bl.forEach(i),ql.forEach(i);for(var a=0;a<ts.length;a++){var u=ts[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)C_(a),a.blockedOn===null&&ts.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[Rt]||null;if(typeof m=="function")_||D_(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Rt]||null)w=_.formAction;else if(_m(f)!==null)continue}else w=_.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),D_(a)}}}function Tm(n){this._internalRoot=n}Zc.prototype.render=Tm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=wn();S_(a,u,n,i,null,null)},Zc.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&co(),S_(n.current,2,null,n,null,null),Pc(),i[Mr]=null}};function Zc(n){this._internalRoot=n}Zc.prototype.unstable_scheduleHydration=function(n){if(n){var i=ju();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,n),a===0&&C_(n)}};var O_=e.version;if(O_!=="19.0.0")throw Error(s(527,O_,"19.0.0"));he.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(i),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var Rb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{wi=Jc.inject(Rb),Qt=Jc}catch{}}return $l.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=Qy,m=Yy,_=Wy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=T_(n,1,!1,null,null,a,u,f,m,_,w,null),n[Mr]=i.current,im(n.nodeType===8?n.parentNode:n),new Tm(i)},$l.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Qy,_=Yy,w=Wy,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=T_(n,1,!0,i,a??null,u,f,m,_,w,N,L),i.context=w_(null),a=i.current,u=wn(),f=Hi(u),f.callback=null,Gi(a,f,u),i.current.lanes=u,mt(i,u),Tr(i),n[Mr]=i.current,im(n),new Zc(i)},$l.version="19.0.0",$l}var B_;function Mb(){if(B_)return Am.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=Vb(),Am.exports}var Lb=Mb();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function Ub(r={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=_a(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Gm("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:ou(l))}function s(o,l){nr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return zb(e,t,s,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function nr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jb(){return Math.random().toString(36).substring(2,10)}function F_(r,e){return{usr:r.state,key:r.key,idx:e}}function Gm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_a(e):e,state:t,key:e&&e.key||s||jb()}}function ou({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function _a(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function zb(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let q=E(),Q=q==null?null:q-g;g=q,p&&p({action:d,location:Y.location,delta:Q})}function I(q,Q){d="PUSH";let X=Gm(Y.location,q,Q);t&&t(X,q),g=E()+1;let G=F_(X,g),oe=Y.createHref(X);try{h.pushState(G,"",oe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(oe)}l&&p&&p({action:d,location:Y.location,delta:1})}function k(q,Q){d="REPLACE";let X=Gm(Y.location,q,Q);t&&t(X,q),g=E();let G=F_(X,g),oe=Y.createHref(X);h.replaceState(G,"",oe),l&&p&&p({action:d,location:Y.location,delta:0})}function F(q){return Bb(q)}let Y={get action(){return d},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,T),p=q,()=>{o.removeEventListener(q_,T),p=null}},createHref(q){return e(o,q)},createURL:F,encodeLocation(q){let Q=F(q);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:k,go(q){return h.go(q)}};return Y}function Bb(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ou(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function zT(r,e,t="/"){return qb(r,e,t,!1)}function qb(r,e,t,s){let o=typeof e=="string"?_a(e):e,l=fi(o.pathname||"/",t);if(l==null)return null;let h=BT(r);Fb(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=eR(l);d=Zb(h[p],g,s)}return d}function BT(r,e=[],t=[],s="",o=!1){let l=(h,d,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;st(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ui([s,E.relativePath]),I=t.concat(E);h.children&&h.children.length>0&&(st(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BT(h.children,e,I,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Wb(T,h.index),routesMeta:I})};return r.forEach((h,d)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))l(h,d);else for(let g of qT(h.path))l(h,d,!0,g)}),e}function qT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=qT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function Fb(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Xb(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Hb=/^:[\w-]+$/,Gb=3,$b=2,Kb=1,Qb=10,Yb=-2,H_=r=>r==="*";function Wb(r,e){let t=r.split("/"),s=t.length;return t.some(H_)&&(s+=Yb),e&&(s+=$b),t.filter(o=>!H_(o)).reduce((o,l)=>o+(Hb.test(l)?Gb:l===""?Kb:Qb),s)}function Xb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Zb(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),I=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ui([l,T.pathname]),pathnameBase:iR(ui([l,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(l=ui([l,T.pathnameBase]))}return h}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Jb(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},I)=>{if(E==="*"){let F=d[I]||"";h=l.slice(0,l.length-F.length).replace(/(.)\/+$/,"$1")}const k=d[I];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function Jb(r,e=!1,t=!0){nr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function tR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?_a(r):r;return{pathname:t?t.startsWith("/")?t:nR(t,e):e,search:sR(s),hash:aR(o)}}function nR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cm(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function FT(r){let e=rR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function HT(r,e,t,s=!1){let o;typeof r=="string"?o=_a(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let p=tR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ui=r=>r.join("/").replace(/\/\/+/g,"/"),iR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function oR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var GT=["POST","PUT","PATCH","DELETE"];new Set(GT);var lR=["GET",...GT];new Set(lR);var xo=j.createContext(null);xo.displayName="DataRouter";var Kh=j.createContext(null);Kh.displayName="DataRouterState";j.createContext(!1);var $T=j.createContext({isTransitioning:!1});$T.displayName="ViewTransition";var uR=j.createContext(new Map);uR.displayName="Fetchers";var cR=j.createContext(null);cR.displayName="Await";var Or=j.createContext(null);Or.displayName="Navigation";var yu=j.createContext(null);yu.displayName="Location";var xr=j.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var Sp=j.createContext(null);Sp.displayName="RouteError";function hR(r,{relative:e}={}){st(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Or),{hash:o,pathname:l,search:h}=_u(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ui([t,l])),s.createHref({pathname:d,search:h,hash:o})}function vu(){return j.useContext(yu)!=null}function Ea(){return st(vu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(yu).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(r){j.useContext(Or).static||j.useLayoutEffect(r)}function _i(){let{isDataRoute:r}=j.useContext(xr);return r?AR():fR()}function fR(){st(vu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(xo),{basename:e,navigator:t}=j.useContext(Or),{matches:s}=j.useContext(xr),{pathname:o}=Ea(),l=JSON.stringify(FT(s)),h=j.useRef(!1);return QT(()=>{h.current=!0}),j.useCallback((p,g={})=>{if(nr(h.current,KT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=HT(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ui([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,r])}j.createContext(null);function YT(){let{matches:r}=j.useContext(xr),e=r[r.length-1];return e?e.params:{}}function _u(r,{relative:e}={}){let{matches:t}=j.useContext(xr),{pathname:s}=Ea(),o=JSON.stringify(FT(t));return j.useMemo(()=>HT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function dR(r,e){return WT(r,e)}function WT(r,e,t,s,o){var X;st(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Or),{matches:h}=j.useContext(xr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let G=T&&T.path||"";XT(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let I=Ea(),k;if(e){let G=typeof e=="string"?_a(e):e;st(E==="/"||((X=G.pathname)==null?void 0:X.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),k=G}else k=I;let F=k.pathname||"/",Y=F;if(E!=="/"){let G=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(G.length).join("/")}let q=zT(r,{pathname:Y});nr(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),nr(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=vR(q&&q.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:ui([E,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:ui([E,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),h,t,s,o);return e&&Q?j.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Q):Q}function mR(){let r=SR(),e=oR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var pR=j.createElement(mR,null),gR=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(xr.Provider,{value:this.props.routeContext},j.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:r,match:e,children:t}){let s=j.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(xr.Provider,{value:r},t)}function vR(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let g=l.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,p=-1;if(t)for(let g=0;g<l.length;g++){let E=l[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:I}=t,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||k){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,E,T)=>{let I,k=!1,F=null,Y=null;t&&(I=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||pR,d&&(p<0&&T===0?(XT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):p===T&&(k=!0,Y=E.route.hydrateFallbackElement||null)));let q=e.concat(l.slice(0,T+1)),Q=()=>{let X;return I?X=F:k?X=Y:E.route.Component?X=j.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=g,j.createElement(yR,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:X})};return t&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?j.createElement(gR,{location:t.location,revalidation:t.revalidation,component:F,error:I,children:Q(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):Q()},null)}function Ap(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _R(r){let e=j.useContext(xo);return st(e,Ap(r)),e}function ER(r){let e=j.useContext(Kh);return st(e,Ap(r)),e}function TR(r){let e=j.useContext(xr);return st(e,Ap(r)),e}function bp(r){let e=TR(r),t=e.matches[e.matches.length-1];return st(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function wR(){return bp("useRouteId")}function SR(){var s;let r=j.useContext(Sp),e=ER("useRouteError"),t=bp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function AR(){let{router:r}=_R("useNavigate"),e=bp("useNavigate"),t=j.useRef(!1);return QT(()=>{t.current=!0}),j.useCallback(async(o,l={})=>{nr(t.current,KT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var G_={};function XT(r,e,t){!e&&!G_[r]&&(G_[r]=!0,nr(!1,t))}j.memo(bR);function bR({routes:r,future:e,state:t,unstable_onError:s}){return WT(r,void 0,t,s,e)}function is(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){st(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=_a(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:I="default"}=t,k=j.useMemo(()=>{let F=fi(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:T,key:I},navigationType:s}},[h,p,g,E,T,I,s]);return nr(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(Or.Provider,{value:d},j.createElement(yu.Provider,{children:e,value:k}))}function IR({children:r,location:e}){return dR($m(r),e)}function $m(r,e=[]){let t=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,$m(s.props.children,l));return}st(s.type===is,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=$m(s.props.children,l)),t.push(h)}),t}var oh="get",lh="application/x-www-form-urlencoded";function Qh(r){return r!=null&&typeof r.tagName=="string"}function CR(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function NR(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function DR(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function OR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xR(r,e){return r.button===0&&(!e||e==="_self")&&!OR(r)}var eh=null;function kR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!PR.has(r)?(nr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function VR(r,e){let t,s,o,l,h;if(NR(r)){let d=r.getAttribute("action");s=d?fi(d,e):null,t=r.getAttribute("method")||oh,o=Nm(r.getAttribute("enctype"))||lh,l=new FormData(r)}else if(CR(r)||DR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?fi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||oh,o=Nm(r.getAttribute("formenctype"))||Nm(d.getAttribute("enctype"))||lh,l=new FormData(d,r),!kR()){let{name:g,type:E,value:T}=r;if(E==="image"){let I=g?`${g}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else g&&l.append(g,T)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oh,s=null,o=lh,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function MR(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&fi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function LR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jR(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await LR(l,t);return h.links?h.links():[]}return[]}));return FR(s.flat(1).filter(UR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $_(r,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function zR(r,e,{includeHydrateFallback:t}={}){return BR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function BR(r){return[...new Set(r)]}function qR(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function FR(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(qR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function ZT(){let r=j.useContext(xo);return Rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function HR(){let r=j.useContext(Kh);return Rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ip=j.createContext(void 0);Ip.displayName="FrameworkContext";function JT(){let r=j.useContext(Ip);return Rp(r,"You must render this element inside a <HydratedRouter> element"),r}function GR(r,e){let t=j.useContext(Ip),[s,o]=j.useState(!1),[l,h]=j.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,I=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=Q=>{Q.forEach(X=>{h(X.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return I.current&&q.observe(I.current),()=>{q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,I,{}]:[l,I,{onFocus:Kl(d,k),onBlur:Kl(p,F),onMouseEnter:Kl(g,k),onMouseLeave:Kl(E,F),onTouchStart:Kl(T,k)}]:[!1,I,{}]}function Kl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function $R({page:r,...e}){let{router:t}=ZT(),s=j.useMemo(()=>zT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?j.createElement(QR,{page:r,matches:s,...e}):null}function KR(r){let{manifest:e,routeModules:t}=JT(),[s,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return jR(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function QR({page:r,matches:e,...t}){let s=Ea(),{manifest:o,routeModules:l}=JT(),{basename:h}=ZT(),{loaderData:d,matches:p}=HR(),g=j.useMemo(()=>$_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=j.useMemo(()=>$_(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach(Q=>{var G;let X=o.routes[Q.route.id];!X||!X.hasLoader||(!g.some(oe=>oe.route.id===Q.route.id)&&Q.route.id in d&&((G=l[Q.route.id])!=null&&G.shouldRevalidate)||X.hasClientLoader?Y=!0:F.add(Q.route.id))}),F.size===0)return[];let q=MR(r,h,"data");return Y&&F.size>0&&q.searchParams.set("_routes",e.filter(Q=>F.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[q.pathname+q.search]},[h,d,s,o,g,e,r,l]),I=j.useMemo(()=>zR(E,o),[E,o]),k=KR(E);return j.createElement(j.Fragment,null,T.map(F=>j.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),I.map(F=>j.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),k.map(({key:F,link:Y})=>j.createElement("link",{key:F,nonce:t.nonce,...Y})))}function YR(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e0&&(window.__reactRouterVersion="7.8.2")}catch{}function WR({basename:r,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=Ub({window:t,v5Compat:!0}));let o=s.current,[l,h]=j.useState({action:o.action,location:o.location}),d=j.useCallback(p=>{j.startTransition(()=>h(p))},[h]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.createElement(RR,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...I},k){let{basename:F}=j.useContext(Or),Y=typeof g=="string"&&t0.test(g),q,Q=!1;if(typeof g=="string"&&Y&&(q=g,e0))try{let S=new URL(window.location.href),C=g.startsWith("//")?new URL(S.protocol+g):new URL(g),O=fi(C.pathname,F);C.origin===S.origin&&O!=null?g=O+C.search+C.hash:Q=!0}catch{nr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=hR(g,{relative:o}),[G,oe,ie]=GR(s,I),se=e1(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function x(S){e&&e(S),S.defaultPrevented||se(S)}let b=j.createElement("a",{...I,...ie,href:q||X,onClick:Q||l?e:x,ref:YR(k,oe),target:p,"data-discover":!Y&&t==="render"?"true":void 0});return G&&!Y?j.createElement(j.Fragment,null,b,j.createElement($R,{page:X})):b});n0.displayName="Link";var XR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let T=_u(h,{relative:g.relative}),I=Ea(),k=j.useContext(Kh),{navigator:F,basename:Y}=j.useContext(Or),q=k!=null&&s1(T)&&d===!0,Q=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,X=I.pathname,G=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||(X=X.toLowerCase(),G=G?G.toLowerCase():null,Q=Q.toLowerCase()),G&&Y&&(G=fi(G,Y)||G);const oe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ie=X===Q||!o&&X.startsWith(Q)&&X.charAt(oe)==="/",se=G!=null&&(G===Q||!o&&G.startsWith(Q)&&G.charAt(Q.length)==="/"),x={isActive:ie,isPending:se,isTransitioning:q},b=ie?e:void 0,S;typeof s=="function"?S=s(x):S=[s,ie?"active":null,se?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(x):l;return j.createElement(n0,{...g,"aria-current":b,className:S,ref:E,style:C,to:h,viewTransition:d},typeof p=="function"?p(x):p)});XR.displayName="NavLink";var ZR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=oh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...I},k)=>{let F=r1(),Y=i1(d,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&t0.test(d),X=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let oe=G.nativeEvent.submitter,ie=(oe==null?void 0:oe.getAttribute("formmethod"))||h;F(oe||G.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:T})};return j.createElement("form",{ref:k,method:q,action:Y,onSubmit:s?p:X,...I,"data-discover":!Q&&r==="render"?"true":void 0})});ZR.displayName="Form";function JR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(r){let e=j.useContext(xo);return st(e,JR(r)),e}function e1(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=_i(),p=Ea(),g=_u(r,{relative:l});return j.useCallback(E=>{if(xR(E,e)){E.preventDefault();let T=t!==void 0?t:ou(p)===ou(g);d(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,r,o,l,h])}var t1=0,n1=()=>`__${String(++t1)}__`;function r1(){let{router:r}=r0("useSubmit"),{basename:e}=j.useContext(Or),t=wR();return j.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=VR(s,e);if(o.navigate===!1){let E=o.fetcherKey||n1();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function i1(r,{relative:e}={}){let{basename:t}=j.useContext(Or),s=j.useContext(xr);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={..._u(r||".",{relative:e})},h=Ea();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ui([t,l.pathname])),ou(l)}function s1(r,{relative:e}={}){let t=j.useContext($T);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r0("useViewTransitionState"),o=_u(r,{relative:e});if(!t.isTransitioning)return!1;let l=fi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=fi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,l)!=null}const a1=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},o1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},s0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let I=(d&15)<<2|g>>6,k=g&63;p||(k=64,h||(I=64)),s.push(t[E],t[T],t[I],t[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(i0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):o1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new l1;const I=l<<2|d>>4;if(s.push(I),g!==64){const k=d<<4&240|g>>2;if(s.push(k),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(r){const e=i0(r);return s0.encodeByteArray(e,!0)},Th=function(r){return u1(r).replace(/\./g,"")},a0=function(r){try{return s0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,f1=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},d1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&a0(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return a1()||h1()||f1()||d1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o0=r=>{var e,t;return(t=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},m1=r=>{const e=o0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l0=()=>{var r;return(r=Yh())===null||r===void 0?void 0:r.config},u0=r=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Th(JSON.stringify(t)),Th(JSON.stringify(h)),""].join(".")}const eu={};function y1(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function v1(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Q_=!1;function h0(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||eu[r]===e||eu[r]||Q_)return;eu[r]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=y1().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,k){I.setAttribute("width","24"),I.setAttribute("id",k),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Q_=!0,h()},I}function E(I,k){I.setAttribute("id",k),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=v1(s),k=t("text"),F=document.getElementById(k)||document.createElement("span"),Y=t("learnmore"),q=document.getElementById(Y)||document.createElement("a"),Q=t("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const G=I.element;d(G),E(q,Y);const oe=g();p(X,Q),G.append(X,F,q,oe),document.body.appendChild(G)}l?(F.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function E1(){var r;const e=(r=Yh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f0(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function w1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function A1(){return!E1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d0(){try{return typeof indexedDB=="object"}catch{return!1}}function m0(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function b1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class sr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=R1,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?I1(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new sr(o,d,s)}}function I1(r,e){return r.replace(C1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C1=/\{\$([^}]+)}/g;function N1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ms(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(Y_(l)&&Y_(h)){if(!ms(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function D1(r,e){const t=new O1(r,e);return t.subscribe.bind(t)}class O1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");x1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1e3,P1=2,V1=4*60*60*1e3,M1=.5;function W_(r,e=k1,t=P1){const s=e*Math.pow(t,r),o=Math.round(M1*s*(Math.random()-.5)*2);return Math.min(V1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r){return r&&r._delegate?r._delegate:r}class rr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new p1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j1(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(r){return r===sa?void 0:r}function j1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const B1={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},q1=xe.INFO,F1={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},H1=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=F1[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=q1,this._logHandler=H1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const G1=(r,e)=>e.some(t=>r instanceof t);let X_,Z_;function $1(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Km=new WeakMap,g0=new WeakMap,Om=new WeakMap,Cp=new WeakMap;function Q1(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(us(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&p0.set(t,r)}).catch(()=>{}),Cp.set(e,r),e}function Y1(r){if(Km.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Qm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function W1(r){Qm=r(Qm)}function X1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(xm(this),e,...t);return g0.set(s,e.sort?e.sort():[e]),us(s)}:K1().includes(r)?function(...e){return r.apply(xm(this),e),us(p0.get(this))}:function(...e){return us(r.apply(xm(this),e))}}function Z1(r){return typeof r=="function"?X1(r):(r instanceof IDBTransaction&&Y1(r),G1(r,$1())?new Proxy(r,Qm):r)}function us(r){if(r instanceof IDBRequest)return Q1(r);if(Om.has(r))return Om.get(r);const e=Z1(r);return e!==r&&(Om.set(r,e),Cp.set(e,r)),e}const xm=r=>Cp.get(r);function y0(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=us(h);return s&&h.addEventListener("upgradeneeded",p=>{s(us(h.result),p.oldVersion,p.newVersion,us(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const J1=["get","getKey","getAll","getAllKeys","count"],eI=["put","add","delete","clear"],km=new Map;function J_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return km.set(e,l),l}W1(r=>({...r,get:(e,t,s)=>J_(e,t)||r.get(e,t,s),has:(e,t)=>!!J_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",eE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Wh("@firebase/app"),rI="@firebase/app-compat",iI="@firebase/analytics-compat",sI="@firebase/analytics",aI="@firebase/app-check-compat",oI="@firebase/app-check",lI="@firebase/auth",uI="@firebase/auth-compat",cI="@firebase/database",hI="@firebase/data-connect",fI="@firebase/database-compat",dI="@firebase/functions",mI="@firebase/functions-compat",pI="@firebase/installations",gI="@firebase/installations-compat",yI="@firebase/messaging",vI="@firebase/messaging-compat",_I="@firebase/performance",EI="@firebase/performance-compat",TI="@firebase/remote-config",wI="@firebase/remote-config-compat",SI="@firebase/storage",AI="@firebase/storage-compat",bI="@firebase/firestore",RI="@firebase/ai",II="@firebase/firestore-compat",CI="firebase",NI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="[DEFAULT]",DI={[Ym]:"fire-core",[rI]:"fire-core-compat",[sI]:"fire-analytics",[iI]:"fire-analytics-compat",[oI]:"fire-app-check",[aI]:"fire-app-check-compat",[lI]:"fire-auth",[uI]:"fire-auth-compat",[cI]:"fire-rtdb",[hI]:"fire-data-connect",[fI]:"fire-rtdb-compat",[dI]:"fire-fn",[mI]:"fire-fn-compat",[pI]:"fire-iid",[gI]:"fire-iid-compat",[yI]:"fire-fcm",[vI]:"fire-fcm-compat",[_I]:"fire-perf",[EI]:"fire-perf-compat",[TI]:"fire-rc",[wI]:"fire-rc-compat",[SI]:"fire-gcs",[AI]:"fire-gcs-compat",[bI]:"fire-fst",[II]:"fire-fst-compat",[RI]:"fire-vertex","fire-js":"fire-js",[CI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,OI=new Map,Xm=new Map;function tE(r,e){try{r.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Cr(r){const e=r.name;if(Xm.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const t of wh.values())tE(t,r);for(const t of OI.values())tE(t,r);return!0}function wa(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ta("app","Firebase",xI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=NI;function v0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=l0()),!t)throw cs.create("no-options");const l=wh.get(o);if(l){if(ms(t,l.options)&&ms(s,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const h=new z1(o);for(const p of Xm.values())h.addComponent(p);const d=new kI(t,s,h);return wh.set(o,d),d}function Np(r=Wm){const e=wh.get(r);if(!e&&r===Wm&&l0())return v0();if(!e)throw cs.create("no-app",{appName:r});return e}function Hn(r,e,t){var s;let o=(s=DI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(d.join(" "));return}Cr(new rr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebase-heartbeat-database",VI=1,lu="firebase-heartbeat-store";let Pm=null;function _0(){return Pm||(Pm=y0(PI,VI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(lu)}catch(t){console.warn(t)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),Pm}async function MI(r){try{const t=(await _0()).transaction(lu),s=await t.objectStore(lu).get(E0(r));return await t.done,s}catch(e){if(e instanceof sr)di.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function nE(r,e){try{const s=(await _0()).transaction(lu,"readwrite");await s.objectStore(lu).put(e,E0(r)),await s.done}catch(t){if(t instanceof sr)di.warn(t.message);else{const s=cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=1024,UI=30;class jI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new BI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=rE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>UI){const h=qI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rE(),{heartbeatsToSend:s,unsentEntries:o}=zI(this._heartbeatsCache.heartbeats),l=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return di.warn(t),""}}}function rE(){return new Date().toISOString().substring(0,10)}function zI(r,e=LI){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),iE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class BI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d0()?m0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iE(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function qI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){Cr(new rr("platform-logger",e=>new tI(e),"PRIVATE")),Cr(new rr("heartbeat",e=>new jI(e),"PRIVATE")),Hn(Ym,eE,r),Hn(Ym,eE,"esm2017"),Hn("fire-js","")}FI("");function Dp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HI=T0,w0=new Ta("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Wh("@firebase/auth");function GI(r,...e){Sh.logLevel<=xe.WARN&&Sh.warn(`Auth (${Po}): ${r}`,...e)}function uh(r,...e){Sh.logLevel<=xe.ERROR&&Sh.error(`Auth (${Po}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw xp(r,...e)}function tr(r,...e){return xp(r,...e)}function Op(r,e,t){const s=Object.assign(Object.assign({},HI()),{[e]:t});return new Ta("auth","Firebase",s).create(e,{appName:r.name})}function ci(r){return Op(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $I(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(r,"argument-error"),Op(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return w0.create(r,...e)}function Ee(r,e,...t){if(!r)throw xp(e,...t)}function oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function mi(r,e){r||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function KI(){return sE()==="http:"||sE()==="https:"}function sE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KI()||f0()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=_1()||w1()}get(){return QI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){mi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZI=new Tu(3e4,6e4);function ws(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ss(r,e,t,s,o={}){return A0(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Eu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return T1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),S0.fetch()(await b0(r,r.config.apiHost,t,d),g)})}async function A0(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},WI),e);try{const o=new eC(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw th(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Op(r,E,g);$n(r,E)}}catch(o){if(o instanceof sr)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function wu(r,e,t,s,o={}){const l=await Ss(r,e,t,s,o);return"mfaPendingCredential"in l&&$n(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function b0(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`;return XI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function JI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),ZI.get())})}}function th(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=tr(r,e,s);return o.customData._tokenResponse=t,o}function aE(r){return r!==void 0&&r.enterprise!==void 0}class tC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nC(r,e){return Ss(r,"GET","/v2/recaptchaConfig",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,e){return Ss(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return Ss(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(r,e=!1){const t=yt(r),s=await t.getIdToken(e),o=Pp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:tu(Vm(o.auth_time)),issuedAtTime:tu(Vm(o.iat)),expirationTime:tu(Vm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Vm(r){return Number(r)*1e3}function Pp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=a0(t);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function oE(r){const e=Pp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof sr&&sC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await uu(r,Ah(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?R0(l.providerUserInfo):[],d=lC(r.providerData,h),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jm(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,T)}async function oC(r){const e=yt(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function R0(r){return r.map(e=>{var{providerId:t}=e,s=Dp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,e){const t=await A0(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await b0(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(p.credentials="include"),S0.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cC(r,e){return Ss(r,"POST","/v2/accounts:revokeToken",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=oE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await uC(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new wo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await uu(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,k=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(h=t.photoURL)!==null&&h!==void 0?h:void 0,Y=(d=t.tenantId)!==null&&d!==void 0?d:void 0,q=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:oe,isAnonymous:ie,providerData:se,stsTokenManager:x}=t;Ee(G&&x,e,"internal-error");const b=wo.fromJSON(this.name,x);Ee(typeof G=="string",e,"internal-error"),rs(T,e.name),rs(I,e.name),Ee(typeof oe=="boolean",e,"internal-error"),Ee(typeof ie=="boolean",e,"internal-error"),rs(k,e.name),rs(F,e.name),rs(Y,e.name),rs(q,e.name),rs(Q,e.name),rs(X,e.name);const S=new er({uid:G,auth:e,email:I,emailVerified:oe,displayName:T,isAnonymous:ie,photoURL:F,phoneNumber:k,tenantId:Y,stsTokenManager:b,createdAt:Q,lastLoginAt:X});return se&&Array.isArray(se)&&(S.providerData=se.map(C=>Object.assign({},C))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const l=new er({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?R0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new wo;d.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Map;function li(r){mi(r instanceof Function,"Expected a class definition");let e=lE.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,lE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I0.type="NONE";const uE=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,l),this.fullPersistenceKey=ch("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ah(this.auth,{idToken:e}).catch(()=>{});return t?er._fromGetAccountInfoResponse(this.auth,t,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(li(uE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||li(uE);const h=ch(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const I=await Ah(e,{idToken:E}).catch(()=>{});if(!I)break;T=await er._fromGetAccountInfoResponse(e,I,E)}else T=er._fromJSON(e,E);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new So(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k0(e))return"Blackberry";if(P0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||D0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function C0(r=tn()){return/firefox\//i.test(r)}function N0(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D0(r=tn()){return/crios\//i.test(r)}function O0(r=tn()){return/iemobile/i.test(r)}function x0(r=tn()){return/android/i.test(r)}function k0(r=tn()){return/blackberry/i.test(r)}function P0(r=tn()){return/webos/i.test(r)}function Vp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hC(r=tn()){var e;return Vp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fC(){return S1()&&document.documentMode===10}function V0(r=tn()){return Vp(r)||x0(r)||P0(r)||k0(r)||/windows phone/i.test(r)||O0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r,e=[]){let t;switch(r){case"Browser":t=cE(tn());break;case"Worker":t=`${cE(tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(r,e={}){return Ss(r,"GET","/v2/passwordPolicy",ws(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class gC{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:pC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hE(this),this.idTokenSubscription=new hE(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ah(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(ci(this));const t=e?yt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mC(this),t=new gC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await cC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function As(r){return yt(r)}class hE{constructor(e){this.auth=e,this.observer=null,this.addObserver=D1(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(r){Xh=r}function L0(r){return Xh.loadJS(r)}function _C(){return Xh.recaptchaEnterpriseScript}function EC(){return Xh.gapiScript}function TC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class wC{constructor(){this.enterprise=new SC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const AC="recaptcha-enterprise",U0="NO_RECAPTCHA";class bC{constructor(e){this.type=AC,this.auth=As(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{nC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new tC(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;aE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(U0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wC().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&aE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_C();p.length!==0&&(p+=d),L0(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function fE(r,e,t,s=!1,o=!1){const l=new bC(r);let h;if(o)h=U0;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ep(r,e,t,s,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await fE(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await fE(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r,e){const t=wa(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ms(l,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function IC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(li);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CC(r,e,t){const s=As(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=j0(e),{host:h,port:d}=NC(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ms(g,s.config.emulator)&&ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ko(h)?(c0(`${l}//${h}${p}`),h0("Auth",!0)):DC()}function j0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function NC(r){const e=j0(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:dE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:dE(h)}}}function dE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function OC(r,e){return Ss(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(r,e){return wu(r,"POST","/v1/accounts:signInWithPassword",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}async function PC(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Mp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new cu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new cu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,t,"signInWithPassword",xC);case"emailLink":return kC(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ep(e,s,"signUpPassword",OC);case"emailLink":return PC(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,e){return wu(r,"POST","/v1/accounts:signInWithIdp",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="http://localhost";class da extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Dp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new da(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:VC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LC(r){const e=Ql(Yl(r)).link,t=e?Ql(Yl(e)).deep_link_id:null,s=Ql(Yl(r)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||t||e||r}class Lp{constructor(e){var t,s,o,l,h,d;const p=Ql(Yl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=MC((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=LC(e);try{return new Lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lp.parseLink(t);return Ee(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Su{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return da._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ai.credential(t,s)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Su{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Su{constructor(){super("twitter.com")}static credential(e,t){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return os.credential(t,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(r,e){return wu(r,"POST","/v1/accounts:signUp",ws(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await er._fromIdTokenResponse(e,s,o),h=mE(s);return new ma({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=mE(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function mE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends sr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Rh(e,t,s,o)}}function z0(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(r,l,e,s):l})}async function jC(r,e,t=!1){const s=await uu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ma._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e,t=!1){const{auth:s}=r;if(Sn(s.app))return Promise.reject(ci(s));const o="reauthenticate";try{const l=await uu(r,z0(s,o,e,r),t);Ee(l.idToken,s,"internal-error");const h=Pp(l.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(r.uid===d,s,"user-mismatch"),ma._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B0(r,e,t=!1){if(Sn(r.app))return Promise.reject(ci(r));const s="signIn",o=await z0(r,s,e),l=await ma._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function BC(r,e){return B0(As(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(r){const e=As(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qC(r,e,t){if(Sn(r.app))return Promise.reject(ci(r));const s=As(r),h=await ep(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q0(r),p}),d=await ma._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function FC(r,e,t){return Sn(r.app)?Promise.reject(ci(r)):BC(yt(r),Vo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&q0(r),s})}function HC(r,e,t,s){return yt(r).onIdTokenChanged(e,t,s)}function GC(r,e,t){return yt(r).beforeAuthStateChanged(e,t)}function $C(r,e,t,s){return yt(r).onAuthStateChanged(e,t,s)}function KC(r){return yt(r).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1e3,YC=10;class H0 extends F0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);fC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}H0.type="LOCAL";const WC=H0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends F0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}G0.type="SESSION";const $0=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await XC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function JC(r){Sr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function eN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function nN(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",rN=1,Ch="firebaseLocalStorage",Y0="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function iN(){const r=indexedDB.deleteDatabase(Q0);return new Au(r).toPromise()}function tp(){const r=indexedDB.open(Q0,rN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:Y0})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await iN(),e(await tp()))})})}async function pE(r,e,t){const s=Jh(r,!0).put({[Y0]:e,value:t});return new Au(s).toPromise()}async function sN(r,e){const t=Jh(r,!1).get(e),s=await new Au(t).toPromise();return s===void 0?null:s.value}function gE(r,e){const t=Jh(r,!0).delete(e);return new Au(t).toPromise()}const aN=800,oN=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>oN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(nN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eN(),!this.activeServiceWorker)return;this.sender=new ZC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await pE(e,Ih,"1"),await gE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>pE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>sN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>gE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Jh(o,!1).getAll();return new Au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const lN=W0;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(r,e){return e?li(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uN(r){return B0(r.auth,new zp(r),r.bypassAuthState)}function cN(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),zC(t,new zp(r),r.bypassAuthState)}async function hN(r){const{auth:e,user:t}=r;return Ee(t,e,"internal-error"),jC(t,new zp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uN;case"linkViaPopup":case"linkViaRedirect":return hN;case"reauthViaPopup":case"reauthViaRedirect":return cN;default:$n(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Tu(2e3,1e4);async function dN(r,e,t){if(Sn(r.app))return Promise.reject(tr(r,"operation-not-supported-in-this-environment"));const s=As(r);$I(r,e,Up);const o=X0(s,t);return new aa(s,"signInViaPopup",e,o).executeNotNull()}class aa extends Z0{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fN.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",hh=new Map;class pN extends Z0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await gN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gN(r,e){const t=_N(e),s=vN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function yN(r,e){hh.set(r._key(),e)}function vN(r){return li(r._redirectPersistence)}function _N(r){return ch(mN,r.config.apiKey,r.name)}async function EN(r,e,t=!1){if(Sn(r.app))return Promise.reject(ci(r));const s=As(r),o=X0(s,e),h=await new pN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=10*60*1e3;class wN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!J0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TN&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function J0({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e={}){return Ss(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RN=/^https?/;async function IN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AN(r);for(const t of e)try{if(CN(t))return}catch{}$n(r,"unauthorized-domain")}function CN(r){const e=Zm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!RN.test(t))return!1;if(bN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Tu(3e4,6e4);function vE(){const r=Sr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DN(r){return new Promise((e,t)=>{var s,o,l;function h(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),t(tr(r,"network-request-failed"))},timeout:NN.get()})}if(!((o=(s=Sr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Sr().gapi)===null||l===void 0)&&l.load)h();else{const d=TC("iframefcb");return Sr()[d]=()=>{gapi.load?h():t(tr(r,"network-request-failed"))},L0(`${EC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function ON(r){return fh=fh||DN(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Tu(5e3,15e3),kN="__/auth/iframe",PN="emulator/auth/iframe",VN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?kp(e,PN):`https://${r.config.authDomain}/${kN}`,s={apiKey:e.apiKey,appName:r.name,v:Po},o=MN.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Eu(s).slice(1)}`}async function UN(r){const e=await ON(r),t=Sr().gapi;return Ee(t,r,"internal-error"),e.open({where:document.body,url:LN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=tr(r,"network-request-failed"),d=Sr().setTimeout(()=>{l(h)},xN.get());function p(){Sr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zN=500,BN=600,qN="_blank",FN="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HN(r,e,t,s=zN,o=BN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},jN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=tn().toLowerCase();t&&(d=D0(g)?qN:t),C0(g)&&(e=e||FN,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[k,F])=>`${I}${k}=${F},`,"");if(hC(g)&&d!=="_self")return GN(e||"",d),new _E(null);const T=window.open(e||"",d,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new _E(T)}function GN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="__/auth/handler",KN="emulator/auth/handler",QN=encodeURIComponent("fac");async function EE(r,e,t,s,o,l){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Po,eventId:o};if(e instanceof Up){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",N1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Su){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await r._getAppCheckToken(),g=p?`#${QN}=${encodeURIComponent(p)}`:"";return`${YN(r)}?${Eu(d).slice(1)}${g}`}function YN({config:r}){return r.emulator?kp(r,KN):`https://${r.authDomain}/${$N}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class WN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=EN,this._overrideRedirectResult=yN}async _openPopup(e,t,s,o){var l;mi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await EE(e,t,s,Zm(),o);return HN(e,h,jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await EE(e,t,s,Zm(),o);return JC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(mi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await UN(e),s=new wN(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mm,{type:Mm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Mm];h!==void 0&&t(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V0()||N0()||Vp()}}const XN=WN;var TE="@firebase/auth",wE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eD(r){Cr(new rr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(r)},g=new yC(s,o,l,p);return IC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Cr(new rr("auth-internal",e=>{const t=As(e.getProvider("auth").getImmediate());return(s=>new ZN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(TE,wE,JN(r)),Hn(TE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=5*60,nD=u0("authIdTokenMaxAge")||tD;let SE=null;const rD=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>nD)return;const o=t==null?void 0:t.token;SE!==o&&(SE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iD(r=Np()){const e=wa(r,"auth");if(e.isInitialized())return e.getImmediate();const t=RC(r,{popupRedirectResolver:XN,persistence:[lN,WC,$0]}),s=u0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=rD(l.toString());GC(t,h,()=>h(t.currentUser)),HC(t,d=>h(d))}}const o=o0("auth");return o&&CC(t,`http://${o}`),t}function sD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}vC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=tr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",sD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eD("Browser");var aD="firebase",oD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(aD,oD,"app");const ew="@firebase/installations",Bp="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=1e4,nw=`w:${Bp}`,rw="FIS_v2",lD="https://firebaseinstallations.googleapis.com/v1",uD=60*60*1e3,cD="installations",hD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new Ta(cD,hD,fD);function iw(r){return r instanceof sr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw({projectId:r}){return`${lD}/projects/${r}/installations`}function aw(r){return{token:r.token,requestStatus:2,expiresIn:mD(r.expiresIn),creationTime:Date.now()}}async function ow(r,e){const s=(await e.json()).error;return pa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function lw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function dD(r,{refreshToken:e}){const t=lw(r);return t.append("Authorization",pD(e)),t}async function uw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function mD(r){return Number(r.replace("s","000"))}function pD(r){return`${rw} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const s=sw(r),o=lw(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:rw,appId:r.appId,sdkVersion:nw},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await uw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:aw(g.authToken)}}else throw await ow("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^[cdef][\w-]{21}$/,np="";function _D(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=ED(r);return vD.test(t)?t:np}catch{return np}}function ED(r){return yD(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function fw(r,e){const t=ef(r);dw(t,e),TD(t,e)}function dw(r,e){const t=hw.get(r);if(t)for(const s of t)s(e)}function TD(r,e){const t=wD();t&&t.postMessage({key:r,fid:e}),SD()}let oa=null;function wD(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=r=>{dw(r.data.key,r.data.fid)}),oa}function SD(){hw.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="firebase-installations-database",bD=1,ga="firebase-installations-store";let Lm=null;function qp(){return Lm||(Lm=y0(AD,bD,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ga)}}})),Lm}async function Nh(r,e){const t=ef(r),o=(await qp()).transaction(ga,"readwrite"),l=o.objectStore(ga),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&fw(r,e.fid),e}async function mw(r){const e=ef(r),s=(await qp()).transaction(ga,"readwrite");await s.objectStore(ga).delete(e),await s.done}async function tf(r,e){const t=ef(r),o=(await qp()).transaction(ga,"readwrite"),l=o.objectStore(ga),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&fw(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(r){let e;const t=await tf(r.appConfig,s=>{const o=RD(s),l=ID(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===np?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function RD(r){const e=r||{fid:_D(),registrationStatus:0};return pw(e)}function ID(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=CD(r,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ND(r)}:{installationEntry:e}}async function CD(r,e){try{const t=await gD(r,e);return Nh(r.appConfig,t)}catch(t){throw iw(t)&&t.customData.serverCode===409?await mw(r.appConfig):await Nh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ND(r){let e=await AE(r.appConfig);for(;e.registrationStatus===1;)await cw(100),e=await AE(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Fp(r);return s||t}return e}function AE(r){return tf(r,e=>{if(!e)throw pa.create("installation-not-found");return pw(e)})}function pw(r){return DD(r)?{fid:r.fid,registrationStatus:0}:r}function DD(r){return r.registrationStatus===1&&r.registrationTime+tw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD({appConfig:r,heartbeatServiceProvider:e},t){const s=xD(r,t),o=dD(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:nw,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await uw(()=>fetch(s,d));if(p.ok){const g=await p.json();return aw(g)}else throw await ow("Generate Auth Token",p)}function xD(r,{fid:e}){return`${sw(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(r,e=!1){let t;const s=await tf(r.appConfig,l=>{if(!gw(l))throw pa.create("not-registered");const h=l.authToken;if(!e&&VD(h))return l;if(h.requestStatus===1)return t=kD(r,e),l;{if(!navigator.onLine)throw pa.create("app-offline");const d=LD(l);return t=PD(r,d),d}});return t?await t:s.authToken}async function kD(r,e){let t=await bE(r.appConfig);for(;t.authToken.requestStatus===1;)await cw(100),t=await bE(r.appConfig);const s=t.authToken;return s.requestStatus===0?Hp(r,e):s}function bE(r){return tf(r,e=>{if(!gw(e))throw pa.create("not-registered");const t=e.authToken;return UD(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PD(r,e){try{const t=await OD(r,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Nh(r.appConfig,s),t}catch(t){if(iw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await mw(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nh(r.appConfig,s)}throw t}}function gw(r){return r!==void 0&&r.registrationStatus===2}function VD(r){return r.requestStatus===2&&!MD(r)}function MD(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+uD}function LD(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function UD(r){return r.requestStatus===1&&r.requestTime+tw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(r){const e=r,{installationEntry:t,registrationPromise:s}=await Fp(e);return s?s.catch(console.error):Hp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(r,e=!1){const t=r;return await BD(t),(await Hp(t,e)).token}async function BD(r){const{registrationPromise:e}=await Fp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){if(!r||!r.options)throw Um("App Configuration");if(!r.name)throw Um("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Um(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Um(r){return pa.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="installations",FD="installations-internal",HD=r=>{const e=r.getProvider("app").getImmediate(),t=qD(e),s=wa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GD=r=>{const e=r.getProvider("app").getImmediate(),t=wa(e,yw).getImmediate();return{getId:()=>jD(t),getToken:o=>zD(t,o)}};function $D(){Cr(new rr(yw,HD,"PUBLIC")),Cr(new rr(FD,GD,"PRIVATE"))}$D();Hn(ew,Bp);Hn(ew,Bp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",KD="firebase_id",QD="origin",YD=60*1e3,WD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new Ta("analytics","Analytics",XD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r){if(!r.startsWith(Gp)){const e=bn.create("invalid-gtag-resource",{gtagURL:r});return mn.warn(e.message),""}return r}function vw(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function JD(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function e2(r,e){const t=JD("firebase-js-sdk-policy",{createScriptURL:ZD}),s=document.createElement("script"),o=`${Gp}?l=${r}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function t2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function n2(r,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await vw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){mn.error(d)}r("config",o,l)}async function r2(r,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await vw(t);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",s,o||{})}catch(l){mn.error(l)}}function i2(r,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await r2(r,e,t,d,p)}else if(l==="config"){const[d,p]=h;await n2(r,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;r("consent",d,p)}else if(l==="get"){const[d,p,g]=h;r("get",d,p,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){mn.error(d)}}return o}function s2(r,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=i2(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function a2(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=30,l2=1e3;class u2{constructor(e={},t=l2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const _w=new u2;function c2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function h2(r){var e;const{appId:t,apiKey:s}=r,o={method:"GET",headers:c2(s)},l=WD.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function f2(r,e=_w,t){const{appId:s,apiKey:o,measurementId:l}=r.options;if(!s)throw bn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw bn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new p2;return setTimeout(async()=>{d.abort()},YD),Ew({appId:s,apiKey:o,measurementId:l},h,d,e)}async function Ew(r,{throttleEndTimeMillis:e,backoffCount:t},s,o=_w){var l;const{appId:h,measurementId:d}=r;try{await d2(s,e)}catch(p){if(d)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await h2(r);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!m2(g)){if(o.deleteThrottleMetadata(h),d)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?W_(t,o.intervalMillis,o2):W_(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,T),mn.debug(`Calling attemptFetch again in ${E} millis`),Ew(r,T,s,o)}}function d2(r,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),s(bn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m2(r){if(!(r instanceof sr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class p2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function g2(r,e,t,s,o){if(o&&o.global){r("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(){if(d0())try{await m0()}catch(r){return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return mn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function v2(r,e,t,s,o,l,h){var d;const p=f2(r);p.then(k=>{t[k.measurementId]=k.appId,r.options.measurementId&&k.measurementId!==r.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>mn.error(k)),e.push(p);const g=y2().then(k=>{if(k)return s.getId()}),[E,T]=await Promise.all([p,g]);a2(l)||e2(l,E.measurementId),o("js",new Date);const I=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return I[QD]="firebase",I.update=!0,T!=null&&(I[KD]=T),o("config",E.measurementId,I),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.app=e}_delete(){return delete nu[this.app.options.appId],Promise.resolve()}}let nu={},RE=[];const IE={};let jm="dataLayer",E2="gtag",CE,Tw,NE=!1;function T2(){const r=[];if(f0()&&r.push("This is a browser extension environment."),b1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=bn.create("invalid-analytics-context",{errorInfo:e});mn.warn(t.message)}}function w2(r,e,t){T2();const s=r.options.appId;if(!s)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(nu[s]!=null)throw bn.create("already-exists",{id:s});if(!NE){t2(jm);const{wrappedGtag:l,gtagCore:h}=s2(nu,RE,IE,jm,E2);Tw=l,CE=h,NE=!0}return nu[s]=v2(r,RE,IE,e,CE,jm,t),new _2(r)}function S2(r=Np()){r=yt(r);const e=wa(r,Dh);return e.isInitialized()?e.getImmediate():A2(r)}function A2(r,e={}){const t=wa(r,Dh);if(t.isInitialized()){const o=t.getImmediate();if(ms(e,t.getOptions()))return o;throw bn.create("already-initialized")}return t.initialize({options:e})}function b2(r,e,t,s){r=yt(r),g2(Tw,nu[r.app.options.appId],e,t,s).catch(o=>mn.error(o))}const DE="@firebase/analytics",OE="0.10.17";function R2(){Cr(new rr(Dh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return w2(s,o,t)},"PUBLIC")),Cr(new rr("analytics-internal",r,"PRIVATE")),Hn(DE,OE),Hn(DE,OE,"esm2017");function r(e){try{const t=e.getProvider(Dh).getImmediate();return{logEvent:(s,o,l)=>b2(t,s,o,l)}}catch(t){throw bn.create("interop-component-reg-failed",{reason:t})}}}R2();var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,ww;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function S(){}S.prototype=b.prototype,x.D=b.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(C,O,V){for(var D=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)D[Ve-2]=arguments[Ve];return b.prototype[O].apply(C,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,S){S||(S=0);var C=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)C[O]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(O=0;16>O;++O)C[O]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=x.g[0],S=x.g[1],O=x.g[2];var V=x.g[3],D=b+(V^S&(O^V))+C[0]+3614090360&4294967295;b=S+(D<<7&4294967295|D>>>25),D=V+(O^b&(S^O))+C[1]+3905402710&4294967295,V=b+(D<<12&4294967295|D>>>20),D=O+(S^V&(b^S))+C[2]+606105819&4294967295,O=V+(D<<17&4294967295|D>>>15),D=S+(b^O&(V^b))+C[3]+3250441966&4294967295,S=O+(D<<22&4294967295|D>>>10),D=b+(V^S&(O^V))+C[4]+4118548399&4294967295,b=S+(D<<7&4294967295|D>>>25),D=V+(O^b&(S^O))+C[5]+1200080426&4294967295,V=b+(D<<12&4294967295|D>>>20),D=O+(S^V&(b^S))+C[6]+2821735955&4294967295,O=V+(D<<17&4294967295|D>>>15),D=S+(b^O&(V^b))+C[7]+4249261313&4294967295,S=O+(D<<22&4294967295|D>>>10),D=b+(V^S&(O^V))+C[8]+1770035416&4294967295,b=S+(D<<7&4294967295|D>>>25),D=V+(O^b&(S^O))+C[9]+2336552879&4294967295,V=b+(D<<12&4294967295|D>>>20),D=O+(S^V&(b^S))+C[10]+4294925233&4294967295,O=V+(D<<17&4294967295|D>>>15),D=S+(b^O&(V^b))+C[11]+2304563134&4294967295,S=O+(D<<22&4294967295|D>>>10),D=b+(V^S&(O^V))+C[12]+1804603682&4294967295,b=S+(D<<7&4294967295|D>>>25),D=V+(O^b&(S^O))+C[13]+4254626195&4294967295,V=b+(D<<12&4294967295|D>>>20),D=O+(S^V&(b^S))+C[14]+2792965006&4294967295,O=V+(D<<17&4294967295|D>>>15),D=S+(b^O&(V^b))+C[15]+1236535329&4294967295,S=O+(D<<22&4294967295|D>>>10),D=b+(O^V&(S^O))+C[1]+4129170786&4294967295,b=S+(D<<5&4294967295|D>>>27),D=V+(S^O&(b^S))+C[6]+3225465664&4294967295,V=b+(D<<9&4294967295|D>>>23),D=O+(b^S&(V^b))+C[11]+643717713&4294967295,O=V+(D<<14&4294967295|D>>>18),D=S+(V^b&(O^V))+C[0]+3921069994&4294967295,S=O+(D<<20&4294967295|D>>>12),D=b+(O^V&(S^O))+C[5]+3593408605&4294967295,b=S+(D<<5&4294967295|D>>>27),D=V+(S^O&(b^S))+C[10]+38016083&4294967295,V=b+(D<<9&4294967295|D>>>23),D=O+(b^S&(V^b))+C[15]+3634488961&4294967295,O=V+(D<<14&4294967295|D>>>18),D=S+(V^b&(O^V))+C[4]+3889429448&4294967295,S=O+(D<<20&4294967295|D>>>12),D=b+(O^V&(S^O))+C[9]+568446438&4294967295,b=S+(D<<5&4294967295|D>>>27),D=V+(S^O&(b^S))+C[14]+3275163606&4294967295,V=b+(D<<9&4294967295|D>>>23),D=O+(b^S&(V^b))+C[3]+4107603335&4294967295,O=V+(D<<14&4294967295|D>>>18),D=S+(V^b&(O^V))+C[8]+1163531501&4294967295,S=O+(D<<20&4294967295|D>>>12),D=b+(O^V&(S^O))+C[13]+2850285829&4294967295,b=S+(D<<5&4294967295|D>>>27),D=V+(S^O&(b^S))+C[2]+4243563512&4294967295,V=b+(D<<9&4294967295|D>>>23),D=O+(b^S&(V^b))+C[7]+1735328473&4294967295,O=V+(D<<14&4294967295|D>>>18),D=S+(V^b&(O^V))+C[12]+2368359562&4294967295,S=O+(D<<20&4294967295|D>>>12),D=b+(S^O^V)+C[5]+4294588738&4294967295,b=S+(D<<4&4294967295|D>>>28),D=V+(b^S^O)+C[8]+2272392833&4294967295,V=b+(D<<11&4294967295|D>>>21),D=O+(V^b^S)+C[11]+1839030562&4294967295,O=V+(D<<16&4294967295|D>>>16),D=S+(O^V^b)+C[14]+4259657740&4294967295,S=O+(D<<23&4294967295|D>>>9),D=b+(S^O^V)+C[1]+2763975236&4294967295,b=S+(D<<4&4294967295|D>>>28),D=V+(b^S^O)+C[4]+1272893353&4294967295,V=b+(D<<11&4294967295|D>>>21),D=O+(V^b^S)+C[7]+4139469664&4294967295,O=V+(D<<16&4294967295|D>>>16),D=S+(O^V^b)+C[10]+3200236656&4294967295,S=O+(D<<23&4294967295|D>>>9),D=b+(S^O^V)+C[13]+681279174&4294967295,b=S+(D<<4&4294967295|D>>>28),D=V+(b^S^O)+C[0]+3936430074&4294967295,V=b+(D<<11&4294967295|D>>>21),D=O+(V^b^S)+C[3]+3572445317&4294967295,O=V+(D<<16&4294967295|D>>>16),D=S+(O^V^b)+C[6]+76029189&4294967295,S=O+(D<<23&4294967295|D>>>9),D=b+(S^O^V)+C[9]+3654602809&4294967295,b=S+(D<<4&4294967295|D>>>28),D=V+(b^S^O)+C[12]+3873151461&4294967295,V=b+(D<<11&4294967295|D>>>21),D=O+(V^b^S)+C[15]+530742520&4294967295,O=V+(D<<16&4294967295|D>>>16),D=S+(O^V^b)+C[2]+3299628645&4294967295,S=O+(D<<23&4294967295|D>>>9),D=b+(O^(S|~V))+C[0]+4096336452&4294967295,b=S+(D<<6&4294967295|D>>>26),D=V+(S^(b|~O))+C[7]+1126891415&4294967295,V=b+(D<<10&4294967295|D>>>22),D=O+(b^(V|~S))+C[14]+2878612391&4294967295,O=V+(D<<15&4294967295|D>>>17),D=S+(V^(O|~b))+C[5]+4237533241&4294967295,S=O+(D<<21&4294967295|D>>>11),D=b+(O^(S|~V))+C[12]+1700485571&4294967295,b=S+(D<<6&4294967295|D>>>26),D=V+(S^(b|~O))+C[3]+2399980690&4294967295,V=b+(D<<10&4294967295|D>>>22),D=O+(b^(V|~S))+C[10]+4293915773&4294967295,O=V+(D<<15&4294967295|D>>>17),D=S+(V^(O|~b))+C[1]+2240044497&4294967295,S=O+(D<<21&4294967295|D>>>11),D=b+(O^(S|~V))+C[8]+1873313359&4294967295,b=S+(D<<6&4294967295|D>>>26),D=V+(S^(b|~O))+C[15]+4264355552&4294967295,V=b+(D<<10&4294967295|D>>>22),D=O+(b^(V|~S))+C[6]+2734768916&4294967295,O=V+(D<<15&4294967295|D>>>17),D=S+(V^(O|~b))+C[13]+1309151649&4294967295,S=O+(D<<21&4294967295|D>>>11),D=b+(O^(S|~V))+C[4]+4149444226&4294967295,b=S+(D<<6&4294967295|D>>>26),D=V+(S^(b|~O))+C[11]+3174756917&4294967295,V=b+(D<<10&4294967295|D>>>22),D=O+(b^(V|~S))+C[2]+718787259&4294967295,O=V+(D<<15&4294967295|D>>>17),D=S+(V^(O|~b))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var S=b-this.blockSize,C=this.B,O=this.h,V=0;V<b;){if(O==0)for(;V<=S;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<b;)if(C[O++]=x.charCodeAt(V++),O==this.blockSize){o(this,C),O=0;break}}else for(;V<b;)if(C[O++]=x[V++],O==this.blockSize){o(this,C),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var S=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=S&255,S/=256;for(this.u(x),x=Array(16),b=S=0;4>b;++b)for(var C=0;32>C;C+=8)x[S++]=this.g[b]>>>C&255;return x};function l(x,b){var S=d;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=b(x)}function h(x,b){this.h=b;for(var S=[],C=!0,O=x.length-1;0<=O;O--){var V=x[O]|0;C&&V==b||(S[O]=V,C=!1)}this.g=S}var d={};function p(x){return-128<=x&&128>x?l(x,function(b){return new h([b|0],0>b?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return q(g(-x));for(var b=[],S=1,C=0;x>=S;C++)b[C]=x/S|0,S*=4294967296;return new h(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return q(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(b,8)),C=T,O=0;O<x.length;O+=8){var V=Math.min(8,x.length-O),D=parseInt(x.substring(O,O+V),b);8>V?(V=g(Math.pow(b,V)),C=C.j(V).add(g(D))):(C=C.j(S),C=C.add(g(D)))}return C}var T=p(0),I=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var x=0,b=1,S=0;S<this.g.length;S++){var C=this.i(S);x+=(0<=C?C:4294967296+C)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(F(this))return"0";if(Y(this))return"-"+q(this).toString(x);for(var b=g(Math.pow(x,6)),S=this,C="";;){var O=oe(S,b).g;S=Q(S,O.j(b));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,F(S))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function F(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function Y(x){return x.h==-1}r.l=function(x){return x=Q(this,x),Y(x)?-1:F(x)?0:1};function q(x){for(var b=x.g.length,S=[],C=0;C<b;C++)S[C]=~x.g[C];return new h(S,~x.h).add(I)}r.abs=function(){return Y(this)?q(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0,O=0;O<=b;O++){var V=C+(this.i(O)&65535)+(x.i(O)&65535),D=(V>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);C=D>>>16,V&=65535,D&=65535,S[O]=D<<16|V}return new h(S,S[S.length-1]&-2147483648?-1:0)};function Q(x,b){return x.add(q(b))}r.j=function(x){if(F(this)||F(x))return T;if(Y(this))return Y(x)?q(this).j(q(x)):q(q(this).j(x));if(Y(x))return q(this.j(q(x)));if(0>this.l(k)&&0>x.l(k))return g(this.m()*x.m());for(var b=this.g.length+x.g.length,S=[],C=0;C<2*b;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<x.g.length;O++){var V=this.i(C)>>>16,D=this.i(C)&65535,Ve=x.i(O)>>>16,ze=x.i(O)&65535;S[2*C+2*O]+=D*ze,X(S,2*C+2*O),S[2*C+2*O+1]+=V*ze,X(S,2*C+2*O+1),S[2*C+2*O+1]+=D*Ve,X(S,2*C+2*O+1),S[2*C+2*O+2]+=V*Ve,X(S,2*C+2*O+2)}for(C=0;C<b;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=b;C<2*b;C++)S[C]=0;return new h(S,0)};function X(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function G(x,b){this.g=x,this.h=b}function oe(x,b){if(F(b))throw Error("division by zero");if(F(x))return new G(T,T);if(Y(x))return b=oe(q(x),b),new G(q(b.g),q(b.h));if(Y(b))return b=oe(x,q(b)),new G(q(b.g),b.h);if(30<x.g.length){if(Y(x)||Y(b))throw Error("slowDivide_ only works with positive integers.");for(var S=I,C=b;0>=C.l(x);)S=ie(S),C=ie(C);var O=se(S,1),V=se(C,1);for(C=se(C,2),S=se(S,2);!F(C);){var D=V.add(C);0>=D.l(x)&&(O=O.add(S),V=D),C=se(C,1),S=se(S,1)}return b=Q(x,O.j(b)),new G(O,b)}for(O=T;0<=x.l(b);){for(S=Math.max(1,Math.floor(x.m()/b.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=g(S),D=V.j(b);Y(D)||0<D.l(x);)S-=C,V=g(S),D=V.j(b);F(V)&&(V=I),O=O.add(V),x=Q(x,D)}return new G(O,x)}r.A=function(x){return oe(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)&x.i(C);return new h(S,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)|x.i(C);return new h(S,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)^x.i(C);return new h(S,this.h^x.h)};function ie(x){for(var b=x.g.length+1,S=[],C=0;C<b;C++)S[C]=x.i(C)<<1|x.i(C-1)>>>31;return new h(S,x.h)}function se(x,b){var S=b>>5;b%=32;for(var C=x.g.length-S,O=[],V=0;V<C;V++)O[V]=0<b?x.i(V+S)>>>b|x.i(V+S+1)<<32-b:x.i(V+S);return new h(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ww=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,hs=h}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,Wl,Aw,dh,rp,bw,Rw,Iw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function I(c,y,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,I.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function F(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,$){for(var ae=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ae[Me-2]=arguments[Me];return y.prototype[z].apply(A,ae)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,$=A.length||0;c.length=z+$;for(let ae=0;ae<$;ae++)c[z+ae]=A[ae]}else c.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ie=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function se(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function b(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let $=0;$<S.length;$++)v=S[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function O(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ve{constructor(){this.h=this.g=null}add(y,v){const A=ze.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ze=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ve=!1,Ge=new Ve,P=()=>{const c=d.Promise.resolve(void 0);ye=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){V(v)}var y=ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ie(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}F(Ie,ce);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,v,A,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=Rn(c,y,A,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new ot(y,this.src,$,!!A,z),y.fa=v,c.push(y)),y};function kr(c,y){var v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(A,z,1),$&&(Qe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rn(c,y,v,A){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==A)return z}return-1}var Ei="closure_lm_"+(1e6*Math.random()|0),Ti={};function Pr(c,y,v,A,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Pr(c,y[$],v,A,z);return null}return v=ku(v),c&&c[vt]?c.K(y,v,g(A)?!!A.capture:!1,z):zo(c,y,v,!1,A,z)}function zo(c,y,v,A,z,$){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Me=Bo(c);if(Me||(c[Ei]=Me=new nn(c)),v=Me.add(y,v,A,ae,$),v.proxy)return v;if(A=Ra(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)he||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(Ca(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ra(){function c(v){return y.call(c.src,c.listener,v)}const y=Af;return c}function Ia(c,y,v,A,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ia(c,y[$],v,A,z);else A=g(A)?!!A.capture:!!A,v=ku(v),c&&c[vt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=Rn($,v,A,z),-1<v&&(Qe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Bo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,v,A,z)),(v=-1<c?y[c]:null)&&Is(v))}function Is(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[vt])kr(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Ca(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Bo(y))?(kr(v,c),v.h==0&&(v.src=null,y[Ei]=null)):Qe(c)}}}function Ca(c){return c in Ti?Ti[c]:Ti[c]="on"+c}function Af(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Is(c),c=v.call(A,y)}return c}function Bo(c){return c=c[Ei],c instanceof nn?c:null}var un="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(c){return typeof c=="function"?c:(c[un]||(c[un]=function(y){return c.handleEvent(y)}),c[un])}function bt(){me.call(this),this.i=new nn(this),this.M=this,this.F=null}F(bt,me),bt.prototype[vt]=!0,bt.prototype.removeEventListener=function(c,y,v,A){Ia(this,c,y,v,A)};function xt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var z=y;y=new ce(A,c),C(y,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var ae=y.g=v[$];z=Vr(ae,A,!0,y)&&z}if(ae=y.g=c,z=Vr(ae,A,!0,y)&&z,z=Vr(ae,A,!1,y)&&z,v)for($=0;$<v.length;$++)ae=y.g=v[$],z=Vr(ae,A,!1,y)&&z}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Qe(v[A]);delete c.g[y],c.h--}}this.F=null},bt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},bt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Vr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==v){var Me=ae.listener,It=ae.ha||ae.src;ae.fa&&kr(c.i,ae),z=Me.call(It,A)!==!1&&z}}return z&&!A.defaultPrevented}function Pu(c,y,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function qo(c){c.g=Pu(()=>{c.g=null,c.i&&(c.i=!1,qo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class bf extends me{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){me.call(this),this.h=c,this.g={}}F(Cs,me);var wi=[];function Qt(c){se(c.g,function(y,v){this.g.hasOwnProperty(v)&&Is(y)},c),c.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Qt(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=d.JSON.stringify,ar=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Vu(c){return c.h||(c.h=c.i())}function Mu(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ce.call(this,"d")}F(Si,ce);function Kn(){ce.call(this,"c")}F(Kn,ce);var In={},Ai=null;function Na(){return Ai=Ai||new bt}In.La="serverreachability";function Go(c){ce.call(this,In.La,c)}F(Go,ce);function bi(c){const y=Na();xt(y,new Go(y))}In.STAT_EVENT="statevent";function Da(c,y){ce.call(this,In.STAT_EVENT,c),this.stat=y}F(Da,ce);function mt(c){const y=Na();xt(y,new Da(y,c))}In.Ma="timingevent";function Lu(c,y){ce.call(this,In.Ma,c),this.size=y}F(Lu,ce);function Ri(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Uu(c,y,v,A,z,$){c.info(function(){if(c.g)if($)for(var ae="",Me=$.split("&"),It=0;It<Me.length;It++){var Le=Me[It].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(Vt+"="+Le+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function ju(c,y,v,A,z,$,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+$+" "+ae})}function Ci(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+kt(c,v)+(A?" "+A:"")})}function lr(c,y){c.info(function(){return"TIMEOUT: "+y})}Ii.prototype.info=function(){};function kt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Fo(v)}catch{return y}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ns;function Oa(){}F(Oa,Ho),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},Ns=new Oa;function ur(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}var Ni={},Ds={};function Qn(c,y,v){c.L=1,c.v=ks(lt(y)),c.m=v,c.P=!0,Lr(c,null)}function Lr(c,y){c.F=Date.now(),nt(c),c.A=lt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),zr(v.i,"t",A),c.C=0,v=c.j.J,c.h=new $o,c.g=Ju(c.j,v?y:null,!c.m),0<c.O&&(c.M=new bf(I(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(wi[0]=z.toString()),z=wi);for(var $=0;$<z.length;$++){var ae=Pr(v,z[$],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),bi(),Uu(c.i,c.u,c.A,c.l,c.R,c.m)}ur.prototype.ca=function(c){c=c.target;const y=this.M;y&&xn(c)==3?y.j():this.Y(c)},ur.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=xn(this.g);var y=this.g.Ba();const Hr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Hr?bi(3):bi(2)),xa(this);var v=this.g.Z();this.X=v;t:if(Di(this)){var A=Gu(this.g);c="";var z=A.length,$=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),gn(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,ju(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Me)){var Le=Me;break t}}Le=null}if(v=Le)Ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,v);else{this.o=!1,this.s=3,mt(12),cn(this),gn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Oi(this,ae),zt==Ds){Ct==4&&(this.s=4,mt(14),v=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ni){this.s=4,mt(15),Ci(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Ci(this.i,this.l,zt,null),yn(this,zt);if(Di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Ci(this.i,this.l,ae,"[Invalid Chunked Response]"),cn(this),gn(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),zs(Vt),Vt.M=!0,mt(11))}}else Ci(this.i,this.l,ae,null),yn(this,ae);Ct==4&&cn(this),this.o&&!this.J&&(Ct==4?Wu(this.j,this):(this.o=!1,nt(this)))}else Of(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),cn(this),gn(this)}}}catch{}finally{}};function Di(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Oi(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ds:(v=Number(y.substring(v,A)),isNaN(v)?Ni:(A+=1,A+v>y.length?Ds:(y=y.slice(A,A+v),c.C=A+v,y)))}ur.prototype.cancel=function(){this.J=!0,cn(this)};function nt(c){c.S=Date.now()+c.I,Ko(c,c.I)}function Ko(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ri(I(c.ba,c),y)}function xa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ur.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(lr(this.i,this.A),this.L!=2&&(bi(),mt(17)),cn(this),this.s=2,gn(this)):Ko(this,this.S-c)};function gn(c){c.j.G==0||c.J||Wu(c.j,c)}function cn(c){xa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function yn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||xi(v.h,c))){if(!c.K&&xi(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)qa(v),za(v);else break e;il(v),mt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ri(I(v.Za,v),6e3));if(1>=zu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fr(v,11)}else if((c.K||v.g==c)&&qa(v),!X(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Hr=Le[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(A=1.5*Hr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const gr=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gr){var $=A.h;$.g||gr.indexOf("spdy")==-1&&gr.indexOf("quic")==-1&&gr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ki($,$.h),$.h=null))}if(A.D){const al=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(A.ya=al,qe(A.I,A.D,al))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ae=c;if(A.qa=Zu(A,A.J?A.ia:null,A.W),ae.K){Cn(A.h,ae);var Me=ae,It=A.L;It&&(Me.I=It),Me.B&&(xa(Me),nt(Me)),A.g=ae}else Qu(A);0<v.i.length&&Ba(v)}else Le[0]!="stop"&&Le[0]!="close"||Fr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Fr(v,7):nl(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}bi(4)}catch{}}var Rf=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zu(c){return c.h?1:c.g?c.g.size:0}function xi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ki(c,y){c.g?c.g.add(y):c.h=y}function Cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function Bu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function If(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Os(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=If(c),A=Bu(c),z=A.length,$=0;$<z;$++)y.call(void 0,A[$],v&&v[$],c)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var $=c[v].substring(0,A);z=c[v].substring(A+1)}else $=c[v];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,Pi(this,c.j),this.o=c.o,this.g=c.g,xs(this,c.s),this.l=c.l;var y=c.i,v=new cr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Pa(this,v),this.m=c.m}else c&&(y=String(c).match(Wo))?(this.h=!1,Pi(this,y[1]||"",!0),this.o=Vi(y[2]||""),this.g=Vi(y[3]||"",!0),xs(this,y[4]),this.l=Vi(y[5]||"",!0),Pa(this,y[6]||"",!0),this.m=Vi(y[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Ur.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Nn(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Nn(y,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Nn(v,v.charAt(0)=="/"?Zo:qu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Nn(v,Df)),c.join("")};function lt(c){return new Ur(c)}function Pi(c,y,v){c.j=v?Vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function xs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Pa(c,y,v){y instanceof cr?(c.i=y,Jo(c.i,c.h)):(v||(y=Nn(y,Nf)),c.i=new cr(y,c.h))}function qe(c,y,v){c.i.set(y,v)}function ks(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Cf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,qu=/[#\?:]/g,Zo=/[#\?]/g,Nf=/[#\?@]/g,Df=/#/g;function cr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&ka(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=cr.prototype,r.add=function(c,y){Dn(this),this.i=null,c=Br(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Va(c,y){Dn(c),y=Br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jr(c,y){return Dn(c),y=Br(c,y),c.g.has(y)}r.forEach=function(c,y){Dn(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=c[A];for(let $=0;$<z.length;$++)v.push(y[A])}return v},r.V=function(c){Dn(this);let y=[];if(typeof c=="string")jr(this,c)&&(y=y.concat(this.g.get(Br(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Dn(this),this.i=null,c=Br(this,c),jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zr(c,y,v){Va(c,y),0<v.length&&(c.i=null,c.g.set(Br(c,y),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const $=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var z=$;ae[A]!==""&&(z+="="+encodeURIComponent(String(ae[A]))),c.push(z)}}return this.i=c.join("&")};function Br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Jo(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Va(this,A),zr(this,z,v))},c)),c.j=y}function Fu(c,y){const v=new Ii;if(d.Image){const A=new Image;A.onload=k(On,v,"TestLoadImage: loaded",!0,y,A),A.onerror=k(On,v,"TestLoadImage: error",!1,y,A),A.onabort=k(On,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=k(On,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ps(c,y){const v=new Ii,A=new AbortController,z=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(z),$.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Vs(){this.g=new rn}function hr(c,y,v){const A=v||"";try{Os(c,function(z,$){let ae=z;g(z)&&(ae=Fo(z)),y.push(A+$+"="+encodeURIComponent(ae))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Mi(c){this.l=c.Ub||null,this.j=c.eb||!1}F(Mi,Ho),Mi.prototype.g=function(){return new qr(this.l,this.j)},Mi.prototype.i=function(c){return function(){return c}}({});function qr(c,y){bt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(qr,bt),r=qr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,dr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fr(this):dr(this),this.readyState==3&&el(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,fr(this))},r.Qa=function(c){this.g&&(this.response=c,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function tl(c){let y="";return se(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qe(c,y,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F($e,bt);var Ma=/^https?$/i,Ms=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ns.g(),this.v=this.o?Vu(this.o):Vu(Ns),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Hu(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Hu(this,$)}};function Hu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,La(c),mr(c)}function La(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),mr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ua(this):this.bb())},r.bb=function(){Ua(this)};function Ua(c){if(c.h&&typeof h<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)Pu(c.Ea,0,c);else if(xt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ae===0){var z=String(c.D).match(Wo)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),A=!Ma.test(z?z.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var $=2<xn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",La(c)}}finally{mr(c)}}}}function mr(c,y){if(c.g){Ls(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ls(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ar(y)}};function Gu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const y={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(X(c[A]))continue;var v=O(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[z]||[];y[z]=$,$.push(v)}x(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ja(c){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Da=new Vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ja.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){mt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Zu(this,null,this.W),Ba(this)};function nl(c){if($u(c),c.G==3){var y=c.U++,v=lt(c.I);if(qe(v,"SID",c.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),js(c,v),y=new ur(c,c.j,y),y.L=2,y.v=ks(lt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),nt(y)}Xu(c)}function za(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function $u(c){za(c),c.u&&(d.clearTimeout(c.u),c.u=null),qa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ba(c){if(!Yo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.B=0}}function xf(c,y){return zu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ri(I(c.Ga,c,y),sl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ur(this,this.j,c);let $=this.o;if(this.S&&($?($=b($),C($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ku(this,z,y),v=lt(this.I),qe(v,"RID",c),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),js(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(tl($)))+"&"+y:this.m&&Pt(v,this.m,$)),ki(this.h,z),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),z.T=!0,Qn(z,v,null)):Qn(z,v,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Yo(this.h)||rl(this))};function rl(c,y){var v;y?v=y.l:v=c.U++;const A=lt(c.I);qe(A,"SID",c.K),qe(A,"RID",v),qe(A,"AID",c.T),js(c,A),c.m&&c.o&&Pt(A,c.m,c.o),v=new ur(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ku(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ki(c.h,v),Qn(v,A,y)}function js(c,y){c.H&&se(c.H,function(v,A){qe(y,A,v)}),c.l&&Os({},function(v,A){qe(y,A,v)})}function Ku(c,y,v){v=Math.min(c.i.length,v);var A=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=z[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Me=!0;for(let It=0;It<v;It++){let Le=z[It].g;const Vt=z[It].map;if(Le-=$,0>Le)$=Math.max(0,z[It].g-100),Me=!1;else try{hr(Vt,ae,"req"+Le+"_")}catch{A&&A(Vt)}}if(Me){A=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ye||P(),ve||(ye(),ve=!0),Ge.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ri(I(c.Fa,c),sl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ri(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),za(this),Yu(this))};function zs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=lt(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),js(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(lt(y)),v.m=null,v.P=!0,Lr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,za(this),il(this),mt(19))};function qa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Wu(c,y){var v=null;if(c.g==y){qa(c),zs(c),c.g=null;var A=2}else if(xi(c.h,y))v=y.D,Cn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=Na(),xt(A,new Lu(A,v)),Ba(c)}else Qu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&xf(c,y)||A==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Fr(c,5);break;case 4:Fr(c,10);break;case 3:Fr(c,6);break;default:Fr(c,2)}}}function sl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Fr(c,y){if(c.j.info("Error code "+y),y==2){var v=I(c.fb,c),A=c.Xa;const z=!A;A=new Ur(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pi(A,"https"),ks(A),z?Fu(A.toString(),v):Ps(A.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(y),Xu(c),$u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Zu(c,y,v){var A=v instanceof Ur?lt(v):new Ur(v);if(A.g!="")y&&(A.g=y+"."+A.g),xs(A,A.s);else{var z=d.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Ur(null);A&&Pi($,A),y&&($.g=y),z&&xs($,z),v&&($.l=v),A=$}return v=c.D,y=c.ya,v&&y&&qe(A,v,y),qe(A,"VER",c.la),js(c,A),A}function Ju(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Mi({eb:v})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}r=ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fa(){}Fa.prototype.g=function(c,y){return new an(c,y)};function an(c,y){bt.call(this),this.g=new ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!X(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pr(this)}F(an,bt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){nl(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Fo(c),c=v);y.i.push(new Rf(y.Ya++,c)),y.G==3&&Ba(y)},an.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,an.aa.N.call(this)};function tc(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}F(tc,Si);function nc(){Kn.call(this),this.status=1}F(nc,Kn);function pr(c){this.g=c}F(pr,ec),pr.prototype.ua=function(){xt(this.g,"a")},pr.prototype.ta=function(c){xt(this.g,new tc(c))},pr.prototype.sa=function(c){xt(this.g,new nc)},pr.prototype.ra=function(){xt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Iw=function(){return new Fa},Rw=function(){return Na()},bw=In,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,dh=Rt,Mr.COMPLETE="complete",Aw=Mr,Mu.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Wl=Mu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Sw=$e}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",PE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Wh("@firebase/firestore");function yo(){return ya.logLevel}function ue(r,...e){if(ya.logLevel<=xe.DEBUG){const t=e.map($p);ya.debug(`Firestore (${Mo}): ${r}`,...t)}}function pi(r,...e){if(ya.logLevel<=xe.ERROR){const t=e.map($p);ya.error(`Firestore (${Mo}): ${r}`,...t)}}function ps(r,...e){if(ya.logLevel<=xe.WARN){const t=e.map($p);ya.warn(`Firestore (${Mo}): ${r}`,...t)}}function $p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Cw(r,s,t)}function Cw(r,e,t){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw pi(s),new Error(s)}function Ke(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||Cw(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new Nw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class D2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new D2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=k2(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ne(r,e){return r<e?-1:r>e?1:0}function ip(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const l=Dw(),h=P2(l.encode(ME(r,t)),l.encode(ME(e,t)));return h!==0?h:Ne(s,o)}}t+=s>65535?2:1}return Ne(r.length,e.length)}function ME(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function P2(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ne(r[t],e[t]);return Ne(r.length,e.length)}function Io(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="__name__";class wr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=wr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const s=wr.isNumericId(e),o=wr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?wr.extractNumericId(e).compare(wr.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class et extends wr{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends wr{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return V2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new $t([LE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e,t){if(!t)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function M2(r,e,t,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function UE(r){if(!ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jE(r){if(ge.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nf(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const t={typeString:r};return e&&(t.value=e),t}function bu(r,e){if(!xw(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new le(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-62135596800,BE=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*BE);return new tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zE)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:At("string",tt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new tt(0,0))}static max(){return new we(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=-1;function L2(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new tt(t+1,0):new tt(t,s));return new gs(o,ge.empty(),e)}function U2(r){return new gs(r.readTime,r.key,hu)}class gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new gs(we.min(),ge.empty(),hu)}static max(){return new gs(we.max(),ge.empty(),hu)}}function j2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==z2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function q2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}rf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-1;function sf(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function F2(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="";function H2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=qE(e)),e=G2(r.get(t),e);return qE(e)}function G2(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case kw:t+="";break;default:t+=l}}return t}function qE(r){return r+kw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function bs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Pw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new An([])}unionWith(e){let t=new Ot($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new An(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Vw("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const t=$2.exec(r);if(Ke(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="server_timestamp",Lw="__type__",Uw="__previous_value__",jw="__local_write_time__";function Yp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lw])===null||t===void 0?void 0:t.stringValue)===Mw}function af(r){const e=r.mapValue.fields[Uw];return Yp(e)?af(e):e}function fu(r){const e=ys(r.mapValue.fields[jw].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,s,o,l,h,d,p,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const xh="(default)";class du{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__type__",Q2="__max__",ih={mapValue:{}},Bw="__vector__",kh="value";function _s(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:W2(r)?9007199254740991:Y2(r)?10:11:Te(28295,{value:r})}function Nr(r,e){if(r===e)return!0;const t=_s(r);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fu(r).isEqual(fu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ys(o.timestampValue),d=ys(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return vs(o.bytesValue).isEqual(vs(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=gt(o.doubleValue),d=gt(l.doubleValue);return h===d?Oh(h)===Oh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Io(r.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(FE(h)!==FE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Nr(h[p],d[p])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function mu(r,e){return(r.values||[]).find(t=>Nr(t,e))!==void 0}function Co(r,e){if(r===e)return 0;const t=_s(r),s=_s(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=gt(l.integerValue||l.doubleValue),p=gt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return GE(r.timestampValue,e.timestampValue);case 4:return GE(fu(r),fu(e));case 5:return ip(r.stringValue,e.stringValue);case 6:return function(l,h){const d=vs(l),p=vs(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Ne(d[g],p[g]);if(E!==0)return E}return Ne(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ne(gt(l.latitude),gt(h.latitude));return d!==0?d:Ne(gt(l.longitude),gt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return $E(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const T=l.fields||{},I=h.fields||{},k=(d=T[kh])===null||d===void 0?void 0:d.arrayValue,F=(p=I[kh])===null||p===void 0?void 0:p.arrayValue,Y=Ne(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=F==null?void 0:F.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:$E(k,F)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===ih.mapValue&&h===ih.mapValue)return 0;if(l===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const I=ip(p[T],E[T]);if(I!==0)return I;const k=Co(d[p[T]],g[E[T]]);if(k!==0)return k}return Ne(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{le:t})}}function GE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=ys(r),s=ys(e),o=Ne(t.seconds,s.seconds);return o!==0?o:Ne(t.nanos,s.nanos)}function $E(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Co(t[o],s[o]);if(l)return l}return Ne(t.length,s.length)}function No(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ys(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return vs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ge.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=sp(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${sp(t.fields[h])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function mh(r){switch(_s(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+mh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return bs(s.fields,(l,h)=>{o+=l.length+mh(h)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function KE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ap(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function QE(r){return!!r&&"nullValue"in r}function YE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function Y2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[zw])===null||t===void 0?void 0:t.stringValue)===Bw}function ru(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=ru(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(r.arrayValue.values[t]);return e}return Object.assign({},r)}function W2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=ru(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){bs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new dn(ru(this.value))}}function qw(r){const e=[];return bs(r.fields,(t,s)=>{const o=new $t([t]);if(ph(s)){const l=qw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,we.min(),we.min(),we.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,we.min(),we.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,we.min(),we.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function WE(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=Co(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function XE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Nr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function X2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{}class St extends Fw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new J2(e,t,s):t==="array-contains"?new nO(e,s):t==="in"?new rO(e,s):t==="not-in"?new iO(e,s):t==="array-contains-any"?new sO(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new eO(e,s):new tO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Co(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends Fw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ir(e,t)}matches(e){return Hw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Hw(r){return r.op==="and"}function Gw(r){return Z2(r)&&Hw(r)}function Z2(r){for(const e of r.filters)if(e instanceof ir)return!1;return!0}function op(r){if(r instanceof St)return r.field.canonicalString()+r.op.toString()+No(r.value);if(Gw(r))return r.filters.map(e=>op(e)).join(",");{const e=r.filters.map(t=>op(t)).join(",");return`${r.op}(${e})`}}function $w(r,e){return r instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Nr(s.value,o.value)}(r,e):r instanceof ir?function(s,o){return o instanceof ir&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&$w(h,o.filters[d]),!0):!1}(r,e):void Te(19439)}function Kw(r){return r instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`}(r):r instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(Kw).join(" ,")+"}"}(r):"Filter"}class J2 extends St{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class eO extends St{constructor(e,t){super(e,"in",t),this.keys=Qw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tO extends St{constructor(e,t){super(e,"not-in",t),this.keys=Qw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class nO extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&mu(t.arrayValue,this.value)}}class rO extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mu(this.value.arrayValue,t)}}class iO extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mu(this.value.arrayValue,t)}}class sO extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>mu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.Pe=null}}function ZE(r,e=null,t=[],s=[],o=null,l=null,h=null){return new aO(r,e,t,s,o,l,h)}function Xp(r){const e=Ae(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>op(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>No(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>No(s)).join(",")),e.Pe=t}return e.Pe}function Zp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!X2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!$w(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!XE(r.startAt,e.startAt)&&XE(r.endAt,e.endAt)}function lp(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oO(r,e,t,s,o,l,h,d){return new Ru(r,e,t,s,o,l,h,d)}function of(r){return new Ru(r)}function JE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Yw(r){return r.collectionGroup!==null}function iu(r){const e=Ae(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Ot($t.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Vh(l,s))}),t.has($t.keyField().canonicalString())||e.Te.push(new Vh($t.keyField(),s))}return e.Te}function Ar(r){const e=Ae(r);return e.Ie||(e.Ie=lO(e,iu(r))),e.Ie}function lO(r,e){if(r.limitType==="F")return ZE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Vh(o.field,l)});const t=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return ZE(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function up(r,e){const t=r.filters.concat([e]);return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function cp(r,e,t){return new Ru(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function lf(r,e){return Zp(Ar(r),Ar(e))&&r.limitType===e.limitType}function Ww(r){return`${Xp(Ar(r))}|lt:${r.limitType}`}function vo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Kw(o)).join(", ")}]`),sf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>No(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>No(o)).join(",")),`Target(${s})`}(Ar(r))}; limitType=${r.limitType})`}function uf(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of iu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=WE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,iu(s),o)||s.endAt&&!function(h,d,p){const g=WE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,iu(s),o))}(r,e)}function uO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Xw(r){return(e,t)=>{let s=!1;for(const o of iu(r)){const l=cO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function cO(r,e,t){const s=r.field.isKeyField()?ge.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Co(p,g):Te(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new at(ge.comparator);function gi(){return hO}const Zw=new at(ge.comparator);function Xl(...r){let e=Zw;for(const t of r)e=e.insert(t.key,t);return e}function Jw(r){let e=Zw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return su()}function eS(){return su()}function su(){return new Sa(r=>r.toString(),(r,e)=>r.isEqual(e))}const fO=new at(ge.comparator),dO=new Ot(ge.comparator);function ke(...r){let e=dO;for(const t of r)e=e.add(t);return e}const mO=new Ot(Ne);function pO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function tS(r){return{integerValue:""+r}}function gO(r,e){return F2(e)?tS(e):Jp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this._=void 0}}function yO(r,e,t){return r instanceof Mh?function(o,l){const h={fields:{[Lw]:{stringValue:Mw},[jw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yp(l)&&(l=af(l)),l&&(h.fields[Uw]=l),{mapValue:h}}(t,e):r instanceof pu?rS(r,e):r instanceof gu?iS(r,e):function(o,l){const h=nS(o,l),d=eT(h)+eT(o.Ee);return ap(h)&&ap(o.Ee)?tS(d):Jp(o.serializer,d)}(r,e)}function vO(r,e,t){return r instanceof pu?rS(r,e):r instanceof gu?iS(r,e):t}function nS(r,e){return r instanceof Lh?function(s){return ap(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Mh extends cf{}class pu extends cf{constructor(e){super(),this.elements=e}}function rS(r,e){const t=sS(e);for(const s of r.elements)t.some(o=>Nr(o,s))||t.push(s);return{arrayValue:{values:t}}}class gu extends cf{constructor(e){super(),this.elements=e}}function iS(r,e){let t=sS(e);for(const s of r.elements)t=t.filter(o=>!Nr(o,s));return{arrayValue:{values:t}}}class Lh extends cf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function eT(r){return gt(r.integerValue||r.doubleValue)}function sS(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _O(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?Io(s.elements,o.elements,Nr):s instanceof Lh&&o instanceof Lh?Nr(s.Ee,o.Ee):s instanceof Mh&&o instanceof Mh}(r.transform,e.transform)}class EO{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hf{}function aS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eg(r.key,Gn.none()):new Iu(r.key,r.data,Gn.none());{const t=r.data,s=dn.empty();let o=new Ot($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Rs(r.key,s,new An(o.toArray()),Gn.none())}}function TO(r,e,t){r instanceof Iu?function(o,l,h){const d=o.value.clone(),p=nT(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Rs?function(o,l,h){if(!gh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=nT(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(oS(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function au(r,e,t,s){return r instanceof Iu?function(l,h,d,p){if(!gh(l.precondition,h))return d;const g=l.value.clone(),E=rT(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Rs?function(l,h,d,p){if(!gh(l.precondition,h))return d;const g=rT(l.fieldTransforms,p,h),E=h.data;return E.setAll(oS(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(r,e,t,s):function(l,h,d){return gh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function wO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=nS(s.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function tT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(l,h)=>_O(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Iu extends hf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends hf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oS(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function nT(r,e,t){const s=new Map;Ke(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,vO(h,d,t[o]))}return s}function rT(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,yO(l,h,e))}return s}class eg extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&TO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=eS();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=aS(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,s)=>tT(t,s))&&Io(this.baseMutations,e.baseMutations,(t,s)=>tT(t,s))}}class tg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return fO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new tg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,je;function IO(r){switch(r){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function lS(r){if(r===void 0)return pi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case wt.OK:return Z.OK;case wt.CANCELLED:return Z.CANCELLED;case wt.UNKNOWN:return Z.UNKNOWN;case wt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case wt.INTERNAL:return Z.INTERNAL;case wt.UNAVAILABLE:return Z.UNAVAILABLE;case wt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case wt.NOT_FOUND:return Z.NOT_FOUND;case wt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case wt.ABORTED:return Z.ABORTED;case wt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case wt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:r})}}(je=wt||(wt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new hs([4294967295,4294967295],0);function iT(r){const e=Dw().encode(r),t=new ww;return t.update(e),new Uint8Array(t.digest())}function sT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hs([t,s],0),new hs([o,l],0)]}class ng{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=hs.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(hs.fromNumber(s)));return o.compare(CO)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=iT(e),[s,o]=sT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new ng(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=iT(e),[s,o]=sT(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ff(we.min(),o,new at(Ne),gi(),ke())}}class Cu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class uS{constructor(e,t){this.targetId=e,this.De=t}}class cS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aT{constructor(){this.ve=0,this.Ce=oT(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),t=ke(),s=ke();return this.Ce.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new Cu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=oT()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class NO{constructor(e){this.We=e,this.Ge=new Map,this.ze=gi(),this.je=sh(),this.Je=sh(),this.He=new at(Ne)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(lp(l))if(s===0){const h=new ge(l.path);this.Xe(t,h,Jt.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof Vw)return ps("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ng(h,o,l)}catch(p){return ps(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,l,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((l,h)=>{const d=this.st(h);if(d){if(l.current&&lp(d.target)){const p=new ge(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Jt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}});let s=ke();this.Je.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.ze.forEach((l,h)=>h.setReadTime(e));const o=new ff(e,t,this.He,this.ze,s);return this.ze=gi(),this.je=sh(),this.Je=sh(),this.He=new at(Ne),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new aT,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(Ne),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new aT),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function sh(){return new at(ge.comparator)}function oT(){return new at(ge.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},OO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xO={and:"AND",or:"OR"};class kO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hp(r,e){return r.useProto3Json||sf(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PO(r,e){return Uh(r,e.toTimestamp())}function br(r){return Ke(!!r,49232),we.fromTimestamp(function(t){const s=ys(t);return new tt(s.seconds,s.nanos)}(r))}function rg(r,e){return fp(r,e).canonicalString()}function fp(r,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function fS(r){const e=et.fromString(r);return Ke(yS(e),10190,{key:e.toString()}),e}function dp(r,e){return rg(r.databaseId,e.path)}function zm(r,e){const t=fS(e);if(t.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ge(mS(t))}function dS(r,e){return rg(r.databaseId,e)}function VO(r){const e=fS(r);return e.length===4?et.emptyPath():mS(e)}function mp(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mS(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lT(r,e,t){return{name:dp(r,e),fields:t.value.mapValue.fields}}function MO(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?Z.UNKNOWN:lS(g.code);return new le(E,g.message||"")}(h);t=new cS(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zm(r,s.document.name),l=br(s.document.updateTime),h=s.document.createTime?br(s.document.createTime):we.min(),d=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new yh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zm(r,s.document),l=s.readTime?br(s.readTime):we.min(),h=Jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new yh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zm(r,s.document),l=s.removedTargetIds||[];t=new yh([],l,o,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new RO(o,l),d=s.targetId;t=new uS(d,h)}}return t}function LO(r,e){let t;if(e instanceof Iu)t={update:lT(r,e.key,e.value)};else if(e instanceof eg)t={delete:dp(r,e.key)};else if(e instanceof Rs)t={update:lT(r,e.key,e.data),updateMask:$O(e.fieldMask)};else{if(!(e instanceof SO))return Te(16599,{Rt:e.type});t={verify:dp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Mh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:PO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(r,e.precondition)),t}function UO(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(t=>function(o,l){let h=o.updateTime?br(o.updateTime):br(l);return h.isEqual(we.min())&&(h=br(l)),new EO(h,o.transformResults||[])}(t,e))):[]}function jO(r,e){return{documents:[dS(r,e.path)]}}function zO(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=dS(r,o);const l=function(g){if(g.length!==0)return gS(ir.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:_o(I.field),direction:FO(I.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=hp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function BO(r){let e=VO(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const I=pS(T);return I instanceof ir&&Gw(I)?I.getFilters():[I]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(I=>function(F){return new Vh(Eo(F.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,sf(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,k=T.values||[];return new Ph(k,I)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const I=!T.before,k=T.values||[];return new Ph(k,I)}(t.endAt)),oO(e,o,h,l,d,"F",p,g)}function qO(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pS(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Eo(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(t){return St.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(s=>pS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(r):Te(30097,{filter:r})}function FO(r){return DO[r]}function HO(r){return OO[r]}function GO(r){return xO[r]}function _o(r){return{fieldPath:r.canonicalString()}}function Eo(r){return $t.fromServerFormat(r.fieldPath)}function gS(r){return r instanceof St?function(t){if(t.op==="=="){if(YE(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(QE(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(YE(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(QE(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:HO(t.op),value:t.value}}}(r):r instanceof ir?function(t){const s=t.getFilters().map(o=>gS(o));return s.length===1?s[0]:{compositeFilter:{op:GO(t.op),filters:s}}}(r):Te(54877,{filter:r})}function $O(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s,o,l=we.min(),h=we.min(),d=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.gt=e}}function QO(r){const e=BO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.Dn=new WO}addToCollectionParentIndex(e,t){return this.Dn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(gs.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class WO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(et.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(vS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",XO=1048576;function hT([r,e],[t,s]){const o=Ne(r,t);return o===0?Ne(e,s):o}class ZO{constructor(e){this.Tr=e,this.buffer=new Ot(hT),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ue(cT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?ue(cT,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Rr(3e5)})}}class ex{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(rf.ue);const s=new ZO(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(uT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),yo()<=xe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function tx(r,e){return new ex(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&au(s.mutation,o,An.empty(),tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=la();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Xl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=gi();const h=su(),d=function(){return su()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Rs)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),au(E.mutation,g,E.mutation.getFieldMask(),tt.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new rx(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=su();let o=new at((h,d)=>h-d),l=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=eS();E.forEach(I=>{if(!l.has(I)){const k=aS(t.get(I),s.get(I));k!==null&&T.set(I,k),l=l.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ee.resolve(la());let d=hu,p=l;return h.next(g=>ee.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:d,changes:Jw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const g=function(T,I){return new Ru(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Jt.newInvalidDocument(E)))});let d=Xl();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&au(E.mutation,g,An.empty(),tt.now()),uf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:QO(o.bundledQuery),readTime:br(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.overlays=new at(ge.comparator),this.kr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return ee.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.wt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=la(),l=t.length+1,h=new ge(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new at((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=la(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=la(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return ee.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new bO(t,s));let l=this.kr.get(t);l===void 0&&(l=ke(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.qr=new Ot(jt.Qr),this.$r=new Ot(jt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new jt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),l.push(h.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ge(new et([])),s=new jt(t,e),o=new jt(t,e+1);let l=ke();return this.$r.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ge.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(jt.Qr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new AO(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Qp:this.er-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Ne);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],d=>{s=s.add(d.Hr)})}),ee.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const h=new jt(new ge(l),0);let d=new Ot(Ne);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ee.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ee.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new jt(t,0),o=this.Yr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.ni=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=gi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=gi();const h=t.path,d=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||j2(U2(E),s)<=0||(o.has(E.key)||uf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}ri(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new cx(this)}getSize(e){return ee.resolve(this.size)}}class cx extends nx{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.persistence=e,this.ii=new Sa(t=>Xp(t),Zp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new ig,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ee.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.hr(t),ee.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ee.waitFor(l).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.ai={},this.overlays={},this.ui=new rf(0),this.ci=!1,this.ci=!0,this.li=new ox,this.referenceDelegate=e(this),this.hi=new hx(this),this.indexManager=new YO,this.remoteDocumentCache=function(o){return new ux(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new KO(t),this.Ti=new sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ax,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new lx(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new fx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ei(e,t){return ee.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class fx extends B2{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ai=new ig,this.Ri=null}static Vi(e){return new sg(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.mi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ee.or([()=>ee.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.gi=new Sa(s=>H2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=tx(this,t)}static Vi(e,t){return new jh(e,t)}Ii(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ee.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(l=>l?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ee.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}Sr(e,t,s){return ee.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=ke(),o=ke();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ag(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return A1()?8:q2(tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ys(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new dx;return this.ws(e,t,h).next(d=>{if(l.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>l.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(yo()<=xe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ee.resolve()):(yo()<=xe.DEBUG&&ue("QueryEngine","Query:",vo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(yo()<=xe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):ee.resolve())}ps(e,t){if(JE(t))return ee.resolve(null);let s=Ar(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cp(t,null,"F"),s=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=ke(...l);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,cp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return JE(t)||o.isEqual(we.min())?ee.resolve(null):this.gs.getDocuments(e,s).next(l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?ee.resolve(null):(yo()<=xe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(t)),this.vs(e,h,t,L2(o,hu)).next(d=>d))})}bs(e,t){let s=new Ot(Xw(e));return t.forEach((o,l)=>{uf(e,l)&&(s=s.add(l))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return yo()<=xe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",vo(t)),this.gs.getDocumentsMatchingQuery(e,t,gs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",px=3e8;class gx{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new at(Ne),this.Ms=new Sa(l=>Xp(l),Zp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ix(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function yx(r,e,t,s){return new gx(r,e,t,s)}async function ES(r,e){const t=Ae(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function vx(r,e){const t=Ae(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,I=T.keys();let k=ee.resolve();return I.forEach(F=>{k=k.next(()=>E.getEntry(p,F)).next(Y=>{const q=g.docVersions.get(F);Ke(q!==null,48541),Y.version.compareTo(q)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),k.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function TS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function _x(r,e){const t=Ae(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((E,T)=>{const I=o.get(T);if(!I)return;d.push(t.hi.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.hi.addMatchingKeys(l,E.addedDocuments,T)));let k=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),function(Y,q,Q){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=px?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,k,E)&&d.push(t.hi.updateTargetData(l,k))});let p=gi(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(Ex(l,h,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=t.hi.getLastRemoteSnapshotVersion(l).next(T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return ee.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Fs=o,l))}function Ex(r,e,t){let s=ke(),o=ke();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=gi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ue(og,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function Tx(r,e){const t=Ae(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wx(r,e){const t=Ae(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(l=>l?(o=l,ee.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new ls(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function pp(r,e,t){const s=Ae(r),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Uo(h))throw h;ue(og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function fT(r,e,t){const s=Ae(r);let o=we.min(),l=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ae(p),I=T.Ms.get(E);return I!==void 0?ee.resolve(T.Fs.get(I)):T.hi.getTargetData(g,E)}(s,h,Ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:ke())).next(d=>(Sx(s,uO(e),d),{documents:d,qs:l})))}function Sx(r,e,t){let s=r.xs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.xs.set(e,s)}class dT{constructor(){this.activeTargetIds=pO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ax{constructor(){this.Fo=new dT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class pT{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ue(mT,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ue(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function gp(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",Rx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ix{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=gp(),d=this.Go(e,t.toUriEncodedString());ue(Bm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:g}=new URL(d),E=ko(g);return this.jo(e,d,p,s,E).then(T=>(ue(Bm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw ps(Bm,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T})}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}Go(e,t){const s=Rx[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class Nx extends Ix{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=gp();return new Promise((d,p)=>{const g=new Sw;g.setWithCredentials(!0),g.listenOnce(Aw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const T=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case dh.TIMEOUT:ue(Xt,`RPC '${e}' ${h} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const I=g.getStatus();if(ue(Xt,`RPC '${e}' ${h} failed with status:`,I,"response text:",g.getResponseText()),I>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const Y=function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(X)>=0?X:Z.UNKNOWN}(F.status);p(new le(Y,F.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",E,s,15)})}P_(e,t,s){const o=gp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Iw(),d=Rw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.T_(T);let I=!1,k=!1;const F=new Cx({Ho:q=>{k?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(I||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Yo:()=>T.close()}),Y=(q,Q,X)=>{q.listen(Q,G=>{try{X(G)}catch(oe){setTimeout(()=>{throw oe},0)}})};return Y(T,Wl.EventType.OPEN,()=>{k||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),F.s_())}),Y(T,Wl.EventType.CLOSE,()=>{k||(k=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),F.__(),this.I_(T))}),Y(T,Wl.EventType.ERROR,q=>{k||(k=!0,ps(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),F.__(new le(Z.UNAVAILABLE,"The operation could not be completed")))}),Y(T,Wl.EventType.MESSAGE,q=>{var Q;if(!k){const X=q.data[0];Ke(!!X,16349);const G=X,oe=(G==null?void 0:G.error)||((Q=G[0])===null||Q===void 0?void 0:Q.error);if(oe){ue(Xt,`RPC '${e}' stream ${o} received error:`,oe);const ie=oe.status;let se=function(S){const C=wt[S];if(C!==void 0)return lS(C)}(ie),x=oe.message;se===void 0&&(se=Z.INTERNAL,x="Unknown error status: "+ie+" with message "+oe.message),k=!0,F.__(new le(se,x)),T.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,X),F.a_(X)}}),Y(d,bw.STAT_EVENT,q=>{q.stat===rp.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===rp.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.o_()},0),F}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r){return new kO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class SS{constructor(e,t,s,o,l,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wS(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ue(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(ue(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dx extends SS{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=MO(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?br(h.readTime):we.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=lp(p)?{documents:jO(l,p)}:{query:zO(l,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=hS(l,h.resumeToken);const g=hp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){d.readTime=Uh(l,h.snapshotVersion.toTimestamp());const g=hp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=qO(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.k_(t)}}class Ox extends SS{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=UO(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=mp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>LO(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{}class kx extends xx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Wo(e,fp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(Z.UNKNOWN,l.toString())})}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,fp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(Z.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Px{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(pi(t),this._a=!1):ue("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class Vx{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Aa(this)&&(ue(va,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.Ia.add(4),await Nu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await mf(g)}(this))})}),this.Aa=new Px(s,o)}}async function mf(r){if(Aa(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function AS(r,e){const t=Ae(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),hg(t)?cg(t):jo(t).x_()&&ug(t,e))}function lg(r,e){const t=Ae(r),s=jo(t);t.Ta.delete(e),s.x_()&&bS(t,e),t.Ta.size===0&&(s.x_()?s.B_():Aa(t)&&t.Aa.set("Unknown"))}function ug(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(r).H_(e)}function bS(r,e){r.Ra.$e(e),jo(r).Y_(e)}function cg(r){r.Ra=new NO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),jo(r).start(),r.Aa.aa()}function hg(r){return Aa(r)&&!jo(r).M_()&&r.Ta.size>0}function Aa(r){return Ae(r).Ia.size===0}function RS(r){r.Ra=void 0}async function Mx(r){r.Aa.set("Online")}async function Lx(r){r.Ta.forEach((e,t)=>{ug(r,e)})}async function Ux(r,e){RS(r),hg(r)?(r.Aa.la(e),cg(r)):r.Aa.set("Unknown")}async function jx(r,e,t){if(r.Aa.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){ue(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof yh?r.Ra.Ye(e):e instanceof uS?r.Ra.it(e):r.Ra.et(e),!t.isEqual(we.min()))try{const s=await TS(r.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.Ta.get(g);E&&l.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.Ta.get(p);if(!E)return;l.Ta.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),bS(l,p);const T=new ls(E.target,p,g,E.sequenceNumber);ug(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ue(va,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,t){if(!Uo(e))throw e;r.Ia.add(1),await Nu(r),r.Aa.set("Offline"),t||(t=()=>TS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(va,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await mf(r)})}function IS(r,e){return e().catch(t=>zh(r,t,e))}async function pf(r){const e=Ae(r),t=Es(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qp;for(;zx(e);)try{const o=await Tx(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,Bx(e,o)}catch(o){await zh(e,o)}CS(e)&&NS(e)}function zx(r){return Aa(r)&&r.Pa.length<10}function Bx(r,e){r.Pa.push(e);const t=Es(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function CS(r){return Aa(r)&&!Es(r).M_()&&r.Pa.length>0}function NS(r){Es(r).start()}async function qx(r){Es(r).na()}async function Fx(r){const e=Es(r);for(const t of r.Pa)e.X_(t.mutations)}async function Hx(r,e,t){const s=r.Pa.shift(),o=tg.from(s,e,t);await IS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await pf(r)}async function Gx(r,e){e&&Es(r).Z_&&await async function(s,o){if(function(h){return IO(h)&&h!==Z.ABORTED}(o.code)){const l=s.Pa.shift();Es(s).N_(),await IS(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await pf(s)}}(r,e),CS(r)&&NS(r)}async function yT(r,e){const t=Ae(r);t.asyncQueue.verifyOperationInProgress(),ue(va,"RemoteStore received new credentials");const s=Aa(t);t.Ia.add(3),await Nu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await mf(t)}async function $x(r,e){const t=Ae(r);e?(t.Ia.delete(2),await mf(t)):e||(t.Ia.add(2),await Nu(t),t.Aa.set("Unknown"))}function jo(r){return r.Va||(r.Va=function(t,s,o){const l=Ae(t);return l.ia(),new Dx(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:Mx.bind(null,r),e_:Lx.bind(null,r),n_:Ux.bind(null,r),J_:jx.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),hg(r)?cg(r):r.Aa.set("Unknown")):(await r.Va.stop(),RS(r))})),r.Va}function Es(r){return r.ma||(r.ma=function(t,s,o){const l=Ae(t);return l.ia(),new Ox(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:qx.bind(null,r),n_:Gx.bind(null,r),ea:Fx.bind(null,r),ta:Hx.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await pf(r)):(await r.ma.stop(),r.Pa.length>0&&(ue(va,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new fg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(r,e){if(pi("AsyncQueue",`${e}: ${r}`),Uo(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Xl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new bo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.fa=new at(ge.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Oo{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Oo(e,t,bo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Qx{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=_T(),l.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function _T(){return new Sa(r=>Ww(r),lf)}async function mg(r,e){const t=Ae(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new Kx,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=dg(h,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&gg(t)}async function pg(r,e){const t=Ae(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Yx(r,e){const t=Ae(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&gg(t)}function Wx(r,e,t){const s=Ae(r),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function gg(r){r.Da.forEach(e=>{e.next()})}var yp,ET;(ET=yp||(yp={})).Fa="default",ET.Cache="cache";class yg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.key=e}}class OS{constructor(e){this.key=e}}class Xx{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=Xw(e),this.eu=new bo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new vT,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const I=o.get(E),k=uf(this.query,T)?T:null,F=!!I&&this.mutatedKeys.has(I.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;I&&k?I.data.isEqual(k.data)?F!==Y&&(s.track({type:3,doc:k}),q=!0):this.iu(I,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.Xa(k,p)>0||g&&this.Xa(k,g)<0)&&(d=!0)):!I&&k?(s.track({type:0,doc:k}),q=!0):I&&!k&&(s.track({type:1,doc:I}),q=!0,(p||g)&&(d=!0)),q&&(k?(h=h.add(k),l=Y?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:d,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,T)=>function(k,F){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:q})}};return Y(k)-Y(F)}(E.type,T.type)||this.Xa(E.doc,T.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Oo(this.query,e.eu,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new OS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new DS(s))}),t}uu(e){this.Ha=e.qs,this.Za=ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Oo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vg="SyncEngine";class Zx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Jx{constructor(e){this.key=e,this.lu=!1}}class ek{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Sa(d=>Ww(d),lf),this.Tu=new Map,this.Iu=new Set,this.du=new at(ge.comparator),this.Eu=new Map,this.Au=new ig,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function tk(r,e,t=!0){const s=LS(r);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await xS(s,e,t,!0),o}async function nk(r,e){const t=LS(r);await xS(t,e,!0,!1)}async function xS(r,e,t,s){const o=await wx(r.localStore,Ar(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await rk(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&AS(r.remoteStore,o),d}async function rk(r,e,t,s,o){r.gu=(T,I,k)=>async function(Y,q,Q,X){let G=q.view.nu(Q);G.Ds&&(G=await fT(Y.localStore,q.query,!1).then(({documents:x})=>q.view.nu(x,G)));const oe=X&&X.targetChanges.get(q.targetId),ie=X&&X.targetMismatches.get(q.targetId)!=null,se=q.view.applyChanges(G,Y.isPrimaryClient,oe,ie);return wT(Y,q.targetId,se._u),se.snapshot}(r,T,I,k);const l=await fT(r.localStore,e,!0),h=new Xx(e,l.qs),d=h.nu(l.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);wT(r,t,g._u);const E=new Zx(e,t,h);return r.Pu.set(e,E),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function ik(r,e,t){const s=Ae(r),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter(h=>!lf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&lg(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(Lo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function sk(r,e){const t=Ae(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),lg(t.remoteStore,s.targetId))}async function ak(r,e,t){const s=dk(r);try{const o=await function(h,d){const p=Ae(h),g=tt.now(),E=d.reduce((k,F)=>k.add(F.key),ke());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=gi(),Y=ke();return p.Os.getEntries(k,E).next(q=>{F=q,F.forEach((Q,X)=>{X.isValidDocument()||(Y=Y.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,F)).next(q=>{T=q;const Q=[];for(const X of d){const G=wO(X,T.get(X.key).overlayedDocument);G!=null&&Q.push(new Rs(X.key,G,qw(G.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Q,d)}).next(q=>{I=q;const Q=q.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(k,q.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:Jw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new at(Ne)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Du(s,o.changes),await pf(s.remoteStore)}catch(o){const l=dg(o,"Failed to persist write");t.reject(l)}}async function kS(r,e){const t=Ae(r);try{const s=await _x(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Eu.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await Du(t,s,e)}catch(s){await Lo(s)}}function TT(r,e,t){const s=Ae(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((l,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ae(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const I of T.wa)I.va(d)&&(g=!0)}),g&&gg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ok(r,e,t){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new at(ge.comparator);h=h.insert(l,Jt.newNoDocument(l,we.min()));const d=ke().add(l),p=new ff(we.min(),new Map,new at(Ne),h,d);await kS(s,p),s.du=s.du.remove(l),s.Eu.delete(e),_g(s)}else await pp(s.localStore,e,!1).then(()=>vp(s,e,t)).catch(Lo)}async function lk(r,e){const t=Ae(r),s=e.batch.batchId;try{const o=await vx(t.localStore,e);VS(t,s,null),PS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Du(t,o)}catch(o){await Lo(o)}}async function uk(r,e,t){const s=Ae(r);try{const o=await function(h,d){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);VS(s,e,t),PS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Du(s,o)}catch(o){await Lo(o)}}function PS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function VS(r,e,t){const s=Ae(r);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function vp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||MS(r,s)})}function MS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(lg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),_g(r))}function wT(r,e,t){for(const s of t)s instanceof DS?(r.Au.addReference(s.key,e),ck(r,s)):s instanceof OS?(ue(vg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||MS(r,s.key)):Te(19791,{yu:s})}function ck(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(ue(vg,"New document in limbo: "+t),r.Iu.add(s),_g(r))}function _g(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new ge(et.fromString(e)),s=r.mu.next();r.Eu.set(s,new Jx(t)),r.du=r.du.insert(t,s),AS(r.remoteStore,new ls(Ar(of(t.path)),s,"TargetPurposeLimboResolution",rf.ue))}}async function Du(r,e,t){const s=Ae(r),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ag.Es(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,I=>ee.forEach(I.Is,k=>E.persistence.referenceDelegate.addReference(T,I.targetId,k)).next(()=>ee.forEach(I.ds,k=>E.persistence.referenceDelegate.removeReference(T,I.targetId,k)))))}catch(T){if(!Uo(T))throw T;ue(og,"Failed to update sequence numbers: "+T)}for(const T of g){const I=T.targetId;if(!T.fromCache){const k=E.Fs.get(I),F=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(F);E.Fs=E.Fs.insert(I,Y)}}}(s.localStore,l))}async function hk(r,e){const t=Ae(r);if(!t.currentUser.isEqual(e)){ue(vg,"User change. New user:",e.toKey());const s=await ES(t.localStore,e);t.currentUser=e,function(l,h){l.Vu.forEach(d=>{d.forEach(p=>{p.reject(new le(Z.CANCELLED,h))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(t,s.Bs)}}function fk(r,e){const t=Ae(r),s=t.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function LS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ok.bind(null,e),e.hu.J_=Yx.bind(null,e.eventManager),e.hu.pu=Wx.bind(null,e.eventManager),e}function dk(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return yx(this.persistence,new mx,e.initialUser,this.serializer)}Du(e){return new _S(sg.Vi,this.serializer)}bu(e){return new Ax}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class mk extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JO(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new _S(s=>jh.Vi(s,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qx}()}createDatastore(e){const t=df(e.databaseInfo.databaseId),s=function(l){return new Nx(l)}(e.databaseInfo);return function(l,h,d,p){return new kx(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new Vx(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>TT(this.syncEngine,t,0),function(){return pT.C()?new pT:new bx}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const T=new ek(o,l,h,d,p,g);return E&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);ue(va,"RemoteStore shutting down."),l.Ia.add(5),await Nu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class pk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ue(Ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(Ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=dg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Fm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ES(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ps("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ue("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ps("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function ST(r,e){r.asyncQueue.verifyOperationInProgress();const t=await gk(r);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>yT(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>yT(e.remoteStore,o)),r._onlineComponents=e}async function gk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await Fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ps("Error using user provided cache. Falling back to memory cache: "+t),await Fm(r,new Bh)}}else ue(Ts,"Using default OfflineComponentProvider"),await Fm(r,new mk(void 0));return r._offlineComponents}async function US(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await ST(r,r._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await ST(r,new _p))),r._onlineComponents}function yk(r){return US(r).then(e=>e.syncEngine)}async function qh(r){const e=await US(r),t=e.eventManager;return t.onListen=tk.bind(null,e.syncEngine),t.onUnlisten=ik.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sk.bind(null,e.syncEngine),t}function vk(r,e,t={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new Eg({next:I=>{E.Ou(),h.enqueueAndForget(()=>pg(l,T));const k=I.docs.has(d);!k&&I.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&I.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new yg(of(d.path),E,{includeMetadataChanges:!0,ka:!0});return mg(l,T)}(await qh(r),r.asyncQueue,e,t,s)),s.promise}function _k(r,e,t={}){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new Eg({next:I=>{E.Ou(),h.enqueueAndForget(()=>pg(l,T)),I.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new yg(d,E,{includeMetadataChanges:!0,ka:!0});return mg(l,T)}(await qh(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="firestore.googleapis.com",bT=!0;class RT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zS,this.ssl=bT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:bT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XO)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new I2;switch(s.type){case"firstParty":return new O2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=AT.get(t);s&&(ue("ComponentProvider","Removing Datastore"),AT.delete(t),s.terminate())}(this),Promise.resolve()}}function Ek(r,e,t,s={}){var o;r=pn(r,gf);const l=ko(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(c0(`https://${p}`),h0("Firestore",!0)),h.host!==zS&&h.host!==p&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!ms(g,d)&&(r._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Zt.MOCK_USER;else{E=g1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(I)}r._authCredentials=new C2(new Nw(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(bu(t,dt._jsonSchema))return new dt(e,s||null,new ge(et.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:At("string",dt._jsonSchemaVersion),referencePath:At("string")};class fs extends ba{constructor(e,t,s){super(e,t,of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ge(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ua(r,e,...t){if(r=yt(r),Ow("collection","path",e),r instanceof gf){const s=et.fromString(e,...t);return jE(s),new fs(r,null,s)}{if(!(r instanceof dt||r instanceof fs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return jE(s),new fs(r.firestore,null,s)}}function en(r,e,...t){if(r=yt(r),arguments.length===1&&(e=Kp.newId()),Ow("doc","path",e),r instanceof gf){const s=et.fromString(e,...t);return UE(s),new dt(r,null,new ge(s))}{if(!(r instanceof dt||r instanceof fs))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...t));return UE(s),new dt(r.firestore,r instanceof fs?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wS(this,"async_queue_retry"),this.oc=()=>{const s=qm();s&&ue(IT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Uo(e))throw e;ue(IT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,pi("INTERNAL UNHANDLED ERROR: ",NT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,s,l=>this.lc(l));return this.ec.push(o),o}ac(){this.tc&&Te(47125,{hc:NT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function NT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class yi extends gf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new CT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function Tk(r,e){const t=typeof r=="object"?r:Np(),s=typeof r=="string"?r:xh,o=wa(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=m1("firestore");l&&Ek(o,...l)}return o}function yf(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wk(r),r._firestoreClient}function wk(r){var e,t,s;const o=r._freezeSettings(),l=function(d,p,g,E){return new K2(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new pk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Kt.fromBase64String(e))}catch(t){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:At("string",Fn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:At("string",Rr._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ir(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ir._jsonSchemaVersion="firestore/vectorValue/1.0",Ir._jsonSchema={type:At("string",Ir._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^__.*__$/;class Ak{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}class BS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ec:r})}}class wg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Fh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(qS(this.Ec)&&Sk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class bk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||df(e)}Dc(e,t,s,o=!1){return new wg({Ec:e,methodName:t,bc:s,path:$t.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _f(r){const e=r._freezeSettings(),t=df(r._databaseId);return new bk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function FS(r,e,t,s,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);Sg("Data must be an object, but it was:",h,s);const d=HS(s,h);let p,g;if(l.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const I=Ep(e,T,t);if(!h.contains(I))throw new le(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);$S(E,I)||E.push(I)}p=new An(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new Ak(new dn(d),p,g)}class Ef extends Tg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}function Rk(r,e,t,s){const o=r.Dc(1,e,t);Sg("Data must be an object, but it was:",o,s);const l=[],h=dn.empty();bs(s,(p,g)=>{const E=Ag(e,p,t);g=yt(g);const T=o.gc(E);if(g instanceof Ef)l.push(E);else{const I=Ou(g,T);I!=null&&(l.push(E),h.set(E,I))}});const d=new An(l);return new BS(h,d,o.fieldTransforms)}function Ik(r,e,t,s,o,l){const h=r.Dc(1,e,t),d=[Ep(e,s,t)],p=[o];if(l.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<l.length;I+=2)d.push(Ep(e,l[I])),p.push(l[I+1]);const g=[],E=dn.empty();for(let I=d.length-1;I>=0;--I)if(!$S(g,d[I])){const k=d[I];let F=p[I];F=yt(F);const Y=h.gc(k);if(F instanceof Ef)g.push(k);else{const q=Ou(F,Y);q!=null&&(g.push(k),E.set(k,q))}}const T=new An(g);return new BS(E,T,h.fieldTransforms)}function Ck(r,e,t,s=!1){return Ou(t,r.Dc(s?4:3,e))}function Ou(r,e){if(GS(r=yt(r)))return Sg("Unsupported field value:",e,r),HS(r,e);if(r instanceof Tg)return function(s,o){if(!qS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Ou(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=tt.fromDate(s);return{timestampValue:Uh(o.serializer,l)}}if(s instanceof tt){const l=new tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,l)}}if(s instanceof Rr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:hS(o.serializer,s._byteString)};if(s instanceof dt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ir)return function(h,d){return{mapValue:{fields:{[zw]:{stringValue:Bw},[kh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Jp(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${nf(s)}`)}(r,e)}function HS(r,e){const t={};return Pw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,(s,o)=>{const l=Ou(o,e.Vc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function GS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Rr||r instanceof Fn||r instanceof dt||r instanceof Tg||r instanceof Ir)}function Sg(r,e,t){if(!GS(t)||!xw(t)){const s=nf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Ep(r,e,t){if((e=yt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Ag(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Nk=new RegExp("[~\\*/\\[\\]]");function Ag(r,e,t){if(e.search(Nk)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new vf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Fh(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,d+r+p)}function $S(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Dk extends KS{data(){return super.data()}}function bg(r,e){return typeof e=="string"?Ag(r,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class Ok extends Rg{}function Hh(r,e,...t){let s=[];e instanceof Rg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Ig).length,d=l.filter(p=>p instanceof Tf).length;if(h>1||h>0&&d>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Tf extends Ok{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return YS(e._query,t),new ba(e.firestore,e.converter,up(e._query,t))}_parse(e){const t=_f(e.firestore);return function(l,h,d,p,g,E,T){let I;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){xT(T,E);const F=[];for(const Y of T)F.push(OT(p,l,Y));I={arrayValue:{values:F}}}else I=OT(p,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||xT(T,E),I=Ck(d,h,T,E==="in"||E==="not-in");return St.create(g,E,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ro(r,e,t){const s=e,o=bg("where",r);return Tf._create(o,s,t)}class Ig extends Rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ig(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)YS(h,p),h=up(h,p)}(e._query,t),new ba(e.firestore,e.converter,up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OT(r,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yw(e)&&t.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return KE(r,new ge(s))}if(t instanceof dt)return KE(r,t._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(t)}.`)}function xT(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YS(r,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class xk{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return bs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new Ir(l)}convertGeoPoint(e){return new Rr(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const t=ys(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);Ke(yS(s),9688,{name:e});const o=new du(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return o.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends KS{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:At("string",ca._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class vh extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new vh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:kk(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(r){r=pn(r,dt);const e=pn(r.firestore,yi);return vk(yf(e),r._key).then(t=>ZS(e,r,t))}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:At("string",ha._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class Cg extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Gh(r){r=pn(r,ba);const e=pn(r.firestore,yi),t=yf(e),s=new Cg(e);return QS(r._query),_k(t,r._query).then(o=>new ha(e,s,r,o))}function wf(r,e,t){r=pn(r,dt);const s=pn(r.firestore,yi),o=WS(r.converter,e,t);return Sf(s,[FS(_f(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Gn.none())])}function _h(r,e,t,...s){r=pn(r,dt);const o=pn(r.firestore,yi),l=_f(o);let h;return h=typeof(e=yt(e))=="string"||e instanceof vf?Ik(l,"updateDoc",r._key,e,t,s):Rk(l,"updateDoc",r._key,e),Sf(o,[h.toMutation(r._key,Gn.exists(!0))])}function Pk(r){return Sf(pn(r.firestore,yi),[new eg(r._key,Gn.none())])}function XS(r,e){const t=pn(r.firestore,yi),s=en(r),o=WS(r.converter,e);return Sf(t,[FS(_f(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Vk(r,...e){var t,s,o;r=yt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||DT(e[h])||(l=e[h++]);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(DT(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(r instanceof dt)g=pn(r.firestore,yi),E=of(r._key.path),p={next:T=>{e[h]&&e[h](ZS(g,r,T))},error:e[h+1],complete:e[h+2]};else{const T=pn(r,ba);g=pn(T.firestore,yi),E=T._query;const I=new Cg(g);p={next:k=>{e[h]&&e[h](new ha(g,I,T,k))},error:e[h+1],complete:e[h+2]},QS(r._query)}return function(I,k,F,Y){const q=new Eg(Y),Q=new yg(k,q,F);return I.asyncQueue.enqueueAndForget(async()=>mg(await qh(I),Q)),()=>{q.Ou(),I.asyncQueue.enqueueAndForget(async()=>pg(await qh(I),Q))}}(yf(g),E,d,p)}function Sf(r,e){return function(s,o){const l=new hi;return s.asyncQueue.enqueueAndForget(async()=>ak(await yk(s),o,l)),l.promise}(yf(r),e)}function ZS(r,e,t){const s=t.docs.get(e._key),o=new Cg(r);return new ca(r,o,e._key,s,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Mo=o})(Po),Cr(new rr("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new yi(new N2(s.getProvider("auth-internal")),new x2(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Hn(kE,PE,e),Hn(kE,PE,"esm2017")})();const Mk={apiKey:"AIzaSyD8b5eP3vmOx1z-4azTHAj6jNWaXw27NIY",authDomain:"my-workout-tracker-b9cee.firebaseapp.com",projectId:"my-workout-tracker-b9cee",storageBucket:"my-workout-tracker-b9cee.firebasestorage.app",messagingSenderId:"70331160079",appId:"1:70331160079:web:1fe0a00f8f4fc2b9e4357a",measurementId:"G-FS73HDHPF4"},Ng=v0(Mk);S2(Ng);const vi=iD(Ng),Lk=new ai,ft=Tk(Ng),Uk=async()=>{const r=await dN(vi,Lk);jk(r);const e=en(ft,"users",r.user.uid);return wf(e,{name:r.user.displayName,email:r.user.email,uid:r.user.uid},{merge:!0}),r};function jk(r){const e={name:r.user.displayName,isAuthenticated:!0};localStorage.setItem("user",JSON.stringify(e))}function zk(){const r=_i();return{handleGoogleSignIn:async()=>{try{await Uk(),r("/dashboard")}catch(t){console.error("Sign in failed:",t)}}}}function Bk(r,e){return FC(vi,r,e)}const qk=({className:r})=>{const[e,t]=j.useState(""),[s,o]=j.useState(""),l=_i(),h=async d=>{d.preventDefault();try{await Bk(e,s),l("/dashboard")}catch(p){alert("Login failed: "+p.message)}};return R.jsxs("form",{onSubmit:h,className:r,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email:"}),R.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:d=>t(d.target.value),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password:"}),R.jsx("input",{className:"form-input",type:"password",id:"password",required:!0,value:s,onChange:d=>o(d.target.value)})]}),R.jsx("button",{type:"submit",children:"Login"})]})},Fk=async(r,e)=>{const t=await qC(vi,r,e),s=t.user,o=en(ft,"users",s.uid);return await wf(o,{name:s.displayName,email:s.email,uid:s.uid,createdAt:new Date().toISOString()},{merge:!0}),t},kT=r=>{const e=[];return r.length<8&&e.push("At least 8 characters"),/[A-Z]/.test(r)||e.push("At least one uppercase letter"),/[a-z]/.test(r)||e.push("At least one lowercase letter"),/[0-9]/.test(r)||e.push("At least one number"),/[^a-zA-Z0-9]/.test(r)||e.push("At least one special character"),{isValid:e.length===0,missingRequirements:e,message:e.length===0?"Password meets all requirements":"Password does not meet requirements",status:{containsLowercaseLetter:/[a-z]/.test(r),containsUppercaseLetter:/[A-Z]/.test(r),containsNumericCharacter:/[0-9]/.test(r),containsNonAlphanumericCharacter:/[^a-zA-Z0-9]/.test(r),meetsMinPasswordLength:r.length>=8}}},PT=r=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r);return{isValid:t,message:t?"Valid email":"Please enter a valid email address"}},Hk=["tempmail.com","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","temp-mail.org","fakeinbox.com","trashmail.com","yopmail.com"],VT=r=>{var t;const e=(t=r.split("@")[1])==null?void 0:t.toLowerCase();return Hk.includes(e)},Gk=({className:r})=>{const[e,t]=j.useState(""),[s,o]=j.useState(""),[l,h]=j.useState(""),[d,p]=j.useState(null),[g,E]=j.useState(!1),[T,I]=j.useState(!1),k=_i();j.useEffect(()=>{if(s){const Q=kT(s);p(Q)}else p(null)},[s]);const F=()=>{if(e){const Q=PT(e);Q.isValid?VT(e)?h("Disposable email addresses are not allowed"):h(""):h(Q.message)}},Y=async Q=>{Q.preventDefault(),I(!0);const X=PT(e);if(!X.isValid){h(X.message),I(!1);return}if(VT(e)){h("Disposable email addresses are not allowed"),I(!1);return}if(!kT(s).isValid){alert("Password does not meet requirements. Please check the requirements below."),I(!1);return}try{await Fk(e,s),k("/dashboard")}catch(oe){let ie="Sign up failed. Please try again.";switch(oe.code){case"auth/email-already-in-use":ie="This email is already registered. Please login instead.",h(ie);break;case"auth/invalid-email":ie="Invalid email address.",h(ie);break;case"auth/weak-password":ie="Password is too weak. Please choose a stronger password.";break;case"auth/operation-not-allowed":ie="Email/password accounts are not enabled. Please contact support.";break;case"auth/too-many-requests":ie="Too many sign-up attempts. Please try again later.";break;default:ie=oe.message||ie}alert(ie)}finally{I(!1)}},q=()=>e&&s&&!l&&(d==null?void 0:d.isValid);return R.jsxs("form",{className:r,onSubmit:Y,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"email",children:"Email:"}),R.jsx("input",{className:"form-input",type:"email",id:"email",value:e,onChange:Q=>{t(Q.target.value),h("")},onBlur:F,required:!0,style:{borderColor:l?"#f44336":void 0}}),l&&R.jsx("p",{style:Jn.errorText,children:l})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"password",children:"Password:"}),R.jsxs("div",{style:Jn.passwordContainer,children:[R.jsx("input",{className:"form-input",type:g?"text":"password",id:"password",value:s,onChange:Q=>o(Q.target.value),required:!0,style:{width:"100%",paddingRight:"60px"}}),R.jsx("button",{type:"button",onClick:()=>E(!g),style:Jn.showButton,children:g?"Hide":"Show"})]}),s&&d&&R.jsxs("div",{style:Jn.requirementsBox,children:[R.jsx("p",{style:Jn.requirementsTitle,children:"Password Requirements:"}),R.jsxs("ul",{style:Jn.requirementsList,children:[R.jsxs("li",{style:{...Jn.requirement,color:d.status.meetsMinPasswordLength?"#4CAF50":"#666"},children:[d.status.meetsMinPasswordLength?"":""," ","At least 8 characters"]}),R.jsxs("li",{style:{...Jn.requirement,color:d.status.containsUppercaseLetter?"#4CAF50":"#666"},children:[d.status.containsUppercaseLetter?"":""," ","One uppercase letter (A-Z)"]}),R.jsxs("li",{style:{...Jn.requirement,color:d.status.containsLowercaseLetter?"#4CAF50":"#666"},children:[d.status.containsLowercaseLetter?"":""," ","One lowercase letter (a-z)"]}),R.jsxs("li",{style:{...Jn.requirement,color:d.status.containsNumericCharacter?"#4CAF50":"#666"},children:[d.status.containsNumericCharacter?"":""," ","One number (0-9)"]}),R.jsxs("li",{style:{...Jn.requirement,color:d.status.containsNonAlphanumericCharacter?"#4CAF50":"#666"},children:[d.status.containsNonAlphanumericCharacter?"":""," ","One special character"]})]})]})]}),R.jsx("button",{type:"submit",disabled:!q()||T,style:{opacity:q()&&!T?1:.5,cursor:q()&&!T?"pointer":"not-allowed"},children:T?"Signing up...":"Sign Up"})]})},Jn={errorText:{color:"#f44336",fontSize:"12px",marginTop:"5px",marginBottom:0},passwordContainer:{position:"relative",display:"flex",alignItems:"center"},showButton:{position:"absolute",right:"10px",background:"none",border:"none",color:"#3498db",cursor:"pointer",fontSize:"12px",padding:"5px 10px"},requirementsBox:{marginTop:"10px",padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"4px",border:"1px solid #e0e0e0"},requirementsTitle:{fontSize:"12px",fontWeight:"bold",marginBottom:"8px",marginTop:0,color:"#333"},requirementsList:{listStyle:"none",padding:0,margin:0},requirement:{fontSize:"12px",marginBottom:"4px",transition:"color 0.2s ease"}},$k=()=>{const{handleGoogleSignIn:r}=zk(),[e,t]=j.useState(!0);return R.jsx("div",{className:"auth-container",children:R.jsxs("div",{className:"auth-card",children:[R.jsx("div",{className:"auth-title",children:e?"Login":"Sign Up"}),R.jsxs("div",{className:"auth-form-wrapper",children:[R.jsx(qk,{className:`auth-form${e?" active":""}`}),R.jsx(Gk,{className:`auth-form${e?"":" active"}`})]}),R.jsx("button",{className:"auth-btn auth-btn-google",onClick:r,children:"Sign in with Google"}),R.jsx("div",{className:"auth-switch",children:e?R.jsxs(R.Fragment,{children:["Don't have an account?",R.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!1)},children:"Sign Up"})]}):R.jsxs(R.Fragment,{children:["Already have an account?",R.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),t(!0)},children:"Login"})]})})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Kk(r,e,t,s){function o(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(E){try{g(s.next(E))}catch(T){h(T)}}function p(E){try{g(s.throw(E))}catch(T){h(T)}}function g(E){E.done?l(E.value):o(E.value).then(d,p)}g((s=s.apply(r,[])).next())})}function Qk(r,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(E){return p([g,E])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;t;)try{if(s=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,o=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(r,t)}catch(E){g=[6,E],o=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var To=function(){return To=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},To.apply(this,arguments)},JS=function(r){return{loading:r==null,value:r}},Yk=function(){return function(r,e){switch(e.type){case"error":return To(To({},r),{error:e.error,loading:!1,value:void 0});case"reset":return JS(e.defaultValue);case"value":return To(To({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},Wk=function(r){var e=r?r():void 0,t=j.useReducer(Yk(),JS(e)),s=t[0],o=t[1],l=j.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=j.useCallback(function(p){o({type:"error",error:p})},[]),d=j.useCallback(function(p){o({type:"value",value:p})},[]);return j.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:h,setValue:d,value:s.value}},[s.error,s.loading,l,h,d,s.value])},Xk=function(r,e){var t=Wk(function(){return r.currentUser}),s=t.error,o=t.loading,l=t.setError,h=t.setValue,d=t.value;return j.useEffect(function(){var p=$C(r,function(g){return Kk(void 0,void 0,void 0,function(){var E;return Qk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return T.sent(),[3,4];case 3:return E=T.sent(),l(E),[3,4];case 4:return h(g),[2]}})})},l);return function(){p()}},[r]),[d,o,s]};const eA=j.createContext();function Zk({children:r}){const[e,t,s]=Xk(vi),o=async()=>{try{await KC(vi),console.log("User signed out successfully")}catch(l){throw console.error("Error signing out:",l),l}};return R.jsx(eA.Provider,{value:{user:e,loading:t,error:s,logout:o},children:r})}function xu(){return j.useContext(eA)}const Jk=()=>{const r=_i(),{user:e,logout:t}=xu(),s=async()=>{try{await t(),r("/")}catch(o){console.error("Failed to sign out:",o),alert("Failed to sign out. Please try again.")}};return R.jsxs("div",{className:"dashboard-container",children:[R.jsxs("div",{className:"dashboard-header",children:[R.jsx("h1",{className:"dashboard-title",children:"Workout Tracker"}),R.jsx("button",{className:"btn-sign-out",onClick:s,children:"Sign Out"})]}),R.jsx("div",{className:"welcome-section",children:R.jsx("h2",{children:"Welcome!"})}),R.jsxs("div",{className:"nav-cards",children:[R.jsxs("div",{className:"nav-card create-program-card",onClick:()=>r("/CreateProgram"),children:[R.jsx("div",{className:"card-icon",children:""}),R.jsx("h3",{children:"Create New Program"}),R.jsx("p",{children:"Build a custom workout program tailored to your goals"}),R.jsx("div",{className:"card-action",children:"Get Started "})]}),R.jsxs("div",{className:"nav-card view-programs-card",onClick:()=>r("/ListOfUsersPrograms"),children:[R.jsx("div",{className:"card-icon",children:""}),R.jsx("h3",{children:"My Programs"}),R.jsx("p",{children:"View and manage your existing workout programs"}),R.jsx("div",{className:"card-action",children:"View Programs "})]})]}),R.jsxs("div",{className:"quick-stats",children:[R.jsx("h3",{children:"Quick Stats"}),R.jsxs("div",{className:"stats-grid",children:[R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]}),R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]}),R.jsxs("div",{className:"stat-item",children:[R.jsx("span",{className:"stat-label"}),R.jsx("span",{className:"stat-value",children:"-"})]})]}),R.jsx("p",{className:"stats-note",children:" Stats coming soon in future updates!"})]}),R.jsx("div",{className:"dashboard-footer",children:R.jsx("p",{children:"Thanks for testing my workout tracker! "})})]})};class Dg{watch(e,t,s){throw new Error("Not implemented")}}class eP extends Dg{watchUserPrograms(e,t,s){throw new Error("Not implemented")}getUserPrograms(e){throw new Error("Not implemented")}getProgram(e){throw new Error("Not implemented")}createProgram(e){throw new Error("Not implemented")}updateProgram(e,t){throw new Error("Not implemented")}deleteProgram(e){throw new Error("Not implemented")}}class tP extends eP{watchUserPrograms(e,t,s){const o=Hh(ua(ft,"programs"),Ro("createdBy","==",e));return Vk(o,l=>{const h=[];l.forEach(d=>{h.push({id:d.id,...d.data()})}),t(h)},s)}async getUserPrograms(e){const t=Hh(ua(ft,"programs"),Ro("createdBy","==",e)),s=await Gh(t),o=[];return s.forEach(l=>{o.push({id:l.id,...l.data()})}),o}async getProgram(e){const t=en(ft,"programs",e),s=await ds(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Program not found")}async createProgram(e){return(await XS(ua(ft,"programs"),e)).id}async updateProgram(e,t){const s=en(ft,"programs",e);return await _h(s,t),!0}async deleteProgram(e){return await Pk(en(ft,"programs",e)),!0}}class nP extends Dg{getWorkout(e){throw new Error("Not implemented")}saveWorkoutProgress(e,t){throw new Error("Not implemented")}addWorkout(e,t){throw new Error("Not implemented")}updateWorkoutName(e,t,s){throw new Error("Not implemented")}getPreviousWeekSession(e,t,s){throw new Error("Not implemented")}}class rP extends nP{async getWorkout(e){const t=en(ft,"workouts",e),s=await ds(t);if(s.exists())return{id:s.id,...s.data()};throw new Error("Workout not found")}async saveWorkoutProgress(e,t){const s=en(ft,"workouts",e);return await _h(s,{progress:t}),!0}async addWorkoutToProgram(e,t){try{const s=en(ft,"programs",e),o=await ds(s);if(!o.exists())throw new Error(`Program with ID ${e} not found`);const l=o.data(),h=l.workouts||[];console.log("Current Program Data:",l);const d=[...h,t];return await _h(s,{workouts:d}),t.id}catch(s){throw console.error("Error adding workout to program:",s),s}}async updateWorkoutName(e,t,s){try{const o=en(ft,"programs",e),l=await ds(o);if(!l.exists())throw new Error(`Program with ID ${e} not found`);const d=(l.data().workouts||[]).map(p=>p.id===t?{...p,name:s}:p);return await _h(o,{workouts:d}),!0}catch(o){throw console.error("Error updating workout name:",o),o}}async getPreviousWeekSession(e,t,s){try{const o=s-1;if(o<1)return null;const l=ua(ft,"sessions"),h=Hh(l,Ro("userId","==",e),Ro("workoutTemplateId","==",t),Ro("week","==",o)),d=await Gh(h);return d.empty?null:d.docs.map(E=>({id:E.id,...E.data()})).sort((E,T)=>{const I=new Date(E.timestamp).getTime();return new Date(T.timestamp).getTime()-I})[0]}catch(o){return console.error("Error fetching previous week session:",o),null}}}class iP extends Dg{getTemplate(e,t){throw new Error("Method not implemented")}createTemplate(e,t){throw new Error("Method not implemented")}getOrCreateTemplate(e,t){throw new Error("Method not implemented")}getExerciseTemplates(e){throw new Error("Method not implemented")}getTemplateById(e,t){throw new Error("Method not implemented")}updateTemplate(e,t,s){throw new Error("Method not implemented")}}function MT(r){let e=r.trim().toLowerCase();return e=e.replace(/[^\w\s]/gi,""),e=e.replace(/[-_]/g," "),e=e.replace(/\s+/g," "),console.log("Standardized input:",e),e}class sP extends iP{constructor(){super(),this.templateCache=new Map}async getTemplate(e,t){const s=MT(t.name),o=`${e}:${s}`;if(this.templateCache.has(o))return this.templateCache.get(o);if(t.templateId)try{const d=await this.getTemplateById(e,t.templateId);if(d)return this.templateCache.set(o,d),d}catch(d){console.error("Error fetching template:",d)}const l=ua(ft,"users",e,"exerciseTemplates"),h=Hh(l,Ro("standardizedName","==",s));try{const d=await Gh(h);if(!d.empty){const p=d.docs[0],g={id:p.id,...p.data()};return this.templateCache.set(o,g),g}return null}catch(d){throw console.error("Error in getTemplate:",d),d}}async createTemplate(e,t){const s=MT(t.name),o=await this.getTemplate(e,t);if(o)return o;const l={name:t.name,standardizedName:s,category:t.category||"Other",defaultSets:t.sets?t.sets.map(E=>({reps:E.reps||"",weight:E.weight||null,rir:E.rir||""})):[{reps:"",weight:null,rir:""}],createdAt:new Date,userId:e},h=ua(ft,"users",e,"exerciseTemplates"),p={id:(await XS(h,l)).id,...l},g=`${e}:${s}`;return this.templateCache.set(g,p),p}async getOrCreateTemplate(e,t){const s=await this.getTemplate(e,t);return s||await this.createTemplate(e,t)}async getTemplateById(e,t){try{const s=en(ft,"users",e,"exerciseTemplates",t),o=await ds(s);return o.exists()?{id:o.id,...o.data()}:null}catch(s){throw console.error("Error in getTemplateById:",s),s}}async getExerciseTemplates(e){try{const t=ua(ft,"users",e,"exerciseTemplates");return(await Gh(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){throw console.error("Error in getExerciseTemplates:",t),t}}async updateTemplate(e,t,s){try{const o=en(ft,"users",e,"exerciseTemplates",t);return await wf(o,s,{merge:!0}),{id:t,...s}}catch(o){throw console.error("Error in updateTemplate:",o),o}}}class aP{constructor(){this._programRepository=new tP,this._workoutRepository=new rP,this._exerciseTemplateRepository=new sP}get programRepository(){return this._programRepository}get workoutRepository(){return this._workoutRepository}get exerciseTemplateRepository(){return this._exerciseTemplateRepository}}const Dr=new aP,oP=Object.freeze(Object.defineProperty({__proto__:null,repositoryFactory:Dr},Symbol.toStringTag,{value:"Module"})),tA=Dr.programRepository,lP=async r=>await tA.createProgram(r),uP=async r=>await tA.deleteProgram(r),cP=({program:r,setProgram:e})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Program Details"}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Program Name"}),R.jsx("input",{type:"text",value:r.name,onChange:t=>e(s=>({...s,name:t.target.value})),placeholder:"Enter program name"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Description"}),R.jsx("textarea",{value:r.description,onChange:t=>e(s=>({...s,description:t.target.value})),placeholder:"Describe your program",rows:"3"})]}),R.jsxs("div",{className:"form-row",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Duration (weeks)"}),R.jsx("input",{type:"number",value:r.duration,onChange:t=>e(s=>({...s,duration:t.target.value})),placeholder:"e.g., 12"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Difficulty"}),R.jsxs("select",{value:r.difficulty,onChange:t=>e(s=>({...s,difficulty:t.target.value})),children:[R.jsx("option",{value:"beginner",children:"Beginner"}),R.jsx("option",{value:"intermediate",children:"Intermediate"}),R.jsx("option",{value:"advanced",children:"Advanced"})]})]})]})]}),hP=({exercise:r,setExercise:e,onAddExercise:t})=>{const[s,o]=j.useState([]);return j.useEffect(()=>{(async()=>{const h=vi.currentUser;if(h)try{const d=await Dr.exerciseTemplateRepository.getExerciseTemplates(h.uid);o(d||[])}catch(d){console.error("Error fetching templates:",d)}})()},[]),R.jsxs("div",{className:"exercise-section",children:[R.jsx("h3",{children:"Add Exercise"}),R.jsxs("div",{className:"form-row",children:[R.jsx("input",{type:"text",value:r.name,onChange:l=>e(h=>({...h,name:l.target.value})),placeholder:"Exercise name",list:"exercise-templates"}),R.jsx("datalist",{id:"exercise-templates",children:s.map(l=>R.jsx("option",{value:l.name},l.id))}),R.jsx("input",{type:"number",value:r.sets,onChange:l=>e(h=>({...h,sets:l.target.value})),placeholder:"Sets"}),R.jsx("input",{type:"text",value:r.reps,onChange:l=>e(h=>({...h,reps:l.target.value})),placeholder:"Reps"}),R.jsx("button",{type:"button",onClick:t,className:"btn-add",children:"Add"})]})]})},fP=({exercises:r,onRemoveExercise:e})=>r.length===0?null:R.jsxs("div",{className:"exercise-list",children:[R.jsx("h4",{children:"Exercises in this workout:"}),r.map(t=>R.jsxs("div",{className:"exercise-item",children:[R.jsxs("span",{children:[t.name," - ",t.sets.length," sets x"," ",t.sets[0].reps," reps"," ",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]}),R.jsx("button",{onClick:()=>e(t.id),className:"btn-remove",children:"Remove"})]},t.id))]}),dP=({workout:r,onRemoveWorkout:e})=>R.jsxs("div",{className:"workout-preview",children:[R.jsxs("div",{className:"workout-header",children:[R.jsx("h5",{children:r.name}),R.jsx("button",{onClick:()=>e(r.id),className:"btn-remove",children:"Remove"})]}),R.jsx("div",{className:"exercises-preview",children:r.exercises.map(t=>R.jsxs("div",{className:"exercise-preview",children:[R.jsx("span",{className:"exercise-name",children:t.name})," ",R.jsxs("span",{className:"exercise-details",children:[t.sets.length," sets  ",t.sets[0].reps," reps",t.sets[0].weight&&` @ ${t.sets[0].weight}`,t.sets[0].restTime&&`  Rest: ${t.sets[0].restTime}`]})]},t.id))})]}),mP=({program:r,onRemoveWorkout:e})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Program Preview"}),R.jsxs("div",{className:"program-preview",children:[R.jsxs("div",{className:"preview-header",children:[R.jsx("h3",{children:r.name||"Untitled Program"}),R.jsxs("div",{className:"program-meta",children:[R.jsxs("span",{className:"duration",children:[r.duration," weeks"]}),R.jsx("span",{className:"difficulty",children:r.difficulty})]}),R.jsx("p",{className:"description",children:r.description})]}),R.jsxs("div",{className:"workouts-preview",children:[R.jsxs("h4",{children:["Workouts (",r.workouts.length,")"]}),r.workouts.map(t=>R.jsx(dP,{workout:t,onRemoveWorkout:e},t.id))]}),r.workouts.length===0&&R.jsx("p",{className:"no-workouts",children:"No workouts added yet. Go back to add some workouts!"})]})]}),pP=({currentWorkout:r,setCurrentWorkout:e,currentExercise:t,setCurrentExercise:s,onAddExercise:o,onRemoveExercise:l,onAddWorkout:h,program:d})=>R.jsxs("div",{className:"step-content",children:[R.jsx("h2",{children:"Add Workouts"}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Workout Name"}),R.jsx("input",{type:"text",value:r.name,onChange:p=>e(g=>({...g,name:p.target.value})),placeholder:"e.g., Upper Body Day"})]}),R.jsx(hP,{exercise:t,setExercise:s,onAddExercise:o}),R.jsx(fP,{exercises:r.exercises,onRemoveExercise:l}),r.exercises.length>0&&R.jsx("div",{style:{marginTop:"1rem"},children:R.jsx("button",{onClick:h,className:"btn-primary",children:"Add Workout to Program"})}),R.jsxs("div",{className:"workout-preview",children:[R.jsx("h3",{children:"Workouts in Program"}),d.workouts.length>0?d.workouts.map(p=>R.jsxs("div",{className:"workout-card",children:[R.jsx("h4",{children:p.name}),R.jsx("ul",{children:p.exercises.map(g=>R.jsxs("li",{children:[R.jsx("strong",{children:g.name})," - ",g.sets.length," ","sets"]},g.id))})]},p.id)):R.jsx("p",{children:"No workouts added yet."})]})]}),gP=({currentStep:r,steps:e})=>R.jsx("div",{className:"step-indicator",children:e.map((t,s)=>R.jsx("div",{className:`step ${r>=s+1?"active":""}`,children:t},s))}),Ht=[];for(let r=0;r<256;++r)Ht.push((r+256).toString(16).slice(1));function yP(r,e=0){return(Ht[r[e+0]]+Ht[r[e+1]]+Ht[r[e+2]]+Ht[r[e+3]]+"-"+Ht[r[e+4]]+Ht[r[e+5]]+"-"+Ht[r[e+6]]+Ht[r[e+7]]+"-"+Ht[r[e+8]]+Ht[r[e+9]]+"-"+Ht[r[e+10]]+Ht[r[e+11]]+Ht[r[e+12]]+Ht[r[e+13]]+Ht[r[e+14]]+Ht[r[e+15]]).toLowerCase()}let Hm;const vP=new Uint8Array(16);function _P(){if(!Hm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hm=crypto.getRandomValues.bind(crypto)}return Hm(vP)}const EP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),LT={randomUUID:EP};function fa(r,e,t){var o;if(LT.randomUUID&&!r)return LT.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??_P();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,yP(s)}function TP(r,e){const t=Number.isInteger(e)&&e>0?e:parseInt(e,10)>0?parseInt(e,10):1,s=[];for(let o=1;o<=t;o++)for(const l of r)s.push({...l,week:o,id:fa(),templateId:l.templateId});return s}const wP=()=>{const r=_i(),[e,t]=j.useState(1),[s,o]=j.useState({name:"",description:"",duration:"",difficulty:"beginner",workouts:[]}),[l,h]=j.useState({name:"",exercises:[]}),[d,p]=j.useState({name:"",sets:"",reps:"",weight:"",restTime:""}),g=async()=>{if(d.name&&d.sets&&d.reps){const Q=parseInt(d.sets)||1,X=Array.from({length:Q},()=>({reps:d.reps,weight:d.weight||null,complete:!1}));let G={name:d.name,sets:X,id:fa()};const oe=vi.currentUser;if(oe)try{const ie=await Dr.exerciseTemplateRepository.getOrCreateTemplate(oe.uid,G);G={...G,templateId:ie.id},console.log("Created exercise with template ID:",G)}catch(ie){console.error("Error creating exercise template:",ie)}h(ie=>({...ie,exercises:[...ie.exercises,G]})),console.log(G),p({name:"",sets:"",reps:"",weight:"",restTime:""})}},E=()=>{l.name&&l.exercises.length>0&&(o(Q=>({...Q,workouts:[...Q.workouts,{...l,id:fa(),templateId:fa()}]})),h({name:"",exercises:[]}))},T=Q=>{h(X=>({...X,exercises:X.exercises.filter(G=>G.id!==Q)}))},I=Q=>{o(X=>({...X,workouts:X.workouts.filter(G=>G.id!==Q)}))},k=async(Q,X)=>{const G=JSON.parse(JSON.stringify(Q));for(const oe of G)if(oe.exercises&&oe.exercises.length>0)for(let ie=0;ie<oe.exercises.length;ie++){const se=oe.exercises[ie];if(!se.templateId)try{const x=await Dr.exerciseTemplateRepository.getOrCreateTemplate(X,se);oe.exercises[ie]={...se,templateId:x.id},console.log(`Added template ID ${x.id} to exercise ${se.name}`)}catch(x){console.error(`Error creating template for ${se.name}:`,x)}}return G},F=async()=>{const Q=vi.currentUser;if(!Q){alert("You must be logged in to save a program.");return}try{let X=[...s.workouts];X=await k(X,Q.uid);const G=TP(X,s.duration),oe={...s,workouts:G,createdBy:Q.uid,createdAt:new Date},ie=await lP(oe);alert("Program saved successfully! ID: "+ie),r(`/ExecuteProgram/${ie}`)}catch(X){console.error("Error saving program:",X),alert("Failed to save program: "+X.message)}},Y=()=>{switch(e){case 1:return R.jsx(cP,{program:s,setProgram:o});case 2:return R.jsx(pP,{currentWorkout:l,setCurrentWorkout:h,currentExercise:d,setCurrentExercise:p,onAddExercise:g,onRemoveExercise:T,onAddWorkout:E,program:s});case 3:return R.jsx(mP,{program:s,onRemoveWorkout:I});default:return null}},q=["Details","Workouts","Preview"];return R.jsxs("div",{className:"create-program-container",children:[R.jsxs("div",{className:"create-program-header",children:[R.jsx("h1",{children:"Create New Program"}),R.jsx(gP,{currentStep:e,steps:q})]}),R.jsx("div",{className:"create-program-content",children:Y()}),R.jsxs("div",{className:"create-program-actions",children:[e>1&&R.jsx("button",{onClick:()=>t(e-1),className:"btn-secondary",children:"Previous"}),e<3?R.jsx("button",{onClick:()=>t(e+1),className:"btn-primary",disabled:e===1&&!s.name||e===2&&s.workouts.length===0,children:"Next"}):R.jsx("button",{onClick:F,className:"btn-success",disabled:!s.name||s.workouts.length===0,children:"Save Program"}),R.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-cancel",children:"Cancel"})]})]})};function $h({actions:r,trigger:e}){const[t,s]=j.useState(!1),o=j.useRef();return j.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),R.jsxs("div",{className:"dropdown",ref:o,children:[R.jsx("button",{className:"dropdown-trigger",onClick:l=>{l.stopPropagation(),s(h=>!h)},children:e||""}),t&&R.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>R.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const SP=()=>{const r=_i(),{programId:e}=YT(),{logout:t}=xu(),[s,o]=j.useState(null),[l,h]=j.useState(1),[d,p]=j.useState(!0),[g,E]=j.useState(""),[T,I]=j.useState(!1),[k,F]=j.useState(null),Y=async()=>{try{await t(),r("/")}catch(se){console.error("Failed to sign out:",se),alert("Failed to sign out. Please try again.")}},q=async(se,x)=>{try{await Dr.workoutRepository.updateWorkoutName(e,se,x),o(b=>({...b,workouts:b.workouts.map(S=>S.id===se?{...S,name:x}:S)}))}catch(b){console.error(" Test failed:",b),alert(` Test failed: ${b.message}`)}console.log(s)},Q=se=>{F(se),I(!0)},X=async()=>{k&&g.trim()&&await q(k,g.trim()),I(!1),F(null),E("")},G=async()=>{const se={id:fa(),templateId:fa(),name:"New Workout - double click to edit name",week:l,exercises:[],createdAt:new Date};try{await Dr.workoutRepository.addWorkoutToProgram(e,se),o(x=>({...x,workouts:[...x.workouts,se]})),console.log("Updated userProgram state:",{...s,workouts:[...s.workouts,se]}),alert(" Successful! Added workout")}catch(x){console.error(" Test failed:",x),alert(` Test failed: ${x.message}`)}};j.useEffect(()=>{(async()=>{try{const x=en(ft,"programs",e),b=await ds(x);if(console.log(b),b.exists()){const S=b.data();console.log(S.workouts),o(S),h(1)}else o(null);p(!1)}catch(x){console.error("Failed to fetch program:",x),p(!1)}})()},[e]);const oe=s?s.workouts.filter(se=>se.week===l):[],ie=se=>{h(se)};return d?R.jsx("div",{className:"execute-program-container",children:R.jsx("div",{className:"loading",children:"Loading your program..."})}):s?R.jsxs("div",{className:"execute-program-container",children:[R.jsxs("div",{className:"execute-program-header",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx($h,{actions:[{label:"Home",onClick:se=>{se.stopPropagation(),r("/dashboard")}},{label:"Create Program",onClick:se=>{se.stopPropagation(),r("/CreateProgram")}},{label:"Sign Out",onClick:se=>{se.stopPropagation(),Y()}}],trigger:R.jsx("span",{children:""})})}),R.jsx("h1",{children:s.name}),R.jsxs("div",{className:"program-info",children:[R.jsxs("span",{children:["Week ",l," of ",s.duration]}),R.jsx("span",{children:s.difficulty})]})]}),R.jsx("div",{className:"week-navigation",children:Array.from({length:parseInt(s.duration,10)},(se,x)=>x+1).map(se=>R.jsxs("button",{className:`week-btn ${l===se?"active":""}`,onClick:()=>ie(se),children:["Week ",se]},se))}),R.jsxs("div",{className:"week-content",children:[R.jsxs("h2",{children:["Week ",l," Workouts"]}),R.jsx("nav",{className:"add-workout-menu",children:R.jsx($h,{actions:[{label:"Add Workout",onClick:se=>{se.stopPropagation(),G()}}],trigger:R.jsx("span",{children:"+"})})}),oe.length===0?R.jsx("div",{className:"no-workouts",children:"No workouts scheduled for this week"}):R.jsx("div",{className:"workouts-grid",children:oe.map(se=>R.jsxs("div",{className:"workout-card",children:[R.jsx("div",{className:"workout-card-header",children:T&&k===se.id?R.jsx("input",{type:"text",value:g,onChange:x=>E(x.target.value),onBlur:X,onKeyDown:x=>{x.key==="Enter"&&X(),x.key==="Escape"&&(I(!1),F(null),E(""))},autoFocus:!0}):R.jsx("h3",{onDoubleClick:()=>Q(se.id,se.name),children:se.name})}),R.jsx("div",{className:"workout-exercises",children:se.exercises.map(x=>R.jsxs("div",{className:"exercise-summary",children:[R.jsx("span",{className:"exercise-name",children:x.name}),R.jsxs("span",{className:"exercise-target",children:[x.sets.length,"  ",x.sets[0].reps]})]},x.id))}),R.jsx("div",{className:"workout-actions",children:R.jsx("button",{onClick:()=>r(`/CurrentSession/${e}/${se.id}`),className:"btn-primary",children:"Start Workout"})})]},se.id))})]})]}):R.jsx("div",{className:"execute-program-container",children:R.jsx("div",{className:"error",children:"Failed to load program"})})},AP=({setWorkout:r,handleSaveSession:e})=>{const t=s=>{r(o=>({...o,notes:s.target.value}))};return R.jsxs("div",{className:"session-actions",children:[R.jsx("textarea",{className:"session-notes",placeholder:"Add notes for this session...",onChange:t}),R.jsx("div",{className:"session-action-buttons",children:R.jsx("button",{className:"btn-save",onClick:e,children:"Save Session"})})]})},bP=({workout:r})=>R.jsxs("div",{className:"session-header",children:[R.jsxs("h1",{className:"session-title",children:[r.name," "]}),R.jsx("div",{className:"session-meta",children:R.jsxs("span",{children:["Week ",r.week," "]})})]});function nA({actions:r,trigger:e}){const[t,s]=j.useState(!1),o=j.useRef();return j.useEffect(()=>{function l(h){o.current&&!o.current.contains(h.target)&&s(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),R.jsxs("div",{className:"dropdown",ref:o,children:[R.jsx("button",{className:"dropdown-trigger",onClick:()=>s(l=>!l),children:e||""}),t&&R.jsx("div",{className:"dropdown-content",children:r.map((l,h)=>R.jsx("button",{className:"dropdown-item",onClick:d=>{l.onClick(d),s(!1)},children:l.label},h))})]})}const RP=({exercise:r,onExpand:e,dragHandleProps:t})=>R.jsx("div",{className:"collapsed-exercise-inner",onClick:e,children:R.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[R.jsx("div",{className:"drag-handle",...t,children:""}),R.jsx("h2",{className:"exercise-name",children:r.name})]})}),IP=({exercises:r,setWorkout:e,handleDeleteExercise:t})=>{const[s,o]=j.useState(null),[l,h]=j.useState(null),[d,p]=j.useState(null),[g,E]=j.useState(null),T=b=>{h(S=>S===b?null:b)},I=(b,S)=>{e(C=>({...C,exercises:C.exercises.map((O,V)=>V===b?{...O,name:S}:O)}))},k=(b,S)=>{e(C=>{const O=C.exercises.map((V,D)=>{if(D!==b)return V;const Ve=V.sets.filter((ze,re)=>re!==S);return{...V,sets:Ve}});return{...C,exercises:O}})},F=(b,S,C)=>{e(O=>{const V=O.exercises.map((D,Ve)=>{if(Ve!==b)return D;const ze=D.sets.map((re,ye)=>ye!==S?re:{...re,reps:C});return{...D,sets:ze}});return{...O,exercises:V}})},Y=(b,S,C)=>{e(O=>{const V=O.exercises.map((D,Ve)=>{if(Ve!==b)return D;const ze=D.sets.map((re,ye)=>ye!==S?re:{...re,weight:C});return{...D,sets:ze}});return{...O,exercises:V}})},q=(b,S,C)=>{e(O=>{const V=O.exercises.map((D,Ve)=>{if(Ve!==b)return D;const ze=D.sets.map((re,ye)=>ye!==S?re:{...re,rir:C});return{...D,sets:ze}});return{...O,exercises:V}})},Q=(b,S)=>{e(C=>{const O=C.exercises.map((V,D)=>D!==b?V:{...V,sets:V.sets.map((Ve,ze)=>ze!==S?Ve:{...Ve,complete:!Ve.complete})});return{...C,exercises:O}})},X=b=>{e(S=>{const C=S.exercises.map((O,V)=>V!==b?O:{...O,sets:[...O.sets,{reps:"",weight:"",complete:!1}]});return{...S,exercises:C}})},G=j.useRef(0),oe=j.useRef(0),ie=()=>{if(!(G.current===null||oe.current===null)){if(G.current!==oe.current){const b=[...r],S=b[G.current];b[G.current]=b[oe.current],b[oe.current]=S,e(C=>({...C,exercises:b}))}G.current=null,oe.current=null}},[se,x]=j.useState([]);return j.useEffect(()=>{(async()=>{const S=vi.currentUser;if(S)try{const C=await Dr.exerciseTemplateRepository.getExerciseTemplates(S.uid);x(C||[])}catch(C){console.error("Error fetching templates:",C)}})()},[]),R.jsx("div",{className:"exercise-list-session",children:r.map((b,S)=>R.jsx("div",{className:`exercise-card 
            ${l===b.id?"expanded":"collapsed"} 
            ${d===b.id?"dragging":""} 
            ${g===b.id?"drag-over":""}
          `,onDragOver:C=>C.preventDefault(),onDragEnter:()=>{oe.current=S,E(b.id)},onDragLeave:()=>{g===b.id&&E(null)},"data-id":b.id,children:l===b.id?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"exercise-header",children:s===b.id?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"name-container edit-mode",children:[R.jsx("input",{type:"text",value:b.name,onChange:C=>I(S,C.target.value),className:"edit-exercise-name",list:"exercise-templates"}),R.jsx("datalist",{id:"exercise-templates",children:se.map(C=>R.jsx("option",{value:C.name},C.id))})]}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{className:"btn-save-edit",onClick:()=>o(null),children:"Save"}),R.jsx("button",{className:"btn-cancel-edit",onClick:()=>o(null),children:"X"})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"drag-handle",draggable:!0,onDragStart:C=>{G.current=S,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{ie(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))},children:""}),R.jsx("div",{className:"name-container",children:R.jsx("h2",{className:"exercise-name",children:b.name})}),R.jsx(nA,{actions:[{label:"Edit",onClick:C=>{C.stopPropagation(),o(b.id)}},{label:"Delete",onClick:C=>{C.stopPropagation(),t(b.id)}}],trigger:R.jsx("span",{children:""})})]})}),R.jsx("div",{className:"sets-list",children:Array.from({length:Number(b.sets.length)}).map((C,O)=>{var V,D,Ve,ze;return R.jsxs("div",{className:"set-row",children:[R.jsx("input",{type:"number",className:"input-weight",placeholder:"Weight",value:((V=b.sets[O])==null?void 0:V.weight)||"",onChange:re=>Y(S,O,re.target.value)}),R.jsx("input",{type:"number",className:"input-reps",placeholder:"Reps",value:((D=b.sets[O])==null?void 0:D.reps)||"",onChange:re=>F(S,O,re.target.value)}),R.jsx("input",{type:"number",className:"input-rir",placeholder:"RIR",value:((Ve=b.sets[O])==null?void 0:Ve.rir)||"",onChange:re=>q(S,O,re.target.value)}),s===b.id?R.jsx("button",{className:"btn-delete-set",onClick:()=>k(S,O),children:"X"}):R.jsx("div",{className:"set-complete-checkbox",children:R.jsx("input",{type:"checkbox",checked:((ze=b.sets[O])==null?void 0:ze.complete)||!1,onChange:()=>Q(S,O)})})]},O)})}),R.jsx("button",{className:"btn-add-set",onClick:()=>X(S),children:"Add Set"})]}):R.jsx(RP,{exercise:b,onExpand:()=>T(b.id),dragHandleProps:{draggable:!0,onDragStart:C=>{G.current=S,p(b.id);const O=C.target.closest(".exercise-card");if(O){const V=O.getBoundingClientRect();C.dataTransfer.setDragImage(O,C.clientX-V.left,C.clientY-V.top)}},onDragEnd:()=>{ie(),p(null),E(null);const C=document.querySelector(`.exercise-card[data-id="${b.id}"]`);C&&(C.classList.add("dropped"),setTimeout(()=>{C.classList.remove("dropped")},300))}}})},b.id))})},CP=({previousSession:r,isLoading:e})=>{const[t,s]=j.useState(!1);if(e)return R.jsx("div",{className:"previous-week-summary loading",children:R.jsx("div",{className:"summary-header",children:R.jsx("span",{children:"Loading previous week data..."})})});if(!r)return R.jsx("div",{className:"previous-week-summary no-data",children:R.jsx("div",{className:"summary-header",children:R.jsx("span",{children:"No previous week data available"})})});const o=()=>{s(!t)},l=h=>{const d=h.weight?`${h.weight}lbs`:"BW",p=h.reps||"0";return`${d}  ${p}`};return R.jsxs("div",{className:"previous-week-summary",children:[R.jsxs("div",{className:"summary-header",onClick:o,children:[R.jsxs("div",{className:"header-content",children:[R.jsx("h3",{children:"Last Week's Performance"}),R.jsxs("span",{className:"week-info",children:["Week ",r.week]})]}),R.jsx("button",{className:"toggle-btn",children:t?"":""})]}),t&&R.jsxs("div",{className:"summary-content",children:[R.jsx("div",{className:"session-date",children:new Date(r.timestamp).toLocaleDateString()}),R.jsx("div",{className:"exercises-list",children:r.exercises.map((h,d)=>R.jsxs("div",{className:"exercise-item",children:[R.jsx("div",{className:"exercise-name-previous-week",children:h.name}),R.jsx("div",{className:"sets-display",children:h.sets&&h.sets.map((p,g)=>R.jsx("span",{className:"set-item",children:l(p)},g))})]},h.id||d))})]})]})},NP="modulepreload",DP=function(r){return"/my-workout-tracker/"+r},UT={},OP=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(t.map(p=>{if(p=DP(p),p in UT)return;UT[p]=!0;const g=p.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":NP,g||(T.as="script"),T.crossOrigin="",T.href=p,d&&T.setAttribute("nonce",d),document.head.appendChild(T),g)return new Promise((I,k)=>{T.addEventListener("load",I),T.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return o.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};class xP{constructor(){this.templateRepository=Dr.exerciseTemplateRepository}async processExercisesForSession(e,t,s=!0){return!t||!t.length?[]:await Promise.all(t.map(async o=>{if(o.templateId)try{if(await this.templateRepository.getTemplateById(e,o.templateId))return{...o}}catch(l){console.error("Error verifying template:",l)}try{const l=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);return l?{...o,templateId:l.id}:o}catch(l){return console.error("Error processing exercise template:",l),o}}))}async copyExercisesWithTemplates(e,t,s=!1){return!t||!t.length?[]:await Promise.all(t.map(async o=>{let l=o.templateId;if(!l)try{const h=s?await this.templateRepository.getOrCreateTemplate(e,o):await this.templateRepository.getTemplate(e,o);h&&(l=h.id)}catch(h){console.error("Error getting template for copy:",h)}return{id:Date.now()+Math.random().toString(36).substr(2,9),name:o.name,templateId:l,sets:o.sets?[...o.sets]:[],notes:o.notes||"",category:o.category||"Other"}}))}async getTemplatesByCategory(e){try{return(await this.templateRepository.getExerciseTemplates(e)).reduce((s,o)=>{const l=o.category||"Other";return s[l]||(s[l]=[]),s[l].push(o),s},{})}catch(t){return console.error("Error getting templates by category:",t),{}}}async updateTemplateData(e,t,s){try{return await this.templateRepository.updateTemplate(e,t,s)}catch(o){throw console.error("Error updating template:",o),o}}}const Tp=new xP;async function kP(r){const{userId:e,programId:t,workoutId:s,week:o}=r,l=rA(e,t,s,o);try{return r.exercises&&r.exercises.length>0&&(r.exercises=await Tp.processExercisesForSession(e,r.exercises,!0)),await wf(en(ft,"sessions",l),r,{merge:!0}),console.log("Session saved:",r,"Document ID:",l),l}catch(h){throw console.error("Error saving session:",h,"Session data:",r),h}}async function PP(r,e,t,s,o){const l=rA(r,e,t,s);try{const h=en(ft,"sessions",l),d=await ds(h);if(d.exists()){console.log(" Found existing session data:",d.data());const p=d.data();return p.exercises&&p.exercises.length>0&&(p.exercises=await Tp.processExercisesForSession(r,p.exercises,!1)),p}else return console.log(" No session found, will use program data"),o&&o.exercises&&o.exercises.length>0&&(o.exercises=await Tp.processExercisesForSession(r,o.exercises,!1)),o}catch(h){return console.error("Error fetching session data:",h),o}}function rA(r,e,t,s){return`${r}_${e}_${t}_${s}`}async function VP(r,e,t){try{const{repositoryFactory:s}=await OP(async()=>{const{repositoryFactory:l}=await Promise.resolve().then(()=>oP);return{repositoryFactory:l}},[]),o=await s.workoutRepository.getPreviousWeekSession(r,e,t);return o?{week:o.week,name:o.name,exercises:o.exercises||[],timestamp:o.timestamp}:null}catch(s){return console.error("Error fetching previous session data:",s),null}}const jT=()=>{const{workoutId:r,programId:e,week:t}=YT(),[s,o]=j.useState(null),[l,h]=j.useState(!0),[d,p]=j.useState(null),[g,E]=j.useState(!0),T=_i(),{user:I,logout:k}=xu(),F=async()=>{try{await k(),T("/")}catch(G){console.error("Failed to sign out:",G),alert("Failed to sign out. Please try again.")}},Y=()=>{T(`/ExecuteProgram/${e}`)},q=()=>{o(G=>({...G,exercises:[...G.exercises,{id:fa(),name:"New Exercise",sets:[{reps:"",weight:"",complete:!1}]}]}))},Q=G=>{console.log("delete"),o(oe=>({...oe,exercises:oe.exercises.filter(ie=>ie.id!==G)}))},X=()=>{console.log("Save session clicked"),console.log("Current workout state:",s);const G={userId:I.uid,programId:e,workoutId:r,workoutTemplateId:s.templateId,name:s.name,week:t||s.week,exercises:s.exercises,notes:s.notes||"",timestamp:new Date().toISOString()};console.log("Session data to save:",G),kP(G)};return j.useEffect(()=>{if(!I)return;(async()=>{try{const oe=en(ft,"programs",e),x=(await ds(oe)).data().workouts.find(C=>C.id===r);console.log("Found workout from Firestore:",x);const b=await PP(I.uid,e,r,t||x.week,x);console.log("Session data returned:",b),console.log("Does sessionData have templateId?",b.templateId);const S={...b,templateId:x.templateId,week:x.week};if(console.log("Final workout data being set:",S),console.log("Does final data have templateId?",S.templateId),o(S),h(!1),x.templateId)try{const C=parseInt(t)||x.week,O=await VP(I.uid,x.templateId,C);p(O)}catch(C){console.error("Error fetching previous session:",C)}E(!1)}catch(oe){console.error("Error fetching workout:",oe),h(!1),E(!1)}})()},[r,e,t,I]),l?R.jsx("div",{className:"current-session-container",children:R.jsx("div",{className:"loading",children:"Loading workout..."})}):s?(console.log("Loaded workout:",s),R.jsxs("div",{className:"current-session-container",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx(nA,{actions:[{label:"Home",onClick:G=>{G.stopPropagation(),T("/dashboard")}},{label:"Program Overview",onClick:G=>{G.stopPropagation(),T(`/ExecuteProgram/${e}`)}},{label:"All Programs",onClick:G=>{G.stopPropagation(),T("/ListOfUsersPrograms")}},{label:"Sign Out",onClick:G=>{G.stopPropagation(),F()}}],trigger:R.jsx("span",{children:""})})}),R.jsx(bP,{workout:s,onBack:Y}),R.jsx(CP,{previousSession:d,isLoading:g}),R.jsxs("div",{className:"current-session-content",children:[R.jsx(IP,{exercises:s.exercises,setWorkout:o,handleDeleteExercise:Q}),R.jsx("button",{className:"btn-add-exercise",onClick:q,children:"Add Exercise"}),R.jsx(AP,{handleSaveSession:X,setWorkout:o})]})]})):R.jsx("div",{className:"current-session-container",children:R.jsx("div",{className:"error",children:"Workout not found"})})};function MP(){const[r,e]=j.useState([]),[t,s]=j.useState(!0),[o,l]=j.useState(null),{user:h,loading:d}=xu(),p=Dr.programRepository,g=j.useCallback(async()=>{if(h){s(!0);try{const E=await p.getUserPrograms(h.uid);e(E)}catch(E){l(E.message||String(E))}finally{s(!1)}}},[h,p]);return j.useEffect(()=>{if(d)return;if(!h){l("Not logged in"),s(!1);return}const E=p.watchUserPrograms(h.uid,T=>{e(T),s(!1)},T=>{l(T.message),s(!1)});return g(),()=>E()},[g,d,h,p]),{userPrograms:r,loading:t||d,error:o,refetchPrograms:g}}const LP=()=>{const{userPrograms:r,loading:e,error:t,refetchPrograms:s}=MP(),o=_i(),{logout:l}=xu(),h=async()=>{try{await l(),o("/")}catch(d){console.error("Failed to sign out:",d),alert("Failed to sign out. Please try again.")}};return j.useEffect(()=>{!e&&r.length===0&&o("/CreateProgram")},[e,r,o]),e?R.jsx("div",{children:"Loading..."}):t?R.jsxs("div",{children:["Error: ",t]}):R.jsxs("div",{className:"user-programs-container",children:[R.jsx("nav",{className:"breadcrumb",children:R.jsx($h,{actions:[{label:"Home",onClick:d=>{d.stopPropagation(),o("/dashboard")}},{label:"Create Program",onClick:d=>{d.stopPropagation(),o("/CreateProgram")}},{label:"Sign Out",onClick:d=>{d.stopPropagation(),h()}}],trigger:R.jsx("span",{children:""})})}),R.jsx("h1",{children:"Your Programs"}),R.jsx("section",{className:"user-programs-list",children:r.map(d=>R.jsxs("div",{className:"user-program-card",onClick:()=>o(`/ExecuteProgram/${d.id}`),children:[R.jsx($h,{actions:[{label:"Delete Program",onClick:async p=>{p.stopPropagation();try{await uP(d.id),s&&await s()}catch(g){console.error("Failed to delete program:",g)}}}],trigger:R.jsx("span",{children:""})}),R.jsx("h2",{children:d.name}),R.jsx("p",{children:d.description}),R.jsxs("span",{children:[d.duration," weeks"]})]},d.id))})]})};function UP(){return R.jsx(Zk,{children:R.jsxs(IR,{children:[R.jsx(is,{path:"/",element:R.jsx($k,{})}),R.jsx(is,{path:"/Dashboard",element:R.jsx(Jk,{})}),R.jsx(is,{path:"/CreateProgram",element:R.jsx(wP,{})}),R.jsx(is,{path:"/ExecuteProgram/:programId",element:R.jsx(SP,{})}),R.jsx(is,{path:"/CurrentSession/:programId/:workoutId",element:R.jsx(jT,{})}),R.jsx(is,{path:"/CurrentSession/:programId/:workoutId/:week",element:R.jsx(jT,{})}),R.jsx(is,{path:"/ListOfUsersPrograms",element:R.jsx(LP,{})})]})})}Lb.createRoot(document.getElementById("root")).render(R.jsx(j.StrictMode,{children:R.jsx(WR,{children:R.jsx(UP,{})})}));
